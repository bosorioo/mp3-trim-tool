(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function er(e,t){const n=Object.create(null),a=e.split(",");for(let s=0;s<a.length;s++)n[a[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function Sn(e){if(qe(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],s=d0(a)?ai(a):Sn(a);if(s)for(const l in s)t[l]=s[l]}return t}else{if(d0(e))return e;if(s0(e))return e}}const ei=/;(?![^(]*\))/g,ti=/:([^]+)/,ni=/\/\*.*?\*\//gs;function ai(e){const t={};return e.replace(ni,"").split(ei).forEach(n=>{if(n){const a=n.split(ti);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Mn(e){let t="";if(d0(e))t=e;else if(qe(e))for(let n=0;n<e.length;n++){const a=Mn(e[n]);a&&(t+=a+" ")}else if(s0(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ri="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",si=er(ri);function F1(e){return!!e||e===""}const Y0=e=>d0(e)?e:e==null?"":qe(e)||s0(e)&&(e.toString===P1||!Ue(e.toString))?JSON.stringify(e,H1,2):String(e),H1=(e,t)=>t&&t.__v_isRef?H1(e,t.value):qt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[a,s])=>(n[`${a} =>`]=s,n),{})}:k1(t)?{[`Set(${t.size})`]:[...t.values()]}:s0(t)&&!qe(t)&&!D1(t)?String(t):t,t0={},Yt=[],z0=()=>{},ii=()=>!1,li=/^on[^a-z]/,Kn=e=>li.test(e),tr=e=>e.startsWith("onUpdate:"),p0=Object.assign,nr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},oi=Object.prototype.hasOwnProperty,We=(e,t)=>oi.call(e,t),qe=Array.isArray,qt=e=>jn(e)==="[object Map]",k1=e=>jn(e)==="[object Set]",Ue=e=>typeof e=="function",d0=e=>typeof e=="string",ar=e=>typeof e=="symbol",s0=e=>e!==null&&typeof e=="object",V1=e=>s0(e)&&Ue(e.then)&&Ue(e.catch),P1=Object.prototype.toString,jn=e=>P1.call(e),_i=e=>jn(e).slice(8,-1),D1=e=>jn(e)==="[object Object]",rr=e=>d0(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Pn=er(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ui=/-(\w)/g,Kt=Wn(e=>e.replace(ui,(t,n)=>n?n.toUpperCase():"")),fi=/\B([A-Z])/g,zt=Wn(e=>e.replace(fi,"-$1").toLowerCase()),X1=Wn(e=>e.charAt(0).toUpperCase()+e.slice(1)),xa=Wn(e=>e?`on${X1(e)}`:""),cn=(e,t)=>!Object.is(e,t),Sa=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Yn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ci=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Nr;const vi=()=>Nr||(Nr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let $0;class hi{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=$0,!t&&$0&&(this.index=($0.scopes||($0.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=$0;try{return $0=this,t()}finally{$0=n}}}on(){$0=this}off(){$0=this.parent}stop(t){if(this._active){let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function di(e,t=$0){t&&t.active&&t.effects.push(e)}function mi(){return $0}const sr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},$1=e=>(e.w&pt)>0,Y1=e=>(e.n&pt)>0,bi=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=pt},pi=e=>{const{deps:t}=e;if(t.length){let n=0;for(let a=0;a<t.length;a++){const s=t[a];$1(s)&&!Y1(s)?s.delete(e):t[n++]=s,s.w&=~pt,s.n&=~pt}t.length=n}},Xa=new WeakMap;let _n=0,pt=1;const $a=30;let G0;const Nt=Symbol(""),Ya=Symbol("");class ir{constructor(t,n=null,a){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,di(this,a)}run(){if(!this.active)return this.fn();let t=G0,n=mt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=G0,G0=this,mt=!0,pt=1<<++_n,_n<=$a?bi(this):Fr(this),this.fn()}finally{_n<=$a&&pi(this),pt=1<<--_n,G0=this.parent,mt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){G0===this?this.deferStop=!0:this.active&&(Fr(this),this.onStop&&this.onStop(),this.active=!1)}}function Fr(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let mt=!0;const q1=[];function Zt(){q1.push(mt),mt=!1}function Qt(){const e=q1.pop();mt=e===void 0?!0:e}function B0(e,t,n){if(mt&&G0){let a=Xa.get(e);a||Xa.set(e,a=new Map);let s=a.get(n);s||a.set(n,s=sr()),U1(s)}}function U1(e,t){let n=!1;_n<=$a?Y1(e)||(e.n|=pt,n=!$1(e)):n=!e.has(G0),n&&(e.add(G0),G0.deps.push(e))}function ot(e,t,n,a,s,l){const d=Xa.get(e);if(!d)return;let c=[];if(t==="clear")c=[...d.values()];else if(n==="length"&&qe(e)){const E=Number(a);d.forEach((U,h)=>{(h==="length"||h>=E)&&c.push(U)})}else switch(n!==void 0&&c.push(d.get(n)),t){case"add":qe(e)?rr(n)&&c.push(d.get("length")):(c.push(d.get(Nt)),qt(e)&&c.push(d.get(Ya)));break;case"delete":qe(e)||(c.push(d.get(Nt)),qt(e)&&c.push(d.get(Ya)));break;case"set":qt(e)&&c.push(d.get(Nt));break}if(c.length===1)c[0]&&qa(c[0]);else{const E=[];for(const U of c)U&&E.push(...U);qa(sr(E))}}function qa(e,t){const n=qe(e)?e:[...e];for(const a of n)a.computed&&Hr(a);for(const a of n)a.computed||Hr(a)}function Hr(e,t){(e!==G0||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const xi=er("__proto__,__v_isRef,__isVue"),G1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ar)),Si=lr(),Mi=lr(!1,!0),Ai=lr(!0),kr=Ei();function Ei(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const a=ze(this);for(let l=0,d=this.length;l<d;l++)B0(a,"get",l+"");const s=a[t](...n);return s===-1||s===!1?a[t](...n.map(ze)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Zt();const a=ze(this)[t].apply(this,n);return Qt(),a}}),e}function Ri(e){const t=ze(this);return B0(t,"has",e),t.hasOwnProperty(e)}function lr(e=!1,t=!1){return function(a,s,l){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&l===(e?t?Xi:Z1:t?z1:W1).get(a))return a;const d=qe(a);if(!e){if(d&&We(kr,s))return Reflect.get(kr,s,l);if(s==="hasOwnProperty")return Ri}const c=Reflect.get(a,s,l);return(ar(s)?G1.has(s):xi(s))||(e||B0(a,"get",s),t)?c:h0(c)?d&&rr(s)?c:c.value:s0(c)?e?Q1(c):ur(c):c}}const yi=K1(),Ti=K1(!0);function K1(e=!1){return function(n,a,s,l){let d=n[a];if(jt(d)&&h0(d)&&!h0(s))return!1;if(!e&&(!qn(s)&&!jt(s)&&(d=ze(d),s=ze(s)),!qe(n)&&h0(d)&&!h0(s)))return d.value=s,!0;const c=qe(n)&&rr(a)?Number(a)<n.length:We(n,a),E=Reflect.set(n,a,s,l);return n===ze(l)&&(c?cn(s,d)&&ot(n,"set",a,s):ot(n,"add",a,s)),E}}function wi(e,t){const n=We(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&n&&ot(e,"delete",t,void 0),a}function Bi(e,t){const n=Reflect.has(e,t);return(!ar(t)||!G1.has(t))&&B0(e,"has",t),n}function Ii(e){return B0(e,"iterate",qe(e)?"length":Nt),Reflect.ownKeys(e)}const j1={get:Si,set:yi,deleteProperty:wi,has:Bi,ownKeys:Ii},Ci={get:Ai,set(e,t){return!0},deleteProperty(e,t){return!0}},Li=p0({},j1,{get:Mi,set:Ti}),or=e=>e,zn=e=>Reflect.getPrototypeOf(e);function wn(e,t,n=!1,a=!1){e=e.__v_raw;const s=ze(e),l=ze(t);n||(t!==l&&B0(s,"get",t),B0(s,"get",l));const{has:d}=zn(s),c=a?or:n?cr:vn;if(d.call(s,t))return c(e.get(t));if(d.call(s,l))return c(e.get(l));e!==s&&e.get(t)}function Bn(e,t=!1){const n=this.__v_raw,a=ze(n),s=ze(e);return t||(e!==s&&B0(a,"has",e),B0(a,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function In(e,t=!1){return e=e.__v_raw,!t&&B0(ze(e),"iterate",Nt),Reflect.get(e,"size",e)}function Vr(e){e=ze(e);const t=ze(this);return zn(t).has.call(t,e)||(t.add(e),ot(t,"add",e,e)),this}function Pr(e,t){t=ze(t);const n=ze(this),{has:a,get:s}=zn(n);let l=a.call(n,e);l||(e=ze(e),l=a.call(n,e));const d=s.call(n,e);return n.set(e,t),l?cn(t,d)&&ot(n,"set",e,t):ot(n,"add",e,t),this}function Dr(e){const t=ze(this),{has:n,get:a}=zn(t);let s=n.call(t,e);s||(e=ze(e),s=n.call(t,e)),a&&a.call(t,e);const l=t.delete(e);return s&&ot(t,"delete",e,void 0),l}function Xr(){const e=ze(this),t=e.size!==0,n=e.clear();return t&&ot(e,"clear",void 0,void 0),n}function Cn(e,t){return function(a,s){const l=this,d=l.__v_raw,c=ze(d),E=t?or:e?cr:vn;return!e&&B0(c,"iterate",Nt),d.forEach((U,h)=>a.call(s,E(U),E(h),l))}}function Ln(e,t,n){return function(...a){const s=this.__v_raw,l=ze(s),d=qt(l),c=e==="entries"||e===Symbol.iterator&&d,E=e==="keys"&&d,U=s[e](...a),h=n?or:t?cr:vn;return!t&&B0(l,"iterate",E?Ya:Nt),{next(){const{value:o,done:M}=U.next();return M?{value:o,done:M}:{value:c?[h(o[0]),h(o[1])]:h(o),done:M}},[Symbol.iterator](){return this}}}}function ct(e){return function(...t){return e==="delete"?!1:this}}function Oi(){const e={get(l){return wn(this,l)},get size(){return In(this)},has:Bn,add:Vr,set:Pr,delete:Dr,clear:Xr,forEach:Cn(!1,!1)},t={get(l){return wn(this,l,!1,!0)},get size(){return In(this)},has:Bn,add:Vr,set:Pr,delete:Dr,clear:Xr,forEach:Cn(!1,!0)},n={get(l){return wn(this,l,!0)},get size(){return In(this,!0)},has(l){return Bn.call(this,l,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:Cn(!0,!1)},a={get(l){return wn(this,l,!0,!0)},get size(){return In(this,!0)},has(l){return Bn.call(this,l,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:Cn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=Ln(l,!1,!1),n[l]=Ln(l,!0,!1),t[l]=Ln(l,!1,!0),a[l]=Ln(l,!0,!0)}),[e,n,t,a]}const[Ni,Fi,Hi,ki]=Oi();function _r(e,t){const n=t?e?ki:Hi:e?Fi:Ni;return(a,s,l)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?a:Reflect.get(We(n,s)&&s in a?n:a,s,l)}const Vi={get:_r(!1,!1)},Pi={get:_r(!1,!0)},Di={get:_r(!0,!1)},W1=new WeakMap,z1=new WeakMap,Z1=new WeakMap,Xi=new WeakMap;function $i(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yi(e){return e.__v_skip||!Object.isExtensible(e)?0:$i(_i(e))}function ur(e){return jt(e)?e:fr(e,!1,j1,Vi,W1)}function qi(e){return fr(e,!1,Li,Pi,z1)}function Q1(e){return fr(e,!0,Ci,Di,Z1)}function fr(e,t,n,a,s){if(!s0(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=s.get(e);if(l)return l;const d=Yi(e);if(d===0)return e;const c=new Proxy(e,d===2?a:n);return s.set(e,c),c}function Ut(e){return jt(e)?Ut(e.__v_raw):!!(e&&e.__v_isReactive)}function jt(e){return!!(e&&e.__v_isReadonly)}function qn(e){return!!(e&&e.__v_isShallow)}function g1(e){return Ut(e)||jt(e)}function ze(e){const t=e&&e.__v_raw;return t?ze(t):e}function J1(e){return Yn(e,"__v_skip",!0),e}const vn=e=>s0(e)?ur(e):e,cr=e=>s0(e)?Q1(e):e;function es(e){mt&&G0&&(e=ze(e),U1(e.dep||(e.dep=sr())))}function ts(e,t){e=ze(e);const n=e.dep;n&&qa(n)}function h0(e){return!!(e&&e.__v_isRef===!0)}function v0(e){return ns(e,!1)}function sn(e){return ns(e,!0)}function ns(e,t){return h0(e)?e:new Ui(e,t)}class Ui{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ze(t),this._value=n?t:vn(t)}get value(){return es(this),this._value}set value(t){const n=this.__v_isShallow||qn(t)||jt(t);t=n?t:ze(t),cn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:vn(t),ts(this))}}function o0(e){return h0(e)?e.value:e}const Gi={get:(e,t,n)=>o0(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const s=e[t];return h0(s)&&!h0(n)?(s.value=n,!0):Reflect.set(e,t,n,a)}};function as(e){return Ut(e)?e:new Proxy(e,Gi)}var rs;class Ki{constructor(t,n,a,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[rs]=!1,this._dirty=!0,this.effect=new ir(t,()=>{this._dirty||(this._dirty=!0,ts(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=a}get value(){const t=ze(this);return es(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}rs="__v_isReadonly";function ji(e,t,n=!1){let a,s;const l=Ue(e);return l?(a=e,s=z0):(a=e.get,s=e.set),new Ki(a,s,l||!s,n)}function bt(e,t,n,a){let s;try{s=a?e(...a):e()}catch(l){Zn(l,t,n)}return s}function V0(e,t,n,a){if(Ue(e)){const l=bt(e,t,n,a);return l&&V1(l)&&l.catch(d=>{Zn(d,t,n)}),l}const s=[];for(let l=0;l<e.length;l++)s.push(V0(e[l],t,n,a));return s}function Zn(e,t,n,a=!0){const s=t?t.vnode:null;if(t){let l=t.parent;const d=t.proxy,c=n;for(;l;){const U=l.ec;if(U){for(let h=0;h<U.length;h++)if(U[h](e,d,c)===!1)return}l=l.parent}const E=t.appContext.config.errorHandler;if(E){bt(E,null,10,[e,d,c]);return}}Wi(e,n,s,a)}function Wi(e,t,n,a=!0){console.error(e)}let hn=!1,Ua=!1;const b0=[];let nt=0;const Gt=[];let st=null,Ct=0;const ss=Promise.resolve();let vr=null;function hr(e){const t=vr||ss;return e?t.then(this?e.bind(this):e):t}function zi(e){let t=nt+1,n=b0.length;for(;t<n;){const a=t+n>>>1;dn(b0[a])<e?t=a+1:n=a}return t}function dr(e){(!b0.length||!b0.includes(e,hn&&e.allowRecurse?nt+1:nt))&&(e.id==null?b0.push(e):b0.splice(zi(e.id),0,e),is())}function is(){!hn&&!Ua&&(Ua=!0,vr=ss.then(os))}function Zi(e){const t=b0.indexOf(e);t>nt&&b0.splice(t,1)}function Qi(e){qe(e)?Gt.push(...e):(!st||!st.includes(e,e.allowRecurse?Ct+1:Ct))&&Gt.push(e),is()}function $r(e,t=hn?nt+1:0){for(;t<b0.length;t++){const n=b0[t];n&&n.pre&&(b0.splice(t,1),t--,n())}}function ls(e){if(Gt.length){const t=[...new Set(Gt)];if(Gt.length=0,st){st.push(...t);return}for(st=t,st.sort((n,a)=>dn(n)-dn(a)),Ct=0;Ct<st.length;Ct++)st[Ct]();st=null,Ct=0}}const dn=e=>e.id==null?1/0:e.id,gi=(e,t)=>{const n=dn(e)-dn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function os(e){Ua=!1,hn=!0,b0.sort(gi);const t=z0;try{for(nt=0;nt<b0.length;nt++){const n=b0[nt];n&&n.active!==!1&&bt(n,null,14)}}finally{nt=0,b0.length=0,ls(),hn=!1,vr=null,(b0.length||Gt.length)&&os()}}function Ji(e,t,...n){if(e.isUnmounted)return;const a=e.vnode.props||t0;let s=n;const l=t.startsWith("update:"),d=l&&t.slice(7);if(d&&d in a){const h=`${d==="modelValue"?"model":d}Modifiers`,{number:o,trim:M}=a[h]||t0;M&&(s=n.map(j=>d0(j)?j.trim():j)),o&&(s=n.map(ci))}let c,E=a[c=xa(t)]||a[c=xa(Kt(t))];!E&&l&&(E=a[c=xa(zt(t))]),E&&V0(E,e,6,s);const U=a[c+"Once"];if(U){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,V0(U,e,6,s)}}function _s(e,t,n=!1){const a=t.emitsCache,s=a.get(e);if(s!==void 0)return s;const l=e.emits;let d={},c=!1;if(!Ue(e)){const E=U=>{const h=_s(U,t,!0);h&&(c=!0,p0(d,h))};!n&&t.mixins.length&&t.mixins.forEach(E),e.extends&&E(e.extends),e.mixins&&e.mixins.forEach(E)}return!l&&!c?(s0(e)&&a.set(e,null),null):(qe(l)?l.forEach(E=>d[E]=null):p0(d,l),s0(e)&&a.set(e,d),d)}function Qn(e,t){return!e||!Kn(t)?!1:(t=t.slice(2).replace(/Once$/,""),We(e,t[0].toLowerCase()+t.slice(1))||We(e,zt(t))||We(e,t))}let K0=null,gn=null;function Un(e){const t=K0;return K0=e,gn=e&&e.type.__scopeId||null,t}function Jn(e){gn=e}function ea(){gn=null}function el(e,t=K0,n){if(!t||e._n)return e;const a=(...s)=>{a._d&&Zr(-1);const l=Un(t);let d;try{d=e(...s)}finally{Un(l),a._d&&Zr(1)}return d};return a._n=!0,a._c=!0,a._d=!0,a}function Ma(e){const{type:t,vnode:n,proxy:a,withProxy:s,props:l,propsOptions:[d],slots:c,attrs:E,emit:U,render:h,renderCache:o,data:M,setupState:j,ctx:K,inheritAttrs:z}=e;let G,T;const p=Un(e);try{if(n.shapeFlag&4){const I=s||a;G=tt(h.call(I,I,o,l,j,M,K)),T=E}else{const I=t;G=tt(I.length>1?I(l,{attrs:E,slots:c,emit:U}):I(l,null)),T=t.props?E:tl(E)}}catch(I){fn.length=0,Zn(I,e,1),G=f0(Z0)}let S=G;if(T&&z!==!1){const I=Object.keys(T),{shapeFlag:r}=S;I.length&&r&7&&(d&&I.some(tr)&&(T=nl(T,d)),S=xt(S,T))}return n.dirs&&(S=xt(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),G=S,Un(p),G}const tl=e=>{let t;for(const n in e)(n==="class"||n==="style"||Kn(n))&&((t||(t={}))[n]=e[n]);return t},nl=(e,t)=>{const n={};for(const a in e)(!tr(a)||!(a.slice(9)in t))&&(n[a]=e[a]);return n};function al(e,t,n){const{props:a,children:s,component:l}=e,{props:d,children:c,patchFlag:E}=t,U=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&E>=0){if(E&1024)return!0;if(E&16)return a?Yr(a,d,U):!!d;if(E&8){const h=t.dynamicProps;for(let o=0;o<h.length;o++){const M=h[o];if(d[M]!==a[M]&&!Qn(U,M))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:a===d?!1:a?d?Yr(a,d,U):!0:!!d;return!1}function Yr(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let s=0;s<a.length;s++){const l=a[s];if(t[l]!==e[l]&&!Qn(n,l))return!0}return!1}function rl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const sl=e=>e.__isSuspense;function il(e,t){t&&t.pendingBranch?qe(e)?t.effects.push(...e):t.effects.push(e):Qi(e)}function ll(e,t){if(u0){let n=u0.provides;const a=u0.parent&&u0.parent.provides;a===n&&(n=u0.provides=Object.create(a)),n[e]=t}}function Dn(e,t,n=!1){const a=u0||K0;if(a){const s=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Ue(t)?t.call(a.proxy):t}}const On={};function j0(e,t,n){return us(e,t,n)}function us(e,t,{immediate:n,deep:a,flush:s,onTrack:l,onTrigger:d}=t0){const c=mi()===(u0==null?void 0:u0.scope)?u0:null;let E,U=!1,h=!1;if(h0(e)?(E=()=>e.value,U=qn(e)):Ut(e)?(E=()=>e,a=!0):qe(e)?(h=!0,U=e.some(S=>Ut(S)||qn(S)),E=()=>e.map(S=>{if(h0(S))return S.value;if(Ut(S))return $t(S);if(Ue(S))return bt(S,c,2)})):Ue(e)?t?E=()=>bt(e,c,2):E=()=>{if(!(c&&c.isUnmounted))return o&&o(),V0(e,c,3,[M])}:E=z0,t&&a){const S=E;E=()=>$t(S())}let o,M=S=>{o=T.onStop=()=>{bt(S,c,4)}},j;if(bn)if(M=z0,t?n&&V0(t,c,3,[E(),h?[]:void 0,M]):E(),s==="sync"){const S=no();j=S.__watcherHandles||(S.__watcherHandles=[])}else return z0;let K=h?new Array(e.length).fill(On):On;const z=()=>{if(T.active)if(t){const S=T.run();(a||U||(h?S.some((I,r)=>cn(I,K[r])):cn(S,K)))&&(o&&o(),V0(t,c,3,[S,K===On?void 0:h&&K[0]===On?[]:K,M]),K=S)}else T.run()};z.allowRecurse=!!t;let G;s==="sync"?G=z:s==="post"?G=()=>w0(z,c&&c.suspense):(z.pre=!0,c&&(z.id=c.uid),G=()=>dr(z));const T=new ir(E,G);t?n?z():K=T.run():s==="post"?w0(T.run.bind(T),c&&c.suspense):T.run();const p=()=>{T.stop(),c&&c.scope&&nr(c.scope.effects,T)};return j&&j.push(p),p}function ol(e,t,n){const a=this.proxy,s=d0(e)?e.includes(".")?fs(a,e):()=>a[e]:e.bind(a,a);let l;Ue(t)?l=t:(l=t.handler,n=t);const d=u0;Wt(this);const c=us(s,l.bind(a),n);return d?Wt(d):Ft(),c}function fs(e,t){const n=t.split(".");return()=>{let a=e;for(let s=0;s<n.length&&a;s++)a=a[n[s]];return a}}function $t(e,t){if(!s0(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),h0(e))$t(e.value,t);else if(qe(e))for(let n=0;n<e.length;n++)$t(e[n],t);else if(k1(e)||qt(e))e.forEach(n=>{$t(n,t)});else if(D1(e))for(const n in e)$t(e[n],t);return e}function _l(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return aa(()=>{e.isMounted=!0}),ra(()=>{e.isUnmounting=!0}),e}const F0=[Function,Array],ul={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:F0,onEnter:F0,onAfterEnter:F0,onEnterCancelled:F0,onBeforeLeave:F0,onLeave:F0,onAfterLeave:F0,onLeaveCancelled:F0,onBeforeAppear:F0,onAppear:F0,onAfterAppear:F0,onAppearCancelled:F0},setup(e,{slots:t}){const n=zl(),a=_l();let s;return()=>{const l=t.default&&vs(t.default(),!0);if(!l||!l.length)return;let d=l[0];if(l.length>1){for(const z of l)if(z.type!==Z0){d=z;break}}const c=ze(e),{mode:E}=c;if(a.isLeaving)return Aa(d);const U=qr(d);if(!U)return Aa(d);const h=Ga(U,c,a,n);Ka(U,h);const o=n.subTree,M=o&&qr(o);let j=!1;const{getTransitionKey:K}=U.type;if(K){const z=K();s===void 0?s=z:z!==s&&(s=z,j=!0)}if(M&&M.type!==Z0&&(!Lt(U,M)||j)){const z=Ga(M,c,a,n);if(Ka(M,z),E==="out-in")return a.isLeaving=!0,z.afterLeave=()=>{a.isLeaving=!1,n.update.active!==!1&&n.update()},Aa(d);E==="in-out"&&U.type!==Z0&&(z.delayLeave=(G,T,p)=>{const S=cs(a,M);S[String(M.key)]=M,G._leaveCb=()=>{T(),G._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=p})}return d}}},fl=ul;function cs(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function Ga(e,t,n,a){const{appear:s,mode:l,persisted:d=!1,onBeforeEnter:c,onEnter:E,onAfterEnter:U,onEnterCancelled:h,onBeforeLeave:o,onLeave:M,onAfterLeave:j,onLeaveCancelled:K,onBeforeAppear:z,onAppear:G,onAfterAppear:T,onAppearCancelled:p}=t,S=String(e.key),I=cs(n,e),r=(D,W)=>{D&&V0(D,a,9,W)},b=(D,W)=>{const P=W[1];r(D,W),qe(D)?D.every(X=>X.length<=1)&&P():D.length<=1&&P()},F={mode:l,persisted:d,beforeEnter(D){let W=c;if(!n.isMounted)if(s)W=z||c;else return;D._leaveCb&&D._leaveCb(!0);const P=I[S];P&&Lt(e,P)&&P.el._leaveCb&&P.el._leaveCb(),r(W,[D])},enter(D){let W=E,P=U,X=h;if(!n.isMounted)if(s)W=G||E,P=T||U,X=p||h;else return;let de=!1;const C=D._enterCb=_=>{de||(de=!0,_?r(X,[D]):r(P,[D]),F.delayedLeave&&F.delayedLeave(),D._enterCb=void 0)};W?b(W,[D,C]):C()},leave(D,W){const P=String(e.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return W();r(o,[D]);let X=!1;const de=D._leaveCb=C=>{X||(X=!0,W(),C?r(K,[D]):r(j,[D]),D._leaveCb=void 0,I[P]===e&&delete I[P])};I[P]=e,M?b(M,[D,de]):de()},clone(D){return Ga(D,t,n,a)}};return F}function Aa(e){if(ta(e))return e=xt(e),e.children=null,e}function qr(e){return ta(e)?e.children?e.children[0]:void 0:e}function Ka(e,t){e.shapeFlag&6&&e.component?Ka(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vs(e,t=!1,n){let a=[],s=0;for(let l=0;l<e.length;l++){let d=e[l];const c=n==null?d.key:String(n)+String(d.key!=null?d.key:l);d.type===O0?(d.patchFlag&128&&s++,a=a.concat(vs(d.children,t,c))):(t||d.type!==Z0)&&a.push(c!=null?xt(d,{key:c}):d)}if(s>1)for(let l=0;l<a.length;l++)a[l].patchFlag=-2;return a}const Xn=e=>!!e.type.__asyncLoader,ta=e=>e.type.__isKeepAlive;function cl(e,t){hs(e,"a",t)}function vl(e,t){hs(e,"da",t)}function hs(e,t,n=u0){const a=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(na(t,a,n),n){let s=n.parent;for(;s&&s.parent;)ta(s.parent.vnode)&&hl(a,t,n,s),s=s.parent}}function hl(e,t,n,a){const s=na(t,e,a,!0);ds(()=>{nr(a[t],s)},n)}function na(e,t,n=u0,a=!1){if(n){const s=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...d)=>{if(n.isUnmounted)return;Zt(),Wt(n);const c=V0(t,n,e,d);return Ft(),Qt(),c});return a?s.unshift(l):s.push(l),l}}const ut=e=>(t,n=u0)=>(!bn||e==="sp")&&na(e,(...a)=>t(...a),n),dl=ut("bm"),aa=ut("m"),ml=ut("bu"),bl=ut("u"),ra=ut("bum"),ds=ut("um"),pl=ut("sp"),xl=ut("rtg"),Sl=ut("rtc");function Ml(e,t=u0){na("ec",e,t)}function At(e,t,n,a){const s=e.dirs,l=t&&t.dirs;for(let d=0;d<s.length;d++){const c=s[d];l&&(c.oldValue=l[d].value);let E=c.dir[a];E&&(Zt(),V0(E,n,8,[e.el,c,e,t]),Qt())}}const Al=Symbol(),ja=e=>e?ws(e)?xr(e)||e.proxy:ja(e.parent):null,un=p0(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ja(e.parent),$root:e=>ja(e.root),$emit:e=>e.emit,$options:e=>mr(e),$forceUpdate:e=>e.f||(e.f=()=>dr(e.update)),$nextTick:e=>e.n||(e.n=hr.bind(e.proxy)),$watch:e=>ol.bind(e)}),Ea=(e,t)=>e!==t0&&!e.__isScriptSetup&&We(e,t),El={get({_:e},t){const{ctx:n,setupState:a,data:s,props:l,accessCache:d,type:c,appContext:E}=e;let U;if(t[0]!=="$"){const j=d[t];if(j!==void 0)switch(j){case 1:return a[t];case 2:return s[t];case 4:return n[t];case 3:return l[t]}else{if(Ea(a,t))return d[t]=1,a[t];if(s!==t0&&We(s,t))return d[t]=2,s[t];if((U=e.propsOptions[0])&&We(U,t))return d[t]=3,l[t];if(n!==t0&&We(n,t))return d[t]=4,n[t];Wa&&(d[t]=0)}}const h=un[t];let o,M;if(h)return t==="$attrs"&&B0(e,"get",t),h(e);if((o=c.__cssModules)&&(o=o[t]))return o;if(n!==t0&&We(n,t))return d[t]=4,n[t];if(M=E.config.globalProperties,We(M,t))return M[t]},set({_:e},t,n){const{data:a,setupState:s,ctx:l}=e;return Ea(s,t)?(s[t]=n,!0):a!==t0&&We(a,t)?(a[t]=n,!0):We(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:s,propsOptions:l}},d){let c;return!!n[d]||e!==t0&&We(e,d)||Ea(t,d)||(c=l[0])&&We(c,d)||We(a,d)||We(un,d)||We(s.config.globalProperties,d)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:We(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Wa=!0;function Rl(e){const t=mr(e),n=e.proxy,a=e.ctx;Wa=!1,t.beforeCreate&&Ur(t.beforeCreate,e,"bc");const{data:s,computed:l,methods:d,watch:c,provide:E,inject:U,created:h,beforeMount:o,mounted:M,beforeUpdate:j,updated:K,activated:z,deactivated:G,beforeDestroy:T,beforeUnmount:p,destroyed:S,unmounted:I,render:r,renderTracked:b,renderTriggered:F,errorCaptured:D,serverPrefetch:W,expose:P,inheritAttrs:X,components:de,directives:C,filters:_}=t;if(U&&yl(U,a,null,e.appContext.config.unwrapInjectedRef),d)for(const V in d){const O=d[V];Ue(O)&&(a[V]=O.bind(n))}if(s){const V=s.call(n,n);s0(V)&&(e.data=ur(V))}if(Wa=!0,l)for(const V in l){const O=l[V],Q=Ue(O)?O.bind(n,n):Ue(O.get)?O.get.bind(n,n):z0,k=!Ue(O)&&Ue(O.set)?O.set.bind(n):z0,m=pn({get:Q,set:k});Object.defineProperty(a,V,{enumerable:!0,configurable:!0,get:()=>m.value,set:u=>m.value=u})}if(c)for(const V in c)ms(c[V],a,n,V);if(E){const V=Ue(E)?E.call(n):E;Reflect.ownKeys(V).forEach(O=>{ll(O,V[O])})}h&&Ur(h,e,"c");function w(V,O){qe(O)?O.forEach(Q=>V(Q.bind(n))):O&&V(O.bind(n))}if(w(dl,o),w(aa,M),w(ml,j),w(bl,K),w(cl,z),w(vl,G),w(Ml,D),w(Sl,b),w(xl,F),w(ra,p),w(ds,I),w(pl,W),qe(P))if(P.length){const V=e.exposed||(e.exposed={});P.forEach(O=>{Object.defineProperty(V,O,{get:()=>n[O],set:Q=>n[O]=Q})})}else e.exposed||(e.exposed={});r&&e.render===z0&&(e.render=r),X!=null&&(e.inheritAttrs=X),de&&(e.components=de),C&&(e.directives=C)}function yl(e,t,n=z0,a=!1){qe(e)&&(e=za(e));for(const s in e){const l=e[s];let d;s0(l)?"default"in l?d=Dn(l.from||s,l.default,!0):d=Dn(l.from||s):d=Dn(l),h0(d)&&a?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>d.value,set:c=>d.value=c}):t[s]=d}}function Ur(e,t,n){V0(qe(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,n)}function ms(e,t,n,a){const s=a.includes(".")?fs(n,a):()=>n[a];if(d0(e)){const l=t[e];Ue(l)&&j0(s,l)}else if(Ue(e))j0(s,e.bind(n));else if(s0(e))if(qe(e))e.forEach(l=>ms(l,t,n,a));else{const l=Ue(e.handler)?e.handler.bind(n):t[e.handler];Ue(l)&&j0(s,l,e)}}function mr(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:s,optionsCache:l,config:{optionMergeStrategies:d}}=e.appContext,c=l.get(t);let E;return c?E=c:!s.length&&!n&&!a?E=t:(E={},s.length&&s.forEach(U=>Gn(E,U,d,!0)),Gn(E,t,d)),s0(t)&&l.set(t,E),E}function Gn(e,t,n,a=!1){const{mixins:s,extends:l}=t;l&&Gn(e,l,n,!0),s&&s.forEach(d=>Gn(e,d,n,!0));for(const d in t)if(!(a&&d==="expose")){const c=Tl[d]||n&&n[d];e[d]=c?c(e[d],t[d]):t[d]}return e}const Tl={data:Gr,props:It,emits:It,methods:It,computed:It,beforeCreate:S0,created:S0,beforeMount:S0,mounted:S0,beforeUpdate:S0,updated:S0,beforeDestroy:S0,beforeUnmount:S0,destroyed:S0,unmounted:S0,activated:S0,deactivated:S0,errorCaptured:S0,serverPrefetch:S0,components:It,directives:It,watch:Bl,provide:Gr,inject:wl};function Gr(e,t){return t?e?function(){return p0(Ue(e)?e.call(this,this):e,Ue(t)?t.call(this,this):t)}:t:e}function wl(e,t){return It(za(e),za(t))}function za(e){if(qe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function S0(e,t){return e?[...new Set([].concat(e,t))]:t}function It(e,t){return e?p0(p0(Object.create(null),e),t):t}function Bl(e,t){if(!e)return t;if(!t)return e;const n=p0(Object.create(null),e);for(const a in t)n[a]=S0(e[a],t[a]);return n}function Il(e,t,n,a=!1){const s={},l={};Yn(l,ia,1),e.propsDefaults=Object.create(null),bs(e,t,s,l);for(const d in e.propsOptions[0])d in s||(s[d]=void 0);n?e.props=a?s:qi(s):e.type.props?e.props=s:e.props=l,e.attrs=l}function Cl(e,t,n,a){const{props:s,attrs:l,vnode:{patchFlag:d}}=e,c=ze(s),[E]=e.propsOptions;let U=!1;if((a||d>0)&&!(d&16)){if(d&8){const h=e.vnode.dynamicProps;for(let o=0;o<h.length;o++){let M=h[o];if(Qn(e.emitsOptions,M))continue;const j=t[M];if(E)if(We(l,M))j!==l[M]&&(l[M]=j,U=!0);else{const K=Kt(M);s[K]=Za(E,c,K,j,e,!1)}else j!==l[M]&&(l[M]=j,U=!0)}}}else{bs(e,t,s,l)&&(U=!0);let h;for(const o in c)(!t||!We(t,o)&&((h=zt(o))===o||!We(t,h)))&&(E?n&&(n[o]!==void 0||n[h]!==void 0)&&(s[o]=Za(E,c,o,void 0,e,!0)):delete s[o]);if(l!==c)for(const o in l)(!t||!We(t,o))&&(delete l[o],U=!0)}U&&ot(e,"set","$attrs")}function bs(e,t,n,a){const[s,l]=e.propsOptions;let d=!1,c;if(t)for(let E in t){if(Pn(E))continue;const U=t[E];let h;s&&We(s,h=Kt(E))?!l||!l.includes(h)?n[h]=U:(c||(c={}))[h]=U:Qn(e.emitsOptions,E)||(!(E in a)||U!==a[E])&&(a[E]=U,d=!0)}if(l){const E=ze(n),U=c||t0;for(let h=0;h<l.length;h++){const o=l[h];n[o]=Za(s,E,o,U[o],e,!We(U,o))}}return d}function Za(e,t,n,a,s,l){const d=e[n];if(d!=null){const c=We(d,"default");if(c&&a===void 0){const E=d.default;if(d.type!==Function&&Ue(E)){const{propsDefaults:U}=s;n in U?a=U[n]:(Wt(s),a=U[n]=E.call(null,t),Ft())}else a=E}d[0]&&(l&&!c?a=!1:d[1]&&(a===""||a===zt(n))&&(a=!0))}return a}function ps(e,t,n=!1){const a=t.propsCache,s=a.get(e);if(s)return s;const l=e.props,d={},c=[];let E=!1;if(!Ue(e)){const h=o=>{E=!0;const[M,j]=ps(o,t,!0);p0(d,M),j&&c.push(...j)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!l&&!E)return s0(e)&&a.set(e,Yt),Yt;if(qe(l))for(let h=0;h<l.length;h++){const o=Kt(l[h]);Kr(o)&&(d[o]=t0)}else if(l)for(const h in l){const o=Kt(h);if(Kr(o)){const M=l[h],j=d[o]=qe(M)||Ue(M)?{type:M}:Object.assign({},M);if(j){const K=zr(Boolean,j.type),z=zr(String,j.type);j[0]=K>-1,j[1]=z<0||K<z,(K>-1||We(j,"default"))&&c.push(o)}}}const U=[d,c];return s0(e)&&a.set(e,U),U}function Kr(e){return e[0]!=="$"}function jr(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Wr(e,t){return jr(e)===jr(t)}function zr(e,t){return qe(t)?t.findIndex(n=>Wr(n,e)):Ue(t)&&Wr(t,e)?0:-1}const xs=e=>e[0]==="_"||e==="$stable",br=e=>qe(e)?e.map(tt):[tt(e)],Ll=(e,t,n)=>{if(t._n)return t;const a=el((...s)=>br(t(...s)),n);return a._c=!1,a},Ss=(e,t,n)=>{const a=e._ctx;for(const s in e){if(xs(s))continue;const l=e[s];if(Ue(l))t[s]=Ll(s,l,a);else if(l!=null){const d=br(l);t[s]=()=>d}}},Ms=(e,t)=>{const n=br(t);e.slots.default=()=>n},Ol=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ze(t),Yn(t,"_",n)):Ss(t,e.slots={})}else e.slots={},t&&Ms(e,t);Yn(e.slots,ia,1)},Nl=(e,t,n)=>{const{vnode:a,slots:s}=e;let l=!0,d=t0;if(a.shapeFlag&32){const c=t._;c?n&&c===1?l=!1:(p0(s,t),!n&&c===1&&delete s._):(l=!t.$stable,Ss(t,s)),d=t}else t&&(Ms(e,t),d={default:1});if(l)for(const c in s)!xs(c)&&!(c in d)&&delete s[c]};function As(){return{app:null,config:{isNativeTag:ii,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fl=0;function Hl(e,t){return function(a,s=null){Ue(a)||(a=Object.assign({},a)),s!=null&&!s0(s)&&(s=null);const l=As(),d=new Set;let c=!1;const E=l.app={_uid:Fl++,_component:a,_props:s,_container:null,_context:l,_instance:null,version:ao,get config(){return l.config},set config(U){},use(U,...h){return d.has(U)||(U&&Ue(U.install)?(d.add(U),U.install(E,...h)):Ue(U)&&(d.add(U),U(E,...h))),E},mixin(U){return l.mixins.includes(U)||l.mixins.push(U),E},component(U,h){return h?(l.components[U]=h,E):l.components[U]},directive(U,h){return h?(l.directives[U]=h,E):l.directives[U]},mount(U,h,o){if(!c){const M=f0(a,s);return M.appContext=l,h&&t?t(M,U):e(M,U,o),c=!0,E._container=U,U.__vue_app__=E,xr(M.component)||M.component.proxy}},unmount(){c&&(e(null,E._container),delete E._container.__vue_app__)},provide(U,h){return l.provides[U]=h,E}};return E}}function Qa(e,t,n,a,s=!1){if(qe(e)){e.forEach((M,j)=>Qa(M,t&&(qe(t)?t[j]:t),n,a,s));return}if(Xn(a)&&!s)return;const l=a.shapeFlag&4?xr(a.component)||a.component.proxy:a.el,d=s?null:l,{i:c,r:E}=e,U=t&&t.r,h=c.refs===t0?c.refs={}:c.refs,o=c.setupState;if(U!=null&&U!==E&&(d0(U)?(h[U]=null,We(o,U)&&(o[U]=null)):h0(U)&&(U.value=null)),Ue(E))bt(E,c,12,[d,h]);else{const M=d0(E),j=h0(E);if(M||j){const K=()=>{if(e.f){const z=M?We(o,E)?o[E]:h[E]:E.value;s?qe(z)&&nr(z,l):qe(z)?z.includes(l)||z.push(l):M?(h[E]=[l],We(o,E)&&(o[E]=h[E])):(E.value=[l],e.k&&(h[e.k]=E.value))}else M?(h[E]=d,We(o,E)&&(o[E]=d)):j&&(E.value=d,e.k&&(h[e.k]=d))};d?(K.id=-1,w0(K,n)):K()}}}const w0=il;function kl(e){return Vl(e)}function Vl(e,t){const n=vi();n.__VUE__=!0;const{insert:a,remove:s,patchProp:l,createElement:d,createText:c,createComment:E,setText:U,setElementText:h,parentNode:o,nextSibling:M,setScopeId:j=z0,insertStaticContent:K}=e,z=(L,$,Z,ae=null,ie=null,xe=null,Ce=!1,i=null,v=!!$.dynamicChildren)=>{if(L===$)return;L&&!Lt(L,$)&&(ae=oe(L),u(L,ie,xe,!0),L=null),$.patchFlag===-2&&(v=!1,$.dynamicChildren=null);const{type:re,ref:he,shapeFlag:me}=$;switch(re){case sa:G(L,$,Z,ae);break;case Z0:T(L,$,Z,ae);break;case Ra:L==null&&p($,Z,ae,Ce);break;case O0:de(L,$,Z,ae,ie,xe,Ce,i,v);break;default:me&1?r(L,$,Z,ae,ie,xe,Ce,i,v):me&6?C(L,$,Z,ae,ie,xe,Ce,i,v):(me&64||me&128)&&re.process(L,$,Z,ae,ie,xe,Ce,i,v,ne)}he!=null&&ie&&Qa(he,L&&L.ref,xe,$||L,!$)},G=(L,$,Z,ae)=>{if(L==null)a($.el=c($.children),Z,ae);else{const ie=$.el=L.el;$.children!==L.children&&U(ie,$.children)}},T=(L,$,Z,ae)=>{L==null?a($.el=E($.children||""),Z,ae):$.el=L.el},p=(L,$,Z,ae)=>{[L.el,L.anchor]=K(L.children,$,Z,ae,L.el,L.anchor)},S=({el:L,anchor:$},Z,ae)=>{let ie;for(;L&&L!==$;)ie=M(L),a(L,Z,ae),L=ie;a($,Z,ae)},I=({el:L,anchor:$})=>{let Z;for(;L&&L!==$;)Z=M(L),s(L),L=Z;s($)},r=(L,$,Z,ae,ie,xe,Ce,i,v)=>{Ce=Ce||$.type==="svg",L==null?b($,Z,ae,ie,xe,Ce,i,v):W(L,$,ie,xe,Ce,i,v)},b=(L,$,Z,ae,ie,xe,Ce,i)=>{let v,re;const{type:he,props:me,shapeFlag:pe,transition:be,dirs:Se}=L;if(v=L.el=d(L.type,xe,me&&me.is,me),pe&8?h(v,L.children):pe&16&&D(L.children,v,null,ae,ie,xe&&he!=="foreignObject",Ce,i),Se&&At(L,null,ae,"created"),F(v,L,L.scopeId,Ce,ae),me){for(const we in me)we!=="value"&&!Pn(we)&&l(v,we,null,me[we],xe,L.children,ae,ie,g);"value"in me&&l(v,"value",null,me.value),(re=me.onVnodeBeforeMount)&&J0(re,ae,L)}Se&&At(L,null,ae,"beforeMount");const Fe=(!ie||ie&&!ie.pendingBranch)&&be&&!be.persisted;Fe&&be.beforeEnter(v),a(v,$,Z),((re=me&&me.onVnodeMounted)||Fe||Se)&&w0(()=>{re&&J0(re,ae,L),Fe&&be.enter(v),Se&&At(L,null,ae,"mounted")},ie)},F=(L,$,Z,ae,ie)=>{if(Z&&j(L,Z),ae)for(let xe=0;xe<ae.length;xe++)j(L,ae[xe]);if(ie){let xe=ie.subTree;if($===xe){const Ce=ie.vnode;F(L,Ce,Ce.scopeId,Ce.slotScopeIds,ie.parent)}}},D=(L,$,Z,ae,ie,xe,Ce,i,v=0)=>{for(let re=v;re<L.length;re++){const he=L[re]=i?dt(L[re]):tt(L[re]);z(null,he,$,Z,ae,ie,xe,Ce,i)}},W=(L,$,Z,ae,ie,xe,Ce)=>{const i=$.el=L.el;let{patchFlag:v,dynamicChildren:re,dirs:he}=$;v|=L.patchFlag&16;const me=L.props||t0,pe=$.props||t0;let be;Z&&Et(Z,!1),(be=pe.onVnodeBeforeUpdate)&&J0(be,Z,$,L),he&&At($,L,Z,"beforeUpdate"),Z&&Et(Z,!0);const Se=ie&&$.type!=="foreignObject";if(re?P(L.dynamicChildren,re,i,Z,ae,Se,xe):Ce||O(L,$,i,null,Z,ae,Se,xe,!1),v>0){if(v&16)X(i,$,me,pe,Z,ae,ie);else if(v&2&&me.class!==pe.class&&l(i,"class",null,pe.class,ie),v&4&&l(i,"style",me.style,pe.style,ie),v&8){const Fe=$.dynamicProps;for(let we=0;we<Fe.length;we++){const Te=Fe[we],Xe=me[Te],Ze=pe[Te];(Ze!==Xe||Te==="value")&&l(i,Te,Xe,Ze,ie,L.children,Z,ae,g)}}v&1&&L.children!==$.children&&h(i,$.children)}else!Ce&&re==null&&X(i,$,me,pe,Z,ae,ie);((be=pe.onVnodeUpdated)||he)&&w0(()=>{be&&J0(be,Z,$,L),he&&At($,L,Z,"updated")},ae)},P=(L,$,Z,ae,ie,xe,Ce)=>{for(let i=0;i<$.length;i++){const v=L[i],re=$[i],he=v.el&&(v.type===O0||!Lt(v,re)||v.shapeFlag&70)?o(v.el):Z;z(v,re,he,null,ae,ie,xe,Ce,!0)}},X=(L,$,Z,ae,ie,xe,Ce)=>{if(Z!==ae){if(Z!==t0)for(const i in Z)!Pn(i)&&!(i in ae)&&l(L,i,Z[i],null,Ce,$.children,ie,xe,g);for(const i in ae){if(Pn(i))continue;const v=ae[i],re=Z[i];v!==re&&i!=="value"&&l(L,i,re,v,Ce,$.children,ie,xe,g)}"value"in ae&&l(L,"value",Z.value,ae.value)}},de=(L,$,Z,ae,ie,xe,Ce,i,v)=>{const re=$.el=L?L.el:c(""),he=$.anchor=L?L.anchor:c("");let{patchFlag:me,dynamicChildren:pe,slotScopeIds:be}=$;be&&(i=i?i.concat(be):be),L==null?(a(re,Z,ae),a(he,Z,ae),D($.children,Z,he,ie,xe,Ce,i,v)):me>0&&me&64&&pe&&L.dynamicChildren?(P(L.dynamicChildren,pe,Z,ie,xe,Ce,i),($.key!=null||ie&&$===ie.subTree)&&Es(L,$,!0)):O(L,$,Z,he,ie,xe,Ce,i,v)},C=(L,$,Z,ae,ie,xe,Ce,i,v)=>{$.slotScopeIds=i,L==null?$.shapeFlag&512?ie.ctx.activate($,Z,ae,Ce,v):_($,Z,ae,ie,xe,Ce,v):y(L,$,v)},_=(L,$,Z,ae,ie,xe,Ce)=>{const i=L.component=Wl(L,ae,ie);if(ta(L)&&(i.ctx.renderer=ne),Zl(i),i.asyncDep){if(ie&&ie.registerDep(i,w),!L.el){const v=i.subTree=f0(Z0);T(null,v,$,Z)}return}w(i,L,$,Z,ie,xe,Ce)},y=(L,$,Z)=>{const ae=$.component=L.component;if(al(L,$,Z))if(ae.asyncDep&&!ae.asyncResolved){V(ae,$,Z);return}else ae.next=$,Zi(ae.update),ae.update();else $.el=L.el,ae.vnode=$},w=(L,$,Z,ae,ie,xe,Ce)=>{const i=()=>{if(L.isMounted){let{next:he,bu:me,u:pe,parent:be,vnode:Se}=L,Fe=he,we;Et(L,!1),he?(he.el=Se.el,V(L,he,Ce)):he=Se,me&&Sa(me),(we=he.props&&he.props.onVnodeBeforeUpdate)&&J0(we,be,he,Se),Et(L,!0);const Te=Ma(L),Xe=L.subTree;L.subTree=Te,z(Xe,Te,o(Xe.el),oe(Xe),L,ie,xe),he.el=Te.el,Fe===null&&rl(L,Te.el),pe&&w0(pe,ie),(we=he.props&&he.props.onVnodeUpdated)&&w0(()=>J0(we,be,he,Se),ie)}else{let he;const{el:me,props:pe}=$,{bm:be,m:Se,parent:Fe}=L,we=Xn($);if(Et(L,!1),be&&Sa(be),!we&&(he=pe&&pe.onVnodeBeforeMount)&&J0(he,Fe,$),Et(L,!0),me&&ye){const Te=()=>{L.subTree=Ma(L),ye(me,L.subTree,L,ie,null)};we?$.type.__asyncLoader().then(()=>!L.isUnmounted&&Te()):Te()}else{const Te=L.subTree=Ma(L);z(null,Te,Z,ae,L,ie,xe),$.el=Te.el}if(Se&&w0(Se,ie),!we&&(he=pe&&pe.onVnodeMounted)){const Te=$;w0(()=>J0(he,Fe,Te),ie)}($.shapeFlag&256||Fe&&Xn(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&L.a&&w0(L.a,ie),L.isMounted=!0,$=Z=ae=null}},v=L.effect=new ir(i,()=>dr(re),L.scope),re=L.update=()=>v.run();re.id=L.uid,Et(L,!0),re()},V=(L,$,Z)=>{$.component=L;const ae=L.vnode.props;L.vnode=$,L.next=null,Cl(L,$.props,ae,Z),Nl(L,$.children,Z),Zt(),$r(),Qt()},O=(L,$,Z,ae,ie,xe,Ce,i,v=!1)=>{const re=L&&L.children,he=L?L.shapeFlag:0,me=$.children,{patchFlag:pe,shapeFlag:be}=$;if(pe>0){if(pe&128){k(re,me,Z,ae,ie,xe,Ce,i,v);return}else if(pe&256){Q(re,me,Z,ae,ie,xe,Ce,i,v);return}}be&8?(he&16&&g(re,ie,xe),me!==re&&h(Z,me)):he&16?be&16?k(re,me,Z,ae,ie,xe,Ce,i,v):g(re,ie,xe,!0):(he&8&&h(Z,""),be&16&&D(me,Z,ae,ie,xe,Ce,i,v))},Q=(L,$,Z,ae,ie,xe,Ce,i,v)=>{L=L||Yt,$=$||Yt;const re=L.length,he=$.length,me=Math.min(re,he);let pe;for(pe=0;pe<me;pe++){const be=$[pe]=v?dt($[pe]):tt($[pe]);z(L[pe],be,Z,null,ie,xe,Ce,i,v)}re>he?g(L,ie,xe,!0,!1,me):D($,Z,ae,ie,xe,Ce,i,v,me)},k=(L,$,Z,ae,ie,xe,Ce,i,v)=>{let re=0;const he=$.length;let me=L.length-1,pe=he-1;for(;re<=me&&re<=pe;){const be=L[re],Se=$[re]=v?dt($[re]):tt($[re]);if(Lt(be,Se))z(be,Se,Z,null,ie,xe,Ce,i,v);else break;re++}for(;re<=me&&re<=pe;){const be=L[me],Se=$[pe]=v?dt($[pe]):tt($[pe]);if(Lt(be,Se))z(be,Se,Z,null,ie,xe,Ce,i,v);else break;me--,pe--}if(re>me){if(re<=pe){const be=pe+1,Se=be<he?$[be].el:ae;for(;re<=pe;)z(null,$[re]=v?dt($[re]):tt($[re]),Z,Se,ie,xe,Ce,i,v),re++}}else if(re>pe)for(;re<=me;)u(L[re],ie,xe,!0),re++;else{const be=re,Se=re,Fe=new Map;for(re=Se;re<=pe;re++){const H=$[re]=v?dt($[re]):tt($[re]);H.key!=null&&Fe.set(H.key,re)}let we,Te=0;const Xe=pe-Se+1;let Ze=!1,Ge=0;const A=new Array(Xe);for(re=0;re<Xe;re++)A[re]=0;for(re=be;re<=me;re++){const H=L[re];if(Te>=Xe){u(H,ie,xe,!0);continue}let Y;if(H.key!=null)Y=Fe.get(H.key);else for(we=Se;we<=pe;we++)if(A[we-Se]===0&&Lt(H,$[we])){Y=we;break}Y===void 0?u(H,ie,xe,!0):(A[Y-Se]=re+1,Y>=Ge?Ge=Y:Ze=!0,z(H,$[Y],Z,null,ie,xe,Ce,i,v),Te++)}const R=Ze?Pl(A):Yt;for(we=R.length-1,re=Xe-1;re>=0;re--){const H=Se+re,Y=$[H],J=H+1<he?$[H+1].el:ae;A[re]===0?z(null,Y,Z,J,ie,xe,Ce,i,v):Ze&&(we<0||re!==R[we]?m(Y,Z,J,2):we--)}}},m=(L,$,Z,ae,ie=null)=>{const{el:xe,type:Ce,transition:i,children:v,shapeFlag:re}=L;if(re&6){m(L.component.subTree,$,Z,ae);return}if(re&128){L.suspense.move($,Z,ae);return}if(re&64){Ce.move(L,$,Z,ne);return}if(Ce===O0){a(xe,$,Z);for(let me=0;me<v.length;me++)m(v[me],$,Z,ae);a(L.anchor,$,Z);return}if(Ce===Ra){S(L,$,Z);return}if(ae!==2&&re&1&&i)if(ae===0)i.beforeEnter(xe),a(xe,$,Z),w0(()=>i.enter(xe),ie);else{const{leave:me,delayLeave:pe,afterLeave:be}=i,Se=()=>a(xe,$,Z),Fe=()=>{me(xe,()=>{Se(),be&&be()})};pe?pe(xe,Se,Fe):Fe()}else a(xe,$,Z)},u=(L,$,Z,ae=!1,ie=!1)=>{const{type:xe,props:Ce,ref:i,children:v,dynamicChildren:re,shapeFlag:he,patchFlag:me,dirs:pe}=L;if(i!=null&&Qa(i,null,Z,L,!0),he&256){$.ctx.deactivate(L);return}const be=he&1&&pe,Se=!Xn(L);let Fe;if(Se&&(Fe=Ce&&Ce.onVnodeBeforeUnmount)&&J0(Fe,$,L),he&6)B(L.component,Z,ae);else{if(he&128){L.suspense.unmount(Z,ae);return}be&&At(L,null,$,"beforeUnmount"),he&64?L.type.remove(L,$,Z,ie,ne,ae):re&&(xe!==O0||me>0&&me&64)?g(re,$,Z,!1,!0):(xe===O0&&me&384||!ie&&he&16)&&g(v,$,Z),ae&&f(L)}(Se&&(Fe=Ce&&Ce.onVnodeUnmounted)||be)&&w0(()=>{Fe&&J0(Fe,$,L),be&&At(L,null,$,"unmounted")},Z)},f=L=>{const{type:$,el:Z,anchor:ae,transition:ie}=L;if($===O0){x(Z,ae);return}if($===Ra){I(L);return}const xe=()=>{s(Z),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(L.shapeFlag&1&&ie&&!ie.persisted){const{leave:Ce,delayLeave:i}=ie,v=()=>Ce(Z,xe);i?i(L.el,xe,v):v()}else xe()},x=(L,$)=>{let Z;for(;L!==$;)Z=M(L),s(L),L=Z;s($)},B=(L,$,Z)=>{const{bum:ae,scope:ie,update:xe,subTree:Ce,um:i}=L;ae&&Sa(ae),ie.stop(),xe&&(xe.active=!1,u(Ce,L,$,Z)),i&&w0(i,$),w0(()=>{L.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},g=(L,$,Z,ae=!1,ie=!1,xe=0)=>{for(let Ce=xe;Ce<L.length;Ce++)u(L[Ce],$,Z,ae,ie)},oe=L=>L.shapeFlag&6?oe(L.component.subTree):L.shapeFlag&128?L.suspense.next():M(L.anchor||L.el),q=(L,$,Z)=>{L==null?$._vnode&&u($._vnode,null,null,!0):z($._vnode||null,L,$,null,null,null,Z),$r(),ls(),$._vnode=L},ne={p:z,um:u,m,r:f,mt:_,mc:D,pc:O,pbc:P,n:oe,o:e};let ve,ye;return t&&([ve,ye]=t(ne)),{render:q,hydrate:ve,createApp:Hl(q,ve)}}function Et({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Es(e,t,n=!1){const a=e.children,s=t.children;if(qe(a)&&qe(s))for(let l=0;l<a.length;l++){const d=a[l];let c=s[l];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[l]=dt(s[l]),c.el=d.el),n||Es(d,c)),c.type===sa&&(c.el=d.el)}}function Pl(e){const t=e.slice(),n=[0];let a,s,l,d,c;const E=e.length;for(a=0;a<E;a++){const U=e[a];if(U!==0){if(s=n[n.length-1],e[s]<U){t[a]=s,n.push(a);continue}for(l=0,d=n.length-1;l<d;)c=l+d>>1,e[n[c]]<U?l=c+1:d=c;U<e[n[l]]&&(l>0&&(t[a]=n[l-1]),n[l]=a)}}for(l=n.length,d=n[l-1];l-- >0;)n[l]=d,d=t[d];return n}const Dl=e=>e.__isTeleport,O0=Symbol(void 0),sa=Symbol(void 0),Z0=Symbol(void 0),Ra=Symbol(void 0),fn=[];let W0=null;function q0(e=!1){fn.push(W0=e?null:[])}function Xl(){fn.pop(),W0=fn[fn.length-1]||null}let mn=1;function Zr(e){mn+=e}function Rs(e){return e.dynamicChildren=mn>0?W0||Yt:null,Xl(),mn>0&&W0&&W0.push(e),e}function it(e,t,n,a,s,l){return Rs(Le(e,t,n,a,s,l,!0))}function ys(e,t,n,a,s){return Rs(f0(e,t,n,a,s,!0))}function $l(e){return e?e.__v_isVNode===!0:!1}function Lt(e,t){return e.type===t.type&&e.key===t.key}const ia="__vInternal",Ts=({key:e})=>e??null,$n=({ref:e,ref_key:t,ref_for:n})=>e!=null?d0(e)||h0(e)||Ue(e)?{i:K0,r:e,k:t,f:!!n}:e:null;function Le(e,t=null,n=null,a=0,s=null,l=e===O0?0:1,d=!1,c=!1){const E={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ts(t),ref:t&&$n(t),scopeId:gn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:a,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:K0};return c?(pr(E,n),l&128&&e.normalize(E)):n&&(E.shapeFlag|=d0(n)?8:16),mn>0&&!d&&W0&&(E.patchFlag>0||l&6)&&E.patchFlag!==32&&W0.push(E),E}const f0=Yl;function Yl(e,t=null,n=null,a=0,s=null,l=!1){if((!e||e===Al)&&(e=Z0),$l(e)){const c=xt(e,t,!0);return n&&pr(c,n),mn>0&&!l&&W0&&(c.shapeFlag&6?W0[W0.indexOf(e)]=c:W0.push(c)),c.patchFlag|=-2,c}if(eo(e)&&(e=e.__vccOpts),t){t=ql(t);let{class:c,style:E}=t;c&&!d0(c)&&(t.class=Mn(c)),s0(E)&&(g1(E)&&!qe(E)&&(E=p0({},E)),t.style=Sn(E))}const d=d0(e)?1:sl(e)?128:Dl(e)?64:s0(e)?4:Ue(e)?2:0;return Le(e,t,n,a,s,d,l,!0)}function ql(e){return e?g1(e)||ia in e?p0({},e):e:null}function xt(e,t,n=!1){const{props:a,ref:s,patchFlag:l,children:d}=e,c=t?Gl(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ts(c),ref:t&&t.ref?n&&s?qe(s)?s.concat($n(t)):[s,$n(t)]:$n(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==O0?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xt(e.ssContent),ssFallback:e.ssFallback&&xt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ga(e=" ",t=0){return f0(sa,null,e,t)}function Ul(e="",t=!1){return t?(q0(),ys(Z0,null,e)):f0(Z0,null,e)}function tt(e){return e==null||typeof e=="boolean"?f0(Z0):qe(e)?f0(O0,null,e.slice()):typeof e=="object"?dt(e):f0(sa,null,String(e))}function dt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:xt(e)}function pr(e,t){let n=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(qe(t))n=16;else if(typeof t=="object")if(a&65){const s=t.default;s&&(s._c&&(s._d=!1),pr(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(ia in t)?t._ctx=K0:s===3&&K0&&(K0.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ue(t)?(t={default:t,_ctx:K0},n=32):(t=String(t),a&64?(n=16,t=[ga(t)]):n=8);e.children=t,e.shapeFlag|=n}function Gl(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const s in a)if(s==="class")t.class!==a.class&&(t.class=Mn([t.class,a.class]));else if(s==="style")t.style=Sn([t.style,a.style]);else if(Kn(s)){const l=t[s],d=a[s];d&&l!==d&&!(qe(l)&&l.includes(d))&&(t[s]=l?[].concat(l,d):d)}else s!==""&&(t[s]=a[s])}return t}function J0(e,t,n,a=null){V0(e,t,7,[n,a])}const Kl=As();let jl=0;function Wl(e,t,n){const a=e.type,s=(t?t.appContext:e.appContext)||Kl,l={uid:jl++,vnode:e,type:a,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new hi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ps(a,s),emitsOptions:_s(a,s),emit:null,emitted:null,propsDefaults:t0,inheritAttrs:a.inheritAttrs,ctx:t0,data:t0,props:t0,attrs:t0,slots:t0,refs:t0,setupState:t0,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Ji.bind(null,l),e.ce&&e.ce(l),l}let u0=null;const zl=()=>u0||K0,Wt=e=>{u0=e,e.scope.on()},Ft=()=>{u0&&u0.scope.off(),u0=null};function ws(e){return e.vnode.shapeFlag&4}let bn=!1;function Zl(e,t=!1){bn=t;const{props:n,children:a}=e.vnode,s=ws(e);Il(e,n,s,t),Ol(e,a);const l=s?Ql(e,t):void 0;return bn=!1,l}function Ql(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=J1(new Proxy(e.ctx,El));const{setup:a}=n;if(a){const s=e.setupContext=a.length>1?Jl(e):null;Wt(e),Zt();const l=bt(a,e,0,[e.props,s]);if(Qt(),Ft(),V1(l)){if(l.then(Ft,Ft),t)return l.then(d=>{Qr(e,d,t)}).catch(d=>{Zn(d,e,0)});e.asyncDep=l}else Qr(e,l,t)}else Bs(e,t)}function Qr(e,t,n){Ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:s0(t)&&(e.setupState=as(t)),Bs(e,n)}let gr;function Bs(e,t,n){const a=e.type;if(!e.render){if(!t&&gr&&!a.render){const s=a.template||mr(e).template;if(s){const{isCustomElement:l,compilerOptions:d}=e.appContext.config,{delimiters:c,compilerOptions:E}=a,U=p0(p0({isCustomElement:l,delimiters:c},d),E);a.render=gr(s,U)}}e.render=a.render||z0}Wt(e),Zt(),Rl(e),Qt(),Ft()}function gl(e){return new Proxy(e.attrs,{get(t,n){return B0(e,"get","$attrs"),t[n]}})}function Jl(e){const t=a=>{e.exposed=a||{}};let n;return{get attrs(){return n||(n=gl(e))},slots:e.slots,emit:e.emit,expose:t}}function xr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(as(J1(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in un)return un[n](e)},has(t,n){return n in t||n in un}}))}function eo(e){return Ue(e)&&"__vccOpts"in e}const pn=(e,t)=>ji(e,t,bn),to=Symbol(""),no=()=>Dn(to),ao="3.2.47",ro="http://www.w3.org/2000/svg",Ot=typeof document<"u"?document:null,Jr=Ot&&Ot.createElement("template"),so={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const s=t?Ot.createElementNS(ro,e):Ot.createElement(e,n?{is:n}:void 0);return e==="select"&&a&&a.multiple!=null&&s.setAttribute("multiple",a.multiple),s},createText:e=>Ot.createTextNode(e),createComment:e=>Ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,s,l){const d=n?n.previousSibling:t.lastChild;if(s&&(s===l||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===l||!(s=s.nextSibling)););else{Jr.innerHTML=a?`<svg>${e}</svg>`:e;const c=Jr.content;if(a){const E=c.firstChild;for(;E.firstChild;)c.appendChild(E.firstChild);c.removeChild(E)}t.insertBefore(c,n)}return[d?d.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function io(e,t,n){const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function lo(e,t,n){const a=e.style,s=d0(n);if(n&&!s){if(t&&!d0(t))for(const l in t)n[l]==null&&Ja(a,l,"");for(const l in n)Ja(a,l,n[l])}else{const l=a.display;s?t!==n&&(a.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(a.display=l)}}const e1=/\s*!important$/;function Ja(e,t,n){if(qe(n))n.forEach(a=>Ja(e,t,a));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const a=oo(e,t);e1.test(n)?e.setProperty(zt(a),n.replace(e1,""),"important"):e[a]=n}}const t1=["Webkit","Moz","ms"],ya={};function oo(e,t){const n=ya[t];if(n)return n;let a=Kt(t);if(a!=="filter"&&a in e)return ya[t]=a;a=X1(a);for(let s=0;s<t1.length;s++){const l=t1[s]+a;if(l in e)return ya[t]=l}return t}const n1="http://www.w3.org/1999/xlink";function _o(e,t,n,a,s){if(a&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(n1,t.slice(6,t.length)):e.setAttributeNS(n1,t,n);else{const l=si(t);n==null||l&&!F1(n)?e.removeAttribute(t):e.setAttribute(t,l?"":n)}}function uo(e,t,n,a,s,l,d){if(t==="innerHTML"||t==="textContent"){a&&d(a,s,l),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const E=n??"";(e.value!==E||e.tagName==="OPTION")&&(e.value=E),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const E=typeof e[t];E==="boolean"?n=F1(n):n==null&&E==="string"?(n="",c=!0):E==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function fo(e,t,n,a){e.addEventListener(t,n,a)}function co(e,t,n,a){e.removeEventListener(t,n,a)}function vo(e,t,n,a,s=null){const l=e._vei||(e._vei={}),d=l[t];if(a&&d)d.value=a;else{const[c,E]=ho(t);if(a){const U=l[t]=po(a,s);fo(e,c,U,E)}else d&&(co(e,c,d,E),l[t]=void 0)}}const a1=/(?:Once|Passive|Capture)$/;function ho(e){let t;if(a1.test(e)){t={};let a;for(;a=e.match(a1);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):zt(e.slice(2)),t]}let Ta=0;const mo=Promise.resolve(),bo=()=>Ta||(mo.then(()=>Ta=0),Ta=Date.now());function po(e,t){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;V0(xo(a,n.value),t,5,[a])};return n.value=e,n.attached=bo(),n}function xo(e,t){if(qe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(a=>s=>!s._stopped&&a&&a(s))}else return t}const r1=/^on[a-z]/,So=(e,t,n,a,s=!1,l,d,c,E)=>{t==="class"?io(e,a,s):t==="style"?lo(e,n,a):Kn(t)?tr(t)||vo(e,t,n,a,d):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Mo(e,t,a,s))?uo(e,t,a,l,d,c,E):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),_o(e,t,a,s))};function Mo(e,t,n,a){return a?!!(t==="innerHTML"||t==="textContent"||t in e&&r1.test(t)&&Ue(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||r1.test(t)&&d0(n)?!1:t in e}const Ao={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};fl.props;const Eo=["ctrl","shift","alt","meta"],Ro={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Eo.some(n=>e[`${n}Key`]&&!t.includes(n))},M0=(e,t)=>(n,...a)=>{for(let s=0;s<t.length;s++){const l=Ro[t[s]];if(l&&l(n,t))return}return e(n,...a)},yo=p0({patchProp:So},so);let s1;function To(){return s1||(s1=kl(yo))}const wo=(...e)=>{const t=To().createApp(...e),{mount:n}=t;return t.mount=a=>{const s=Bo(a);if(!s)return;const l=t._component;!Ue(l)&&!l.render&&!l.template&&(l.template=s.innerHTML),s.innerHTML="";const d=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),d},t};function Bo(e){return d0(e)?document.querySelector(e):e}const An=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n},Io=e=>(Jn("data-v-a2e4adc4"),e=e(),ea(),e),Co=["onDrop"],Lo=["innerHTML"],Oo=Io(()=>Le("div",{class:"drag-label"},"Drop files here",-1)),No=["accept"],Fo={__name:"DragDropInput",props:{label:String,allowDrop:{type:Boolean,default:!0},singleFile:{type:Boolean,default:!1},extensions:String},emits:["upload"],setup(e,{emit:t}){const n=e,a=v0(0),s=pn(()=>n.allowDrop&&"draggable"in document.body&&"ondrag"in document.body&&"FileReader"in window),l=pn(()=>n.label?n.label:s.value?n.singleFile?"<b>Click to select a file</b> or drag it here":"<b>Click to select files</b> or drag them here":n.singleFile?"<b>Click to select a file</b>":"<b>Click to select files</b>");function d(o){const M=o.target.querySelector("input");M&&(M.value=null,M.click())}function c(o){t("upload",o.target.files)}function E(o){if(!(o.dataTransfer&&!o.dataTransfer.types.includes("Files")))if(o.type==="blur")a.value=0;else if(o.type==="drop")console.log("drop",o);else{const M=/enter|start/.test(o.type)&&1||/leave|end/.test(o.type)&&-1||0;a.value+=M}}function U(o){if(!s.value||o.dataTransfer&&!o.dataTransfer.types.includes("Files"))return;a.value-=1;let M=Array.from(o.dataTransfer.files);if(n.extensions){const j=n.extensions.split(",").map(z=>z.replace(/(^\.|\s+)/g,"")),K=new RegExp(`\\.(${j.join("|")})$`,"i");M=M.filter(z=>K.test(z.name))}M.length>0&&c({target:{files:M}})}const h=["dragenter","dragleave","dragstart","dragend","drop","drag"];return aa(()=>{if(s.value){window.addEventListener("blur",E),window.addEventListener("drop",E);for(const o of h)document.addEventListener(o,E)}}),ra(()=>{window.removeEventListener("blur",E),window.removeEventListener("drop",E);for(const o of h)document.removeEventListener(o,E)}),(o,M)=>(q0(),it("div",{class:Mn(["upload-area",{dragging:a.value>0,candrag:o0(s)}]),onClick:d,onDrop:M0(U,["prevent","stop"]),onDragover:M[0]||(M[0]=M0(()=>{},["prevent","stop"]))},[Le("span",{class:"upload-label",innerHTML:o0(l)},null,8,Lo),Oo,Le("input",{type:"file",accept:e.extensions,onInput:c},null,40,No)],42,Co))}},Ho=An(Fo,[["__scopeId","data-v-a2e4adc4"]]);const ko={__name:"SvgIcon",props:{name:String,size:{type:Number,default:16}},setup(e){const t=e,n=v0(null),a=pn(()=>{const s=`url('./icons/${t.name}.svg')`;return{width:t.size+"px",height:t.size+"px",backgroundColor:"currentColor",maskImage:s,"-webkit-mask-image":s}});return(s,l)=>(q0(),it("div",{class:"svg-icon",ref_key:"rootEl",ref:n,style:Sn(o0(a))},null,4))}},ht=An(ko,[["__scopeId","data-v-f53dc053"]]);function Is(e){for(const t of e){const n=`./icons/${t}.svg`,a=document.createElement("div");Object.assign(a.style,{position:"fixed",top:0,left:0,width:"50px",height:"50px",transform:"translateX(-100%)",background:`url(${n})`}),document.body.append(a)}}const Vo=e=>(Jn("data-v-4bdc06ad"),e=e(),ea(),e),Po=Vo(()=>Le("div",{class:"spacer"},null,-1)),Do={class:"slider__anim-container absolute"},Xo=["onMousedown"],$o=["onMousedown"],Yo={__name:"VolumeButton",props:{value:{type:Number,default:1},muted:{type:Boolean,default:!1},size:{type:Number,default:40}},emits:["update:value","update:muted"],setup(e,{emit:t}){const n=e,a=v0(null),s=v0(null),l=v0("volume-high"),d=v0(0),c=v0(!1);function E(o){if(!s.value)return n.value;const M=s.value.getBoundingClientRect(),j=(o-M.x)/M.width,K=o<M.x||o>=M.x+M.width;return{pct:Math.max(0,Math.min(j,1)),raw:j,overflown:K}}function U(o){const M=E(o.clientX);if(o.target!==a.value&&M.overflown)return;t("update:value",M.pct);const j=++d.value;c.value=!0;const K=T=>{const p=E(T.clientX);t("update:value",p.pct)},z=T=>{T.which===1&&G()},G=()=>{window.removeEventListener("mousemove",K,{capture:!0,passive:!0}),window.removeEventListener("blur",G),window.removeEventListener("mouseup",z),setTimeout(()=>{d.value===j&&(c.value=!1)},1e3)};window.addEventListener("mousemove",K,{capture:!0,passive:!0}),window.addEventListener("blur",G,{once:!0}),window.addEventListener("mouseup",z)}const h=[{icon:"volume-high",level:.33},{icon:"volume-medium",level:Number.EPSILON},{icon:"volume-low",level:0},{icon:"volume-off",level:-1}];return j0(()=>[n.value,n.muted],()=>{if(n.muted)l.value="volume-off";else{const o=h.find(({level:M})=>M<=n.value);o&&(l.value=o.icon)}},{immediate:!0}),Is(h.map(({icon:o})=>o)),(o,M)=>(q0(),it("div",{class:Mn(["root row relative",{sliding:c.value}])},[Le("button",{class:"icon",onClick:M[0]||(M[0]=j=>o.$emit("update:muted",!n.muted))},[f0(ht,{name:l.value,size:e.size},null,8,["name","size"])]),Po,Le("div",Do,[Le("div",{class:"slider__container",style:Sn({"--progress":e.value})},[Le("div",{class:"slider__track",ref_key:"sliderTrackEl",ref:s,onMousedown:M0(U,["left"])},null,40,Xo),Le("div",{class:"slider__button",ref_key:"sliderButtonEl",ref:a,onMousedown:M0(U,["left"])},null,40,$o)],4)])],2))}},qo=An(Yo,[["__scopeId","data-v-4bdc06ad"]]);const at=e=>(Jn("data-v-b03ae491"),e=e(),ea(),e),Uo={class:"column"},Go={class:"row items-center"},Ko=at(()=>Le("span",null,":",-1)),jo=at(()=>Le("span",null,".",-1)),Wo={class:"column m-l-1"},zo=at(()=>Le("div",{class:"arrow-up"},null,-1)),Zo=[zo],Qo=at(()=>Le("div",{class:"arrow-down"},null,-1)),go=[Qo],Jo=at(()=>Le("span",{class:"font-12"},"Start",-1)),e2={class:"column m-l-3"},t2={class:"row items-center"},n2=at(()=>Le("span",null,":",-1)),a2=at(()=>Le("span",null,".",-1)),r2={class:"column m-l-1"},s2=at(()=>Le("div",{class:"arrow-up"},null,-1)),i2=[s2],l2=at(()=>Le("div",{class:"arrow-down"},null,-1)),o2=[l2],_2=at(()=>Le("span",{class:"font-12"},"End",-1)),u2={__name:"TimeTrimInput",props:{start:{type:Number,default:0},end:{type:Number,default:1/0},duration:{type:Number,default:0}},emits:["update:start","update:end"],setup(e,{emit:t}){const n=e,a=v0(null),s=v0(null);function l(h){if(typeof h=="number"){const o=["mm","ss","ms"][h%3],j=`[trim-${h<=2?"start":"end"}][${o}]`,K=s.value.querySelector(j);K&&(a.value=h,h=K)}if(h){if(window.getSelection&&document.createRange){const o=document.createRange();o.selectNodeContents(h);const M=window.getSelection();M.removeAllRanges(),M.addRange(o)}else if(document.selection&&document.body.createTextRange){const o=document.body.createTextRange();o.moveToElementText(h),o.select()}}}function d(h){const o=(h-Math.floor(h))*1e3,M=Math.floor(h%60),j=Math.floor(h/60);return{ms:o,ss:M,mm:j}}function c(h,o){h==="start"&&a.value>2?a.value=2:h==="end"&&a.value<=2&&(a.value=5);let M=a.value;(typeof M!="number"||Number.isNaN(M))&&(M=h==="start"&&2||h==="end"&&5);const j=[60,1,.01][M%3]*o,K=M<=2?n.start:n.end,z=Math.min(n.duration,M<=2?n.end:n.duration),G=M<=2?0:n.start,T=Math.max(G,Math.min(K+j,z));l(M),t(`update:${M<=2?"start":"end"}`,T),hr().then(()=>l(a.value))}function E(h,o){!o.ctrlKey&&!o.shiftKey&&!o.altKey&&Math.abs(o.deltaY)>.1&&(a.value=h,c(h<=2?"start":"end",o.deltaY>0?-1:1),o.preventDefault(),o.stopPropagation())}const U=pn(()=>{const h=d(Math.max(0,n.start)),o=d(Math.min(n.duration,n.end));return[[h.mm,h.ss,Math.round(h.ms/10)],[o.mm,o.ss,Math.round(o.ms/10)]].map(M=>M.map(j=>String(j).padStart(2,"0")))});return j0(a,h=>{h!==null&&l(h)}),(h,o)=>(q0(),it("div",{class:"row root items-center",ref_key:"rootEl",ref:s},[Le("div",Uo,[Le("div",Go,[Le("span",{"trim-start":"",mm:"",onMousedown:o[0]||(o[0]=M0(M=>l(0),["left","prevent","stop"])),onWheel:o[1]||(o[1]=M=>E(0,M))},Y0(o0(U)[0][0]),33),Ko,Le("span",{"trim-start":"",ss:"",onMousedown:o[2]||(o[2]=M0(M=>l(1),["left","prevent","stop"])),onWheel:o[3]||(o[3]=M=>E(1,M))},Y0(o0(U)[0][1]),33),jo,Le("span",{"trim-start":"",ms:"",onMousedown:o[4]||(o[4]=M0(M=>l(2),["left","prevent","stop"])),onWheel:o[5]||(o[5]=M=>E(2,M))},Y0(o0(U)[0][2]),33),Le("div",Wo,[Le("div",{class:"arrow-up__container",onClick:o[6]||(o[6]=M0(M=>c("start",1),["prevent","stop"]))},Zo),Le("div",{class:"arrow-down__container",onClick:o[7]||(o[7]=M0(M=>c("start",-1),["prevent","stop"]))},go)])]),Jo]),Le("div",e2,[Le("div",t2,[Le("span",{"trim-end":"",mm:"",onMousedown:o[8]||(o[8]=M0(M=>l(3),["left","prevent","stop"])),onWheel:o[9]||(o[9]=M=>E(3,M))},Y0(o0(U)[1][0]),33),n2,Le("span",{"trim-end":"",ss:"",onMousedown:o[10]||(o[10]=M0(M=>l(4),["left","prevent","stop"])),onWheel:o[11]||(o[11]=M=>E(4,M))},Y0(o0(U)[1][1]),33),a2,Le("span",{"trim-end":"",ms:"",onMousedown:o[12]||(o[12]=M0(M=>l(5),["left","prevent","stop"])),onWheel:o[13]||(o[13]=M=>E(5,M))},Y0(o0(U)[1][2]),33),Le("div",r2,[Le("div",{class:"arrow-up__container",onClick:o[14]||(o[14]=M0(M=>c("end",1),["prevent","stop"]))},i2),Le("div",{class:"arrow-down__container",onClick:o[15]||(o[15]=M0(M=>c("end",-1),["prevent","stop"]))},o2)])]),_2])],512))}},f2=An(u2,[["__scopeId","data-v-b03ae491"]]);function i1(e,t,n){if(!("localStorage"in globalThis))return v0(e);let a=e,s=localStorage.getItem(t);s!==null&&typeof n=="function"&&(s=n(s)),s!==null&&(a=s);const l=v0(a);return j0(()=>l.value,()=>{localStorage.setItem(t,l.value)}),l}var Sr={};function c2(e){return new Int8Array(e)}function Cs(e){return new Int16Array(e)}function Ls(e){return new Int32Array(e)}function Os(e){return new Float32Array(e)}function v2(e){return new Float64Array(e)}function Ns(e){if(e.length==1)return Os(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(Ns(e));return n}function Fs(e){if(e.length==1)return Ls(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(Fs(e));return n}function Hs(e){if(e.length==1)return Cs(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(Hs(e));return n}function ks(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(ks(e));return n}var Vs={};Vs.fill=function(e,t,n,a){if(arguments.length==2)for(var s=0;s<e.length;s++)e[s]=arguments[1];else for(var s=t;s<n;s++)e[s]=a};var En={};En.arraycopy=function(e,t,n,a,s){for(var l=t+s;t<l;)n[a++]=e[t++]};En.out={};En.out.println=function(e){console.log(e)};En.out.printf=function(){console.log.apply(console,arguments)};var la={};la.SQRT2=1.4142135623730951;la.FAST_LOG10=function(e){return Math.log10(e)};la.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function _t(e){this.ordinal=e}_t.short_block_allowed=new _t(0);_t.short_block_coupled=new _t(1);_t.short_block_dispensed=new _t(2);_t.short_block_forced=new _t(3);var Ps={};Ps.MAX_VALUE=34028235e31;function N0(e){this.ordinal=e}N0.vbr_off=new N0(0);N0.vbr_mt=new N0(1);N0.vbr_rh=new N0(2);N0.vbr_abr=new N0(3);N0.vbr_mtrh=new N0(4);N0.vbr_default=N0.vbr_mtrh;var h2=function(e){},n0={System:En,VbrMode:N0,Float:Ps,ShortBlock:_t,Util:la,Arrays:Vs,new_array_n:ks,new_byte:c2,new_double:v2,new_float:Os,new_float_n:Ns,new_int:Ls,new_int_n:Fs,new_short:Cs,new_short_n:Hs,assert:h2},wa,l1;function d2(){if(l1)return wa;l1=1;var e=n0,t=e.System,n=e.Util,a=e.Arrays,s=e.new_float,l=x0();function d(){var c=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],E=12,U=36,h=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],o=h[l.SHORT_TYPE],M=h[l.SHORT_TYPE],j=h[l.SHORT_TYPE],K=h[l.SHORT_TYPE],z=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function G(S,I,r){for(var b=10,F=I+238-14-286,D=-15;D<0;D++){var W,P,X;W=c[b+-10],P=S[F+-224]*W,X=S[I+224]*W,W=c[b+-9],P+=S[F+-160]*W,X+=S[I+160]*W,W=c[b+-8],P+=S[F+-96]*W,X+=S[I+96]*W,W=c[b+-7],P+=S[F+-32]*W,X+=S[I+32]*W,W=c[b+-6],P+=S[F+32]*W,X+=S[I+-32]*W,W=c[b+-5],P+=S[F+96]*W,X+=S[I+-96]*W,W=c[b+-4],P+=S[F+160]*W,X+=S[I+-160]*W,W=c[b+-3],P+=S[F+224]*W,X+=S[I+-224]*W,W=c[b+-2],P+=S[I+-256]*W,X-=S[F+256]*W,W=c[b+-1],P+=S[I+-192]*W,X-=S[F+192]*W,W=c[b+0],P+=S[I+-128]*W,X-=S[F+128]*W,W=c[b+1],P+=S[I+-64]*W,X-=S[F+64]*W,W=c[b+2],P+=S[I+0]*W,X-=S[F+0]*W,W=c[b+3],P+=S[I+64]*W,X-=S[F+-64]*W,W=c[b+4],P+=S[I+128]*W,X-=S[F+-128]*W,W=c[b+5],P+=S[I+192]*W,X-=S[F+-192]*W,P*=c[b+6],W=X-P,r[30+D*2]=X+P,r[31+D*2]=c[b+7]*W,b+=18,I--,F++}{var P,X,de,C;X=S[I+-16]*c[b+-10],P=S[I+-32]*c[b+-2],X+=(S[I+-48]-S[I+16])*c[b+-9],P+=S[I+-96]*c[b+-1],X+=(S[I+-80]+S[I+48])*c[b+-8],P+=S[I+-160]*c[b+0],X+=(S[I+-112]-S[I+80])*c[b+-7],P+=S[I+-224]*c[b+1],X+=(S[I+-144]+S[I+112])*c[b+-6],P-=S[I+32]*c[b+2],X+=(S[I+-176]-S[I+144])*c[b+-5],P-=S[I+96]*c[b+3],X+=(S[I+-208]+S[I+176])*c[b+-4],P-=S[I+160]*c[b+4],X+=(S[I+-240]-S[I+208])*c[b+-3],P-=S[I+224],de=P-X,C=P+X,X=r[14],P=r[15]-X,r[31]=C+X,r[30]=de+P,r[15]=de-P,r[14]=C-X}{var _;_=r[28]-r[0],r[0]+=r[28],r[28]=_*c[b+-2*18+7],_=r[29]-r[1],r[1]+=r[29],r[29]=_*c[b+-2*18+7],_=r[26]-r[2],r[2]+=r[26],r[26]=_*c[b+-4*18+7],_=r[27]-r[3],r[3]+=r[27],r[27]=_*c[b+-4*18+7],_=r[24]-r[4],r[4]+=r[24],r[24]=_*c[b+-6*18+7],_=r[25]-r[5],r[5]+=r[25],r[25]=_*c[b+-6*18+7],_=r[22]-r[6],r[6]+=r[22],r[22]=_*n.SQRT2,_=r[23]-r[7],r[7]+=r[23],r[23]=_*n.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],_=r[6],r[6]=r[31]-_,r[31]=r[31]+_,_=r[7],r[7]=r[30]-_,r[30]=r[30]+_,_=r[22],r[22]=r[15]-_,r[15]=r[15]+_,_=r[23],r[23]=r[14]-_,r[14]=r[14]+_,_=r[20]-r[8],r[8]+=r[20],r[20]=_*c[b+-10*18+7],_=r[21]-r[9],r[9]+=r[21],r[21]=_*c[b+-10*18+7],_=r[18]-r[10],r[10]+=r[18],r[18]=_*c[b+-12*18+7],_=r[19]-r[11],r[11]+=r[19],r[19]=_*c[b+-12*18+7],_=r[16]-r[12],r[12]+=r[16],r[16]=_*c[b+-14*18+7],_=r[17]-r[13],r[13]+=r[17],r[17]=_*c[b+-14*18+7],_=-r[20]+r[24],r[20]+=r[24],r[24]=_*c[b+-12*18+7],_=-r[21]+r[25],r[21]+=r[25],r[25]=_*c[b+-12*18+7],_=r[4]-r[8],r[4]+=r[8],r[8]=_*c[b+-12*18+7],_=r[5]-r[9],r[5]+=r[9],r[9]=_*c[b+-12*18+7],_=r[0]-r[12],r[0]+=r[12],r[12]=_*c[b+-4*18+7],_=r[1]-r[13],r[1]+=r[13],r[13]=_*c[b+-4*18+7],_=r[16]-r[28],r[16]+=r[28],r[28]=_*c[b+-4*18+7],_=-r[17]+r[29],r[17]+=r[29],r[29]=_*c[b+-4*18+7],_=n.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=_,_=n.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=_,_=n.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=_-r[18],_=n.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=_-r[19],_=r[2],r[19]-=r[3],r[3]-=_,r[2]=r[31]-_,r[31]+=_,_=r[3],r[11]-=r[19],r[18]-=_,r[3]=r[30]-_,r[30]+=_,_=r[18],r[27]-=r[11],r[19]-=_,r[18]=r[15]-_,r[15]+=_,_=r[19],r[10]-=_,r[19]=r[14]-_,r[14]+=_,_=r[10],r[11]-=_,r[10]=r[23]-_,r[23]+=_,_=r[11],r[26]-=_,r[11]=r[22]-_,r[22]+=_,_=r[26],r[27]-=_,r[26]=r[7]-_,r[7]+=_,_=r[27],r[27]=r[6]-_,r[6]+=_,_=n.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=_,_=n.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=_,_=n.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=_,_=n.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=_,_=-n.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=_-r[8],_=-n.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=_-r[9],_=-n.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=_-r[25],_=-n.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=_-r[24],_=r[24]-r[16],r[24]=_,_=r[20]-_,r[20]=_,_=r[28]-_,r[28]=_,_=r[25]-r[17],r[25]=_,_=r[21]-_,r[21]=_,_=r[29]-_,r[29]=_,_=r[17]-r[1],r[17]=_,_=r[9]-_,r[9]=_,_=r[25]-_,r[25]=_,_=r[5]-_,r[5]=_,_=r[21]-_,r[21]=_,_=r[13]-_,r[13]=_,_=r[29]-_,r[29]=_,_=r[1]-r[0],r[1]=_,_=r[16]-_,r[16]=_,_=r[17]-_,r[17]=_,_=r[8]-_,r[8]=_,_=r[9]-_,r[9]=_,_=r[24]-_,r[24]=_,_=r[25]-_,r[25]=_,_=r[4]-_,r[4]=_,_=r[5]-_,r[5]=_,_=r[20]-_,r[20]=_,_=r[21]-_,r[21]=_,_=r[12]-_,r[12]=_,_=r[13]-_,r[13]=_,_=r[28]-_,r[28]=_,_=r[29]-_,r[29]=_,_=r[0],r[0]+=r[31],r[31]-=_,_=r[1],r[1]+=r[30],r[30]-=_,_=r[16],r[16]+=r[15],r[15]-=_,_=r[17],r[17]+=r[14],r[14]-=_,_=r[8],r[8]+=r[23],r[23]-=_,_=r[9],r[9]+=r[22],r[22]-=_,_=r[24],r[24]+=r[7],r[7]-=_,_=r[25],r[25]+=r[6],r[6]-=_,_=r[4],r[4]+=r[27],r[27]-=_,_=r[5],r[5]+=r[26],r[26]-=_,_=r[20],r[20]+=r[11],r[11]-=_,_=r[21],r[21]+=r[10],r[10]-=_,_=r[12],r[12]+=r[19],r[19]-=_,_=r[13],r[13]+=r[18],r[18]-=_,_=r[28],r[28]+=r[3],r[3]-=_,_=r[29],r[29]+=r[2],r[2]-=_}}function T(S,I){for(var r=0;r<3;r++){var b,F,D,W,P,X;W=S[I+2*3]*h[l.SHORT_TYPE][0]-S[I+5*3],b=S[I+0*3]*h[l.SHORT_TYPE][2]-S[I+3*3],F=W+b,D=W-b,W=S[I+5*3]*h[l.SHORT_TYPE][0]+S[I+2*3],b=S[I+3*3]*h[l.SHORT_TYPE][2]+S[I+0*3],P=W+b,X=-W+b,b=(S[I+1*3]*h[l.SHORT_TYPE][1]-S[I+4*3])*2069978111953089e-26,W=(S[I+4*3]*h[l.SHORT_TYPE][1]+S[I+1*3])*2069978111953089e-26,S[I+3*0]=F*190752519173728e-25+b,S[I+3*5]=-P*190752519173728e-25+W,D=D*.8660254037844387*1907525191737281e-26,P=P*.5*1907525191737281e-26+W,S[I+3*1]=D-P,S[I+3*2]=D+P,F=F*.5*1907525191737281e-26-b,X=X*.8660254037844387*1907525191737281e-26,S[I+3*3]=F+X,S[I+3*4]=F-X,I++}}function p(S,I,r){var b,F;{var D,W,P,X,de,C,_,y;D=r[17]-r[9],P=r[15]-r[11],X=r[14]-r[12],de=r[0]+r[8],C=r[1]+r[7],_=r[2]+r[6],y=r[3]+r[5],S[I+17]=de+_-y-(C-r[4]),F=(de+_-y)*M[12+7]+(C-r[4]),b=(D-P-X)*M[12+6],S[I+5]=b+F,S[I+6]=b-F,W=(r[16]-r[10])*M[12+6],C=C*M[12+7]+r[4],b=D*M[12+0]+W+P*M[12+1]+X*M[12+2],F=-de*M[12+4]+C-_*M[12+5]+y*M[12+3],S[I+1]=b+F,S[I+2]=b-F,b=D*M[12+1]-W-P*M[12+2]+X*M[12+0],F=-de*M[12+5]+C-_*M[12+3]+y*M[12+4],S[I+9]=b+F,S[I+10]=b-F,b=D*M[12+2]-W+P*M[12+0]-X*M[12+1],F=de*M[12+3]-C+_*M[12+4]-y*M[12+5],S[I+13]=b+F,S[I+14]=b-F}{var w,V,O,Q,k,m,u,f;w=r[8]-r[0],O=r[6]-r[2],Q=r[5]-r[3],k=r[17]+r[9],m=r[16]+r[10],u=r[15]+r[11],f=r[14]+r[12],S[I+0]=k+u+f+(m+r[13]),b=(k+u+f)*M[12+7]-(m+r[13]),F=(w-O+Q)*M[12+6],S[I+11]=b+F,S[I+12]=b-F,V=(r[7]-r[1])*M[12+6],m=r[13]-m*M[12+7],b=k*M[12+3]-m+u*M[12+4]+f*M[12+5],F=w*M[12+2]+V+O*M[12+0]+Q*M[12+1],S[I+3]=b+F,S[I+4]=b-F,b=-k*M[12+5]+m-u*M[12+3]-f*M[12+4],F=w*M[12+1]+V-O*M[12+2]-Q*M[12+0],S[I+7]=b+F,S[I+8]=b-F,b=-k*M[12+4]+m-u*M[12+5]-f*M[12+3],F=w*M[12+0]-V+O*M[12+1]-Q*M[12+2],S[I+15]=b+F,S[I+16]=b-F}}this.mdct_sub48=function(S,I,r){for(var b=I,F=286,D=0;D<S.channels_out;D++){for(var W=0;W<S.mode_gr;W++){for(var P,X=S.l3_side.tt[W][D],de=X.xr,C=0,_=S.sb_sample[D][1-W],y=0,w=0;w<18/2;w++)for(G(b,F,_[y]),G(b,F+32,_[y+1]),y+=2,F+=64,P=1;P<32;P+=2)_[y-1][P]*=-1;for(P=0;P<32;P++,C+=18){var V=X.block_type,O=S.sb_sample[D][W],Q=S.sb_sample[D][1-W];if(X.mixed_block_flag!=0&&P<2&&(V=0),S.amp_filter[P]<1e-12)a.fill(de,C+0,C+18,0);else{if(S.amp_filter[P]<1)for(var w=0;w<18;w++)Q[w][z[P]]*=S.amp_filter[P];if(V==l.SHORT_TYPE){for(var w=-E/4;w<0;w++){var k=h[l.SHORT_TYPE][w+3];de[C+w*3+9]=O[9+w][z[P]]*k-O[8-w][z[P]],de[C+w*3+18]=O[14-w][z[P]]*k+O[15+w][z[P]],de[C+w*3+10]=O[15+w][z[P]]*k-O[14-w][z[P]],de[C+w*3+19]=Q[2-w][z[P]]*k+Q[3+w][z[P]],de[C+w*3+11]=Q[3+w][z[P]]*k-Q[2-w][z[P]],de[C+w*3+20]=Q[8-w][z[P]]*k+Q[9+w][z[P]]}T(de,C)}else{for(var m=s(18),w=-U/4;w<0;w++){var u,f;u=h[V][w+27]*Q[w+9][z[P]]+h[V][w+36]*Q[8-w][z[P]],f=h[V][w+9]*O[w+9][z[P]]-h[V][w+18]*O[8-w][z[P]],m[w+9]=u-f*o[3+w+9],m[w+18]=u*o[3+w+9]+f}p(de,C,m)}}if(V!=l.SHORT_TYPE&&P!=0)for(var w=7;w>=0;--w){var x,B;x=de[C+w]*j[20+w]+de[C+-1-w]*K[28+w],B=de[C+w]*K[28+w]-de[C+-1-w]*j[20+w],de[C+-1-w]=x,de[C+w]=B}}}if(b=r,F=286,S.mode_gr==1)for(var g=0;g<18;g++)t.arraycopy(S.sb_sample[D][1][g],0,S.sb_sample[D][0][g],0,32)}}}return wa=d,wa}var Ba,o1;function Ds(){if(o1)return Ba;o1=1;var e=x0(),t=n0,n=t.System,a=t.new_float,s=t.new_float_n;function l(){this.l=a(e.SBMAX_l),this.s=s([e.SBMAX_s,3]);var d=this;this.assign=function(c){n.arraycopy(c.l,0,d.l,0,e.SBMAX_l);for(var E=0;E<e.SBMAX_s;E++)for(var U=0;U<3;U++)d.s[E][U]=c.s[E][U]}}return Ba=l,Ba}var Ia,_1;function m2(){if(_1)return Ia;_1=1;var e=Ds();function t(){this.thm=new e,this.en=new e}return Ia=t,Ia}function Q0(e){var t=e;this.ordinal=function(){return t}}Q0.STEREO=new Q0(0);Q0.JOINT_STEREO=new Q0(1);Q0.DUAL_CHANNEL=new Q0(2);Q0.MONO=new Q0(3);Q0.NOT_SET=new Q0(4);var Rn=Q0,Ca,u1;function x0(){if(u1)return Ca;u1=1;var e=n0,t=e.System,n=e.VbrMode,a=e.new_array_n,s=e.new_float,l=e.new_float_n,d=e.new_int,c=e.assert;E.ENCDELAY=576,E.POSTDELAY=1152,E.MDCTDELAY=48,E.FFTOFFSET=224+E.MDCTDELAY,E.DECDELAY=528,E.SBLIMIT=32,E.CBANDS=64,E.SBPSY_l=21,E.SBPSY_s=12,E.SBMAX_l=22,E.SBMAX_s=13,E.PSFB21=6,E.PSFB12=6,E.BLKSIZE=1024,E.HBLKSIZE=E.BLKSIZE/2+1,E.BLKSIZE_s=256,E.HBLKSIZE_s=E.BLKSIZE_s/2+1,E.NORM_TYPE=0,E.START_TYPE=1,E.SHORT_TYPE=2,E.STOP_TYPE=3,E.MPG_MD_LR_LR=0,E.MPG_MD_LR_I=1,E.MPG_MD_MS_LR=2,E.MPG_MD_MS_I=3,E.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function E(){var U=d2(),h=m2(),o=Rn,M=E.FFTOFFSET,j=E.MPG_MD_MS_LR,K=null;this.psy=null;var z=null,G=null,T=null;this.setModules=function(b,F,D,W){K=b,this.psy=F,z=F,G=W,T=D};var p=new U;function S(b){var F,D;if(b.ATH.useAdjust==0){b.ATH.adjust=1;return}if(D=b.loudness_sq[0][0],F=b.loudness_sq[1][0],b.channels_out==2?(D+=b.loudness_sq[0][1],F+=b.loudness_sq[1][1]):(D+=D,F+=F),b.mode_gr==2&&(D=Math.max(D,F)),D*=.5,D*=b.ATH.aaSensitivityP,D>.03125)b.ATH.adjust>=1?b.ATH.adjust=1:b.ATH.adjust<b.ATH.adjustLimit&&(b.ATH.adjust=b.ATH.adjustLimit),b.ATH.adjustLimit=1;else{var W=31.98*D+625e-6;b.ATH.adjust>=W?(b.ATH.adjust*=W*.075+.925,b.ATH.adjust<W&&(b.ATH.adjust=W)):b.ATH.adjustLimit>=W?b.ATH.adjust=W:b.ATH.adjust<b.ATH.adjustLimit&&(b.ATH.adjust=b.ATH.adjustLimit),b.ATH.adjustLimit=W}}function I(b){var F,D;for(c(0<=b.bitrate_index&&b.bitrate_index<16),c(0<=b.mode_ext&&b.mode_ext<4),b.bitrate_stereoMode_Hist[b.bitrate_index][4]++,b.bitrate_stereoMode_Hist[15][4]++,b.channels_out==2&&(b.bitrate_stereoMode_Hist[b.bitrate_index][b.mode_ext]++,b.bitrate_stereoMode_Hist[15][b.mode_ext]++),F=0;F<b.mode_gr;++F)for(D=0;D<b.channels_out;++D){var W=b.l3_side.tt[F][D].block_type|0;b.l3_side.tt[F][D].mixed_block_flag!=0&&(W=4),b.bitrate_blockType_Hist[b.bitrate_index][W]++,b.bitrate_blockType_Hist[b.bitrate_index][5]++,b.bitrate_blockType_Hist[15][W]++,b.bitrate_blockType_Hist[15][5]++}}function r(b,F){var D=b.internal_flags,W,P;if(D.lame_encode_frame_init==0){var X,de,C=s(2014),_=s(286+1152+576);for(D.lame_encode_frame_init=1,X=0,de=0;X<286+576*(1+D.mode_gr);++X)X<576*D.mode_gr?(C[X]=0,D.channels_out==2&&(_[X]=0)):(C[X]=F[0][de],D.channels_out==2&&(_[X]=F[1][de]),++de);for(P=0;P<D.mode_gr;P++)for(W=0;W<D.channels_out;W++)D.l3_side.tt[P][W].block_type=E.SHORT_TYPE;p.mdct_sub48(D,C,_),c(576>=E.FFTOFFSET),c(D.mf_size>=E.BLKSIZE+b.framesize-E.FFTOFFSET),c(D.mf_size>=512+b.framesize-32)}}this.lame_encode_mp3_frame=function(b,F,D,W,P,X){var de,C=a([2,2]);C[0][0]=new h,C[0][1]=new h,C[1][0]=new h,C[1][1]=new h;var _=a([2,2]);_[0][0]=new h,_[0][1]=new h,_[1][0]=new h,_[1][1]=new h;var y,w=[null,null],V=b.internal_flags,O=l([2,4]),Q=[.5,.5],k=[[0,0],[0,0]],m=[[0,0],[0,0]],u,f,x;if(w[0]=F,w[1]=D,V.lame_encode_frame_init==0&&r(b,w),V.padding=0,(V.slot_lag-=V.frac_SpF)<0&&(V.slot_lag+=b.out_samplerate,V.padding=1),V.psymodel!=0){var B,g=[null,null],oe=0,q=d(2);for(x=0;x<V.mode_gr;x++){for(f=0;f<V.channels_out;f++)g[f]=w[f],oe=576+x*576-E.FFTOFFSET;if(b.VBR==n.vbr_mtrh||b.VBR==n.vbr_mt?B=z.L3psycho_anal_vbr(b,g,oe,x,C,_,k[x],m[x],O[x],q):B=z.L3psycho_anal_ns(b,g,oe,x,C,_,k[x],m[x],O[x],q),B!=0)return-4;for(b.mode==o.JOINT_STEREO&&(Q[x]=O[x][2]+O[x][3],Q[x]>0&&(Q[x]=O[x][3]/Q[x])),f=0;f<V.channels_out;f++){var ne=V.l3_side.tt[x][f];ne.block_type=q[f],ne.mixed_block_flag=0}}}else for(x=0;x<V.mode_gr;x++)for(f=0;f<V.channels_out;f++)V.l3_side.tt[x][f].block_type=E.NORM_TYPE,V.l3_side.tt[x][f].mixed_block_flag=0,m[x][f]=k[x][f]=700;if(S(V),p.mdct_sub48(V,w[0],w[1]),V.mode_ext=E.MPG_MD_LR_LR,b.force_ms)V.mode_ext=E.MPG_MD_MS_LR;else if(b.mode==o.JOINT_STEREO){var ve=0,ye=0;for(x=0;x<V.mode_gr;x++)for(f=0;f<V.channels_out;f++)ve+=m[x][f],ye+=k[x][f];if(ve<=1*ye){var L=V.l3_side.tt[0],$=V.l3_side.tt[V.mode_gr-1];L[0].block_type==L[1].block_type&&$[0].block_type==$[1].block_type&&(V.mode_ext=E.MPG_MD_MS_LR)}}if(V.mode_ext==j?(y=_,u=m):(y=C,u=k),b.analysis&&V.pinfo!=null)for(x=0;x<V.mode_gr;x++)for(f=0;f<V.channels_out;f++)V.pinfo.ms_ratio[x]=V.ms_ratio[x],V.pinfo.ms_ener_ratio[x]=Q[x],V.pinfo.blocktype[x][f]=V.l3_side.tt[x][f].block_type,V.pinfo.pe[x][f]=u[x][f],t.arraycopy(V.l3_side.tt[x][f].xr,0,V.pinfo.xr[x][f],0,576),V.mode_ext==j&&(V.pinfo.ers[x][f]=V.pinfo.ers[x][f+2],t.arraycopy(V.pinfo.energy[x][f+2],0,V.pinfo.energy[x][f],0,V.pinfo.energy[x][f].length));if(b.VBR==n.vbr_off||b.VBR==n.vbr_abr){var Z,ae;for(Z=0;Z<18;Z++)V.nsPsy.pefirbuf[Z]=V.nsPsy.pefirbuf[Z+1];for(ae=0,x=0;x<V.mode_gr;x++)for(f=0;f<V.channels_out;f++)ae+=u[x][f];for(V.nsPsy.pefirbuf[18]=ae,ae=V.nsPsy.pefirbuf[9],Z=0;Z<9;Z++)ae+=(V.nsPsy.pefirbuf[Z]+V.nsPsy.pefirbuf[18-Z])*E.fircoef[Z];for(ae=670*5*V.mode_gr*V.channels_out/ae,x=0;x<V.mode_gr;x++)for(f=0;f<V.channels_out;f++)u[x][f]*=ae}if(V.iteration_loop.iteration_loop(b,u,Q,y),K.format_bitstream(b),de=K.copy_buffer(V,W,P,X,1),b.bWriteVbrTag&&G.addVbrFrame(b),b.analysis&&V.pinfo!=null){for(f=0;f<V.channels_out;f++){var ie;for(ie=0;ie<M;ie++)V.pinfo.pcmdata[f][ie]=V.pinfo.pcmdata[f][ie+b.framesize];for(ie=M;ie<1600;ie++)V.pinfo.pcmdata[f][ie]=w[f][ie-M]}T.set_frame_pinfo(b,y)}return I(V),de}}return Ca=E,Ca}var Xs=n0,f1=Xs.Util,c1=Xs.new_float,l0=x0();function b2(){var e=c1(l0.BLKSIZE),t=c1(l0.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function a(l,d,c){var E=0,U,h,o;c<<=1;var M=d+c;U=4;do{var j,K,z,G,T,p,S;S=U>>1,G=U,T=U<<1,p=T+G,U=T<<1,h=d,o=h+S;do{var I,r,b,F;r=l[h+0]-l[h+G],I=l[h+0]+l[h+G],F=l[h+T]-l[h+p],b=l[h+T]+l[h+p],l[h+T]=I-b,l[h+0]=I+b,l[h+p]=r-F,l[h+G]=r+F,r=l[o+0]-l[o+G],I=l[o+0]+l[o+G],F=f1.SQRT2*l[o+p],b=f1.SQRT2*l[o+T],l[o+T]=I-b,l[o+0]=I+b,l[o+p]=r-F,l[o+G]=r+F,o+=U,h+=U}while(h<M);for(K=n[E+0],j=n[E+1],z=1;z<S;z++){var D,W;D=1-2*j*j,W=2*j*K,h=d+z,o=d+G-z;do{var P,X,de,I,r,C,b,_,F,y;X=W*l[h+G]-D*l[o+G],P=D*l[h+G]+W*l[o+G],r=l[h+0]-P,I=l[h+0]+P,C=l[o+0]-X,de=l[o+0]+X,X=W*l[h+p]-D*l[o+p],P=D*l[h+p]+W*l[o+p],F=l[h+T]-P,b=l[h+T]+P,y=l[o+T]-X,_=l[o+T]+X,X=j*b-K*y,P=K*b+j*y,l[h+T]=I-P,l[h+0]=I+P,l[o+p]=C-X,l[o+G]=C+X,X=K*_-j*F,P=j*_+K*F,l[o+T]=de-P,l[o+0]=de+P,l[h+p]=r-X,l[h+G]=r+X,o+=U,h+=U}while(h<M);D=K,K=D*n[E+0]-j*n[E+1],j=D*n[E+1]+j*n[E+0]}E+=2}while(U<c)}var s=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(l,d,c,E,U){for(var h=0;h<3;h++){var o=l0.BLKSIZE_s/2,M=65535&576/3*(h+1),j=l0.BLKSIZE_s/8-1;do{var K,z,G,T,p,S=s[j<<2]&255;K=t[S]*E[c][U+S+M],p=t[127-S]*E[c][U+S+M+128],z=K-p,K=K+p,G=t[S+64]*E[c][U+S+M+64],p=t[63-S]*E[c][U+S+M+192],T=G-p,G=G+p,o-=4,d[h][o+0]=K+G,d[h][o+2]=K-G,d[h][o+1]=z+T,d[h][o+3]=z-T,K=t[S+1]*E[c][U+S+M+1],p=t[126-S]*E[c][U+S+M+129],z=K-p,K=K+p,G=t[S+65]*E[c][U+S+M+65],p=t[62-S]*E[c][U+S+M+193],T=G-p,G=G+p,d[h][o+l0.BLKSIZE_s/2+0]=K+G,d[h][o+l0.BLKSIZE_s/2+2]=K-G,d[h][o+l0.BLKSIZE_s/2+1]=z+T,d[h][o+l0.BLKSIZE_s/2+3]=z-T}while(--j>=0);a(d[h],o,l0.BLKSIZE_s/2)}},this.fft_long=function(l,d,c,E,U){var h=l0.BLKSIZE/8-1,o=l0.BLKSIZE/2;do{var M,j,K,z,G,T=s[h]&255;M=e[T]*E[c][U+T],G=e[T+512]*E[c][U+T+512],j=M-G,M=M+G,K=e[T+256]*E[c][U+T+256],G=e[T+768]*E[c][U+T+768],z=K-G,K=K+G,o-=4,d[o+0]=M+K,d[o+2]=M-K,d[o+1]=j+z,d[o+3]=j-z,M=e[T+1]*E[c][U+T+1],G=e[T+513]*E[c][U+T+513],j=M-G,M=M+G,K=e[T+257]*E[c][U+T+257],G=e[T+769]*E[c][U+T+769],z=K-G,K=K+G,d[o+l0.BLKSIZE/2+0]=M+K,d[o+l0.BLKSIZE/2+2]=M-K,d[o+l0.BLKSIZE/2+1]=j+z,d[o+l0.BLKSIZE/2+3]=j-z}while(--h>=0);a(d,o,l0.BLKSIZE/2)},this.init_fft=function(l){for(var d=0;d<l0.BLKSIZE;d++)e[d]=.42-.5*Math.cos(2*Math.PI*(d+.5)/l0.BLKSIZE)+.08*Math.cos(4*Math.PI*(d+.5)/l0.BLKSIZE);for(var d=0;d<l0.BLKSIZE_s/2;d++)t[d]=.5*(1-Math.cos(2*Math.PI*(d+.5)/l0.BLKSIZE_s))}}var p2=b2,ft=n0,Vt=ft.VbrMode,v1=ft.Float,Pt=ft.ShortBlock,R0=ft.Util,x2=ft.Arrays,_0=ft.new_float,H0=ft.new_float_n,Rt=ft.new_int,De=ft.assert,S2=p2,ce=x0();function M2(){var e=Rn,t=new S2,n=2.302585092994046,a=2,s=16,l=2,d=16,c=.34,E=1/(14752*14752)/(ce.BLKSIZE/2),U=.01,h=.8,o=.6,M=.3,j=3.5,K=21,z=.2302585093;function G(A){return A}function T(A,R){for(var H=0,Y=0;Y<ce.BLKSIZE/2;++Y)H+=A[Y]*R.ATH.eql_w[Y];return H*=E,H}function p(A,R,H,Y,J,N,ee,se,te,ue,le){var fe=A.internal_flags;if(te<2)t.fft_long(fe,Y[J],te,ue,le),t.fft_short(fe,N[ee],te,ue,le);else if(te==2){for(var Be=ce.BLKSIZE-1;Be>=0;--Be){var ke=Y[J+0][Be],Me=Y[J+1][Be];Y[J+0][Be]=(ke+Me)*R0.SQRT2*.5,Y[J+1][Be]=(ke-Me)*R0.SQRT2*.5}for(var He=2;He>=0;--He)for(var Be=ce.BLKSIZE_s-1;Be>=0;--Be){var ke=N[ee+0][He][Be],Me=N[ee+1][He][Be];N[ee+0][He][Be]=(ke+Me)*R0.SQRT2*.5,N[ee+1][He][Be]=(ke-Me)*R0.SQRT2*.5}}R[0]=Y[J+0][0],R[0]*=R[0];for(var Be=ce.BLKSIZE/2-1;Be>=0;--Be){var _e=Y[J+0][ce.BLKSIZE/2-Be],Oe=Y[J+0][ce.BLKSIZE/2+Be];R[ce.BLKSIZE/2-Be]=(_e*_e+Oe*Oe)*.5}for(var He=2;He>=0;--He){H[He][0]=N[ee+0][He][0],H[He][0]*=H[He][0];for(var Be=ce.BLKSIZE_s/2-1;Be>=0;--Be){var _e=N[ee+0][He][ce.BLKSIZE_s/2-Be],Oe=N[ee+0][He][ce.BLKSIZE_s/2+Be];H[He][ce.BLKSIZE_s/2-Be]=(_e*_e+Oe*Oe)*.5}}{for(var $e=0,Be=11;Be<ce.HBLKSIZE;Be++)$e+=R[Be];fe.tot_ener[te]=$e}if(A.analysis){for(var Be=0;Be<ce.HBLKSIZE;Be++)fe.pinfo.energy[se][te][Be]=fe.pinfo.energy_save[te][Be],fe.pinfo.energy_save[te][Be]=R[Be];fe.pinfo.pe[se][te]=fe.pe[te]}A.athaa_loudapprox==2&&te<2&&(fe.loudness_sq[se][te]=fe.loudness_sq_save[te],fe.loudness_sq_save[te]=T(R,fe))}var S=8,I=23,r=15,b,F,D,W=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function P(){b=Math.pow(10,(S+1)/16),F=Math.pow(10,(I+1)/16),D=Math.pow(10,r/10)}var X=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],de=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],C=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function _(A,R,H,Y,J,N){var ee;if(R>A)if(R<A*F)ee=R/A;else return A+R;else{if(A>=R*F)return A+R;ee=A/R}if(A+=R,Y+3<=3+3){if(ee>=b)return A;var se=0|R0.FAST_LOG10_X(ee,16);return A*de[se]}var se=0|R0.FAST_LOG10_X(ee,16);if(N!=0?R=J.ATH.cb_s[H]*J.ATH.adjust:R=J.ATH.cb_l[H]*J.ATH.adjust,A<D*R){if(A>R){var te,ue;return te=1,se<=13&&(te=C[se]),ue=R0.FAST_LOG10_X(A/R,10/15),A*((X[se]-te)*ue+te)}return se>13?A:A*C[se]}return A*X[se]}var y=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function w(A,R,H){var Y;if(A<0&&(A=0),R<0&&(R=0),A<=0)return R;if(R<=0)return A;if(R>A?Y=R/A:Y=A/R,-2<=H&&H<=2){if(Y>=b)return A+R;var J=0|R0.FAST_LOG10_X(Y,16);return(A+R)*y[J]}return Y<F?A+R:(A<R&&(A=R),A)}function V(A,R){var H=A.internal_flags;if(H.channels_out>1){for(var Y=0;Y<ce.SBMAX_l;Y++){var J=H.thm[0].l[Y],N=H.thm[1].l[Y];H.thm[0].l[Y]+=N*R,H.thm[1].l[Y]+=J*R}for(var Y=0;Y<ce.SBMAX_s;Y++)for(var ee=0;ee<3;ee++){var J=H.thm[0].s[Y][ee],N=H.thm[1].s[Y][ee];H.thm[0].s[Y][ee]+=N*R,H.thm[1].s[Y][ee]+=J*R}}}function O(A){for(var R=0;R<ce.SBMAX_l;R++)if(!(A.thm[0].l[R]>1.58*A.thm[1].l[R]||A.thm[1].l[R]>1.58*A.thm[0].l[R])){var H=A.mld_l[R]*A.en[3].l[R],Y=Math.max(A.thm[2].l[R],Math.min(A.thm[3].l[R],H));H=A.mld_l[R]*A.en[2].l[R];var J=Math.max(A.thm[3].l[R],Math.min(A.thm[2].l[R],H));A.thm[2].l[R]=Y,A.thm[3].l[R]=J}for(var R=0;R<ce.SBMAX_s;R++)for(var N=0;N<3;N++)if(!(A.thm[0].s[R][N]>1.58*A.thm[1].s[R][N]||A.thm[1].s[R][N]>1.58*A.thm[0].s[R][N])){var H=A.mld_s[R]*A.en[3].s[R][N],Y=Math.max(A.thm[2].s[R][N],Math.min(A.thm[3].s[R][N],H));H=A.mld_s[R]*A.en[2].s[R][N];var J=Math.max(A.thm[3].s[R][N],Math.min(A.thm[2].s[R][N],H));A.thm[2].s[R][N]=Y,A.thm[3].s[R][N]=J}}function Q(A,R,H){var Y=R,J=Math.pow(10,H);R*=2,Y*=2;for(var N=0;N<ce.SBMAX_l;N++){var ee,se,te,ue;if(ue=A.ATH.cb_l[A.bm_l[N]]*J,ee=Math.min(Math.max(A.thm[0].l[N],ue),Math.max(A.thm[1].l[N],ue)),se=Math.max(A.thm[2].l[N],ue),te=Math.max(A.thm[3].l[N],ue),ee*R<se+te){var le=ee*Y/(se+te);se*=le,te*=le}A.thm[2].l[N]=Math.min(se,A.thm[2].l[N]),A.thm[3].l[N]=Math.min(te,A.thm[3].l[N])}J*=ce.BLKSIZE_s/ce.BLKSIZE;for(var N=0;N<ce.SBMAX_s;N++)for(var fe=0;fe<3;fe++){var ee,se,te,ue;if(ue=A.ATH.cb_s[A.bm_s[N]]*J,ee=Math.min(Math.max(A.thm[0].s[N][fe],ue),Math.max(A.thm[1].s[N][fe],ue)),se=Math.max(A.thm[2].s[N][fe],ue),te=Math.max(A.thm[3].s[N][fe],ue),ee*R<se+te){var le=ee*R/(se+te);se*=le,te*=le}A.thm[2].s[N][fe]=Math.min(A.thm[2].s[N][fe],se),A.thm[3].s[N][fe]=Math.min(A.thm[3].s[N][fe],te)}}function k(A,R,H,Y,J){var N,ee,se=0,te=0;for(N=ee=0;N<ce.SBMAX_s;++ee,++N){for(var ue=A.bo_s[N],le=A.npart_s,fe=ue<le?ue:le;ee<fe;)De(R[ee]>=0),De(H[ee]>=0),se+=R[ee],te+=H[ee],ee++;if(A.en[Y].s[N][J]=se,A.thm[Y].s[N][J]=te,ee>=le){++N;break}De(R[ee]>=0),De(H[ee]>=0);{var Be=A.PSY.bo_s_weight[N],ke=1-Be;se=Be*R[ee],te=Be*H[ee],A.en[Y].s[N][J]+=se,A.thm[Y].s[N][J]+=te,se=ke*R[ee],te=ke*H[ee]}}for(;N<ce.SBMAX_s;++N)A.en[Y].s[N][J]=0,A.thm[Y].s[N][J]=0}function m(A,R,H,Y){var J,N,ee=0,se=0;for(J=N=0;J<ce.SBMAX_l;++N,++J){for(var te=A.bo_l[J],ue=A.npart_l,le=te<ue?te:ue;N<le;)De(R[N]>=0),De(H[N]>=0),ee+=R[N],se+=H[N],N++;if(A.en[Y].l[J]=ee,A.thm[Y].l[J]=se,N>=ue){++J;break}De(R[N]>=0),De(H[N]>=0);{var fe=A.PSY.bo_l_weight[J],Be=1-fe;ee=fe*R[N],se=fe*H[N],A.en[Y].l[J]+=ee,A.thm[Y].l[J]+=se,ee=Be*R[N],se=Be*H[N]}}for(;J<ce.SBMAX_l;++J)A.en[Y].l[J]=0,A.thm[Y].l[J]=0}function u(A,R,H,Y,J,N){var ee=A.internal_flags,se,te;for(te=se=0;te<ee.npart_s;++te){for(var ue=0,le=ee.numlines_s[te],fe=0;fe<le;++fe,++se){var Be=R[N][se];ue+=Be}H[te]=ue}for(De(te==ee.npart_s),se=te=0;te<ee.npart_s;te++){var ke=ee.s3ind_s[te][0],Me=ee.s3_ss[se++]*H[ke];for(++ke;ke<=ee.s3ind_s[te][1];)Me+=ee.s3_ss[se]*H[ke],++se,++ke;{var He=l*ee.nb_s1[J][te];Y[te]=Math.min(Me,He)}if(ee.blocktype_old[J&1]==ce.SHORT_TYPE){var He=d*ee.nb_s2[J][te],_e=Y[te];Y[te]=Math.min(He,_e)}ee.nb_s2[J][te]=ee.nb_s1[J][te],ee.nb_s1[J][te]=Me,De(Y[te]>=0)}for(;te<=ce.CBANDS;++te)H[te]=0,Y[te]=0}function f(A,R,H,Y){var J=A.internal_flags;A.short_blocks==Pt.short_block_coupled&&!(R[0]!=0&&R[1]!=0)&&(R[0]=R[1]=0);for(var N=0;N<J.channels_out;N++)Y[N]=ce.NORM_TYPE,A.short_blocks==Pt.short_block_dispensed&&(R[N]=1),A.short_blocks==Pt.short_block_forced&&(R[N]=0),R[N]!=0?(De(J.blocktype_old[N]!=ce.START_TYPE),J.blocktype_old[N]==ce.SHORT_TYPE&&(Y[N]=ce.STOP_TYPE)):(Y[N]=ce.SHORT_TYPE,J.blocktype_old[N]==ce.NORM_TYPE&&(J.blocktype_old[N]=ce.START_TYPE),J.blocktype_old[N]==ce.STOP_TYPE&&(J.blocktype_old[N]=ce.SHORT_TYPE)),H[N]=J.blocktype_old[N],J.blocktype_old[N]=Y[N]}function x(A,R,H){return H>=1?A:H<=0?R:R>0?Math.pow(A/R,H)*R:0}var B=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function g(A,R){for(var H=309.07,Y=0;Y<ce.SBMAX_s-1;Y++)for(var J=0;J<3;J++){var N=A.thm.s[Y][J];if(N>0){var ee=N*R,se=A.en.s[Y][J];se>ee&&(se>ee*1e10?H+=B[Y]*(10*n):H+=B[Y]*R0.FAST_LOG10(se/ee))}}return H}var oe=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function q(A,R){for(var H=281.0575,Y=0;Y<ce.SBMAX_l-1;Y++){var J=A.thm.l[Y];if(J>0){var N=J*R,ee=A.en.l[Y];ee>N&&(ee>N*1e10?H+=oe[Y]*(10*n):H+=oe[Y]*R0.FAST_LOG10(ee/N))}}return H}function ne(A,R,H,Y,J){var N,ee;for(N=ee=0;N<A.npart_l;++N){var se=0,te=0,ue;for(ue=0;ue<A.numlines_l[N];++ue,++ee){var le=R[ee];se+=le,te<le&&(te=le)}H[N]=se,Y[N]=te,J[N]=se*A.rnumlines_l[N],De(A.rnumlines_l[N]>=0),De(H[N]>=0),De(Y[N]>=0),De(J[N]>=0)}}function ve(A,R,H,Y){var J=W.length-1,N=0,ee=H[N]+H[N+1];if(ee>0){var se=R[N];se<R[N+1]&&(se=R[N+1]),De(A.numlines_l[N]+A.numlines_l[N+1]-1>0),ee=20*(se*2-ee)/(ee*(A.numlines_l[N]+A.numlines_l[N+1]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;for(N=1;N<A.npart_l-1;N++)if(ee=H[N-1]+H[N]+H[N+1],ee>0){var se=R[N-1];se<R[N]&&(se=R[N]),se<R[N+1]&&(se=R[N+1]),De(A.numlines_l[N-1]+A.numlines_l[N]+A.numlines_l[N+1]-1>0),ee=20*(se*3-ee)/(ee*(A.numlines_l[N-1]+A.numlines_l[N]+A.numlines_l[N+1]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;if(De(N==A.npart_l-1),ee=H[N-1]+H[N],ee>0){var se=R[N-1];se<R[N]&&(se=R[N]),De(A.numlines_l[N-1]+A.numlines_l[N]-1>0),ee=20*(se*2-ee)/(ee*(A.numlines_l[N-1]+A.numlines_l[N]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;De(N==A.npart_l-1)}var ye=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(A,R,H,Y,J,N,ee,se,te,ue){var le=A.internal_flags,fe=H0([2,ce.BLKSIZE]),Be=H0([2,3,ce.BLKSIZE_s]),ke=_0(ce.CBANDS+1),Me=_0(ce.CBANDS+1),He=_0(ce.CBANDS+2),_e=Rt(2),Oe=Rt(2),$e,Ae,Ne,Ee,Ve,Qe,Ie,Pe,Ye=H0([2,576]),ge,I0=Rt(ce.CBANDS+2),i0=Rt(ce.CBANDS+2);for(x2.fill(i0,0),$e=le.channels_out,A.mode==e.JOINT_STEREO&&($e=4),A.VBR==Vt.vbr_off?ge=le.ResvMax==0?0:le.ResvSize/le.ResvMax*.5:A.VBR==Vt.vbr_rh||A.VBR==Vt.vbr_mtrh||A.VBR==Vt.vbr_mt?ge=.6:ge=1,Ae=0;Ae<le.channels_out;Ae++){var Je=R[Ae],A0=H+576-350-K+192;for(Ee=0;Ee<576;Ee++){var C0,L0;for(C0=Je[A0+Ee+10],L0=0,Ve=0;Ve<(K-1)/2-1;Ve+=2)C0+=ye[Ve]*(Je[A0+Ee+Ve]+Je[A0+Ee+K-Ve]),L0+=ye[Ve+1]*(Je[A0+Ee+Ve+1]+Je[A0+Ee+K-Ve-1]);Ye[Ae][Ee]=C0+L0}J[Y][Ae].en.assign(le.en[Ae]),J[Y][Ae].thm.assign(le.thm[Ae]),$e>2&&(N[Y][Ae].en.assign(le.en[Ae+2]),N[Y][Ae].thm.assign(le.thm[Ae+2]))}for(Ae=0;Ae<$e;Ae++){var P0,D0,m0=_0(12),g0=[0,0,0,0],kt=_0(12),fa=1,wr,Br=_0(ce.CBANDS),Ir=_0(ce.CBANDS),e0=[0,0,0,0],Cr=_0(ce.HBLKSIZE),Lr=H0([3,ce.HBLKSIZE_s]);for(De(le.npart_s<=ce.CBANDS),De(le.npart_l<=ce.CBANDS),Ee=0;Ee<3;Ee++)m0[Ee]=le.nsPsy.last_en_subshort[Ae][Ee+6],De(le.nsPsy.last_en_subshort[Ae][Ee+4]>0),kt[Ee]=m0[Ee]/le.nsPsy.last_en_subshort[Ae][Ee+4],g0[0]+=m0[Ee];if(Ae==2)for(Ee=0;Ee<576;Ee++){var ca,va;ca=Ye[0][Ee],va=Ye[1][Ee],Ye[0][Ee]=ca+va,Ye[1][Ee]=ca-va}{var Or=Ye[Ae&1],tn=0;for(Ee=0;Ee<9;Ee++){for(var Js=tn+64,c0=1;tn<Js;tn++)c0<Math.abs(Or[tn])&&(c0=Math.abs(Or[tn]));le.nsPsy.last_en_subshort[Ae][Ee]=m0[Ee+3]=c0,g0[1+Ee/3]+=c0,c0>m0[Ee+3-2]?(De(m0[Ee+3-2]>0),c0=c0/m0[Ee+3-2]):m0[Ee+3-2]>c0*10?c0=m0[Ee+3-2]/(c0*10):c0=0,kt[Ee+3]=c0}}if(A.analysis){var ha=kt[0];for(Ee=1;Ee<12;Ee++)ha<kt[Ee]&&(ha=kt[Ee]);le.pinfo.ers[Y][Ae]=le.pinfo.ers_save[Ae],le.pinfo.ers_save[Ae]=ha}for(wr=Ae==3?le.nsPsy.attackthre_s:le.nsPsy.attackthre,Ee=0;Ee<12;Ee++)e0[Ee/3]==0&&kt[Ee]>wr&&(e0[Ee/3]=Ee%3+1);for(Ee=1;Ee<4;Ee++){var da;g0[Ee-1]>g0[Ee]?(De(g0[Ee]>0),da=g0[Ee-1]/g0[Ee]):(De(g0[Ee-1]>0),da=g0[Ee]/g0[Ee-1]),da<1.7&&(e0[Ee]=0,Ee==1&&(e0[0]=0))}for(e0[0]!=0&&le.nsPsy.lastAttacks[Ae]!=0&&(e0[0]=0),(le.nsPsy.lastAttacks[Ae]==3||e0[0]+e0[1]+e0[2]+e0[3]!=0)&&(fa=0,e0[1]!=0&&e0[0]!=0&&(e0[1]=0),e0[2]!=0&&e0[1]!=0&&(e0[2]=0),e0[3]!=0&&e0[2]!=0&&(e0[3]=0)),Ae<2?Oe[Ae]=fa:fa==0&&(Oe[0]=Oe[1]=0),te[Ae]=le.tot_ener[Ae],D0=Be,P0=fe,p(A,Cr,Lr,P0,Ae&1,D0,Ae&1,Y,Ae,R,H),ne(le,Cr,ke,Br,Ir),ve(le,Br,Ir,I0),Pe=0;Pe<3;Pe++){var ma,E0;for(u(A,Lr,Me,He,Ae,Pe),k(le,Me,He,Ae,Pe),Ie=0;Ie<ce.SBMAX_s;Ie++){if(E0=le.thm[Ae].s[Ie][Pe],E0*=h,e0[Pe]>=2||e0[Pe+1]==1){var nn=Pe!=0?Pe-1:2,c0=x(le.thm[Ae].s[Ie][nn],E0,o*ge);E0=Math.min(E0,c0)}if(e0[Pe]==1){var nn=Pe!=0?Pe-1:2,c0=x(le.thm[Ae].s[Ie][nn],E0,M*ge);E0=Math.min(E0,c0)}else if(Pe!=0&&e0[Pe-1]==3||Pe==0&&le.nsPsy.lastAttacks[Ae]==3){var nn=Pe!=2?Pe+1:0,c0=x(le.thm[Ae].s[Ie][nn],E0,M*ge);E0=Math.min(E0,c0)}ma=m0[Pe*3+3]+m0[Pe*3+4]+m0[Pe*3+5],m0[Pe*3+5]*6<ma&&(E0*=.5,m0[Pe*3+4]*6<ma&&(E0*=.5)),le.thm[Ae].s[Ie][Pe]=E0}}for(le.nsPsy.lastAttacks[Ae]=e0[2],Qe=0,Ne=0;Ne<le.npart_l;Ne++){for(var St=le.s3ind[Ne][0],ba=ke[St]*W[I0[St]],Mt=le.s3_ll[Qe++]*ba;++St<=le.s3ind[Ne][1];)ba=ke[St]*W[I0[St]],Mt=_(Mt,le.s3_ll[Qe++]*ba,St,St-Ne,le,0);Mt*=.158489319246111,le.blocktype_old[Ae&1]==ce.SHORT_TYPE?He[Ne]=Mt:He[Ne]=x(Math.min(Mt,Math.min(a*le.nb_1[Ae][Ne],s*le.nb_2[Ae][Ne])),Mt,ge),le.nb_2[Ae][Ne]=le.nb_1[Ae][Ne],le.nb_1[Ae][Ne]=Mt}for(;Ne<=ce.CBANDS;++Ne)ke[Ne]=0,He[Ne]=0;m(le,ke,He,Ae)}if((A.mode==e.STEREO||A.mode==e.JOINT_STEREO)&&A.interChRatio>0&&V(A,A.interChRatio),A.mode==e.JOINT_STEREO){var pa;O(le),pa=A.msfix,Math.abs(pa)>0&&Q(le,pa,A.ATHlower*le.ATH.adjust)}for(f(A,Oe,ue,_e),Ae=0;Ae<$e;Ae++){var an,rn=0,yn,Tn;Ae>1?(an=se,rn=-2,yn=ce.NORM_TYPE,(ue[0]==ce.SHORT_TYPE||ue[1]==ce.SHORT_TYPE)&&(yn=ce.SHORT_TYPE),Tn=N[Y][Ae-2]):(an=ee,rn=0,yn=ue[Ae],Tn=J[Y][Ae]),yn==ce.SHORT_TYPE?an[rn+Ae]=g(Tn,le.masking_lower):an[rn+Ae]=q(Tn,le.masking_lower),A.analysis&&(le.pinfo.pe[Y][Ae]=an[rn+Ae])}return 0};function L(A,R,H,Y,J,N,ee,se){var te=A.internal_flags;if(Y<2)t.fft_long(te,ee[se],Y,R,H);else if(Y==2)for(var ue=ce.BLKSIZE-1;ue>=0;--ue){var le=ee[se+0][ue],fe=ee[se+1][ue];ee[se+0][ue]=(le+fe)*R0.SQRT2*.5,ee[se+1][ue]=(le-fe)*R0.SQRT2*.5}N[0]=ee[se+0][0],N[0]*=N[0];for(var ue=ce.BLKSIZE/2-1;ue>=0;--ue){var Be=ee[se+0][ce.BLKSIZE/2-ue],ke=ee[se+0][ce.BLKSIZE/2+ue];N[ce.BLKSIZE/2-ue]=(Be*Be+ke*ke)*.5}{for(var Me=0,ue=11;ue<ce.HBLKSIZE;ue++)Me+=N[ue];te.tot_ener[Y]=Me}if(A.analysis){for(var ue=0;ue<ce.HBLKSIZE;ue++)te.pinfo.energy[J][Y][ue]=te.pinfo.energy_save[Y][ue],te.pinfo.energy_save[Y][ue]=N[ue];te.pinfo.pe[J][Y]=te.pe[Y]}}function $(A,R,H,Y,J,N,ee,se){var te=A.internal_flags;if(J==0&&Y<2&&t.fft_short(te,ee[se],Y,R,H),Y==2)for(var ue=ce.BLKSIZE_s-1;ue>=0;--ue){var le=ee[se+0][J][ue],fe=ee[se+1][J][ue];ee[se+0][J][ue]=(le+fe)*R0.SQRT2*.5,ee[se+1][J][ue]=(le-fe)*R0.SQRT2*.5}N[J][0]=ee[se+0][J][0],N[J][0]*=N[J][0];for(var ue=ce.BLKSIZE_s/2-1;ue>=0;--ue){var Be=ee[se+0][J][ce.BLKSIZE_s/2-ue],ke=ee[se+0][J][ce.BLKSIZE_s/2+ue];N[J][ce.BLKSIZE_s/2-ue]=(Be*Be+ke*ke)*.5}}function Z(A,R,H,Y){var J=A.internal_flags;A.athaa_loudapprox==2&&H<2&&(J.loudness_sq[R][H]=J.loudness_sq_save[H],J.loudness_sq_save[H]=T(Y,J))}var ae=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function ie(A,R,H,Y,J,N,ee,se,te,ue){for(var le=H0([2,576]),fe=A.internal_flags,Be=fe.channels_out,ke=A.mode==e.JOINT_STEREO?4:Be,Me=0;Me<Be;Me++){firbuf=R[Me];for(var He=H+576-350-K+192,_e=0;_e<576;_e++){var Oe,$e;Oe=firbuf[He+_e+10],$e=0;for(var Ae=0;Ae<(K-1)/2-1;Ae+=2)Oe+=ae[Ae]*(firbuf[He+_e+Ae]+firbuf[He+_e+K-Ae]),$e+=ae[Ae+1]*(firbuf[He+_e+Ae+1]+firbuf[He+_e+K-Ae-1]);le[Me][_e]=Oe+$e}J[Y][Me].en.assign(fe.en[Me]),J[Y][Me].thm.assign(fe.thm[Me]),ke>2&&(N[Y][Me].en.assign(fe.en[Me+2]),N[Y][Me].thm.assign(fe.thm[Me+2]))}for(var Me=0;Me<ke;Me++){var Ne=_0(12),Ee=_0(12),Ve=[0,0,0,0],Qe=le[Me&1],Ie=0,Pe=Me==3?fe.nsPsy.attackthre_s:fe.nsPsy.attackthre,Ye=1;if(Me==2)for(var _e=0,Ae=576;Ae>0;++_e,--Ae){var ge=le[0][_e],I0=le[1][_e];le[0][_e]=ge+I0,le[1][_e]=ge-I0}for(var _e=0;_e<3;_e++)Ee[_e]=fe.nsPsy.last_en_subshort[Me][_e+6],De(fe.nsPsy.last_en_subshort[Me][_e+4]>0),Ne[_e]=Ee[_e]/fe.nsPsy.last_en_subshort[Me][_e+4],Ve[0]+=Ee[_e];for(var _e=0;_e<9;_e++){for(var i0=Ie+64,Je=1;Ie<i0;Ie++)Je<Math.abs(Qe[Ie])&&(Je=Math.abs(Qe[Ie]));fe.nsPsy.last_en_subshort[Me][_e]=Ee[_e+3]=Je,Ve[1+_e/3]+=Je,Je>Ee[_e+3-2]?(De(Ee[_e+3-2]>0),Je=Je/Ee[_e+3-2]):Ee[_e+3-2]>Je*10?Je=Ee[_e+3-2]/(Je*10):Je=0,Ne[_e+3]=Je}for(var _e=0;_e<3;++_e){var A0=Ee[_e*3+3]+Ee[_e*3+4]+Ee[_e*3+5],C0=1;Ee[_e*3+5]*6<A0&&(C0*=.5,Ee[_e*3+4]*6<A0&&(C0*=.5)),se[Me][_e]=C0}if(A.analysis){for(var L0=Ne[0],_e=1;_e<12;_e++)L0<Ne[_e]&&(L0=Ne[_e]);fe.pinfo.ers[Y][Me]=fe.pinfo.ers_save[Me],fe.pinfo.ers_save[Me]=L0}for(var _e=0;_e<12;_e++)te[Me][_e/3]==0&&Ne[_e]>Pe&&(te[Me][_e/3]=_e%3+1);for(var _e=1;_e<4;_e++){var P0=Ve[_e-1],D0=Ve[_e],m0=Math.max(P0,D0);m0<4e4&&P0<1.7*D0&&D0<1.7*P0&&(_e==1&&te[Me][0]<=te[Me][_e]&&(te[Me][0]=0),te[Me][_e]=0)}te[Me][0]<=fe.nsPsy.lastAttacks[Me]&&(te[Me][0]=0),(fe.nsPsy.lastAttacks[Me]==3||te[Me][0]+te[Me][1]+te[Me][2]+te[Me][3]!=0)&&(Ye=0,te[Me][1]!=0&&te[Me][0]!=0&&(te[Me][1]=0),te[Me][2]!=0&&te[Me][1]!=0&&(te[Me][2]=0),te[Me][3]!=0&&te[Me][2]!=0&&(te[Me][3]=0)),Me<2?ue[Me]=Ye:Ye==0&&(ue[0]=ue[1]=0),ee[Me]=fe.tot_ener[Me]}}function xe(A,R,H){if(H==0)for(var Y=0;Y<A.npart_s;Y++)A.nb_s2[R][Y]=A.nb_s1[R][Y],A.nb_s1[R][Y]=0}function Ce(A,R){for(var H=0;H<A.npart_l;H++)A.nb_2[R][H]=A.nb_1[R][H],A.nb_1[R][H]=0}function i(A,R,H,Y){var J=W.length-1,N=0,ee=H[N]+H[N+1];if(ee>0){var se=R[N];se<R[N+1]&&(se=R[N+1]),De(A.numlines_s[N]+A.numlines_s[N+1]-1>0),ee=20*(se*2-ee)/(ee*(A.numlines_s[N]+A.numlines_s[N+1]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;for(N=1;N<A.npart_s-1;N++)if(ee=H[N-1]+H[N]+H[N+1],De(N+1<A.npart_s),ee>0){var se=R[N-1];se<R[N]&&(se=R[N]),se<R[N+1]&&(se=R[N+1]),De(A.numlines_s[N-1]+A.numlines_s[N]+A.numlines_s[N+1]-1>0),ee=20*(se*3-ee)/(ee*(A.numlines_s[N-1]+A.numlines_s[N]+A.numlines_s[N+1]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;if(De(N==A.npart_s-1),ee=H[N-1]+H[N],ee>0){var se=R[N-1];se<R[N]&&(se=R[N]),De(A.numlines_s[N-1]+A.numlines_s[N]-1>0),ee=20*(se*2-ee)/(ee*(A.numlines_s[N-1]+A.numlines_s[N]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;De(N==A.npart_s-1)}function v(A,R,H,Y,J,N){var ee=A.internal_flags,se=new float[ce.CBANDS],te=_0(ce.CBANDS),ue,le,fe,Be=new int[ce.CBANDS];for(fe=le=0;fe<ee.npart_s;++fe){var ke=0,Me=0,He=ee.numlines_s[fe];for(ue=0;ue<He;++ue,++le){var _e=R[N][le];ke+=_e,Me<_e&&(Me=_e)}H[fe]=ke,se[fe]=Me,te[fe]=ke/He,De(te[fe]>=0)}for(De(fe==ee.npart_s);fe<ce.CBANDS;++fe)se[fe]=0,te[fe]=0;for(i(ee,se,te,Be),le=fe=0;fe<ee.npart_s;fe++){var Oe=ee.s3ind_s[fe][0],$e=ee.s3ind_s[fe][1],Ae,Ne,Ee,Ve,Qe;for(Ae=Be[Oe],Ne=1,Ve=ee.s3_ss[le]*H[Oe]*W[Be[Oe]],++le,++Oe;Oe<=$e;)Ae+=Be[Oe],Ne+=1,Ee=ee.s3_ss[le]*H[Oe]*W[Be[Oe]],Ve=w(Ve,Ee,Oe-fe),++le,++Oe;Ae=(1+2*Ae)/(2*Ne),Qe=W[Ae]*.5,Ve*=Qe,Y[fe]=Ve,ee.nb_s2[J][fe]=ee.nb_s1[J][fe],ee.nb_s1[J][fe]=Ve,Ee=se[fe],Ee*=ee.minval_s[fe],Ee*=Qe,Y[fe]>Ee&&(Y[fe]=Ee),ee.masking_lower>1&&(Y[fe]*=ee.masking_lower),Y[fe]>H[fe]&&(Y[fe]=H[fe]),ee.masking_lower<1&&(Y[fe]*=ee.masking_lower),De(Y[fe]>=0)}for(;fe<ce.CBANDS;++fe)H[fe]=0,Y[fe]=0}function re(A,R,H,Y,J){var N=_0(ce.CBANDS),ee=_0(ce.CBANDS),se=Rt(ce.CBANDS+2),te;ne(A,R,H,N,ee),ve(A,N,ee,se);var ue=0;for(te=0;te<A.npart_l;te++){var le,fe,Be,ke,Me=A.s3ind[te][0],He=A.s3ind[te][1],_e=0,Oe=0;for(_e=se[Me],Oe+=1,fe=A.s3_ll[ue]*H[Me]*W[se[Me]],++ue,++Me;Me<=He;)_e+=se[Me],Oe+=1,le=A.s3_ll[ue]*H[Me]*W[se[Me]],ke=w(fe,le,Me-te),fe=ke,++ue,++Me;if(_e=(1+2*_e)/(2*Oe),Be=W[_e]*.5,fe*=Be,A.blocktype_old[J&1]==ce.SHORT_TYPE){var $e=a*A.nb_1[J][te];$e>0?Y[te]=Math.min(fe,$e):Y[te]=Math.min(fe,H[te]*M)}else{var Ae=s*A.nb_2[J][te],Ne=a*A.nb_1[J][te],$e;Ae<=0&&(Ae=fe),Ne<=0&&(Ne=fe),A.blocktype_old[J&1]==ce.NORM_TYPE?$e=Math.min(Ne,Ae):$e=Ne,Y[te]=Math.min(fe,$e)}A.nb_2[J][te]=A.nb_1[J][te],A.nb_1[J][te]=fe,le=N[te],le*=A.minval_l[te],le*=Be,Y[te]>le&&(Y[te]=le),A.masking_lower>1&&(Y[te]*=A.masking_lower),Y[te]>H[te]&&(Y[te]=H[te]),A.masking_lower<1&&(Y[te]*=A.masking_lower),De(Y[te]>=0)}for(;te<ce.CBANDS;++te)H[te]=0,Y[te]=0}function he(A,R){var H=A.internal_flags;A.short_blocks==Pt.short_block_coupled&&!(R[0]!=0&&R[1]!=0)&&(R[0]=R[1]=0);for(var Y=0;Y<H.channels_out;Y++)A.short_blocks==Pt.short_block_dispensed&&(R[Y]=1),A.short_blocks==Pt.short_block_forced&&(R[Y]=0)}function me(A,R,H){for(var Y=A.internal_flags,J=0;J<Y.channels_out;J++){var N=ce.NORM_TYPE;R[J]!=0?(De(Y.blocktype_old[J]!=ce.START_TYPE),Y.blocktype_old[J]==ce.SHORT_TYPE&&(N=ce.STOP_TYPE)):(N=ce.SHORT_TYPE,Y.blocktype_old[J]==ce.NORM_TYPE&&(Y.blocktype_old[J]=ce.START_TYPE),Y.blocktype_old[J]==ce.STOP_TYPE&&(Y.blocktype_old[J]=ce.SHORT_TYPE)),H[J]=Y.blocktype_old[J],Y.blocktype_old[J]=N}}function pe(A,R,H,Y,J,N,ee){for(var se=N*2,te=N>0?Math.pow(10,J):1,ue,le,fe=0;fe<ee;++fe){var Be=A[2][fe],ke=A[3][fe],Me=R[0][fe],He=R[1][fe],_e=R[2][fe],Oe=R[3][fe];if(Me<=1.58*He&&He<=1.58*Me){var $e=H[fe]*ke,Ae=H[fe]*Be;le=Math.max(_e,Math.min(Oe,$e)),ue=Math.max(Oe,Math.min(_e,Ae))}else le=_e,ue=Oe;if(N>0){var Ne,Ee,Ve=Y[fe]*te;if(Ne=Math.min(Math.max(Me,Ve),Math.max(He,Ve)),_e=Math.max(le,Ve),Oe=Math.max(ue,Ve),Ee=_e+Oe,Ee>0&&Ne*se<Ee){var Qe=Ne*se/Ee;_e*=Qe,Oe*=Qe}le=Math.min(_e,le),ue=Math.min(Oe,ue)}le>Be&&(le=Be),ue>ke&&(ue=ke),R[2][fe]=le,R[3][fe]=ue}}this.L3psycho_anal_vbr=function(A,R,H,Y,J,N,ee,se,te,ue){var le=A.internal_flags,fe,Be,ke=_0(ce.HBLKSIZE),Me=H0([3,ce.HBLKSIZE_s]),He=H0([2,ce.BLKSIZE]),_e=H0([2,3,ce.BLKSIZE_s]),Oe=H0([4,ce.CBANDS]),$e=H0([4,ce.CBANDS]),Ae=H0([4,3]),Ne=.6,Ee=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Ve=Rt(2),Qe=A.mode==e.JOINT_STEREO?4:le.channels_out;ie(A,R,H,Y,J,N,te,Ae,Ee,Ve),he(A,Ve);{for(var Ie=0;Ie<Qe;Ie++){var Pe=Ie&1;fe=He,L(A,R,H,Ie,Y,ke,fe,Pe),Z(A,Y,Ie,ke),Ve[Pe]!=0?re(le,ke,Oe[Ie],$e[Ie],Ie):Ce(le,Ie)}Ve[0]+Ve[1]==2&&A.mode==e.JOINT_STEREO&&pe(Oe,$e,le.mld_cb_l,le.ATH.cb_l,A.ATHlower*le.ATH.adjust,A.msfix,le.npart_l);for(var Ie=0;Ie<Qe;Ie++){var Pe=Ie&1;Ve[Pe]!=0&&m(le,Oe[Ie],$e[Ie],Ie)}}{for(var Ye=0;Ye<3;Ye++){for(var Ie=0;Ie<Qe;++Ie){var Pe=Ie&1;Ve[Pe]!=0?xe(le,Ie,Ye):(Be=_e,$(A,R,H,Ie,Ye,Me,Be,Pe),v(A,Me,Oe[Ie],$e[Ie],Ie,Ye))}Ve[0]+Ve[1]==0&&A.mode==e.JOINT_STEREO&&pe(Oe,$e,le.mld_cb_s,le.ATH.cb_s,A.ATHlower*le.ATH.adjust,A.msfix,le.npart_s);for(var Ie=0;Ie<Qe;++Ie){var Pe=Ie&1;Ve[Pe]==0&&k(le,Oe[Ie],$e[Ie],Ie,Ye)}}for(var Ie=0;Ie<Qe;Ie++){var Pe=Ie&1;if(Ve[Pe]==0)for(var ge=0;ge<ce.SBMAX_s;ge++){for(var I0=_0(3),Ye=0;Ye<3;Ye++){var i0=le.thm[Ie].s[ge][Ye];if(i0*=h,Ee[Ie][Ye]>=2||Ee[Ie][Ye+1]==1){var Je=Ye!=0?Ye-1:2,A0=x(le.thm[Ie].s[ge][Je],i0,o*Ne);i0=Math.min(i0,A0)}else if(Ee[Ie][Ye]==1){var Je=Ye!=0?Ye-1:2,A0=x(le.thm[Ie].s[ge][Je],i0,M*Ne);i0=Math.min(i0,A0)}else if(Ye!=0&&Ee[Ie][Ye-1]==3||Ye==0&&le.nsPsy.lastAttacks[Ie]==3){var Je=Ye!=2?Ye+1:0,A0=x(le.thm[Ie].s[ge][Je],i0,M*Ne);i0=Math.min(i0,A0)}i0*=Ae[Ie][Ye],I0[Ye]=i0}for(var Ye=0;Ye<3;Ye++)le.thm[Ie].s[ge][Ye]=I0[Ye]}}}for(var Ie=0;Ie<Qe;Ie++)le.nsPsy.lastAttacks[Ie]=Ee[Ie][2];me(A,Ve,ue);for(var Ie=0;Ie<Qe;Ie++){var C0,L0,P0,D0;Ie>1?(C0=se,L0=-2,P0=ce.NORM_TYPE,(ue[0]==ce.SHORT_TYPE||ue[1]==ce.SHORT_TYPE)&&(P0=ce.SHORT_TYPE),D0=N[Y][Ie-2]):(C0=ee,L0=0,P0=ue[Ie],D0=J[Y][Ie]),P0==ce.SHORT_TYPE?C0[L0+Ie]=g(D0,le.masking_lower):C0[L0+Ie]=q(D0,le.masking_lower),A.analysis&&(le.pinfo.pe[Y][Ie]=C0[L0+Ie])}return 0};function be(A,R){var H=A,Y;return H>=0?Y=-H*27:Y=H*R,Y<=-72?0:Math.exp(Y*z)}function Se(A){var R=0,H=0;{var Y=0,J,N;for(Y=0;be(Y,A)>1e-20;Y-=1);for(J=Y,N=0;Math.abs(N-J)>1e-12;)Y=(N+J)/2,be(Y,A)>0?N=Y:J=Y;R=J}{var Y=0,J,N;for(Y=0;be(Y,A)>1e-20;Y+=1);for(J=0,N=Y;Math.abs(N-J)>1e-12;)Y=(N+J)/2,be(Y,A)>0?J=Y:N=Y;H=N}{var ee=0,se=1e3,te;for(te=0;te<=se;++te){var Y=R+te*(H-R)/se,ue=be(Y,A);ee+=ue}{var le=(se+1)/(ee*(H-R));return le}}}function Fe(A){var R,H,Y,J;return R=A,R>=0?R*=3:R*=1.5,R>=.5&&R<=2.5?(J=R-.5,H=8*(J*J-2*J)):H=0,R+=.474,Y=15.811389+7.5*R-17.5*Math.sqrt(1+R*R),Y<=-60?0:(R=Math.exp((H+Y)*z),R/=.6609193,R)}function we(A){return A<0&&(A=0),A=A*.001,13*Math.atan(.76*A)+3.5*Math.atan(A*A/(7.5*7.5))}function Te(A,R,H,Y,J,N,ee,se,te,ue,le,fe){var Be=_0(ce.CBANDS+1),ke=se/(fe>15?2*576:2*192),Me=Rt(ce.HBLKSIZE),He;se/=te;var _e=0,Oe=0;for(He=0;He<ce.CBANDS;He++){var $e,Ae;for($e=we(se*_e),Be[He]=se*_e,Ae=_e;we(se*Ae)-$e<c&&Ae<=te/2;Ae++);for(A[He]=Ae-_e,Oe=He+1;_e<Ae;)De(_e<ce.HBLKSIZE),Me[_e++]=He;if(_e>te/2){_e=te/2,++He;break}}De(He<ce.CBANDS),Be[He]=se*_e;for(var Ne=0;Ne<fe;Ne++){var Ee,Ve,Qe,Ie,Pe;Qe=ue[Ne],Ie=ue[Ne+1],Ee=0|Math.floor(.5+le*(Qe-.5)),Ee<0&&(Ee=0),Ve=0|Math.floor(.5+le*(Ie-.5)),Ve>te/2&&(Ve=te/2),H[Ne]=(Me[Ee]+Me[Ve])/2,R[Ne]=Me[Ve];var Ye=ke*Ie;ee[Ne]=(Ye-Be[R[Ne]])/(Be[R[Ne]+1]-Be[R[Ne]]),ee[Ne]<0?ee[Ne]=0:ee[Ne]>1&&(ee[Ne]=1),Pe=we(se*ue[Ne]*le),Pe=Math.min(Pe,15.5)/15.5,N[Ne]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Pe))-2.5)}_e=0;for(var ge=0;ge<Oe;ge++){var I0=A[ge],$e,i0;$e=we(se*_e),i0=we(se*(_e+I0-1)),Y[ge]=.5*($e+i0),$e=we(se*(_e-.5)),i0=we(se*(_e+I0-.5)),J[ge]=i0-$e,_e+=I0}return Oe}function Xe(A,R,H,Y,J,N){var ee=H0([ce.CBANDS,ce.CBANDS]),se,te=0;if(N)for(var ue=0;ue<R;ue++)for(se=0;se<R;se++){var le=Fe(H[ue]-H[se])*Y[se];ee[ue][se]=le*J[ue]}else for(se=0;se<R;se++)for(var fe=15+Math.min(21/H[se],12),Be=Se(fe),ue=0;ue<R;ue++){var le=Be*be(H[ue]-H[se],fe)*Y[se];ee[ue][se]=le*J[ue]}for(var ue=0;ue<R;ue++){for(se=0;se<R&&!(ee[ue][se]>0);se++);for(A[ue][0]=se,se=R-1;se>0&&!(ee[ue][se]>0);se--);A[ue][1]=se,te+=A[ue][1]-A[ue][0]+1}for(var ke=_0(te),Me=0,ue=0;ue<R;ue++)for(se=A[ue][0];se<=A[ue][1];se++)ke[Me++]=ee[ue][se];return ke}function Ze(A){var R=we(A);return R=Math.min(R,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*R))-2.5)}this.psymodel_init=function(A){var R=A.internal_flags,H,Y=!0,J=13,N=24,ee=0,se=0,te=-8.25,ue=-4.5,le=_0(ce.CBANDS),fe=_0(ce.CBANDS),Be=_0(ce.CBANDS),ke=A.out_samplerate;switch(A.experimentalZ){default:case 0:Y=!0;break;case 1:Y=!(A.VBR==Vt.vbr_mtrh||A.VBR==Vt.vbr_mt);break;case 2:Y=!1;break;case 3:J=8,ee=-1.75,se=-.0125,te=-8.25,ue=-2.25;break}for(R.ms_ener_ratio_old=.25,R.blocktype_old[0]=R.blocktype_old[1]=ce.NORM_TYPE,H=0;H<4;++H){for(var _e=0;_e<ce.CBANDS;++_e)R.nb_1[H][_e]=1e20,R.nb_2[H][_e]=1e20,R.nb_s1[H][_e]=R.nb_s2[H][_e]=1;for(var Me=0;Me<ce.SBMAX_l;Me++)R.en[H].l[Me]=1e20,R.thm[H].l[Me]=1e20;for(var _e=0;_e<3;++_e){for(var Me=0;Me<ce.SBMAX_s;Me++)R.en[H].s[Me][_e]=1e20,R.thm[H].s[Me][_e]=1e20;R.nsPsy.lastAttacks[H]=0}for(var _e=0;_e<9;_e++)R.nsPsy.last_en_subshort[H][_e]=10}for(R.loudness_sq_save[0]=R.loudness_sq_save[1]=0,R.npart_l=Te(R.numlines_l,R.bo_l,R.bm_l,le,fe,R.mld_l,R.PSY.bo_l_weight,ke,ce.BLKSIZE,R.scalefac_band.l,ce.BLKSIZE/(2*576),ce.SBMAX_l),De(R.npart_l<ce.CBANDS),H=0;H<R.npart_l;H++){var He=ee;le[H]>=J&&(He=se*(le[H]-J)/(N-J)+ee*(N-le[H])/(N-J)),Be[H]=Math.pow(10,He/10),R.numlines_l[H]>0?R.rnumlines_l[H]=1/R.numlines_l[H]:R.rnumlines_l[H]=0}R.s3_ll=Xe(R.s3ind,R.npart_l,le,fe,Be,Y);var _e=0;for(H=0;H<R.npart_l;H++){var Oe;Oe=v1.MAX_VALUE;for(var $e=0;$e<R.numlines_l[H];$e++,_e++){var Ae=ke*_e/(1e3*ce.BLKSIZE),Ne;Ne=this.ATHformula(Ae*1e3,A)-20,Ne=Math.pow(10,.1*Ne),Ne*=R.numlines_l[H],Oe>Ne&&(Oe=Ne)}R.ATH.cb_l[H]=Oe,Oe=-20+le[H]*20/10,Oe>6&&(Oe=100),Oe<-15&&(Oe=-15),Oe-=8,R.minval_l[H]=Math.pow(10,Oe/10)*R.numlines_l[H]}for(R.npart_s=Te(R.numlines_s,R.bo_s,R.bm_s,le,fe,R.mld_s,R.PSY.bo_s_weight,ke,ce.BLKSIZE_s,R.scalefac_band.s,ce.BLKSIZE_s/(2*192),ce.SBMAX_s),De(R.npart_s<ce.CBANDS),_e=0,H=0;H<R.npart_s;H++){var Oe,He=te;le[H]>=J&&(He=ue*(le[H]-J)/(N-J)+te*(N-le[H])/(N-J)),Be[H]=Math.pow(10,He/10),Oe=v1.MAX_VALUE;for(var $e=0;$e<R.numlines_s[H];$e++,_e++){var Ae=ke*_e/(1e3*ce.BLKSIZE_s),Ne;Ne=this.ATHformula(Ae*1e3,A)-20,Ne=Math.pow(10,.1*Ne),Ne*=R.numlines_s[H],Oe>Ne&&(Oe=Ne)}R.ATH.cb_s[H]=Oe,Oe=-7+le[H]*7/12,le[H]>12&&(Oe*=1+Math.log(1+Oe)*3.1),le[H]<12&&(Oe*=1+Math.log(1-Oe)*2.3),Oe<-15&&(Oe=-15),Oe-=8,R.minval_s[H]=Math.pow(10,Oe/10)*R.numlines_s[H]}R.s3_ss=Xe(R.s3ind_s,R.npart_s,le,fe,Be,Y),P(),t.init_fft(R),R.decay=Math.exp(-1*n/(U*ke/192));{var Ee;Ee=j,A.exp_nspsytune&2&&(Ee=1),Math.abs(A.msfix)>0&&(Ee=A.msfix),A.msfix=Ee;for(var Ve=0;Ve<R.npart_l;Ve++)R.s3ind[Ve][1]>R.npart_l-1&&(R.s3ind[Ve][1]=R.npart_l-1)}var Qe=576*R.mode_gr/ke;if(R.ATH.decay=Math.pow(10,-12/10*Qe),R.ATH.adjust=.01,R.ATH.adjustLimit=1,De(R.bo_l[ce.SBMAX_l-1]<=R.npart_l),De(R.bo_s[ce.SBMAX_s-1]<=R.npart_s),A.ATHtype!=-1){var Ae,Ie=A.out_samplerate/ce.BLKSIZE,Pe=0;for(Ae=0,H=0;H<ce.BLKSIZE/2;++H)Ae+=Ie,R.ATH.eql_w[H]=1/Math.pow(10,this.ATHformula(Ae,A)/10),Pe+=R.ATH.eql_w[H];for(Pe=1/Pe,H=ce.BLKSIZE/2;--H>=0;)R.ATH.eql_w[H]*=Pe}{for(var Ve=_e=0;Ve<R.npart_s;++Ve)for(H=0;H<R.numlines_s[Ve];++H)++_e;for(var Ve=_e=0;Ve<R.npart_l;++Ve)for(H=0;H<R.numlines_l[Ve];++H)++_e}for(_e=0,H=0;H<R.npart_l;H++){var Ae=ke*(_e+R.numlines_l[H]/2)/(1*ce.BLKSIZE);R.mld_cb_l[H]=Ze(Ae),_e+=R.numlines_l[H]}for(;H<ce.CBANDS;++H)R.mld_cb_l[H]=1;for(_e=0,H=0;H<R.npart_s;H++){var Ae=ke*(_e+R.numlines_s[H]/2)/(1*ce.BLKSIZE_s);R.mld_cb_s[H]=Ze(Ae),_e+=R.numlines_s[H]}for(;H<ce.CBANDS;++H)R.mld_cb_s[H]=1;return 0};function Ge(A,R){A<-.3&&(A=3410),A/=1e3,A=Math.max(.1,A);var H=3.64*Math.pow(A,-.8)-6.8*Math.exp(-.6*Math.pow(A-3.4,2))+6*Math.exp(-.15*Math.pow(A-8.7,2))+(.6+.04*R)*.001*Math.pow(A,4);return H}this.ATHformula=function(A,R){var H;switch(R.ATHtype){case 0:H=Ge(A,9);break;case 1:H=Ge(A,-1);break;case 2:H=Ge(A,0);break;case 3:H=Ge(A,1)+6;break;case 4:H=Ge(A,R.ATHcurve);break;default:H=Ge(A,0);break}return H}}var A2=M2,E2=Rn;function R2(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=E2.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var y2=R2,T2=x0(),$s={};$s.SFBMAX=T2.SBMAX_s*3;var oa=$s,Ys=n0,w2=Ys.new_float,yt=Ys.new_int,La=oa;function B2(){this.xr=w2(576),this.l3_enc=yt(576),this.scalefac=yt(La.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=yt(3),this.subblock_gain=yt(3+1),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=yt(La.SFBMAX),this.window=yt(La.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=yt(4),this.max_nonzero_coeff=0;var e=this;function t(a){return new Int32Array(a)}function n(a){return new Float32Array(a)}this.assign=function(a){e.xr=n(a.xr),e.l3_enc=t(a.l3_enc),e.scalefac=t(a.scalefac),e.xrpow_max=a.xrpow_max,e.part2_3_length=a.part2_3_length,e.big_values=a.big_values,e.count1=a.count1,e.global_gain=a.global_gain,e.scalefac_compress=a.scalefac_compress,e.block_type=a.block_type,e.mixed_block_flag=a.mixed_block_flag,e.table_select=t(a.table_select),e.subblock_gain=t(a.subblock_gain),e.region0_count=a.region0_count,e.region1_count=a.region1_count,e.preflag=a.preflag,e.scalefac_scale=a.scalefac_scale,e.count1table_select=a.count1table_select,e.part2_length=a.part2_length,e.sfb_lmax=a.sfb_lmax,e.sfb_smin=a.sfb_smin,e.psy_lmax=a.psy_lmax,e.sfbmax=a.sfbmax,e.psymax=a.psymax,e.sfbdivide=a.sfbdivide,e.width=t(a.width),e.window=t(a.window),e.count1bits=a.count1bits,e.sfb_partition_table=a.sfb_partition_table.slice(0),e.slen=t(a.slen),e.max_nonzero_coeff=a.max_nonzero_coeff}}var Mr=B2,I2=n0,h1=I2.new_int,C2=Mr;function L2(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[h1(4),h1(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new C2}var O2=L2,qs=n0,Nn=qs.System,Fn=qs.new_int,Hn=x0();function N2(e,t,n,a){this.l=Fn(1+Hn.SBMAX_l),this.s=Fn(1+Hn.SBMAX_s),this.psfb21=Fn(1+Hn.PSFB21),this.psfb12=Fn(1+Hn.PSFB12);var s=this.l,l=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Nn.arraycopy(this.arrL,0,s,0,Math.min(this.arrL.length,this.l.length)),Nn.arraycopy(this.arrS,0,l,0,Math.min(this.arrS.length,this.s.length)),Nn.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Nn.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var Us=N2,Ar=n0,Oa=Ar.new_float,F2=Ar.new_float_n,H2=Ar.new_int,d1=x0();function k2(){this.last_en_subshort=F2([4,9]),this.lastAttacks=H2(4),this.pefirbuf=Oa(19),this.longfact=Oa(d1.SBMAX_l),this.shortfact=Oa(d1.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var V2=k2;function P2(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var D2=P2,gt=n0,X2=gt.new_byte,$2=gt.new_double,k0=gt.new_float,Tt=gt.new_float_n,X0=gt.new_int,kn=gt.new_int_n,Y2=O2,q2=Us,U2=V2,G2=D2,m1=Ds(),a0=x0(),K2=oa;lt.MFSIZE=3*1152+a0.ENCDELAY-a0.MDCTDELAY;lt.MAX_HEADER_BUF=256;lt.MAX_BITS_PER_CHANNEL=4095;lt.MAX_BITS_PER_GRANULE=7680;lt.BPC=320;function lt(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=Tt([2,lt.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new Y2,this.ms_ratio=k0(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=X0(2),this.CurrentStep=X0(2),this.masking_lower=0,this.bv_scf=X0(576),this.pseudohalf=X0(K2.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*lt.BPC+1),this.itime=$2(2),this.sideinfo_len=0,this.sb_sample=Tt([2,2,18,a0.SBLIMIT]),this.amp_filter=k0(32);function t(){this.write_timing=0,this.ptr=0,this.buf=X2(e)}this.header=new Array(lt.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new q2,this.minval_l=k0(a0.CBANDS),this.minval_s=k0(a0.CBANDS),this.nb_1=Tt([4,a0.CBANDS]),this.nb_2=Tt([4,a0.CBANDS]),this.nb_s1=Tt([4,a0.CBANDS]),this.nb_s2=Tt([4,a0.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=k0(4),this.loudness_sq=Tt([2,2]),this.loudness_sq_save=k0(2),this.mld_l=k0(a0.SBMAX_l),this.mld_s=k0(a0.SBMAX_s),this.bm_l=X0(a0.SBMAX_l),this.bo_l=X0(a0.SBMAX_l),this.bm_s=X0(a0.SBMAX_s),this.bo_s=X0(a0.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=kn([a0.CBANDS,2]),this.s3ind_s=kn([a0.CBANDS,2]),this.numlines_s=X0(a0.CBANDS),this.numlines_l=X0(a0.CBANDS),this.rnumlines_l=k0(a0.CBANDS),this.mld_cb_l=k0(a0.CBANDS),this.mld_cb_s=k0(a0.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=k0(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=X0(2),this.nsPsy=new U2,this.VBR_seek_table=new G2,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=kn([16,4+1]),this.bitrate_blockType_Hist=kn([16,4+1+1]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new m1;for(var n=0;n<this.thm.length;n++)this.thm[n]=new m1;for(var n=0;n<this.header.length;n++)this.header[n]=new t}var _a=lt,j2=n0,wt=j2.new_float,Bt=x0();function W2(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=wt(Bt.SBMAX_l),this.s=wt(Bt.SBMAX_s),this.psfb21=wt(Bt.PSFB21),this.psfb12=wt(Bt.PSFB12),this.cb_l=wt(Bt.CBANDS),this.cb_s=wt(Bt.CBANDS),this.eql_w=wt(Bt.BLKSIZE/2)}var z2=W2,Gs=n0,y0=Gs.System,b1=Gs.Arrays;r0.STEPS_per_dB=100;r0.MAX_dB=120;r0.GAIN_NOT_ENOUGH_SAMPLES=-24601;r0.GAIN_ANALYSIS_ERROR=0;r0.GAIN_ANALYSIS_OK=1;r0.INIT_GAIN_ANALYSIS_ERROR=0;r0.INIT_GAIN_ANALYSIS_OK=1;r0.YULE_ORDER=10;r0.MAX_ORDER=r0.YULE_ORDER;r0.MAX_SAMP_FREQ=48e3;r0.RMS_WINDOW_TIME_NUMERATOR=1;r0.RMS_WINDOW_TIME_DENOMINATOR=20;r0.MAX_SAMPLES_PER_WINDOW=r0.MAX_SAMP_FREQ*r0.RMS_WINDOW_TIME_NUMERATOR/r0.RMS_WINDOW_TIME_DENOMINATOR+1;function r0(){var e=64.82,t=.95,n=r0.RMS_WINDOW_TIME_NUMERATOR,a=r0.RMS_WINDOW_TIME_DENOMINATOR,s=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],l=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function d(o,M,j,K,z,G){for(;z--!=0;)j[K]=1e-10+o[M+0]*G[0]-j[K-1]*G[1]+o[M-1]*G[2]-j[K-2]*G[3]+o[M-2]*G[4]-j[K-3]*G[5]+o[M-3]*G[6]-j[K-4]*G[7]+o[M-4]*G[8]-j[K-5]*G[9]+o[M-5]*G[10]-j[K-6]*G[11]+o[M-6]*G[12]-j[K-7]*G[13]+o[M-7]*G[14]-j[K-8]*G[15]+o[M-8]*G[16]-j[K-9]*G[17]+o[M-9]*G[18]-j[K-10]*G[19]+o[M-10]*G[20],++K,++M}function c(o,M,j,K,z,G){for(;z--!=0;)j[K]=o[M+0]*G[0]-j[K-1]*G[1]+o[M-1]*G[2]-j[K-2]*G[3]+o[M-2]*G[4],++K,++M}function E(o,M){for(var j=0;j<MAX_ORDER;j++)o.linprebuf[j]=o.lstepbuf[j]=o.loutbuf[j]=o.rinprebuf[j]=o.rstepbuf[j]=o.routbuf[j]=0;switch(0|M){case 48e3:o.reqindex=0;break;case 44100:o.reqindex=1;break;case 32e3:o.reqindex=2;break;case 24e3:o.reqindex=3;break;case 22050:o.reqindex=4;break;case 16e3:o.reqindex=5;break;case 12e3:o.reqindex=6;break;case 11025:o.reqindex=7;break;case 8e3:o.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return o.sampleWindow=0|(M*n+a-1)/a,o.lsum=0,o.rsum=0,o.totsamp=0,b1.ill(o.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(o,M){return E(o,M)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(o.linpre=MAX_ORDER,o.rinpre=MAX_ORDER,o.lstep=MAX_ORDER,o.rstep=MAX_ORDER,o.lout=MAX_ORDER,o.rout=MAX_ORDER,b1.fill(o.B,0),INIT_GAIN_ANALYSIS_OK)};function U(o){return o*o}this.AnalyzeSamples=function(o,M,j,K,z,G,T){var p,S,I,r,b,F,D;if(G==0)return GAIN_ANALYSIS_OK;switch(D=0,b=G,T){case 1:K=M,z=j;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(G<MAX_ORDER?(y0.arraycopy(M,j,o.linprebuf,MAX_ORDER,G),y0.arraycopy(K,z,o.rinprebuf,MAX_ORDER,G)):(y0.arraycopy(M,j,o.linprebuf,MAX_ORDER,MAX_ORDER),y0.arraycopy(K,z,o.rinprebuf,MAX_ORDER,MAX_ORDER));b>0;){F=b>o.sampleWindow-o.totsamp?o.sampleWindow-o.totsamp:b,D<MAX_ORDER?(p=o.linpre+D,S=o.linprebuf,I=o.rinpre+D,r=o.rinprebuf,F>MAX_ORDER-D&&(F=MAX_ORDER-D)):(p=j+D,S=M,I=z+D,r=K),d(S,p,o.lstepbuf,o.lstep+o.totsamp,F,s[o.reqindex]),d(r,I,o.rstepbuf,o.rstep+o.totsamp,F,s[o.reqindex]),c(o.lstepbuf,o.lstep+o.totsamp,o.loutbuf,o.lout+o.totsamp,F,l[o.reqindex]),c(o.rstepbuf,o.rstep+o.totsamp,o.routbuf,o.rout+o.totsamp,F,l[o.reqindex]),p=o.lout+o.totsamp,S=o.loutbuf,I=o.rout+o.totsamp,r=o.routbuf;for(var W=F%8;W--!=0;)o.lsum+=U(S[p++]),o.rsum+=U(r[I++]);for(W=F/8;W--!=0;)o.lsum+=U(S[p+0])+U(S[p+1])+U(S[p+2])+U(S[p+3])+U(S[p+4])+U(S[p+5])+U(S[p+6])+U(S[p+7]),p+=8,o.rsum+=U(r[I+0])+U(r[I+1])+U(r[I+2])+U(r[I+3])+U(r[I+4])+U(r[I+5])+U(r[I+6])+U(r[I+7]),I+=8;if(b-=F,D+=F,o.totsamp+=F,o.totsamp==o.sampleWindow){var P=r0.STEPS_per_dB*10*Math.log10((o.lsum+o.rsum)/o.totsamp*.5+1e-37),X=P<=0?0:0|P;X>=o.A.length&&(X=o.A.length-1),o.A[X]++,o.lsum=o.rsum=0,y0.arraycopy(o.loutbuf,o.totsamp,o.loutbuf,0,MAX_ORDER),y0.arraycopy(o.routbuf,o.totsamp,o.routbuf,0,MAX_ORDER),y0.arraycopy(o.lstepbuf,o.totsamp,o.lstepbuf,0,MAX_ORDER),y0.arraycopy(o.rstepbuf,o.totsamp,o.rstepbuf,0,MAX_ORDER),o.totsamp=0}if(o.totsamp>o.sampleWindow)return GAIN_ANALYSIS_ERROR}return G<MAX_ORDER?(y0.arraycopy(o.linprebuf,G,o.linprebuf,0,MAX_ORDER-G),y0.arraycopy(o.rinprebuf,G,o.rinprebuf,0,MAX_ORDER-G),y0.arraycopy(M,j,o.linprebuf,MAX_ORDER-G,G),y0.arraycopy(K,z,o.rinprebuf,MAX_ORDER-G,G)):(y0.arraycopy(M,j+G-MAX_ORDER,o.linprebuf,0,MAX_ORDER),y0.arraycopy(K,z+G-MAX_ORDER,o.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function h(o,M){var j,K=0;for(j=0;j<M;j++)K+=o[j];if(K==0)return GAIN_NOT_ENOUGH_SAMPLES;var z=0|Math.ceil(K*(1-t));for(j=M;j-- >0&&!((z-=o[j])<=0););return e-j/r0.STEPS_per_dB}this.GetTitleGain=function(o){for(var M=h(o.A,o.A.length),j=0;j<o.A.length;j++)o.B[j]+=o.A[j],o.A[j]=0;for(var j=0;j<MAX_ORDER;j++)o.linprebuf[j]=o.lstepbuf[j]=o.loutbuf[j]=o.rinprebuf[j]=o.rstepbuf[j]=o.routbuf[j]=0;return o.totsamp=0,o.lsum=o.rsum=0,M}}var Ks=r0,js=n0,Dt=js.new_float,p1=js.new_int,T0=Ks;function Z2(){this.linprebuf=Dt(T0.MAX_ORDER*2),this.linpre=0,this.lstepbuf=Dt(T0.MAX_SAMPLES_PER_WINDOW+T0.MAX_ORDER),this.lstep=0,this.loutbuf=Dt(T0.MAX_SAMPLES_PER_WINDOW+T0.MAX_ORDER),this.lout=0,this.rinprebuf=Dt(T0.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=Dt(T0.MAX_SAMPLES_PER_WINDOW+T0.MAX_ORDER),this.rstep=0,this.routbuf=Dt(T0.MAX_SAMPLES_PER_WINDOW+T0.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=p1(0|T0.STEPS_per_dB*T0.MAX_dB),this.B=p1(0|T0.STEPS_per_dB*T0.MAX_dB)}var Q2=Z2;function g2(e){this.bits=e}var Ws=g2,Er=n0,x1=Er.new_float,J2=Er.new_int,S1=Er.assert,e_=Ws,M1=x0(),t_=oa,n_=_a;function a_(e){var t=e;this.quantize=t,this.iteration_loop=function(n,a,s,l){var d=n.internal_flags,c=x1(t_.SFBMAX),E=x1(576),U=J2(2),h=0,o,M=d.l3_side,j=new e_(h);this.quantize.rv.ResvFrameBegin(n,j),h=j.bits;for(var K=0;K<d.mode_gr;K++){o=this.quantize.qupvt.on_pe(n,a,U,h,K,K),d.mode_ext==M1.MPG_MD_MS_LR&&(this.quantize.ms_convert(d.l3_side,K),this.quantize.qupvt.reduce_side(U,s[K],h,o));for(var z=0;z<d.channels_out;z++){var G,T,p=M.tt[K][z];p.block_type!=M1.SHORT_TYPE?(G=0,T=d.PSY.mask_adjust-G):(G=0,T=d.PSY.mask_adjust_short-G),d.masking_lower=Math.pow(10,T*.1),this.quantize.init_outer_loop(d,p),this.quantize.init_xrpow(d,p,E)&&(this.quantize.qupvt.calc_xmin(n,l[K][z],p,c),this.quantize.outer_loop(n,p,c,E,z,U[z])),this.quantize.iteration_finish_one(d,K,z),S1(p.part2_3_length<=n_.MAX_BITS_PER_CHANNEL),S1(p.part2_3_length<=U[z])}}this.quantize.rv.ResvFrameEnd(d,h)}}var r_=a_;function Ke(e,t,n,a){this.xlen=e,this.linmax=t,this.table=n,this.hlen=a}var Re={};Re.t1HB=[1,1,1,0];Re.t2HB=[1,2,1,3,1,1,3,2,0];Re.t3HB=[3,2,1,1,1,1,3,2,0];Re.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];Re.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];Re.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];Re.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];Re.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];Re.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];Re.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];Re.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];Re.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];Re.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];Re.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];Re.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];Re.t32HB=[1<<0,5<<1,4<<1,5<<2,6<<1,5<<2,4<<2,4<<3,7<<1,3<<2,6<<2,0<<3,7<<2,2<<3,3<<3,1<<4];Re.t33HB=[15<<0,14<<1,13<<1,12<<2,11<<1,10<<2,9<<2,8<<3,7<<1,6<<2,5<<2,4<<3,3<<2,2<<3,1<<3,0<<4];Re.t1l=[1,4,3,5];Re.t2l=[1,4,7,4,5,7,6,7,8];Re.t3l=[2,3,7,4,4,7,6,7,8];Re.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];Re.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];Re.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];Re.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];Re.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];Re.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];Re.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];Re.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];Re.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];Re.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];Re.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];Re.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];Re.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];Re.t32l=[1+0,4+1,4+1,5+2,4+1,6+2,5+2,6+3,4+1,5+2,5+2,6+3,5+2,6+3,6+3,6+4];Re.t33l=[4+0,4+1,4+1,4+2,4+1,4+2,4+2,4+3,4+1,4+2,4+2,4+3,4+2,4+3,4+3,4+4];Re.ht=[new Ke(0,0,null,null),new Ke(2,0,Re.t1HB,Re.t1l),new Ke(3,0,Re.t2HB,Re.t2l),new Ke(3,0,Re.t3HB,Re.t3l),new Ke(0,0,null,null),new Ke(4,0,Re.t5HB,Re.t5l),new Ke(4,0,Re.t6HB,Re.t6l),new Ke(6,0,Re.t7HB,Re.t7l),new Ke(6,0,Re.t8HB,Re.t8l),new Ke(6,0,Re.t9HB,Re.t9l),new Ke(8,0,Re.t10HB,Re.t10l),new Ke(8,0,Re.t11HB,Re.t11l),new Ke(8,0,Re.t12HB,Re.t12l),new Ke(16,0,Re.t13HB,Re.t13l),new Ke(0,0,null,Re.t16_5l),new Ke(16,0,Re.t15HB,Re.t15l),new Ke(1,1,Re.t16HB,Re.t16l),new Ke(2,3,Re.t16HB,Re.t16l),new Ke(3,7,Re.t16HB,Re.t16l),new Ke(4,15,Re.t16HB,Re.t16l),new Ke(6,63,Re.t16HB,Re.t16l),new Ke(8,255,Re.t16HB,Re.t16l),new Ke(10,1023,Re.t16HB,Re.t16l),new Ke(13,8191,Re.t16HB,Re.t16l),new Ke(4,15,Re.t24HB,Re.t24l),new Ke(5,31,Re.t24HB,Re.t24l),new Ke(6,63,Re.t24HB,Re.t24l),new Ke(7,127,Re.t24HB,Re.t24l),new Ke(8,255,Re.t24HB,Re.t24l),new Ke(9,511,Re.t24HB,Re.t24l),new Ke(11,2047,Re.t24HB,Re.t24l),new Ke(13,8191,Re.t24HB,Re.t24l),new Ke(0,0,Re.t32HB,Re.t32l),new Ke(0,0,Re.t33HB,Re.t33l)];Re.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];Re.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];Re.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];Re.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];Re.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];Re.scfsi_band=[0,6,11,16,21];var Rr=Re,Na,A1;function zs(){if(A1)return Na;A1=1;var e=Us,t=n0,n=t.VbrMode,a=t.Float,s=t.Util,l=t.new_float,d=t.new_int,c=t.assert,E=x0(),U=Ws,h=_a;o.Q_MAX=256+1,o.Q_MAX2=116,o.LARGE_BITS=1e5,o.IXMAX_VAL=8206;function o(){var M=yr(),j=null,K=null,z=null;this.setModules=function(y,w,V){j=y,K=w,z=V};function G(y){return c(0<=y+o.Q_MAX2&&y<o.Q_MAX),D[y+o.Q_MAX2]}this.IPOW20=function(y){return c(0<=y&&y<o.Q_MAX),W[y]};var T=2220446049250313e-31,p=o.IXMAX_VAL,S=p+2,I=o.Q_MAX,r=o.Q_MAX2;o.LARGE_BITS;var b=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var F=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=F,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var D=l(I+r+1),W=l(I),P=l(S),X=l(S);this.adj43=X;function de(y,w){var V=z.ATHformula(w,y);return V-=b,V=Math.pow(10,V/10+y.ATHlower),V}function C(y){for(var w=y.internal_flags.ATH.l,V=y.internal_flags.ATH.psfb21,O=y.internal_flags.ATH.s,Q=y.internal_flags.ATH.psfb12,k=y.internal_flags,m=y.out_samplerate,u=0;u<E.SBMAX_l;u++){var f=k.scalefac_band.l[u],x=k.scalefac_band.l[u+1];w[u]=a.MAX_VALUE;for(var B=f;B<x;B++){var g=B*m/1152,oe=de(y,g);w[u]=Math.min(w[u],oe)}}for(var u=0;u<E.PSFB21;u++){var f=k.scalefac_band.psfb21[u],x=k.scalefac_band.psfb21[u+1];V[u]=a.MAX_VALUE;for(var B=f;B<x;B++){var g=B*m/1152,oe=de(y,g);V[u]=Math.min(V[u],oe)}}for(var u=0;u<E.SBMAX_s;u++){var f=k.scalefac_band.s[u],x=k.scalefac_band.s[u+1];O[u]=a.MAX_VALUE;for(var B=f;B<x;B++){var g=B*m/384,oe=de(y,g);O[u]=Math.min(O[u],oe)}O[u]*=k.scalefac_band.s[u+1]-k.scalefac_band.s[u]}for(var u=0;u<E.PSFB12;u++){var f=k.scalefac_band.psfb12[u],x=k.scalefac_band.psfb12[u+1];Q[u]=a.MAX_VALUE;for(var B=f;B<x;B++){var g=B*m/384,oe=de(y,g);Q[u]=Math.min(Q[u],oe)}Q[u]*=k.scalefac_band.s[13]-k.scalefac_band.s[12]}if(y.noATH){for(var u=0;u<E.SBMAX_l;u++)w[u]=1e-20;for(var u=0;u<E.PSFB21;u++)V[u]=1e-20;for(var u=0;u<E.SBMAX_s;u++)O[u]=1e-20;for(var u=0;u<E.PSFB12;u++)Q[u]=1e-20}k.ATH.floor=10*Math.log10(de(y,-1))}this.iteration_init=function(y){var w=y.internal_flags,V=w.l3_side,O;if(w.iteration_init_init==0){for(w.iteration_init_init=1,V.main_data_begin=0,C(y),P[0]=0,O=1;O<S;O++)P[O]=Math.pow(O,4/3);for(O=0;O<S-1;O++)X[O]=O+1-Math.pow(.5*(P[O]+P[O+1]),.75);for(X[O]=.5,O=0;O<I;O++)W[O]=Math.pow(2,(O-210)*-.1875);for(O=0;O<=I+r;O++)D[O]=Math.pow(2,(O-210-r)*.25);j.huffman_init(w);{var Q,k,m,u;for(O=y.exp_nspsytune>>2&63,O>=32&&(O-=64),Q=Math.pow(10,O/4/10),O=y.exp_nspsytune>>8&63,O>=32&&(O-=64),k=Math.pow(10,O/4/10),O=y.exp_nspsytune>>14&63,O>=32&&(O-=64),m=Math.pow(10,O/4/10),O=y.exp_nspsytune>>20&63,O>=32&&(O-=64),u=m*Math.pow(10,O/4/10),O=0;O<E.SBMAX_l;O++){var f;O<=6?f=Q:O<=13?f=k:O<=20?f=m:f=u,w.nsPsy.longfact[O]=f}for(O=0;O<E.SBMAX_s;O++){var f;O<=5?f=Q:O<=10?f=k:O<=11?f=m:f=u,w.nsPsy.shortfact[O]=f}}}},this.on_pe=function(y,w,V,O,Q,k){var m=y.internal_flags,u=0,f,x=d(2),B,g=new U(u),oe=K.ResvMaxBits(y,O,g,k);u=g.bits;var q=u+oe;for(q>h.MAX_BITS_PER_GRANULE&&(q=h.MAX_BITS_PER_GRANULE),f=0,B=0;B<m.channels_out;++B)V[B]=Math.min(h.MAX_BITS_PER_CHANNEL,u/m.channels_out),x[B]=0|V[B]*w[Q][B]/700-V[B],x[B]>O*3/4&&(x[B]=O*3/4),x[B]<0&&(x[B]=0),x[B]+V[B]>h.MAX_BITS_PER_CHANNEL&&(x[B]=Math.max(0,h.MAX_BITS_PER_CHANNEL-V[B])),f+=x[B];if(f>oe)for(B=0;B<m.channels_out;++B)x[B]=oe*x[B]/f;for(B=0;B<m.channels_out;++B)V[B]+=x[B],oe-=x[B];for(f=0,B=0;B<m.channels_out;++B)f+=V[B];if(f>h.MAX_BITS_PER_GRANULE){var ne=0;for(B=0;B<m.channels_out;++B)V[B]*=h.MAX_BITS_PER_GRANULE,V[B]/=f,ne+=V[B]}return q},this.reduce_side=function(y,w,V,O){c(y[0]+y[1]<=h.MAX_BITS_PER_GRANULE);var Q=.33*(.5-w)/.5;Q<0&&(Q=0),Q>.5&&(Q=.5);var k=0|Q*.5*(y[0]+y[1]);k>h.MAX_BITS_PER_CHANNEL-y[0]&&(k=h.MAX_BITS_PER_CHANNEL-y[0]),k<0&&(k=0),y[1]>=125&&(y[1]-k>125?(y[0]<V&&(y[0]+=k),y[1]-=k):(y[0]+=y[1]-125,y[1]=125)),k=y[0]+y[1],k>O&&(y[0]=O*y[0]/k,y[1]=O*y[1]/k),c(y[0]<=h.MAX_BITS_PER_CHANNEL),c(y[1]<=h.MAX_BITS_PER_CHANNEL),c(y[0]+y[1]<=h.MAX_BITS_PER_GRANULE)},this.athAdjust=function(y,w,V){var O=90.30873362,Q=94.82444863,k=s.FAST_LOG10_X(w,10),m=y*y,u=0;return k-=V,m>1e-20&&(u=1+s.FAST_LOG10_X(m,10/O)),u<0&&(u=0),k*=u,k+=V+O-Q,Math.pow(10,.1*k)},this.calc_xmin=function(y,w,V,O){var Q=0,k=y.internal_flags,m,u=0,f=0,x=k.ATH,B=V.xr,g=y.VBR==n.vbr_mtrh?1:0,oe=k.masking_lower;for((y.VBR==n.vbr_mtrh||y.VBR==n.vbr_mt)&&(oe=1),m=0;m<V.psy_lmax;m++){var q,ne,ve,ye,L,$;y.VBR==n.vbr_rh||y.VBR==n.vbr_mtrh?ne=athAdjust(x.adjust,x.l[m],x.floor):ne=x.adjust*x.l[m],L=V.width[m],ve=ne/L,ye=T,$=L>>1,q=0;do{var Z,ae;Z=B[u]*B[u],q+=Z,ye+=Z<ve?Z:ve,u++,ae=B[u]*B[u],q+=ae,ye+=ae<ve?ae:ve,u++}while(--$>0);if(q>ne&&f++,m==E.SBPSY_l){var ie=ne*k.nsPsy.longfact[m];ye<ie&&(ye=ie)}if(g!=0&&(ne=ye),!y.ATHonly){var xe=w.en.l[m];if(xe>0){var ie;ie=q*w.thm.l[m]*oe/xe,g!=0&&(ie*=k.nsPsy.longfact[m]),ne<ie&&(ne=ie)}}g!=0?O[Q++]=ne:O[Q++]=ne*k.nsPsy.longfact[m]}var Ce=575;if(V.block_type!=E.SHORT_TYPE)for(var i=576;i--!=0&&M.EQ(B[i],0);)Ce=i;V.max_nonzero_coeff=Ce;for(var v=V.sfb_smin;m<V.psymax;v++,m+=3){var L,re,he;for(y.VBR==n.vbr_rh||y.VBR==n.vbr_mtrh?he=athAdjust(x.adjust,x.s[v],x.floor):he=x.adjust*x.s[v],L=V.width[m],re=0;re<3;re++){var q=0,ne,ve,ye,$=L>>1;ve=he/L,ye=T;do{var Z,ae;Z=B[u]*B[u],q+=Z,ye+=Z<ve?Z:ve,u++,ae=B[u]*B[u],q+=ae,ye+=ae<ve?ae:ve,u++}while(--$>0);if(q>he&&f++,v==E.SBPSY_s){var ie=he*k.nsPsy.shortfact[v];ye<ie&&(ye=ie)}if(g!=0?ne=ye:ne=he,!y.ATHonly&&!y.ATHshort){var xe=w.en.s[v][re];if(xe>0){var ie;ie=q*w.thm.s[v][re]*oe/xe,g!=0&&(ie*=k.nsPsy.shortfact[v]),ne<ie&&(ne=ie)}}g!=0?O[Q++]=ne:O[Q++]=ne*k.nsPsy.shortfact[v]}y.useTemporal&&(O[Q-3]>O[Q-3+1]&&(O[Q-3+1]+=(O[Q-3]-O[Q-3+1])*k.decay),O[Q-3+1]>O[Q-3+2]&&(O[Q-3+2]+=(O[Q-3+1]-O[Q-3+2])*k.decay))}return f};function _(y){this.s=y}this.calc_noise_core=function(y,w,V,O){var Q=0,k=w.s,m=y.l3_enc;if(k>y.count1)for(;V--!=0;){var u;u=y.xr[k],k++,Q+=u*u,u=y.xr[k],k++,Q+=u*u}else if(k>y.big_values){var f=l(2);for(f[0]=0,f[1]=O;V--!=0;){var u;u=Math.abs(y.xr[k])-f[m[k]],k++,Q+=u*u,u=Math.abs(y.xr[k])-f[m[k]],k++,Q+=u*u}}else for(;V--!=0;){var u;u=Math.abs(y.xr[k])-P[m[k]]*O,k++,Q+=u*u,u=Math.abs(y.xr[k])-P[m[k]]*O,k++,Q+=u*u}return w.s=k,Q},this.calc_noise=function(y,w,V,O,Q){var k=0,m=0,u,f,x=0,B=0,g=0,oe=-20,q=0,ne=y.scalefac,ve=0;for(O.over_SSD=0,u=0;u<y.psymax;u++){var ye=y.global_gain-(ne[ve++]+(y.preflag!=0?F[u]:0)<<y.scalefac_scale+1)-y.subblock_gain[y.window[u]]*8,L=0;if(Q!=null&&Q.step[u]==ye)L=Q.noise[u],q+=y.width[u],V[k++]=L/w[m++],L=Q.noise_log[u];else{var $=G(ye);if(f=y.width[u]>>1,q+y.width[u]>y.max_nonzero_coeff){var Z;Z=y.max_nonzero_coeff-q+1,Z>0?f=Z>>1:f=0}var ae=new _(q);L=this.calc_noise_core(y,ae,f,$),q=ae.s,Q!=null&&(Q.step[u]=ye,Q.noise[u]=L),L=V[k++]=L/w[m++],L=s.FAST_LOG10(Math.max(L,1e-20)),Q!=null&&(Q.noise_log[u]=L)}if(Q!=null&&(Q.global_gain=y.global_gain),g+=L,L>0){var ie;ie=Math.max(0|L*10+.5,1),O.over_SSD+=ie*ie,x++,B+=L}oe=Math.max(oe,L)}return O.over_count=x,O.tot_noise=g,O.over_noise=B,O.max_noise=oe,x},this.set_pinfo=function(y,w,V,O,Q){var k=y.internal_flags,m,u,f,x,B,g=w.scalefac_scale==0?.5:1,oe=w.scalefac,q=l(L3Side.SFBMAX),ne=l(L3Side.SFBMAX),ve=new CalcNoiseResult;calc_xmin(y,V,w,q),calc_noise(w,q,ne,ve,null);var ye=0;for(u=w.sfb_lmax,w.block_type!=E.SHORT_TYPE&&w.mixed_block_flag==0&&(u=22),m=0;m<u;m++){var L=k.scalefac_band.l[m],$=k.scalefac_band.l[m+1],Z=$-L;for(x=0;ye<$;ye++)x+=w.xr[ye]*w.xr[ye];x/=Z,B=1e15,k.pinfo.en[O][Q][m]=B*x,k.pinfo.xfsf[O][Q][m]=B*q[m]*ne[m]/Z,V.en.l[m]>0&&!y.ATHonly?x=x/V.en.l[m]:x=0,k.pinfo.thr[O][Q][m]=B*Math.max(x*V.thm.l[m],k.ATH.l[m]),k.pinfo.LAMEsfb[O][Q][m]=0,w.preflag!=0&&m>=11&&(k.pinfo.LAMEsfb[O][Q][m]=-g*F[m]),m<E.SBPSY_l&&(c(oe[m]>=0),k.pinfo.LAMEsfb[O][Q][m]-=g*oe[m])}if(w.block_type==E.SHORT_TYPE)for(u=m,m=w.sfb_smin;m<E.SBMAX_s;m++)for(var L=k.scalefac_band.s[m],$=k.scalefac_band.s[m+1],Z=$-L,ae=0;ae<3;ae++){for(x=0,f=L;f<$;f++)x+=w.xr[ye]*w.xr[ye],ye++;x=Math.max(x/Z,1e-20),B=1e15,k.pinfo.en_s[O][Q][3*m+ae]=B*x,k.pinfo.xfsf_s[O][Q][3*m+ae]=B*q[u]*ne[u]/Z,V.en.s[m][ae]>0?x=x/V.en.s[m][ae]:x=0,(y.ATHonly||y.ATHshort)&&(x=0),k.pinfo.thr_s[O][Q][3*m+ae]=B*Math.max(x*V.thm.s[m][ae],k.ATH.s[m]),k.pinfo.LAMEsfb_s[O][Q][3*m+ae]=-2*w.subblock_gain[ae],m<E.SBPSY_s&&(k.pinfo.LAMEsfb_s[O][Q][3*m+ae]-=g*oe[u]),u++}k.pinfo.LAMEqss[O][Q]=w.global_gain,k.pinfo.LAMEmainbits[O][Q]=w.part2_3_length+w.part2_length,k.pinfo.LAMEsfbits[O][Q]=w.part2_length,k.pinfo.over[O][Q]=ve.over_count,k.pinfo.max_noise[O][Q]=ve.max_noise*10,k.pinfo.over_noise[O][Q]=ve.over_noise*10,k.pinfo.tot_noise[O][Q]=ve.tot_noise*10,k.pinfo.over_SSD[O][Q]=ve.over_SSD}}return Na=o,Na}var Fa,E1;function Zs(){if(E1)return Fa;E1=1;var e=n0,t=e.System,n=e.Arrays,a=e.new_int,s=e.assert,l=x0(),d=Rr,c=Mr,E=zs();function U(){var h=null;this.qupvt=null,this.setModules=function(k){this.qupvt=k,h=k};function o(k){this.bits=0|k}var M=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function j(k,m,u,f,x,B){var g=.5946/m;for(k=k>>1;k--!=0;)x[B++]=g>u[f++]?0:1,x[B++]=g>u[f++]?0:1}function K(k,m,u,f,x,B){k=k>>1;var g=k%2;for(k=k>>1;k--!=0;){var oe,q,ne,ve,ye,L,$,Z;oe=u[f++]*m,q=u[f++]*m,ye=0|oe,ne=u[f++]*m,L=0|q,ve=u[f++]*m,$=0|ne,oe+=h.adj43[ye],Z=0|ve,q+=h.adj43[L],x[B++]=0|oe,ne+=h.adj43[$],x[B++]=0|q,ve+=h.adj43[Z],x[B++]=0|ne,x[B++]=0|ve}if(g!=0){var oe,q,ye,L;oe=u[f++]*m,q=u[f++]*m,ye=0|oe,L=0|q,oe+=h.adj43[ye],q+=h.adj43[L],x[B++]=0|oe,x[B++]=0|q}}function z(k,m,u,f,x){var B,g,oe=0,q,ne=0,ve=0,ye=0,L=m,$=0,Z=L,ae=0,ie=k,xe=0;for(q=x!=null&&f.global_gain==x.global_gain,f.block_type==l.SHORT_TYPE?g=38:g=21,B=0;B<=g;B++){var Ce=-1;if((q||f.block_type==l.NORM_TYPE)&&(Ce=f.global_gain-(f.scalefac[B]+(f.preflag!=0?h.pretab[B]:0)<<f.scalefac_scale+1)-f.subblock_gain[f.window[B]]*8),s(f.width[B]>=0),q&&x.step[B]==Ce)ne!=0&&(K(ne,u,ie,xe,Z,ae),ne=0),ve!=0&&(j(ve,u,ie,xe,Z,ae),ve=0);else{var i=f.width[B];if(oe+f.width[B]>f.max_nonzero_coeff){var v;v=f.max_nonzero_coeff-oe+1,n.fill(m,f.max_nonzero_coeff,576,0),i=v,i<0&&(i=0),B=g+1}if(ne==0&&ve==0&&(Z=L,ae=$,ie=k,xe=ye),x!=null&&x.sfb_count1>0&&B>=x.sfb_count1&&x.step[B]>0&&Ce>=x.step[B]?(ne!=0&&(K(ne,u,ie,xe,Z,ae),ne=0,Z=L,ae=$,ie=k,xe=ye),ve+=i):(ve!=0&&(j(ve,u,ie,xe,Z,ae),ve=0,Z=L,ae=$,ie=k,xe=ye),ne+=i),i<=0){ve!=0&&(j(ve,u,ie,xe,Z,ae),ve=0),ne!=0&&(K(ne,u,ie,xe,Z,ae),ne=0);break}}B<=g&&($+=f.width[B],ye+=f.width[B],oe+=f.width[B])}ne!=0&&(K(ne,u,ie,xe,Z,ae),ne=0),ve!=0&&(j(ve,u,ie,xe,Z,ae),ve=0)}function G(k,m,u){var f=0,x=0;do{var B=k[m++],g=k[m++];f<B&&(f=B),x<g&&(x=g)}while(m<u);return f<x&&(f=x),f}function T(k,m,u,f,x,B){var g=d.ht[f].xlen*65536+d.ht[x].xlen,oe=0,q;do{var ne=k[m++],ve=k[m++];ne!=0&&(ne>14&&(ne=15,oe+=g),ne*=16),ve!=0&&(ve>14&&(ve=15,oe+=g),ne+=ve),oe+=d.largetbl[ne]}while(m<u);return q=oe&65535,oe>>=16,oe>q&&(oe=q,f=x),B.bits+=oe,f}function p(k,m,u,f){var x=0,B=d.ht[1].hlen;do{var g=k[m+0]*2+k[m+1];m+=2,x+=B[g]}while(m<u);return f.bits+=x,1}function S(k,m,u,f,x){var B=0,g,oe=d.ht[f].xlen,q;f==2?q=d.table23:q=d.table56;do{var ne=k[m+0]*oe+k[m+1];m+=2,B+=q[ne]}while(m<u);return g=B&65535,B>>=16,B>g&&(B=g,f++),x.bits+=B,f}function I(k,m,u,f,x){var B=0,g=0,oe=0,q=d.ht[f].xlen,ne=d.ht[f].hlen,ve=d.ht[f+1].hlen,ye=d.ht[f+2].hlen;do{var L=k[m+0]*q+k[m+1];m+=2,B+=ne[L],g+=ve[L],oe+=ye[L]}while(m<u);var $=f;return B>g&&(B=g,$++),B>oe&&(B=oe,$=f+2),x.bits+=B,$}var r=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function b(k,m,u,f){var x=G(k,m,u);switch(x){case 0:return x;case 1:return p(k,m,u,f);case 2:case 3:return S(k,m,u,r[x-1],f);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return I(k,m,u,r[x-1],f);default:if(x>E.IXMAX_VAL)return f.bits=E.LARGE_BITS,-1;x-=15;var B;for(B=24;B<32&&!(d.ht[B].linmax>=x);B++);var g;for(g=B-8;g<24&&!(d.ht[g].linmax>=x);g++);return T(k,m,u,g,B,f)}}this.noquant_count_bits=function(k,m,u){var f=m.l3_enc,x=Math.min(576,m.max_nonzero_coeff+2>>1<<1);for(u!=null&&(u.sfb_count1=0);x>1&&!(f[x-1]|f[x-2]);x-=2);m.count1=x;for(var B=0,g=0;x>3;x-=4){var oe;if(((f[x-1]|f[x-2]|f[x-3]|f[x-4])&2147483647)>1)break;oe=((f[x-4]*2+f[x-3])*2+f[x-2])*2+f[x-1],B+=d.t32l[oe],g+=d.t33l[oe]}var q=B;if(m.count1table_select=0,B>g&&(q=g,m.count1table_select=1),m.count1bits=q,m.big_values=x,x==0)return q;if(m.block_type==l.SHORT_TYPE)B=3*k.scalefac_band.s[3],B>m.big_values&&(B=m.big_values),g=m.big_values;else if(m.block_type==l.NORM_TYPE){if(B=m.region0_count=k.bv_scf[x-2],g=m.region1_count=k.bv_scf[x-1],s(B+g+2<l.SBPSY_l),g=k.scalefac_band.l[B+g+2],B=k.scalefac_band.l[B+1],g<x){var ne=new o(q);m.table_select[2]=b(f,g,x,ne),q=ne.bits}}else m.region0_count=7,m.region1_count=l.SBMAX_l-1-7-1,B=k.scalefac_band.l[7+1],g=x,B>g&&(B=g);if(B=Math.min(B,x),g=Math.min(g,x),0<B){var ne=new o(q);m.table_select[0]=b(f,0,B,ne),q=ne.bits}if(B<g){var ne=new o(q);m.table_select[1]=b(f,B,g,ne),q=ne.bits}if(k.use_best_huffman==2&&(m.part2_3_length=q,best_huffman_divide(k,m),q=m.part2_3_length),u!=null&&m.block_type==l.NORM_TYPE){for(var ve=0;k.scalefac_band.l[ve]<m.big_values;)ve++;u.sfb_count1=ve}return q},this.count_bits=function(k,m,u,f){var x=u.l3_enc,B=E.IXMAX_VAL/h.IPOW20(u.global_gain);if(u.xrpow_max>B)return E.LARGE_BITS;if(z(m,x,h.IPOW20(u.global_gain),u,f),k.substep_shaping&2)for(var g=0,oe=u.global_gain+u.scalefac_scale,q=.634521682242439/h.IPOW20(oe),ne=0;ne<u.sfbmax;ne++){var ve=u.width[ne];if(k.pseudohalf[ne]==0)g+=ve;else{var ye;for(ye=g,g+=ve;ye<g;++ye)x[ye]=m[ye]>=q?x[ye]:0}}return this.noquant_count_bits(k,u,f)};function F(k,m,u,f,x,B,g){for(var oe=m.big_values,q=0;q<=7+15;q++)f[q]=E.LARGE_BITS;for(var q=0;q<16;q++){var ne=k.scalefac_band.l[q+1];if(ne>=oe)break;var ve=0,ye=new o(ve),L=b(u,0,ne,ye);ve=ye.bits;for(var $=0;$<8;$++){var Z=k.scalefac_band.l[q+$+2];if(Z>=oe)break;var ae=ve;ye=new o(ae);var ie=b(u,ne,Z,ye);ae=ye.bits,f[q+$]>ae&&(f[q+$]=ae,x[q+$]=q,B[q+$]=L,g[q+$]=ie)}}}function D(k,m,u,f,x,B,g,oe){for(var q=m.big_values,ne=2;ne<l.SBMAX_l+1;ne++){var ve=k.scalefac_band.l[ne];if(ve>=q)break;var ye=x[ne-2]+m.count1bits;if(u.part2_3_length<=ye)break;var L=new o(ye),$=b(f,ve,q,L);ye=L.bits,!(u.part2_3_length<=ye)&&(u.assign(m),u.part2_3_length=ye,u.region0_count=B[ne-2],u.region1_count=ne-2-B[ne-2],u.table_select[0]=g[ne-2],u.table_select[1]=oe[ne-2],u.table_select[2]=$)}}this.best_huffman_divide=function(k,m){var u=new c,f=m.l3_enc,x=a(7+15+1),B=a(7+15+1),g=a(7+15+1),oe=a(7+15+1);if(!(m.block_type==l.SHORT_TYPE&&k.mode_gr==1)){u.assign(m),m.block_type==l.NORM_TYPE&&(F(k,m,f,x,B,g,oe),D(k,u,m,f,x,B,g,oe));var q=u.big_values;if(!(q==0||(f[q-2]|f[q-1])>1)&&(q=m.count1+2,!(q>576))){u.assign(m),u.count1=q;for(var ne=0,ve=0;q>u.big_values;q-=4){var ye=((f[q-4]*2+f[q-3])*2+f[q-2])*2+f[q-1];ne+=d.t32l[ye],ve+=d.t33l[ye]}if(u.big_values=q,u.count1table_select=0,ne>ve&&(ne=ve,u.count1table_select=1),u.count1bits=ne,u.block_type==l.NORM_TYPE)D(k,u,m,f,x,B,g,oe);else{if(u.part2_3_length=ne,ne=k.scalefac_band.l[7+1],ne>q&&(ne=q),ne>0){var L=new o(u.part2_3_length);u.table_select[0]=b(f,0,ne,L),u.part2_3_length=L.bits}if(q>ne){var L=new o(u.part2_3_length);u.table_select[1]=b(f,ne,q,L),u.part2_3_length=L.bits}m.part2_3_length>u.part2_3_length&&m.assign(u)}}}};var W=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],P=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],X=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],de=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];U.slen1_tab=X,U.slen2_tab=de;function C(k,m){for(var u,f=m.tt[1][k],x=m.tt[0][k],B=0;B<d.scfsi_band.length-1;B++){for(u=d.scfsi_band[B];u<d.scfsi_band[B+1]&&!(x.scalefac[u]!=f.scalefac[u]&&f.scalefac[u]>=0);u++);if(u==d.scfsi_band[B+1]){for(u=d.scfsi_band[B];u<d.scfsi_band[B+1];u++)f.scalefac[u]=-1;m.scfsi[k][B]=1}}var g=0,oe=0;for(u=0;u<11;u++)f.scalefac[u]!=-1&&(oe++,g<f.scalefac[u]&&(g=f.scalefac[u]));for(var q=0,ne=0;u<l.SBPSY_l;u++)f.scalefac[u]!=-1&&(ne++,q<f.scalefac[u]&&(q=f.scalefac[u]));for(var B=0;B<16;B++)if(g<W[B]&&q<P[B]){var ve=X[B]*oe+de[B]*ne;f.part2_length>ve&&(f.part2_length=ve,f.scalefac_compress=B)}}this.best_scalefac_store=function(k,m,u,f){var x=f.tt[m][u],B,g,oe,q,ne=0;for(oe=0,B=0;B<x.sfbmax;B++){var ve=x.width[B];for(oe+=ve,q=-ve;q<0&&x.l3_enc[q+oe]==0;q++);q==0&&(x.scalefac[B]=ne=-2)}if(x.scalefac_scale==0&&x.preflag==0){var ye=0;for(B=0;B<x.sfbmax;B++)x.scalefac[B]>0&&(ye|=x.scalefac[B]);if(!(ye&1)&&ye!=0){for(B=0;B<x.sfbmax;B++)x.scalefac[B]>0&&(x.scalefac[B]>>=1);x.scalefac_scale=ne=1}}if(x.preflag==0&&x.block_type!=l.SHORT_TYPE&&k.mode_gr==2){for(B=11;B<l.SBPSY_l&&!(x.scalefac[B]<h.pretab[B]&&x.scalefac[B]!=-2);B++);if(B==l.SBPSY_l){for(B=11;B<l.SBPSY_l;B++)x.scalefac[B]>0&&(x.scalefac[B]-=h.pretab[B]);x.preflag=ne=1}}for(g=0;g<4;g++)f.scfsi[u][g]=0;for(k.mode_gr==2&&m==1&&f.tt[0][u].block_type!=l.SHORT_TYPE&&f.tt[1][u].block_type!=l.SHORT_TYPE&&(C(u,f),ne=0),B=0;B<x.sfbmax;B++)x.scalefac[B]==-2&&(x.scalefac[B]=0);ne!=0&&(k.mode_gr==2?this.scale_bitcount(x):this.scale_bitcount_lsf(k,x))};function _(k,m){for(var u=0;u<m;++u)if(k[u]<0)return!1;return!0}var y=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],w=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],V=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(k){var m,u,f=0,x=0,B,g=k.scalefac;if(s(_(g,k.sfbmax)),k.block_type==l.SHORT_TYPE)B=y,k.mixed_block_flag!=0&&(B=w);else if(B=V,k.preflag==0){for(u=11;u<l.SBPSY_l&&!(g[u]<h.pretab[u]);u++);if(u==l.SBPSY_l)for(k.preflag=1,u=11;u<l.SBPSY_l;u++)g[u]-=h.pretab[u]}for(u=0;u<k.sfbdivide;u++)f<g[u]&&(f=g[u]);for(;u<k.sfbmax;u++)x<g[u]&&(x=g[u]);for(k.part2_length=E.LARGE_BITS,m=0;m<16;m++)f<W[m]&&x<P[m]&&k.part2_length>B[m]&&(k.part2_length=B[m],k.scalefac_compress=m);return k.part2_length==E.LARGE_BITS};var O=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(k,m){var u,f,x,B,g,oe,q,ne,ve=a(4),ye=m.scalefac;for(m.preflag!=0?u=2:u=0,q=0;q<4;q++)ve[q]=0;if(m.block_type==l.SHORT_TYPE){f=1;var L=h.nr_of_sfb_block[u][f];for(ne=0,x=0;x<4;x++)for(B=L[x]/3,q=0;q<B;q++,ne++)for(g=0;g<3;g++)ye[ne*3+g]>ve[x]&&(ve[x]=ye[ne*3+g])}else{f=0;var L=h.nr_of_sfb_block[u][f];for(ne=0,x=0;x<4;x++)for(B=L[x],q=0;q<B;q++,ne++)ye[ne]>ve[x]&&(ve[x]=ye[ne])}for(oe=!1,x=0;x<4;x++)ve[x]>O[u][x]&&(oe=!0);if(!oe){var $,Z,ae,ie;for(m.sfb_partition_table=h.nr_of_sfb_block[u][f],x=0;x<4;x++)m.slen[x]=Q[ve[x]];switch($=m.slen[0],Z=m.slen[1],ae=m.slen[2],ie=m.slen[3],u){case 0:m.scalefac_compress=($*5+Z<<4)+(ae<<2)+ie;break;case 1:m.scalefac_compress=400+($*5+Z<<2)+ae;break;case 2:m.scalefac_compress=500+$*3+Z;break;default:t.err.printf(`intensity stereo not implemented yet
`);break}}if(!oe)for(s(m.sfb_partition_table!=null),m.part2_length=0,x=0;x<4;x++)m.part2_length+=m.slen[x]*m.sfb_partition_table[x];return oe};var Q=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(k){for(var m=2;m<=576;m+=2){for(var u=0,f;k.scalefac_band.l[++u]<m;);for(f=M[u][0];k.scalefac_band.l[f+1]>m;)f--;for(f<0&&(f=M[u][0]),k.bv_scf[m-2]=f,f=M[u][1];k.scalefac_band.l[f+k.bv_scf[m-2]+2]>m;)f--;f<0&&(f=M[u][1]),k.bv_scf[m-1]=f}}}return Fa=U,Fa}var Ha,R1;function yr(){if(R1)return Ha;R1=1;var e=n0,t=e.System,n=e.Arrays,a=e.new_byte,s=e.new_float_n,l=e.new_int,d=e.assert,c=Zs(),E=Rr,U=x0(),h=_a;o.EQ=function(M,j){return Math.abs(M)>Math.abs(j)?Math.abs(M-j)<=Math.abs(M)*1e-6:Math.abs(M-j)<=Math.abs(j)*1e-6},o.NEQ=function(M,j){return!o.EQ(M,j)};function o(){var M=Tr(),j=this,K=32773,z=null,G=null,T=null,p=null;this.setModules=function(m,u,f,x){z=m,G=u,T=f,p=x};var S=null,I=0,r=0,b=0;this.getframebits=function(m){var u=m.internal_flags,f;u.bitrate_index!=0?f=E.bitrate_table[m.version][u.bitrate_index]:f=m.brate;var x=0|(m.version+1)*72e3*f/m.out_samplerate+u.padding;return 8*x};function F(m){t.arraycopy(m.header[m.w_ptr].buf,0,S,r,m.sideinfo_len),r+=m.sideinfo_len,I+=m.sideinfo_len*8,m.w_ptr=m.w_ptr+1&h.MAX_HEADER_BUF-1}function D(m,u,f){for(;f>0;){var x;b==0&&(b=8,r++,d(r<M.LAME_MAXMP3BUFFER),d(m.header[m.w_ptr].write_timing>=I),m.header[m.w_ptr].write_timing==I&&F(m),S[r]=0),x=Math.min(f,b),f-=x,b-=x,S[r]|=u>>f<<b,I+=x}}function W(m,u,f){for(;f>0;){var x;b==0&&(b=8,r++,d(r<M.LAME_MAXMP3BUFFER),S[r]=0),x=Math.min(f,b),f-=x,b-=x,S[r]|=u>>f<<b,I+=x}}function P(m,u){var f=m.internal_flags,x;if(u>=8&&(D(f,76,8),u-=8),u>=8&&(D(f,65,8),u-=8),u>=8&&(D(f,77,8),u-=8),u>=8&&(D(f,69,8),u-=8),u>=32){var B=T.getLameShortVersion();if(u>=32)for(x=0;x<B.length&&u>=8;++x)u-=8,D(f,B.charAt(x),8)}for(;u>=1;u-=1)D(f,f.ancillary_flag,1),f.ancillary_flag^=m.disable_reservoir?0:1}function X(m,u,f){for(var x=m.header[m.h_ptr].ptr;f>0;){var B=Math.min(f,8-(x&7));f-=B,m.header[m.h_ptr].buf[x>>3]|=u>>f<<8-(x&7)-B,x+=B}m.header[m.h_ptr].ptr=x}function de(m,u){m<<=8;for(var f=0;f<8;f++)m<<=1,u<<=1,(u^m)&65536&&(u^=K);return u}this.CRC_writeheader=function(m,u){var f=65535;f=de(u[2]&255,f),f=de(u[3]&255,f);for(var x=6;x<m.sideinfo_len;x++)f=de(u[x]&255,f);u[4]=byte(f>>8),u[5]=byte(f&255)};function C(m,u){var f=m.internal_flags,x,B,g;if(x=f.l3_side,f.header[f.h_ptr].ptr=0,n.fill(f.header[f.h_ptr].buf,0,f.sideinfo_len,0),m.out_samplerate<16e3?X(f,4094,12):X(f,4095,12),X(f,m.version,1),X(f,4-3,2),X(f,m.error_protection?0:1,1),X(f,f.bitrate_index,4),X(f,f.samplerate_index,2),X(f,f.padding,1),X(f,m.extension,1),X(f,m.mode.ordinal(),2),X(f,f.mode_ext,2),X(f,m.copyright,1),X(f,m.original,1),X(f,m.emphasis,2),m.error_protection&&X(f,0,16),m.version==1){for(d(x.main_data_begin>=0),X(f,x.main_data_begin,9),f.channels_out==2?X(f,x.private_bits,3):X(f,x.private_bits,5),g=0;g<f.channels_out;g++){var oe;for(oe=0;oe<4;oe++)X(f,x.scfsi[g][oe],1)}for(B=0;B<2;B++)for(g=0;g<f.channels_out;g++){var q=x.tt[B][g];X(f,q.part2_3_length+q.part2_length,12),X(f,q.big_values/2,9),X(f,q.global_gain,8),X(f,q.scalefac_compress,4),q.block_type!=U.NORM_TYPE?(X(f,1,1),X(f,q.block_type,2),X(f,q.mixed_block_flag,1),q.table_select[0]==14&&(q.table_select[0]=16),X(f,q.table_select[0],5),q.table_select[1]==14&&(q.table_select[1]=16),X(f,q.table_select[1],5),X(f,q.subblock_gain[0],3),X(f,q.subblock_gain[1],3),X(f,q.subblock_gain[2],3)):(X(f,0,1),q.table_select[0]==14&&(q.table_select[0]=16),X(f,q.table_select[0],5),q.table_select[1]==14&&(q.table_select[1]=16),X(f,q.table_select[1],5),q.table_select[2]==14&&(q.table_select[2]=16),X(f,q.table_select[2],5),d(0<=q.region0_count&&q.region0_count<16),d(0<=q.region1_count&&q.region1_count<8),X(f,q.region0_count,4),X(f,q.region1_count,3)),X(f,q.preflag,1),X(f,q.scalefac_scale,1),X(f,q.count1table_select,1)}}else for(d(x.main_data_begin>=0),X(f,x.main_data_begin,8),X(f,x.private_bits,f.channels_out),B=0,g=0;g<f.channels_out;g++){var q=x.tt[B][g];X(f,q.part2_3_length+q.part2_length,12),X(f,q.big_values/2,9),X(f,q.global_gain,8),X(f,q.scalefac_compress,9),q.block_type!=U.NORM_TYPE?(X(f,1,1),X(f,q.block_type,2),X(f,q.mixed_block_flag,1),q.table_select[0]==14&&(q.table_select[0]=16),X(f,q.table_select[0],5),q.table_select[1]==14&&(q.table_select[1]=16),X(f,q.table_select[1],5),X(f,q.subblock_gain[0],3),X(f,q.subblock_gain[1],3),X(f,q.subblock_gain[2],3)):(X(f,0,1),q.table_select[0]==14&&(q.table_select[0]=16),X(f,q.table_select[0],5),q.table_select[1]==14&&(q.table_select[1]=16),X(f,q.table_select[1],5),q.table_select[2]==14&&(q.table_select[2]=16),X(f,q.table_select[2],5),d(0<=q.region0_count&&q.region0_count<16),d(0<=q.region1_count&&q.region1_count<8),X(f,q.region0_count,4),X(f,q.region1_count,3)),X(f,q.scalefac_scale,1),X(f,q.count1table_select,1)}m.error_protection&&CRC_writeheader(f,f.header[f.h_ptr].buf);{var ne=f.h_ptr;d(f.header[ne].ptr==f.sideinfo_len*8),f.h_ptr=ne+1&h.MAX_HEADER_BUF-1,f.header[f.h_ptr].write_timing=f.header[ne].write_timing+u,f.h_ptr==f.w_ptr&&t.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function _(m,u){var f=E.ht[u.count1table_select+32],x,B=0,g=u.big_values,oe=u.big_values;for(d(u.count1table_select<2),x=(u.count1-u.big_values)/4;x>0;--x){var q=0,ne=0,ve;ve=u.l3_enc[g+0],ve!=0&&(ne+=8,u.xr[oe+0]<0&&q++),ve=u.l3_enc[g+1],ve!=0&&(ne+=4,q*=2,u.xr[oe+1]<0&&q++),ve=u.l3_enc[g+2],ve!=0&&(ne+=2,q*=2,u.xr[oe+2]<0&&q++),ve=u.l3_enc[g+3],ve!=0&&(ne++,q*=2,u.xr[oe+3]<0&&q++),g+=4,oe+=4,D(m,q+f.table[ne],f.hlen[ne]),B+=f.hlen[ne]}return B}function y(m,u,f,x,B){var g=E.ht[u],oe=0;if(u==0)return oe;for(var q=f;q<x;q+=2){var ne=0,ve=0,ye=g.xlen,L=g.xlen,$=0,Z=B.l3_enc[q],ae=B.l3_enc[q+1];if(Z!=0&&(B.xr[q]<0&&$++,ne--),u>15){if(Z>14){var ie=Z-15;d(ie<=g.linmax),$|=ie<<1,ve=ye,Z=15}if(ae>14){var xe=ae-15;d(xe<=g.linmax),$<<=ye,$|=xe,ve+=ye,ae=15}L=16}ae!=0&&($<<=1,B.xr[q+1]<0&&$++,ne--),Z=Z*L+ae,ve-=ne,ne+=g.hlen[Z],D(m,g.table[Z],ne),D(m,$,ve),oe+=ne+ve}return oe}function w(m,u){var f=3*m.scalefac_band.s[3];f>u.big_values&&(f=u.big_values);var x=y(m,u.table_select[0],0,f,u);return x+=y(m,u.table_select[1],f,u.big_values,u),x}function V(m,u){var f,x,B,g;f=u.big_values;var oe=u.region0_count+1;return d(oe<m.scalefac_band.l.length),B=m.scalefac_band.l[oe],oe+=u.region1_count+1,d(oe<m.scalefac_band.l.length),g=m.scalefac_band.l[oe],B>f&&(B=f),g>f&&(g=f),x=y(m,u.table_select[0],0,B,u),x+=y(m,u.table_select[1],B,g,u),x+=y(m,u.table_select[2],g,f,u),x}function O(m){var u,f,x,B,g=0,oe=m.internal_flags,q=oe.l3_side;if(m.version==1)for(u=0;u<2;u++)for(f=0;f<oe.channels_out;f++){var ne=q.tt[u][f],ve=c.slen1_tab[ne.scalefac_compress],ye=c.slen2_tab[ne.scalefac_compress];for(B=0,x=0;x<ne.sfbdivide;x++)ne.scalefac[x]!=-1&&(D(oe,ne.scalefac[x],ve),B+=ve);for(;x<ne.sfbmax;x++)ne.scalefac[x]!=-1&&(D(oe,ne.scalefac[x],ye),B+=ye);d(B==ne.part2_length),ne.block_type==U.SHORT_TYPE?B+=w(oe,ne):B+=V(oe,ne),B+=_(oe,ne),d(B==ne.part2_3_length+ne.part2_length),g+=B}else for(u=0,f=0;f<oe.channels_out;f++){var ne=q.tt[u][f],L,$,Z=0;if(d(ne.sfb_partition_table!=null),B=0,x=0,$=0,ne.block_type==U.SHORT_TYPE){for(;$<4;$++){var ae=ne.sfb_partition_table[$]/3,ie=ne.slen[$];for(L=0;L<ae;L++,x++)D(oe,Math.max(ne.scalefac[x*3+0],0),ie),D(oe,Math.max(ne.scalefac[x*3+1],0),ie),D(oe,Math.max(ne.scalefac[x*3+2],0),ie),Z+=3*ie}B+=w(oe,ne)}else{for(;$<4;$++){var ae=ne.sfb_partition_table[$],ie=ne.slen[$];for(L=0;L<ae;L++,x++)D(oe,Math.max(ne.scalefac[x],0),ie),Z+=ie}B+=V(oe,ne)}B+=_(oe,ne),d(B==ne.part2_3_length),d(Z==ne.part2_length),g+=Z+B}return g}function Q(){this.total=0}function k(m,u){var f=m.internal_flags,x,B,g,oe,q;return q=f.w_ptr,oe=f.h_ptr-1,oe==-1&&(oe=h.MAX_HEADER_BUF-1),x=f.header[oe].write_timing-I,u.total=x,x>=0&&(B=1+oe-q,oe<q&&(B=1+oe-q+h.MAX_HEADER_BUF),x-=B*8*f.sideinfo_len),g=j.getframebits(m),x+=g,u.total+=g,u.total%8!=0?u.total=1+u.total/8:u.total=u.total/8,u.total+=r+1,x<0&&t.err.println(`strange error flushing buffer ... 
`),x}this.flush_bitstream=function(m){var u=m.internal_flags,f,x,B=u.h_ptr-1;if(B==-1&&(B=h.MAX_HEADER_BUF-1),f=u.l3_side,!((x=k(m,new Q))<0)){if(P(m,x),d(u.header[B].write_timing+this.getframebits(m)==I),u.ResvSize=0,f.main_data_begin=0,u.findReplayGain){var g=z.GetTitleGain(u.rgdata);d(NEQ(g,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),u.RadioGain=Math.floor(g*10+.5)|0}u.findPeakSample&&(u.noclipGainChange=Math.ceil(Math.log10(u.PeakSample/32767)*20*10)|0,u.noclipGainChange>0&&(EQ(m.scale,1)||EQ(m.scale,0))?u.noclipScale=Math.floor(32767/u.PeakSample*100)/100:u.noclipScale=-1)}},this.add_dummy_byte=function(m,u,f){for(var x=m.internal_flags,B;f-- >0;)for(W(x,u,8),B=0;B<h.MAX_HEADER_BUF;++B)x.header[B].write_timing+=8},this.format_bitstream=function(m){var u=m.internal_flags,f;f=u.l3_side;var x=this.getframebits(m);P(m,f.resvDrain_pre),C(m,x);var B=8*u.sideinfo_len;if(B+=O(m),P(m,f.resvDrain_post),B+=f.resvDrain_post,f.main_data_begin+=(x-B)/8,k(m,new Q)!=u.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),f.main_data_begin*8!=u.ResvSize&&(t.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*f.main_data_begin,u.ResvSize,f.resvDrain_post,f.resvDrain_pre,8*u.sideinfo_len,B-f.resvDrain_post-8*u.sideinfo_len,B,B%8,x),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),u.ResvSize=f.main_data_begin*8),I>1e9){var g;for(g=0;g<h.MAX_HEADER_BUF;++g)u.header[g].write_timing-=I;I=0}return 0},this.copy_buffer=function(m,u,f,x,B){var g=r+1;if(g<=0)return 0;if(x!=0&&g>x)return-1;if(t.arraycopy(S,0,u,f,g),r=-1,b=0,B!=0){var oe=l(1);if(oe[0]=m.nMusicCRC,p.updateMusicCRC(oe,u,f,g),m.nMusicCRC=oe[0],g>0&&(m.VBR_seek_table.nBytesWritten+=g),m.decode_on_the_fly){for(var q=s([2,1152]),ne=g,ve=-1,ye;ve!=0;)if(ve=G.hip_decode1_unclipped(m.hip,u,f,ne,q[0],q[1]),ne=0,ve==-1&&(ve=0),ve>0){if(m.findPeakSample){for(ye=0;ye<ve;ye++)q[0][ye]>m.PeakSample?m.PeakSample=q[0][ye]:-q[0][ye]>m.PeakSample&&(m.PeakSample=-q[0][ye]);if(m.channels_out>1)for(ye=0;ye<ve;ye++)q[1][ye]>m.PeakSample?m.PeakSample=q[1][ye]:-q[1][ye]>m.PeakSample&&(m.PeakSample=-q[1][ye])}if(m.findReplayGain&&z.AnalyzeSamples(m.rgdata,q[0],0,q[1],0,ve,m.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return g},this.init_bit_stream_w=function(m){S=a(M.LAME_MAXMP3BUFFER),m.h_ptr=m.w_ptr=0,m.header[m.h_ptr].write_timing=0,r=-1,b=0,I=0}}return Ha=o,Ha}var ka,y1;function Tr(){if(y1)return ka;y1=1;var e=n0,t=e.System,n=e.VbrMode,a=e.ShortBlock,s=e.new_float,l=e.new_int_n,d=e.new_short_n,c=e.assert,E=A2,U=y2,h=_a,o=z2,M=Q2,j=r_,K=yr(),z=Rr,G=x0();function T(){var p=Rn,S=this,I=128*1024;T.V9=410,T.V8=420,T.V7=430,T.V6=440,T.V5=450,T.V4=460,T.V3=470,T.V2=480,T.V1=490,T.V0=500,T.R3MIX=1e3,T.STANDARD=1001,T.EXTREME=1002,T.INSANE=1003,T.STANDARD_FAST=1004,T.EXTREME_FAST=1005,T.MEDIUM=1006,T.MEDIUM_FAST=1007;var r=16384+I;T.LAME_MAXMP3BUFFER=r;var b,F,D,W,P,X=new E,de,C,_;this.enc=new G,this.setModules=function(i,v,re,he,me,pe,be,Se,Fe){b=i,F=v,D=re,W=he,P=me,de=pe,C=Se,_=Fe,this.enc.setModules(F,X,W,de)};function y(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=s(G.SBMAX_l),this.bo_s_weight=s(G.SBMAX_s)}function w(){this.lowerlimit=0}function V(i,v){this.lowpass=v}var O=4294479419;function Q(i){var v;return i.class_id=O,v=i.internal_flags=new h,i.mode=p.NOT_SET,i.original=1,i.in_samplerate=44100,i.num_channels=2,i.num_samples=-1,i.bWriteVbrTag=!0,i.quality=-1,i.short_blocks=null,v.subblock_gain=-1,i.lowpassfreq=0,i.highpassfreq=0,i.lowpasswidth=-1,i.highpasswidth=-1,i.VBR=n.vbr_off,i.VBR_q=4,i.ATHcurve=-1,i.VBR_mean_bitrate_kbps=128,i.VBR_min_bitrate_kbps=0,i.VBR_max_bitrate_kbps=0,i.VBR_hard_min=0,v.VBR_min_bitrate=1,v.VBR_max_bitrate=13,i.quant_comp=-1,i.quant_comp_short=-1,i.msfix=-1,v.resample_ratio=1,v.OldValue[0]=180,v.OldValue[1]=180,v.CurrentStep[0]=4,v.CurrentStep[1]=4,v.masking_lower=1,v.nsPsy.attackthre=-1,v.nsPsy.attackthre_s=-1,i.scale=-1,i.athaa_type=-1,i.ATHtype=-1,i.athaa_loudapprox=-1,i.athaa_sensitivity=0,i.useTemporal=null,i.interChRatio=-1,v.mf_samples_to_encode=G.ENCDELAY+G.POSTDELAY,i.encoder_padding=0,v.mf_size=G.ENCDELAY-G.MDCTDELAY,i.findReplayGain=!1,i.decode_on_the_fly=!1,v.decode_on_the_fly=!1,v.findReplayGain=!1,v.findPeakSample=!1,v.RadioGain=0,v.AudiophileGain=0,v.noclipGainChange=0,v.noclipScale=-1,i.preset=0,i.write_id3tag_automatic=!0,0}this.lame_init=function(){var i=new U;return Q(i),i.lame_allocated_gfp=1,i};function k(i){return i>1?0:i<=0?1:Math.cos(Math.PI/2*i)}this.nearestBitrateFullIndex=function(i){var v=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],re=0,he=0,me=0,pe=0;pe=v[16],me=16,he=v[16],re=16;for(var be=0;be<16;be++)if(Math.max(i,v[be+1])!=i){pe=v[be+1],me=be+1,he=v[be],re=be;break}return pe-i>i-he?re:me};function m(i,v){var re=44100;return v>=48e3?re=48e3:v>=44100?re=44100:v>=32e3?re=32e3:v>=24e3?re=24e3:v>=22050?re=22050:v>=16e3?re=16e3:v>=12e3?re=12e3:v>=11025?re=11025:v>=8e3&&(re=8e3),i==-1?re:(i<=15960&&(re=44100),i<=15250&&(re=32e3),i<=11220&&(re=24e3),i<=9970&&(re=22050),i<=7230&&(re=16e3),i<=5420&&(re=12e3),i<=4510&&(re=11025),i<=3970&&(re=8e3),v<re?v>44100?48e3:v>32e3?44100:v>24e3?32e3:v>22050?24e3:v>16e3?22050:v>12e3?16e3:v>11025?12e3:v>8e3?11025:8e3:re)}function u(i,v){switch(i){case 44100:return v.version=1,0;case 48e3:return v.version=1,1;case 32e3:return v.version=1,2;case 22050:return v.version=0,0;case 24e3:return v.version=0,1;case 16e3:return v.version=0,2;case 11025:return v.version=0,0;case 12e3:return v.version=0,1;case 8e3:return v.version=0,2;default:return v.version=0,-1}}function f(i,v,re){re<16e3&&(v=2);for(var he=z.bitrate_table[v][1],me=2;me<=14;me++)z.bitrate_table[v][me]>0&&Math.abs(z.bitrate_table[v][me]-i)<Math.abs(he-i)&&(he=z.bitrate_table[v][me]);return he}function x(i,v,re){re<16e3&&(v=2);for(var he=0;he<=14;he++)if(z.bitrate_table[v][he]>0&&z.bitrate_table[v][he]==i)return he;return-1}function B(i,v){var re=[new V(8,2e3),new V(16,3700),new V(24,3900),new V(32,5500),new V(40,7e3),new V(48,7500),new V(56,1e4),new V(64,11e3),new V(80,13500),new V(96,15100),new V(112,15600),new V(128,17e3),new V(160,17500),new V(192,18600),new V(224,19400),new V(256,19700),new V(320,20500)],he=S.nearestBitrateFullIndex(v);i.lowerlimit=re[he].lowpass}function g(i){var v=i.internal_flags,re=32,he=-1;if(v.lowpass1>0){for(var me=999,pe=0;pe<=31;pe++){var be=pe/31;be>=v.lowpass2&&(re=Math.min(re,pe)),v.lowpass1<be&&be<v.lowpass2&&(me=Math.min(me,pe))}me==999?v.lowpass1=(re-.75)/31:v.lowpass1=(me-.75)/31,v.lowpass2=re/31}if(v.highpass2>0&&v.highpass2<.9*(.75/31)&&(v.highpass1=0,v.highpass2=0,t.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),v.highpass2>0){for(var Se=-1,pe=0;pe<=31;pe++){var be=pe/31;be<=v.highpass1&&(he=Math.max(he,pe)),v.highpass1<be&&be<v.highpass2&&(Se=Math.max(Se,pe))}v.highpass1=he/31,Se==-1?v.highpass2=(he+.75)/31:v.highpass2=(Se+.75)/31}for(var pe=0;pe<32;pe++){var Fe,we,be=pe/31;v.highpass2>v.highpass1?Fe=k((v.highpass2-be)/(v.highpass2-v.highpass1+1e-20)):Fe=1,v.lowpass2>v.lowpass1?we=k((be-v.lowpass1)/(v.lowpass2-v.lowpass1+1e-20)):we=1,v.amp_filter[pe]=Fe*we}}function oe(i){var v=i.internal_flags;switch(i.quality){default:case 9:v.psymodel=0,v.noise_shaping=0,v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.use_best_huffman=0,v.full_outer_loop=0;break;case 8:i.quality=7;case 7:v.psymodel=1,v.noise_shaping=0,v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.use_best_huffman=0,v.full_outer_loop=0;break;case 6:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=0,v.full_outer_loop=0;break;case 5:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=0,v.full_outer_loop=0;break;case 4:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 3:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=1,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 2:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.substep_shaping==0&&(v.substep_shaping=2),v.noise_shaping_amp=1,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 1:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.substep_shaping==0&&(v.substep_shaping=2),v.noise_shaping_amp=2,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 0:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.substep_shaping==0&&(v.substep_shaping=2),v.noise_shaping_amp=2,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break}}function q(i){var v=i.internal_flags;i.frameNum=0,i.write_id3tag_automatic&&C.id3tag_write_v2(i),v.bitrate_stereoMode_Hist=l([16,4+1]),v.bitrate_blockType_Hist=l([16,4+1+1]),v.PeakSample=0,i.bWriteVbrTag&&de.InitVbrTag(i)}this.lame_init_params=function(i){var v=i.internal_flags;if(v.Class_ID=0,v.ATH==null&&(v.ATH=new o),v.PSY==null&&(v.PSY=new y),v.rgdata==null&&(v.rgdata=new M),v.channels_in=i.num_channels,v.channels_in==1&&(i.mode=p.MONO),v.channels_out=i.mode==p.MONO?1:2,v.mode_ext=G.MPG_MD_MS_LR,i.mode==p.MONO&&(i.force_ms=!1),i.VBR==n.vbr_off&&i.VBR_mean_bitrate_kbps!=128&&i.brate==0&&(i.brate=i.VBR_mean_bitrate_kbps),i.VBR==n.vbr_off||i.VBR==n.vbr_mtrh||i.VBR==n.vbr_mt||(i.free_format=!1),i.VBR==n.vbr_off&&i.brate==0&&K.EQ(i.compression_ratio,0)&&(i.compression_ratio=11.025),i.VBR==n.vbr_off&&i.compression_ratio>0&&(i.out_samplerate==0&&(i.out_samplerate=map2MP3Frequency(int(.97*i.in_samplerate))),i.brate=0|i.out_samplerate*16*v.channels_out/(1e3*i.compression_ratio),v.samplerate_index=u(i.out_samplerate,i),i.free_format||(i.brate=f(i.brate,i.version,i.out_samplerate))),i.out_samplerate!=0&&(i.out_samplerate<16e3?(i.VBR_mean_bitrate_kbps=Math.max(i.VBR_mean_bitrate_kbps,8),i.VBR_mean_bitrate_kbps=Math.min(i.VBR_mean_bitrate_kbps,64)):i.out_samplerate<32e3?(i.VBR_mean_bitrate_kbps=Math.max(i.VBR_mean_bitrate_kbps,8),i.VBR_mean_bitrate_kbps=Math.min(i.VBR_mean_bitrate_kbps,160)):(i.VBR_mean_bitrate_kbps=Math.max(i.VBR_mean_bitrate_kbps,32),i.VBR_mean_bitrate_kbps=Math.min(i.VBR_mean_bitrate_kbps,320))),i.lowpassfreq==0){var re=16e3;switch(i.VBR){case n.vbr_off:{var he=new w;B(he,i.brate),re=he.lowerlimit;break}case n.vbr_abr:{var he=new w;B(he,i.VBR_mean_bitrate_kbps),re=he.lowerlimit;break}case n.vbr_rh:{var me=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=i.VBR_q&&i.VBR_q<=9){var pe=me[i.VBR_q],be=me[i.VBR_q+1],Se=i.VBR_q_frac;re=linear_int(pe,be,Se)}else re=19500;break}default:{var me=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=i.VBR_q&&i.VBR_q<=9){var pe=me[i.VBR_q],be=me[i.VBR_q+1],Se=i.VBR_q_frac;re=linear_int(pe,be,Se)}else re=19500}}i.mode==p.MONO&&(i.VBR==n.vbr_off||i.VBR==n.vbr_abr)&&(re*=1.5),i.lowpassfreq=re|0}if(i.out_samplerate==0&&(2*i.lowpassfreq>i.in_samplerate&&(i.lowpassfreq=i.in_samplerate/2),i.out_samplerate=m(i.lowpassfreq|0,i.in_samplerate)),i.lowpassfreq=Math.min(20500,i.lowpassfreq),i.lowpassfreq=Math.min(i.out_samplerate/2,i.lowpassfreq),i.VBR==n.vbr_off&&(i.compression_ratio=i.out_samplerate*16*v.channels_out/(1e3*i.brate)),i.VBR==n.vbr_abr&&(i.compression_ratio=i.out_samplerate*16*v.channels_out/(1e3*i.VBR_mean_bitrate_kbps)),i.bWriteVbrTag||(i.findReplayGain=!1,i.decode_on_the_fly=!1,v.findPeakSample=!1),v.findReplayGain=i.findReplayGain,v.decode_on_the_fly=i.decode_on_the_fly,v.decode_on_the_fly&&(v.findPeakSample=!0),v.findReplayGain&&b.InitGainAnalysis(v.rgdata,i.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return i.internal_flags=null,-6;switch(v.decode_on_the_fly&&!i.decode_only&&(v.hip!=null&&_.hip_decode_exit(v.hip),v.hip=_.hip_decode_init()),v.mode_gr=i.out_samplerate<=24e3?1:2,i.framesize=576*v.mode_gr,i.encoder_delay=G.ENCDELAY,v.resample_ratio=i.in_samplerate/i.out_samplerate,i.VBR){case n.vbr_mt:case n.vbr_rh:case n.vbr_mtrh:{var Fe=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];i.compression_ratio=Fe[i.VBR_q]}break;case n.vbr_abr:i.compression_ratio=i.out_samplerate*16*v.channels_out/(1e3*i.VBR_mean_bitrate_kbps);break;default:i.compression_ratio=i.out_samplerate*16*v.channels_out/(1e3*i.brate);break}if(i.mode==p.NOT_SET&&(i.mode=p.JOINT_STEREO),i.highpassfreq>0?(v.highpass1=2*i.highpassfreq,i.highpasswidth>=0?v.highpass2=2*(i.highpassfreq+i.highpasswidth):v.highpass2=(1+0)*2*i.highpassfreq,v.highpass1/=i.out_samplerate,v.highpass2/=i.out_samplerate):(v.highpass1=0,v.highpass2=0),i.lowpassfreq>0?(v.lowpass2=2*i.lowpassfreq,i.lowpasswidth>=0?(v.lowpass1=2*(i.lowpassfreq-i.lowpasswidth),v.lowpass1<0&&(v.lowpass1=0)):v.lowpass1=(1-0)*2*i.lowpassfreq,v.lowpass1/=i.out_samplerate,v.lowpass2/=i.out_samplerate):(v.lowpass1=0,v.lowpass2=0),g(i),v.samplerate_index=u(i.out_samplerate,i),v.samplerate_index<0)return i.internal_flags=null,-1;if(i.VBR==n.vbr_off){if(i.free_format)v.bitrate_index=0;else if(i.brate=f(i.brate,i.version,i.out_samplerate),v.bitrate_index=x(i.brate,i.version,i.out_samplerate),v.bitrate_index<=0)return i.internal_flags=null,-1}else v.bitrate_index=1;i.analysis&&(i.bWriteVbrTag=!1),v.pinfo!=null&&(i.bWriteVbrTag=!1),F.init_bit_stream_w(v);for(var we=v.samplerate_index+3*i.version+6*(i.out_samplerate<16e3?1:0),Te=0;Te<G.SBMAX_l+1;Te++)v.scalefac_band.l[Te]=W.sfBandIndex[we].l[Te];for(var Te=0;Te<G.PSFB21+1;Te++){var Xe=(v.scalefac_band.l[22]-v.scalefac_band.l[21])/G.PSFB21,Ze=v.scalefac_band.l[21]+Te*Xe;v.scalefac_band.psfb21[Te]=Ze}v.scalefac_band.psfb21[G.PSFB21]=576;for(var Te=0;Te<G.SBMAX_s+1;Te++)v.scalefac_band.s[Te]=W.sfBandIndex[we].s[Te];for(var Te=0;Te<G.PSFB12+1;Te++){var Xe=(v.scalefac_band.s[13]-v.scalefac_band.s[12])/G.PSFB12,Ze=v.scalefac_band.s[12]+Te*Xe;v.scalefac_band.psfb12[Te]=Ze}v.scalefac_band.psfb12[G.PSFB12]=192,i.version==1?v.sideinfo_len=v.channels_out==1?4+17:4+32:v.sideinfo_len=v.channels_out==1?4+9:4+17,i.error_protection&&(v.sideinfo_len+=2),q(i),v.Class_ID=O;{var Ge;for(Ge=0;Ge<19;Ge++)v.nsPsy.pefirbuf[Ge]=700*v.mode_gr*v.channels_out;i.ATHtype==-1&&(i.ATHtype=4)}switch(c(i.VBR_q<=9),c(i.VBR_q>=0),i.VBR){case n.vbr_mt:i.VBR=n.vbr_mtrh;case n.vbr_mtrh:{i.useTemporal==null&&(i.useTemporal=!1),D.apply_preset(i,500-i.VBR_q*10,0),i.quality<0&&(i.quality=LAME_DEFAULT_QUALITY),i.quality<5&&(i.quality=0),i.quality>5&&(i.quality=5),v.PSY.mask_adjust=i.maskingadjust,v.PSY.mask_adjust_short=i.maskingadjust_short,i.experimentalY?v.sfb21_extra=!1:v.sfb21_extra=i.out_samplerate>44e3,v.iteration_loop=new VBRNewIterationLoop(P);break}case n.vbr_rh:{D.apply_preset(i,500-i.VBR_q*10,0),v.PSY.mask_adjust=i.maskingadjust,v.PSY.mask_adjust_short=i.maskingadjust_short,i.experimentalY?v.sfb21_extra=!1:v.sfb21_extra=i.out_samplerate>44e3,i.quality>6&&(i.quality=6),i.quality<0&&(i.quality=LAME_DEFAULT_QUALITY),v.iteration_loop=new VBROldIterationLoop(P);break}default:{var A;v.sfb21_extra=!1,i.quality<0&&(i.quality=LAME_DEFAULT_QUALITY),A=i.VBR,A==n.vbr_off&&(i.VBR_mean_bitrate_kbps=i.brate),D.apply_preset(i,i.VBR_mean_bitrate_kbps,0),i.VBR=A,v.PSY.mask_adjust=i.maskingadjust,v.PSY.mask_adjust_short=i.maskingadjust_short,A==n.vbr_off?v.iteration_loop=new j(P):v.iteration_loop=new ABRIterationLoop(P);break}}if(c(i.scale>=0),i.VBR!=n.vbr_off){if(v.VBR_min_bitrate=1,v.VBR_max_bitrate=14,i.out_samplerate<16e3&&(v.VBR_max_bitrate=8),i.VBR_min_bitrate_kbps!=0&&(i.VBR_min_bitrate_kbps=f(i.VBR_min_bitrate_kbps,i.version,i.out_samplerate),v.VBR_min_bitrate=x(i.VBR_min_bitrate_kbps,i.version,i.out_samplerate),v.VBR_min_bitrate<0)||i.VBR_max_bitrate_kbps!=0&&(i.VBR_max_bitrate_kbps=f(i.VBR_max_bitrate_kbps,i.version,i.out_samplerate),v.VBR_max_bitrate=x(i.VBR_max_bitrate_kbps,i.version,i.out_samplerate),v.VBR_max_bitrate<0))return-1;i.VBR_min_bitrate_kbps=z.bitrate_table[i.version][v.VBR_min_bitrate],i.VBR_max_bitrate_kbps=z.bitrate_table[i.version][v.VBR_max_bitrate],i.VBR_mean_bitrate_kbps=Math.min(z.bitrate_table[i.version][v.VBR_max_bitrate],i.VBR_mean_bitrate_kbps),i.VBR_mean_bitrate_kbps=Math.max(z.bitrate_table[i.version][v.VBR_min_bitrate],i.VBR_mean_bitrate_kbps)}return i.tune&&(v.PSY.mask_adjust+=i.tune_value_a,v.PSY.mask_adjust_short+=i.tune_value_a),oe(i),c(i.scale>=0),i.athaa_type<0?v.ATH.useAdjust=3:v.ATH.useAdjust=i.athaa_type,v.ATH.aaSensitivityP=Math.pow(10,i.athaa_sensitivity/-10),i.short_blocks==null&&(i.short_blocks=a.short_block_allowed),i.short_blocks==a.short_block_allowed&&(i.mode==p.JOINT_STEREO||i.mode==p.STEREO)&&(i.short_blocks=a.short_block_coupled),i.quant_comp<0&&(i.quant_comp=1),i.quant_comp_short<0&&(i.quant_comp_short=0),i.msfix<0&&(i.msfix=0),i.exp_nspsytune=i.exp_nspsytune|1,i.internal_flags.nsPsy.attackthre<0&&(i.internal_flags.nsPsy.attackthre=E.NSATTACKTHRE),i.internal_flags.nsPsy.attackthre_s<0&&(i.internal_flags.nsPsy.attackthre_s=E.NSATTACKTHRE_S),c(i.scale>=0),i.scale<0&&(i.scale=1),i.ATHtype<0&&(i.ATHtype=4),i.ATHcurve<0&&(i.ATHcurve=4),i.athaa_loudapprox<0&&(i.athaa_loudapprox=2),i.interChRatio<0&&(i.interChRatio=0),i.useTemporal==null&&(i.useTemporal=!0),v.slot_lag=v.frac_SpF=0,i.VBR==n.vbr_off&&(v.slot_lag=v.frac_SpF=(i.version+1)*72e3*i.brate%i.out_samplerate|0),W.iteration_init(i),X.psymodel_init(i),c(i.scale>=0),0};function ne(i,v){(i.in_buffer_0==null||i.in_buffer_nsamples<v)&&(i.in_buffer_0=s(v),i.in_buffer_1=s(v),i.in_buffer_nsamples=v)}this.lame_encode_flush=function(i,v,re,he){var me=i.internal_flags,pe=d([2,1152]),be=0,Se,Fe,we,Te,Xe=me.mf_samples_to_encode-G.POSTDELAY,Ze=ve(i);if(me.mf_samples_to_encode<1)return 0;for(Se=0,i.in_samplerate!=i.out_samplerate&&(Xe+=16*i.out_samplerate/i.in_samplerate),we=i.framesize-Xe%i.framesize,we<576&&(we+=i.framesize),i.encoder_padding=we,Te=(Xe+we)/i.framesize;Te>0&&be>=0;){var Ge=Ze-me.mf_size,A=i.frameNum;Ge*=i.in_samplerate,Ge/=i.out_samplerate,Ge>1152&&(Ge=1152),Ge<1&&(Ge=1),Fe=he-Se,he==0&&(Fe=0),be=this.lame_encode_buffer(i,pe[0],pe[1],Ge,v,re,Fe),re+=be,Se+=be,Te-=A!=i.frameNum?1:0}if(me.mf_samples_to_encode=0,be<0||(Fe=he-Se,he==0&&(Fe=0),F.flush_bitstream(i),be=F.copy_buffer(me,v,re,Fe,1),be<0))return be;if(re+=be,Se+=be,Fe=he-Se,he==0&&(Fe=0),i.write_id3tag_automatic){if(C.id3tag_write_v1(i),be=F.copy_buffer(me,v,re,Fe,0),be<0)return be;Se+=be}return Se},this.lame_encode_buffer=function(i,v,re,he,me,pe,be){var Se=i.internal_flags,Fe=[null,null];if(Se.Class_ID!=O)return-3;if(he==0)return 0;ne(Se,he),Fe[0]=Se.in_buffer_0,Fe[1]=Se.in_buffer_1;for(var we=0;we<he;we++)Fe[0][we]=v[we],Se.channels_in>1&&(Fe[1][we]=re[we]);return ye(i,Fe[0],Fe[1],he,me,pe,be)};function ve(i){var v=G.BLKSIZE+i.framesize-G.FFTOFFSET;return v=Math.max(v,512+i.framesize-32),v}function ye(i,v,re,he,me,pe,be){var Se=i.internal_flags,Fe=0,we,Te,Xe,Ze,Ge,A=[null,null],R=[null,null];if(Se.Class_ID!=O)return-3;if(he==0)return 0;if(Ge=F.copy_buffer(Se,me,pe,be,0),Ge<0)return Ge;if(pe+=Ge,Fe+=Ge,R[0]=v,R[1]=re,K.NEQ(i.scale,0)&&K.NEQ(i.scale,1))for(Te=0;Te<he;++Te)R[0][Te]*=i.scale,Se.channels_out==2&&(R[1][Te]*=i.scale);if(K.NEQ(i.scale_left,0)&&K.NEQ(i.scale_left,1))for(Te=0;Te<he;++Te)R[0][Te]*=i.scale_left;if(K.NEQ(i.scale_right,0)&&K.NEQ(i.scale_right,1))for(Te=0;Te<he;++Te)R[1][Te]*=i.scale_right;if(i.num_channels==2&&Se.channels_out==1)for(Te=0;Te<he;++Te)R[0][Te]=.5*(R[0][Te]+R[1][Te]),R[1][Te]=0;Ze=ve(i),A[0]=Se.mfbuf[0],A[1]=Se.mfbuf[1];for(var H=0;he>0;){var Y=[null,null],J=0,N=0;Y[0]=R[0],Y[1]=R[1];var ee=new $;if(Ce(i,A,Y,H,he,ee),J=ee.n_in,N=ee.n_out,Se.findReplayGain&&!Se.decode_on_the_fly&&b.AnalyzeSamples(Se.rgdata,A[0],Se.mf_size,A[1],Se.mf_size,N,Se.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(he-=J,H+=J,Se.channels_out==2,Se.mf_size+=N,c(Se.mf_size<=h.MFSIZE),Se.mf_samples_to_encode<1&&(Se.mf_samples_to_encode=G.ENCDELAY+G.POSTDELAY),Se.mf_samples_to_encode+=N,Se.mf_size>=Ze){var se=be-Fe;if(be==0&&(se=0),we=L(i,A[0],A[1],me,pe,se),we<0)return we;for(pe+=we,Fe+=we,Se.mf_size-=i.framesize,Se.mf_samples_to_encode-=i.framesize,Xe=0;Xe<Se.channels_out;Xe++)for(Te=0;Te<Se.mf_size;Te++)A[Xe][Te]=A[Xe][Te+i.framesize]}}return Fe}function L(i,v,re,he,me,pe){var be=S.enc.lame_encode_mp3_frame(i,v,re,he,me,pe);return i.frameNum++,be}function $(){this.n_in=0,this.n_out=0}function Z(){this.num_used=0}function ae(i,v){return v!=0?ae(v,i%v):i}function ie(i,v,re){var he=Math.PI*v;i/=re,i<0&&(i=0),i>1&&(i=1);var me=i-.5,pe=.42-.5*Math.cos(2*i*Math.PI)+.08*Math.cos(4*i*Math.PI);return Math.abs(me)<1e-9?he/Math.PI:pe*Math.sin(re*he*me)/(Math.PI*re*me)}function xe(i,v,re,he,me,pe,be,Se,Fe){var we=i.internal_flags,Te,Xe=0,Ze,Ge=i.out_samplerate/ae(i.out_samplerate,i.in_samplerate);Ge>h.BPC&&(Ge=h.BPC);var A=Math.abs(we.resample_ratio-Math.floor(.5+we.resample_ratio))<1e-4?1:0,R=1/we.resample_ratio;R>1&&(R=1);var H=31;H%2==0&&--H,H+=A;var Y=H+1;if(we.fill_buffer_resample_init==0){for(we.inbuf_old[0]=s(Y),we.inbuf_old[1]=s(Y),Te=0;Te<=2*Ge;++Te)we.blackfilt[Te]=s(Y);for(we.itime[0]=0,we.itime[1]=0,Xe=0;Xe<=2*Ge;Xe++){var J=0,N=(Xe-Ge)/(2*Ge);for(Te=0;Te<=H;Te++)J+=we.blackfilt[Xe][Te]=ie(Te-N,R,H);for(Te=0;Te<=H;Te++)we.blackfilt[Xe][Te]/=J}we.fill_buffer_resample_init=1}var ee=we.inbuf_old[Fe];for(Ze=0;Ze<he;Ze++){var se,te;if(se=Ze*we.resample_ratio,Xe=0|Math.floor(se-we.itime[Fe]),H+Xe-H/2>=be)break;var N=se-we.itime[Fe]-(Xe+.5*(H%2));te=0|Math.floor(N*2*Ge+Ge+.5);var ue=0;for(Te=0;Te<=H;++Te){var le=0|Te+Xe-H/2,fe;fe=le<0?ee[Y+le]:me[pe+le],ue+=fe*we.blackfilt[te][Te]}v[re+Ze]=ue}if(Se.num_used=Math.min(be,H+Xe-H/2),we.itime[Fe]+=Se.num_used-Ze*we.resample_ratio,Se.num_used>=Y)for(Te=0;Te<Y;Te++)ee[Te]=me[pe+Se.num_used+Te-Y];else{var Be=Y-Se.num_used;for(Te=0;Te<Be;++Te)ee[Te]=ee[Te+Se.num_used];for(Xe=0;Te<Y;++Te,++Xe)ee[Te]=me[pe+Xe];c(Xe==Se.num_used)}return Ze}function Ce(i,v,re,he,me,pe){var be=i.internal_flags;if(be.resample_ratio<.9999||be.resample_ratio>1.0001)for(var Se=0;Se<be.channels_out;Se++){var Fe=new Z;pe.n_out=xe(i,v[Se],be.mf_size,i.framesize,re[Se],he,me,Fe,Se),pe.n_in=Fe.num_used}else{pe.n_out=Math.min(i.framesize,me),pe.n_in=pe.n_out;for(var we=0;we<pe.n_out;++we)v[0][be.mf_size+we]=re[0][he+we],be.channels_out==2&&(v[1][be.mf_size+we]=re[1][he+we])}}}return ka=T,ka}var s_=n0,et=s_.VbrMode;function i_(){var e=Tr();function t(h,o,M,j,K,z,G,T,p,S,I,r,b,F,D){this.vbr_q=h,this.quant_comp=o,this.quant_comp_s=M,this.expY=j,this.st_lrm=K,this.st_s=z,this.masking_adj=G,this.masking_adj_short=T,this.ath_lower=p,this.ath_curve=S,this.ath_sensitivity=I,this.interch=r,this.safejoint=b,this.sfb21mod=F,this.msfix=D}function n(h,o,M,j,K,z,G,T,p,S,I,r,b,F){this.quant_comp=o,this.quant_comp_s=M,this.safejoint=j,this.nsmsfix=K,this.st_lrm=z,this.st_s=G,this.nsbass=T,this.scale=p,this.masking_adj=S,this.ath_lower=I,this.ath_curve=r,this.interch=b,this.sfscale=F}var a;this.setModules=function(h){a=h};var s=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],l=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function d(h,o,M){var j=h.VBR==et.vbr_rh?s:l,K=h.VBR_q_frac,z=j[o],G=j[o+1],T=z;z.st_lrm=z.st_lrm+K*(G.st_lrm-z.st_lrm),z.st_s=z.st_s+K*(G.st_s-z.st_s),z.masking_adj=z.masking_adj+K*(G.masking_adj-z.masking_adj),z.masking_adj_short=z.masking_adj_short+K*(G.masking_adj_short-z.masking_adj_short),z.ath_lower=z.ath_lower+K*(G.ath_lower-z.ath_lower),z.ath_curve=z.ath_curve+K*(G.ath_curve-z.ath_curve),z.ath_sensitivity=z.ath_sensitivity+K*(G.ath_sensitivity-z.ath_sensitivity),z.interch=z.interch+K*(G.interch-z.interch),z.msfix=z.msfix+K*(G.msfix-z.msfix),U(h,T.vbr_q),M!=0?h.quant_comp=T.quant_comp:Math.abs(h.quant_comp- -1)>0||(h.quant_comp=T.quant_comp),M!=0?h.quant_comp_short=T.quant_comp_s:Math.abs(h.quant_comp_short- -1)>0||(h.quant_comp_short=T.quant_comp_s),T.expY!=0&&(h.experimentalY=T.expY!=0),M!=0?h.internal_flags.nsPsy.attackthre=T.st_lrm:Math.abs(h.internal_flags.nsPsy.attackthre- -1)>0||(h.internal_flags.nsPsy.attackthre=T.st_lrm),M!=0?h.internal_flags.nsPsy.attackthre_s=T.st_s:Math.abs(h.internal_flags.nsPsy.attackthre_s- -1)>0||(h.internal_flags.nsPsy.attackthre_s=T.st_s),M!=0?h.maskingadjust=T.masking_adj:Math.abs(h.maskingadjust-0)>0||(h.maskingadjust=T.masking_adj),M!=0?h.maskingadjust_short=T.masking_adj_short:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=T.masking_adj_short),M!=0?h.ATHlower=-T.ath_lower/10:Math.abs(-h.ATHlower*10-0)>0||(h.ATHlower=-T.ath_lower/10),M!=0?h.ATHcurve=T.ath_curve:Math.abs(h.ATHcurve- -1)>0||(h.ATHcurve=T.ath_curve),M!=0?h.athaa_sensitivity=T.ath_sensitivity:Math.abs(h.athaa_sensitivity- -1)>0||(h.athaa_sensitivity=T.ath_sensitivity),T.interch>0&&(M!=0?h.interChRatio=T.interch:Math.abs(h.interChRatio- -1)>0||(h.interChRatio=T.interch)),T.safejoint>0&&(h.exp_nspsytune=h.exp_nspsytune|T.safejoint),T.sfb21mod>0&&(h.exp_nspsytune=h.exp_nspsytune|T.sfb21mod<<20),M!=0?h.msfix=T.msfix:Math.abs(h.msfix- -1)>0||(h.msfix=T.msfix),M==0&&(h.VBR_q=o,h.VBR_q_frac=K)}var c=[new n(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new n(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new n(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new n(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new n(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new n(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new n(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new n(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new n(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new n(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new n(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new n(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new n(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new n(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new n(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function E(h,o,M){var j=o,K=a.nearestBitrateFullIndex(o);if(h.VBR=et.vbr_abr,h.VBR_mean_bitrate_kbps=j,h.VBR_mean_bitrate_kbps=Math.min(h.VBR_mean_bitrate_kbps,320),h.VBR_mean_bitrate_kbps=Math.max(h.VBR_mean_bitrate_kbps,8),h.brate=h.VBR_mean_bitrate_kbps,h.VBR_mean_bitrate_kbps>320&&(h.disable_reservoir=!0),c[K].safejoint>0&&(h.exp_nspsytune=h.exp_nspsytune|2),c[K].sfscale>0&&(h.internal_flags.noise_shaping=2),Math.abs(c[K].nsbass)>0){var z=int(c[K].nsbass*4);z<0&&(z+=64),h.exp_nspsytune=h.exp_nspsytune|z<<2}return M!=0?h.quant_comp=c[K].quant_comp:Math.abs(h.quant_comp- -1)>0||(h.quant_comp=c[K].quant_comp),M!=0?h.quant_comp_short=c[K].quant_comp_s:Math.abs(h.quant_comp_short- -1)>0||(h.quant_comp_short=c[K].quant_comp_s),M!=0?h.msfix=c[K].nsmsfix:Math.abs(h.msfix- -1)>0||(h.msfix=c[K].nsmsfix),M!=0?h.internal_flags.nsPsy.attackthre=c[K].st_lrm:Math.abs(h.internal_flags.nsPsy.attackthre- -1)>0||(h.internal_flags.nsPsy.attackthre=c[K].st_lrm),M!=0?h.internal_flags.nsPsy.attackthre_s=c[K].st_s:Math.abs(h.internal_flags.nsPsy.attackthre_s- -1)>0||(h.internal_flags.nsPsy.attackthre_s=c[K].st_s),M!=0?h.scale=c[K].scale:Math.abs(h.scale- -1)>0||(h.scale=c[K].scale),M!=0?h.maskingadjust=c[K].masking_adj:Math.abs(h.maskingadjust-0)>0||(h.maskingadjust=c[K].masking_adj),c[K].masking_adj>0?M!=0?h.maskingadjust_short=c[K].masking_adj*.9:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=c[K].masking_adj*.9):M!=0?h.maskingadjust_short=c[K].masking_adj*1.1:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=c[K].masking_adj*1.1),M!=0?h.ATHlower=-c[K].ath_lower/10:Math.abs(-h.ATHlower*10-0)>0||(h.ATHlower=-c[K].ath_lower/10),M!=0?h.ATHcurve=c[K].ath_curve:Math.abs(h.ATHcurve- -1)>0||(h.ATHcurve=c[K].ath_curve),M!=0?h.interChRatio=c[K].interch:Math.abs(h.interChRatio- -1)>0||(h.interChRatio=c[K].interch),o}this.apply_preset=function(h,o,M){switch(o){case e.R3MIX:{o=e.V3,h.VBR=et.vbr_mtrh;break}case e.MEDIUM:{o=e.V4,h.VBR=et.vbr_rh;break}case e.MEDIUM_FAST:{o=e.V4,h.VBR=et.vbr_mtrh;break}case e.STANDARD:{o=e.V2,h.VBR=et.vbr_rh;break}case e.STANDARD_FAST:{o=e.V2,h.VBR=et.vbr_mtrh;break}case e.EXTREME:{o=e.V0,h.VBR=et.vbr_rh;break}case e.EXTREME_FAST:{o=e.V0,h.VBR=et.vbr_mtrh;break}case e.INSANE:return o=320,h.preset=o,E(h,o,M),h.VBR=et.vbr_off,o}switch(h.preset=o,o){case e.V9:return d(h,9,M),o;case e.V8:return d(h,8,M),o;case e.V7:return d(h,7,M),o;case e.V6:return d(h,6,M),o;case e.V5:return d(h,5,M),o;case e.V4:return d(h,4,M),o;case e.V3:return d(h,3,M),o;case e.V2:return d(h,2,M),o;case e.V1:return d(h,1,M),o;case e.V0:return d(h,0,M),o}return 8<=o&&o<=320?E(h,o,M):(h.preset=0,o)};function U(h,o){var M=0;return 0>o&&(M=-1,o=0),9<o&&(M=-1,o=9),h.VBR_q=o,h.VBR_q_frac=0,M}}var l_=i_;function o_(){this.setModules=function(e,t){}}var __=o_;function u_(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var f_=u_,Qs=n0,T1=Qs.new_float,c_=Qs.new_int;function v_(){this.global_gain=0,this.sfb_count1=0,this.step=c_(39),this.noise=T1(39),this.noise_log=T1(39)}var h_=v_,Jt=n0,vt=Jt.System,w1=Jt.VbrMode,Va=Jt.Util,Xt=Jt.Arrays,ln=Jt.new_float,on=Jt.assert,d_=__,Pa=f_,m_=h_,je=x0(),B1=Mr,I1=oa;function b_(){var e;this.rv=null;var t;this.qupvt=null;var n,a=new d_,s;this.setModules=function(T,p,S,I){e=T,t=p,this.rv=p,n=S,this.qupvt=S,s=I,a.setModules(n,s)},this.ms_convert=function(T,p){for(var S=0;S<576;++S){var I=T.tt[p][0].xr[S],r=T.tt[p][1].xr[S];T.tt[p][0].xr[S]=(I+r)*(Va.SQRT2*.5),T.tt[p][1].xr[S]=(I-r)*(Va.SQRT2*.5)}};function l(T,p,S,I){I=0;for(var r=0;r<=S;++r){var b=Math.abs(T.xr[r]);I+=b,p[r]=Math.sqrt(b*Math.sqrt(b)),p[r]>T.xrpow_max&&(T.xrpow_max=p[r])}return I}this.init_xrpow=function(T,p,S){var I=0,r=0|p.max_nonzero_coeff;if(p.xrpow_max=0,Xt.fill(S,r,576,0),I=l(p,S,r,I),I>1e-20){var b=0;T.substep_shaping&2&&(b=1);for(var F=0;F<p.psymax;F++)T.pseudohalf[F]=b;return!0}return Xt.fill(p.l3_enc,0,576,0),!1};function d(T,p){var S=T.ATH,I=p.xr;if(p.block_type!=je.SHORT_TYPE)for(var r=!1,b=je.PSFB21-1;b>=0&&!r;b--){var F=T.scalefac_band.psfb21[b],D=T.scalefac_band.psfb21[b+1],W=n.athAdjust(S.adjust,S.psfb21[b],S.floor);T.nsPsy.longfact[21]>1e-12&&(W*=T.nsPsy.longfact[21]);for(var P=D-1;P>=F;P--)if(Math.abs(I[P])<W)I[P]=0;else{r=!0;break}}else for(var X=0;X<3;X++)for(var r=!1,b=je.PSFB12-1;b>=0&&!r;b--){var F=T.scalefac_band.s[12]*3+(T.scalefac_band.s[13]-T.scalefac_band.s[12])*X+(T.scalefac_band.psfb12[b]-T.scalefac_band.psfb12[0]),D=F+(T.scalefac_band.psfb12[b+1]-T.scalefac_band.psfb12[b]),de=n.athAdjust(S.adjust,S.psfb12[b],S.floor);T.nsPsy.shortfact[12]>1e-12&&(de*=T.nsPsy.shortfact[12]);for(var P=D-1;P>=F;P--)if(Math.abs(I[P])<de)I[P]=0;else{r=!0;break}}}this.init_outer_loop=function(T,p){p.part2_3_length=0,p.big_values=0,p.count1=0,p.global_gain=210,p.scalefac_compress=0,p.table_select[0]=0,p.table_select[1]=0,p.table_select[2]=0,p.subblock_gain[0]=0,p.subblock_gain[1]=0,p.subblock_gain[2]=0,p.subblock_gain[3]=0,p.region0_count=0,p.region1_count=0,p.preflag=0,p.scalefac_scale=0,p.count1table_select=0,p.part2_length=0,p.sfb_lmax=je.SBPSY_l,p.sfb_smin=je.SBPSY_s,p.psy_lmax=T.sfb21_extra?je.SBMAX_l:je.SBPSY_l,p.psymax=p.psy_lmax,p.sfbmax=p.sfb_lmax,p.sfbdivide=11;for(var S=0;S<je.SBMAX_l;S++)p.width[S]=T.scalefac_band.l[S+1]-T.scalefac_band.l[S],p.window[S]=3;if(p.block_type==je.SHORT_TYPE){var I=ln(576);p.sfb_smin=0,p.sfb_lmax=0,p.mixed_block_flag!=0&&(p.sfb_smin=3,p.sfb_lmax=T.mode_gr*2+4),p.psymax=p.sfb_lmax+3*((T.sfb21_extra?je.SBMAX_s:je.SBPSY_s)-p.sfb_smin),p.sfbmax=p.sfb_lmax+3*(je.SBPSY_s-p.sfb_smin),p.sfbdivide=p.sfbmax-18,p.psy_lmax=p.sfb_lmax;var r=T.scalefac_band.l[p.sfb_lmax];vt.arraycopy(p.xr,0,I,0,576);for(var S=p.sfb_smin;S<je.SBMAX_s;S++)for(var b=T.scalefac_band.s[S],F=T.scalefac_band.s[S+1],D=0;D<3;D++)for(var W=b;W<F;W++)p.xr[r++]=I[3*W+D];for(var P=p.sfb_lmax,S=p.sfb_smin;S<je.SBMAX_s;S++)p.width[P]=p.width[P+1]=p.width[P+2]=T.scalefac_band.s[S+1]-T.scalefac_band.s[S],p.window[P]=0,p.window[P+1]=1,p.window[P+2]=2,P+=3}p.count1bits=0,p.sfb_partition_table=n.nr_of_sfb_block[0][0],p.slen[0]=0,p.slen[1]=0,p.slen[2]=0,p.slen[3]=0,p.max_nonzero_coeff=575,Xt.fill(p.scalefac,0),d(T,p)};function c(T){this.ordinal=T}c.BINSEARCH_NONE=new c(0),c.BINSEARCH_UP=new c(1),c.BINSEARCH_DOWN=new c(2);function E(T,p,S,I,r){var b,F=T.CurrentStep[I],D=!1,W=T.OldValue[I],P=c.BINSEARCH_NONE;for(p.global_gain=W,S-=p.part2_length;;){var X;if(b=s.count_bits(T,r,p,null),F==1||b==S)break;b>S?(P==c.BINSEARCH_DOWN&&(D=!0),D&&(F/=2),P=c.BINSEARCH_UP,X=F):(P==c.BINSEARCH_UP&&(D=!0),D&&(F/=2),P=c.BINSEARCH_DOWN,X=-F),p.global_gain+=X,p.global_gain<0&&(p.global_gain=0,D=!0),p.global_gain>255&&(p.global_gain=255,D=!0)}for(on(p.global_gain>=0),on(p.global_gain<256);b>S&&p.global_gain<255;)p.global_gain++,b=s.count_bits(T,r,p,null);return T.CurrentStep[I]=W-p.global_gain>=4?4:2,T.OldValue[I]=p.global_gain,p.part2_3_length=b,b}this.trancate_smallspectrums=function(T,p,S,I){var r=ln(I1.SFBMAX);if(!(!(T.substep_shaping&4)&&p.block_type==je.SHORT_TYPE||T.substep_shaping&128)){n.calc_noise(p,S,r,new Pa,null);for(var F=0;F<576;F++){var b=0;p.l3_enc[F]!=0&&(b=Math.abs(p.xr[F])),I[F]=b}var F=0,D=8;p.block_type==je.SHORT_TYPE&&(D=6);do{var W,P,X,de,C=p.width[D];if(F+=C,!(r[D]>=1)&&(Xt.sort(I,F-C,C),!BitStream.EQ(I[F-1],0))){W=(1-r[D])*S[D],P=0,de=0;do{var _;for(X=1;de+X<C&&!BitStream.NEQ(I[de+F-C],I[de+F+X-C]);X++);if(_=I[de+F-C]*I[de+F-C]*X,W<_){de!=0&&(P=I[de+F-C-1]);break}W-=_,de+=X}while(de<C);if(!BitStream.EQ(P,0))do Math.abs(p.xr[F-C])<=P&&(p.l3_enc[F-C]=0);while(--C>0)}}while(++D<p.psymax);p.part2_3_length=s.noquant_count_bits(T,p,null)}};function U(T){for(var p=0;p<T.sfbmax;p++)if(T.scalefac[p]+T.subblock_gain[T.window[p]]==0)return!1;return!0}function h(T){return Va.FAST_LOG10(.368+.632*T*T*T)}function o(T,p){for(var S=1e-37,I=0;I<p.psymax;I++)S+=h(T[I]);return Math.max(1e-20,S)}function M(T,p,S,I,r){var b;switch(T){default:case 9:{p.over_count>0?(b=S.over_SSD<=p.over_SSD,S.over_SSD==p.over_SSD&&(b=S.bits<p.bits)):b=S.max_noise<0&&S.max_noise*10+S.bits<=p.max_noise*10+p.bits;break}case 0:b=S.over_count<p.over_count||S.over_count==p.over_count&&S.over_noise<p.over_noise||S.over_count==p.over_count&&BitStream.EQ(S.over_noise,p.over_noise)&&S.tot_noise<p.tot_noise;break;case 8:S.max_noise=o(r,I);case 1:b=S.max_noise<p.max_noise;break;case 2:b=S.tot_noise<p.tot_noise;break;case 3:b=S.tot_noise<p.tot_noise&&S.max_noise<p.max_noise;break;case 4:b=S.max_noise<=0&&p.max_noise>.2||S.max_noise<=0&&p.max_noise<0&&p.max_noise>S.max_noise-.2&&S.tot_noise<p.tot_noise||S.max_noise<=0&&p.max_noise>0&&p.max_noise>S.max_noise-.2&&S.tot_noise<p.tot_noise+p.over_noise||S.max_noise>0&&p.max_noise>-.05&&p.max_noise>S.max_noise-.1&&S.tot_noise+S.over_noise<p.tot_noise+p.over_noise||S.max_noise>0&&p.max_noise>-.1&&p.max_noise>S.max_noise-.15&&S.tot_noise+S.over_noise+S.over_noise<p.tot_noise+p.over_noise+p.over_noise;break;case 5:b=S.over_noise<p.over_noise||BitStream.EQ(S.over_noise,p.over_noise)&&S.tot_noise<p.tot_noise;break;case 6:b=S.over_noise<p.over_noise||BitStream.EQ(S.over_noise,p.over_noise)&&(S.max_noise<p.max_noise||BitStream.EQ(S.max_noise,p.max_noise)&&S.tot_noise<=p.tot_noise);break;case 7:b=S.over_count<p.over_count||S.over_noise<p.over_noise;break}return p.over_count==0&&(b=b&&S.bits<p.bits),b}function j(T,p,S,I,r){var b=T.internal_flags,F;p.scalefac_scale==0?F=1.2968395546510096:F=1.6817928305074292;for(var D=0,W=0;W<p.sfbmax;W++)D<S[W]&&(D=S[W]);var P=b.noise_shaping_amp;switch(P==3&&(r?P=2:P=1),P){case 2:break;case 1:D>1?D=Math.pow(D,.5):D*=.95;break;case 0:default:D>1?D=1:D*=.95;break}for(var X=0,W=0;W<p.sfbmax;W++){var de=p.width[W],C;if(X+=de,!(S[W]<D)){if(b.substep_shaping&2&&(b.pseudohalf[W]=b.pseudohalf[W]==0?1:0,b.pseudohalf[W]==0&&b.noise_shaping_amp==2))return;for(p.scalefac[W]++,C=-de;C<0;C++)I[X+C]*=F,I[X+C]>p.xrpow_max&&(p.xrpow_max=I[X+C]);if(b.noise_shaping_amp==2)return}}}function K(T,p){for(var S=1.2968395546510096,I=0,r=0;r<T.sfbmax;r++){var b=T.width[r],F=T.scalefac[r];if(T.preflag!=0&&(F+=n.pretab[r]),I+=b,F&1){F++;for(var D=-b;D<0;D++)p[I+D]*=S,p[I+D]>T.xrpow_max&&(T.xrpow_max=p[I+D])}T.scalefac[r]=F>>1}T.preflag=0,T.scalefac_scale=1}function z(T,p,S){var I,r=p.scalefac;for(I=0;I<p.sfb_lmax;I++)if(r[I]>=16)return!0;for(var b=0;b<3;b++){var F=0,D=0;for(I=p.sfb_lmax+b;I<p.sfbdivide;I+=3)F<r[I]&&(F=r[I]);for(;I<p.sfbmax;I+=3)D<r[I]&&(D=r[I]);if(!(F<16&&D<8)){if(p.subblock_gain[b]>=7)return!0;p.subblock_gain[b]++;var W=T.scalefac_band.l[p.sfb_lmax];for(I=p.sfb_lmax+b;I<p.sfbmax;I+=3){var P,X=p.width[I],de=r[I];if(de=de-(4>>p.scalefac_scale),de>=0){r[I]=de,W+=X*3;continue}r[I]=0;{var C=210+(de<<p.scalefac_scale+1);P=n.IPOW20(C)}W+=X*(b+1);for(var _=-X;_<0;_++)S[W+_]*=P,S[W+_]>p.xrpow_max&&(p.xrpow_max=S[W+_]);W+=X*(3-b-1)}{var P=n.IPOW20(202);W+=p.width[I]*(b+1);for(var _=-p.width[I];_<0;_++)S[W+_]*=P,S[W+_]>p.xrpow_max&&(p.xrpow_max=S[W+_])}}}return!1}function G(T,p,S,I,r){var b=T.internal_flags;j(T,p,S,I,r);var F=U(p);return F?!1:(b.mode_gr==2?F=s.scale_bitcount(p):F=s.scale_bitcount_lsf(b,p),F?(b.noise_shaping>1&&(Xt.fill(b.pseudohalf,0),p.scalefac_scale==0?(K(p,I),F=!1):p.block_type==je.SHORT_TYPE&&b.subblock_gain>0&&(F=z(b,p,I)||U(p))),F||(b.mode_gr==2?F=s.scale_bitcount(p):F=s.scale_bitcount_lsf(b,p)),!F):!0)}this.outer_loop=function(T,p,S,I,r,b){var F=T.internal_flags,D=new B1,W=ln(576),P=ln(I1.SFBMAX),X=new Pa,de,C=new m_,_=9999999,y=!1,w=!1,V=0;if(E(F,p,b,r,I),F.noise_shaping==0)return 100;n.calc_noise(p,S,P,X,C),X.bits=p.part2_3_length,D.assign(p);var O=0;for(vt.arraycopy(I,0,W,0,576);!y;){do{var Q=new Pa,k,m=255;if(F.substep_shaping&2?k=20:k=3,F.sfb21_extra&&(P[D.sfbmax]>1||D.block_type==je.SHORT_TYPE&&(P[D.sfbmax+1]>1||P[D.sfbmax+2]>1))||!G(T,D,P,I,w))break;D.scalefac_scale!=0&&(m=254);var u=b-D.part2_length;if(u<=0)break;for(;(D.part2_3_length=s.count_bits(F,I,D,C))>u&&D.global_gain<=m;)D.global_gain++;if(D.global_gain>m)break;if(X.over_count==0){for(;(D.part2_3_length=s.count_bits(F,I,D,C))>_&&D.global_gain<=m;)D.global_gain++;if(D.global_gain>m)break}if(n.calc_noise(D,S,P,Q,C),Q.bits=D.part2_3_length,p.block_type!=je.SHORT_TYPE?de=T.quant_comp:de=T.quant_comp_short,de=M(de,X,Q,D,P)?1:0,de!=0)_=p.part2_3_length,X=Q,p.assign(D),O=0,vt.arraycopy(I,0,W,0,576);else if(F.full_outer_loop==0&&(++O>k&&X.over_count==0||F.noise_shaping_amp==3&&w&&O>30||F.noise_shaping_amp==3&&w&&D.global_gain-V>15))break}while(D.global_gain+D.scalefac_scale<255);F.noise_shaping_amp==3?w?y=!0:(D.assign(p),vt.arraycopy(W,0,I,0,576),O=0,V=D.global_gain,w=!0):y=!0}return on(p.global_gain+p.scalefac_scale<=255),T.VBR==w1.vbr_rh||T.VBR==w1.vbr_mtrh?vt.arraycopy(W,0,I,0,576):F.substep_shaping&1&&trancate_smallspectrums(F,p,S,I),X.over_count},this.iteration_finish_one=function(T,p,S){var I=T.l3_side,r=I.tt[p][S];s.best_scalefac_store(T,p,S,I),T.use_best_huffman==1&&s.best_huffman_divide(T,r),t.ResvAdjust(T,r)},this.VBR_encode_granule=function(T,p,S,I,r,b,F){var D=T.internal_flags,W=new B1,P=ln(576),X=F,de=F+1,C=(F+b)/2,_,y,w=0,V=D.sfb21_extra;on(X<=LameInternalFlags.MAX_BITS_PER_CHANNEL),Xt.fill(W.l3_enc,0);do C>X-42?D.sfb21_extra=!1:D.sfb21_extra=V,y=outer_loop(T,p,S,I,r,C),y<=0?(w=1,de=p.part2_3_length,W.assign(p),vt.arraycopy(I,0,P,0,576),F=de-32,_=F-b,C=(F+b)/2):(b=C+32,_=F-b,C=(F+b)/2,w!=0&&(w=2,p.assign(W),vt.arraycopy(P,0,I,0,576)));while(_>12);D.sfb21_extra=V,w==2&&vt.arraycopy(W.l3_enc,0,p.l3_enc,0,576),on(p.part2_3_length<=X)},this.get_framebits=function(T,p){var S=T.internal_flags;S.bitrate_index=S.VBR_min_bitrate;var I=e.getframebits(T);S.bitrate_index=1,I=e.getframebits(T);for(var r=1;r<=S.VBR_max_bitrate;r++){S.bitrate_index=r;var b=new MeanBits(I);p[r]=t.ResvFrameBegin(T,b),I=b.bits}},this.VBR_old_prepare=function(T,p,S,I,r,b,F,D,W){var P=T.internal_flags,X,de=0,C=1,_=0;P.bitrate_index=P.VBR_max_bitrate;var y=t.ResvFrameBegin(T,new MeanBits(0))/P.mode_gr;get_framebits(T,b);for(var w=0;w<P.mode_gr;w++){var V=n.on_pe(T,p,D[w],y,w,0);P.mode_ext==je.MPG_MD_MS_LR&&(ms_convert(P.l3_side,w),n.reduce_side(D[w],S[w],y,V));for(var O=0;O<P.channels_out;++O){var Q=P.l3_side.tt[w][O];Q.block_type!=je.SHORT_TYPE?(de=1.28/(1+Math.exp(3.5-p[w][O]/300))-.05,X=P.PSY.mask_adjust-de):(de=2.56/(1+Math.exp(3.5-p[w][O]/300))-.14,X=P.PSY.mask_adjust_short-de),P.masking_lower=Math.pow(10,X*.1),init_outer_loop(P,Q),W[w][O]=n.calc_xmin(T,I[w][O],Q,r[w][O]),W[w][O]!=0&&(C=0),F[w][O]=126,_+=D[w][O]}}for(var w=0;w<P.mode_gr;w++)for(var O=0;O<P.channels_out;O++)_>b[P.VBR_max_bitrate]&&(D[w][O]*=b[P.VBR_max_bitrate],D[w][O]/=_),F[w][O]>D[w][O]&&(F[w][O]=D[w][O]);return C},this.bitpressure_strategy=function(T,p,S,I){for(var r=0;r<T.mode_gr;r++)for(var b=0;b<T.channels_out;b++){for(var F=T.l3_side.tt[r][b],D=p[r][b],W=0,P=0;P<F.psy_lmax;P++)D[W++]*=1+.029*P*P/je.SBMAX_l/je.SBMAX_l;if(F.block_type==je.SHORT_TYPE)for(var P=F.sfb_smin;P<je.SBMAX_s;P++)D[W++]*=1+.029*P*P/je.SBMAX_s/je.SBMAX_s,D[W++]*=1+.029*P*P/je.SBMAX_s/je.SBMAX_s,D[W++]*=1+.029*P*P/je.SBMAX_s/je.SBMAX_s;I[r][b]=0|Math.max(S[r][b],.9*I[r][b])}},this.VBR_new_prepare=function(T,p,S,I,r,b){var F=T.internal_flags,D=1,W=0,P=0,X;if(T.free_format){F.bitrate_index=0;var de=new MeanBits(W);X=t.ResvFrameBegin(T,de),W=de.bits,r[0]=X}else{F.bitrate_index=F.VBR_max_bitrate;var de=new MeanBits(W);t.ResvFrameBegin(T,de),W=de.bits,get_framebits(T,r),X=r[F.VBR_max_bitrate]}for(var C=0;C<F.mode_gr;C++){n.on_pe(T,p,b[C],W,C,0),F.mode_ext==je.MPG_MD_MS_LR&&ms_convert(F.l3_side,C);for(var _=0;_<F.channels_out;++_){var y=F.l3_side.tt[C][_];F.masking_lower=Math.pow(10,F.PSY.mask_adjust*.1),init_outer_loop(F,y),n.calc_xmin(T,S[C][_],y,I[C][_])!=0&&(D=0),P+=b[C][_]}}for(var C=0;C<F.mode_gr;C++)for(var _=0;_<F.channels_out;_++)P>X&&(b[C][_]*=X,b[C][_]/=P);return D},this.calc_target_bits=function(T,p,S,I,r,b){var F=T.internal_flags,D=F.l3_side,W,P,X,de,C=0;F.bitrate_index=F.VBR_max_bitrate;var _=new MeanBits(C);for(b[0]=t.ResvFrameBegin(T,_),C=_.bits,F.bitrate_index=1,C=e.getframebits(T)-F.sideinfo_len*8,r[0]=C/(F.mode_gr*F.channels_out),C=T.VBR_mean_bitrate_kbps*T.framesize*1e3,F.substep_shaping&1&&(C*=1.09),C/=T.out_samplerate,C-=F.sideinfo_len*8,C/=F.mode_gr*F.channels_out,W=.93+.07*(11-T.compression_ratio)/(11-5.5),W<.9&&(W=.9),W>1&&(W=1),P=0;P<F.mode_gr;P++){var y=0;for(X=0;X<F.channels_out;X++){if(I[P][X]=int(W*C),p[P][X]>700){var w=int((p[P][X]-700)/1.4),V=D.tt[P][X];I[P][X]=int(W*C),V.block_type==je.SHORT_TYPE&&w<C/2&&(w=C/2),w>C*3/2?w=C*3/2:w<0&&(w=0),I[P][X]+=w}I[P][X]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(I[P][X]=LameInternalFlags.MAX_BITS_PER_CHANNEL),y+=I[P][X]}if(y>LameInternalFlags.MAX_BITS_PER_GRANULE)for(X=0;X<F.channels_out;++X)I[P][X]*=LameInternalFlags.MAX_BITS_PER_GRANULE,I[P][X]/=y}if(F.mode_ext==je.MPG_MD_MS_LR)for(P=0;P<F.mode_gr;P++)n.reduce_side(I[P],S[P],C*F.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(de=0,P=0;P<F.mode_gr;P++)for(X=0;X<F.channels_out;X++)I[P][X]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(I[P][X]=LameInternalFlags.MAX_BITS_PER_CHANNEL),de+=I[P][X];if(de>b[0])for(P=0;P<F.mode_gr;P++)for(X=0;X<F.channels_out;X++)I[P][X]*=b[0],I[P][X]/=de}}var p_=b_,x_=n0,C1=x_.assert;function S_(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var a=t.internal_flags,s,l=a.l3_side,d=e.getframebits(t);n.bits=(d-a.sideinfo_len*8)/a.mode_gr;var c=8*256*a.mode_gr-8;t.brate>320?s=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(s=8*1440,t.strict_ISO&&(s=8*int(32e4/(t.out_samplerate/1152)/8+.5))),a.ResvMax=s-d,a.ResvMax>c&&(a.ResvMax=c),(a.ResvMax<0||t.disable_reservoir)&&(a.ResvMax=0);var E=n.bits*a.mode_gr+Math.min(a.ResvSize,a.ResvMax);return E>s&&(E=s),C1(a.ResvMax%8==0),C1(a.ResvMax>=0),l.resvDrain_pre=0,a.pinfo!=null&&(a.pinfo.mean_bits=n.bits/2,a.pinfo.resvsize=a.ResvSize),E},this.ResvMaxBits=function(t,n,a,s){var l=t.internal_flags,d,c=l.ResvSize,E=l.ResvMax;s!=0&&(c+=n),l.substep_shaping&1&&(E*=.9),a.bits=n,c*10>E*9?(d=c-E*9/10,a.bits+=d,l.substep_shaping|=128):(d=0,l.substep_shaping&=127,!t.disable_reservoir&&!(l.substep_shaping&1)&&(a.bits-=.1*n));var U=c<l.ResvMax*6/10?c:l.ResvMax*6/10;return U-=d,U<0&&(U=0),U},this.ResvAdjust=function(t,n){t.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(t,n){var a,s=t.l3_side;t.ResvSize+=n*t.mode_gr;var l=0;s.resvDrain_post=0,s.resvDrain_pre=0,(a=t.ResvSize%8)!=0&&(l+=a),a=t.ResvSize-l-t.ResvMax,a>0&&(l+=a);{var d=Math.min(s.main_data_begin*8,l)/8;s.resvDrain_pre+=8*d,l-=8*d,t.ResvSize-=8*d,s.main_data_begin-=d}s.resvDrain_post+=l,t.ResvSize-=l}}var M_=S_;function A_(){var e="http://www.mp3dev.org/",t=3,n=98,a=4,s=0,l=93;this.getLameVersion=function(){return t+"."+n+"."+a},this.getLameShortVersion=function(){return t+"."+n+"."+a},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return s+"."+l},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var E_=A_,en=n0,R_=en.System,Da=en.VbrMode,L1=en.ShortBlock,y_=en.Arrays,Vn=en.new_byte,T_=en.assert;xn.NUMTOCENTRIES=100;xn.MAXFRAMESIZE=2880;function xn(){var e,t,n;this.setModules=function(C,_,y){e=C,t=_,n=y};var a=1,s=2,l=4,d=8,c=xn.NUMTOCENTRIES,E=xn.MAXFRAMESIZE,U=c+4+4+4+4+4,h=U+9+1+1+8+1+1+3+1+1+2+4+2+2,o=128,M=64,j=32,K=null,z="Xing",G="Info",T=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function p(C,_){if(C.nVbrNumFrames++,C.sum+=_,C.seen++,!(C.seen<C.want)&&(C.pos<C.size&&(C.bag[C.pos]=C.sum,C.pos++,C.seen=0),C.pos==C.size)){for(var y=1;y<C.size;y+=2)C.bag[y/2]=C.bag[y];C.want*=2,C.pos/=2}}function S(C,_){if(!(C.pos<=0))for(var y=1;y<c;++y){var w=y/c,V,O,Q=0|Math.floor(w*C.pos);Q>C.pos-1&&(Q=C.pos-1),V=C.bag[Q],O=C.sum;var k=0|256*V/O;k>255&&(k=255),_[y]=255&k}}this.addVbrFrame=function(C){var _=C.internal_flags,y=Tables.bitrate_table[C.version][_.bitrate_index];T_(_.VBR_seek_table.bag!=null),p(_.VBR_seek_table,y)};function I(C,_){var y=C[_+0]&255;return y<<=8,y|=C[_+1]&255,y<<=8,y|=C[_+2]&255,y<<=8,y|=C[_+3]&255,y}function r(C,_,y){C[_+0]=255&(y>>24&255),C[_+1]=255&(y>>16&255),C[_+2]=255&(y>>8&255),C[_+3]=255&(y&255)}function b(C,_,y){C[_+0]=255&(y>>8&255),C[_+1]=255&(y&255)}function F(C,_){return new String(C,_,z.length(),K).equals(z)||new String(C,_,G.length(),K).equals(G)}function D(C,_,y){return 255&(C<<_|y&~(-1<<_))}function W(C,_){var y=C.internal_flags;_[0]=D(_[0],8,255),_[1]=D(_[1],3,7),_[1]=D(_[1],1,C.out_samplerate<16e3?0:1),_[1]=D(_[1],1,C.version),_[1]=D(_[1],2,4-3),_[1]=D(_[1],1,C.error_protection?0:1),_[2]=D(_[2],4,y.bitrate_index),_[2]=D(_[2],2,y.samplerate_index),_[2]=D(_[2],1,0),_[2]=D(_[2],1,C.extension),_[3]=D(_[3],2,C.mode.ordinal()),_[3]=D(_[3],2,y.mode_ext),_[3]=D(_[3],1,C.copyright),_[3]=D(_[3],1,C.original),_[3]=D(_[3],2,C.emphasis),_[0]=255;var w=255&(_[1]&241),V;C.version==1?V=o:C.out_samplerate<16e3?V=j:V=M,C.VBR==Da.vbr_off&&(V=C.brate);var O;C.free_format?O=0:O=255&16*e.BitrateIndex(V,C.version,C.out_samplerate),C.version==1?(_[1]=255&(w|10),w=255&(_[2]&13),_[2]=255&(O|w)):(_[1]=255&(w|2),w=255&(_[2]&13),_[2]=255&(O|w))}this.getVbrTag=function(C){var _=new VBRTagData,y=0;_.flags=0;var w=C[y+1]>>3&1,V=C[y+2]>>2&3,O=C[y+3]>>6&3,Q=C[y+2]>>4&15;if(Q=Tables.bitrate_table[w][Q],C[y+1]>>4==14?_.samprate=Tables.samplerate_table[2][V]:_.samprate=Tables.samplerate_table[w][V],w!=0?O!=3?y+=32+4:y+=17+4:O!=3?y+=17+4:y+=9+4,!F(C,y))return null;y+=4,_.hId=w;var k=_.flags=I(C,y);if(y+=4,k&a&&(_.frames=I(C,y),y+=4),k&s&&(_.bytes=I(C,y),y+=4),k&l){if(_.toc!=null)for(var m=0;m<c;m++)_.toc[m]=C[y+m];y+=c}_.vbrScale=-1,k&d&&(_.vbrScale=I(C,y),y+=4),_.headersize=(w+1)*72e3*Q/_.samprate,y+=21;var u=C[y+0]<<4;u+=C[y+1]>>4;var f=(C[y+1]&15)<<8;return f+=C[y+2]&255,(u<0||u>3e3)&&(u=-1),(f<0||f>3e3)&&(f=-1),_.encDelay=u,_.encPadding=f,_},this.InitVbrTag=function(C){var _=C.internal_flags,y;C.version==1?y=o:C.out_samplerate<16e3?y=j:y=M,C.VBR==Da.vbr_off&&(y=C.brate);var w=(C.version+1)*72e3*y/C.out_samplerate,V=_.sideinfo_len+h;if(_.VBR_seek_table.TotalFrameSize=w,w<V||w>E){C.bWriteVbrTag=!1;return}_.VBR_seek_table.nVbrNumFrames=0,_.VBR_seek_table.nBytesWritten=0,_.VBR_seek_table.sum=0,_.VBR_seek_table.seen=0,_.VBR_seek_table.want=1,_.VBR_seek_table.pos=0,_.VBR_seek_table.bag==null&&(_.VBR_seek_table.bag=new int[400],_.VBR_seek_table.size=400);var O=Vn(E);W(C,O);for(var Q=_.VBR_seek_table.TotalFrameSize,k=0;k<Q;++k)t.add_dummy_byte(C,O[k]&255,1)};function P(C,_){var y=_^C;return _=_>>8^T[y&255],_}this.updateMusicCRC=function(C,_,y,w){for(var V=0;V<w;++V)C[0]=P(_[y+V],C[0])};function X(C,_,y,w,V){var O=C.internal_flags,Q=0,k=C.encoder_delay,m=C.encoder_padding,u=100-10*C.VBR_q-C.quality,f=n.getLameVeryShortVersion(),x,B=0,g,oe=[1,5,3,2,4,0,3],q=0|(C.lowpassfreq/100+.5>255?255:C.lowpassfreq/100+.5),ne=0,ve=0,ye=0,L=C.internal_flags.noise_shaping,$=0,Z=0,ae=0,ie=0,xe=0,Ce=(C.exp_nspsytune&1)!=0,i=(C.exp_nspsytune&2)!=0,v=!1,re=!1,he=C.internal_flags.nogap_total,me=C.internal_flags.nogap_current,pe=C.ATHtype,be=0,Se;switch(C.VBR){case vbr_abr:Se=C.VBR_mean_bitrate_kbps;break;case vbr_off:Se=C.brate;break;default:Se=C.VBR_min_bitrate_kbps}switch(C.VBR.ordinal()<oe.length?x=oe[C.VBR.ordinal()]:x=0,g=16*B+x,O.findReplayGain&&(O.RadioGain>510&&(O.RadioGain=510),O.RadioGain<-510&&(O.RadioGain=-510),ve=8192,ve|=3072,O.RadioGain>=0?ve|=O.RadioGain:(ve|=512,ve|=-O.RadioGain)),O.findPeakSample&&(ne=Math.abs(0|O.PeakSample/32767*Math.pow(2,23)+.5)),he!=-1&&(me>0&&(re=!0),me<he-1&&(v=!0)),be=pe+((Ce?1:0)<<4)+((i?1:0)<<5)+((v?1:0)<<6)+((re?1:0)<<7),u<0&&(u=0),C.mode){case MONO:$=0;break;case STEREO:$=1;break;case DUAL_CHANNEL:$=2;break;case JOINT_STEREO:C.force_ms?$=4:$=3;break;case NOT_SET:default:$=7;break}C.in_samplerate<=32e3?ae=0:C.in_samplerate==48e3?ae=2:C.in_samplerate>48e3?ae=3:ae=1,(C.short_blocks==L1.short_block_forced||C.short_blocks==L1.short_block_dispensed||C.lowpassfreq==-1&&C.highpassfreq==-1||C.scale_left<C.scale_right||C.scale_left>C.scale_right||C.disable_reservoir&&C.brate<320||C.noATH||C.ATHonly||pe==0||C.in_samplerate<=32e3)&&(Z=1),ie=L+($<<2)+(Z<<5)+(ae<<6),xe=O.nMusicCRC,r(y,w+Q,u),Q+=4;for(var Fe=0;Fe<9;Fe++)y[w+Q+Fe]=255&f.charAt(Fe);Q+=9,y[w+Q]=255&g,Q++,y[w+Q]=255&q,Q++,r(y,w+Q,ne),Q+=4,b(y,w+Q,ve),Q+=2,b(y,w+Q,ye),Q+=2,y[w+Q]=255&be,Q++,Se>=255?y[w+Q]=255:y[w+Q]=255&Se,Q++,y[w+Q]=255&k>>4,y[w+Q+1]=255&(k<<4)+(m>>8),y[w+Q+2]=255&m,Q+=3,y[w+Q]=255&ie,Q++,y[w+Q++]=0,b(y,w+Q,C.preset),Q+=2,r(y,w+Q,_),Q+=4,b(y,w+Q,xe),Q+=2;for(var we=0;we<Q;we++)V=P(y[w+we],V);return b(y,w+Q,V),Q+=2,Q}function de(C){C.seek(0);var _=Vn(10);C.readFully(_);var y;return new String(_,"ISO-8859-1").startsWith("ID3")?y=0:y=((_[6]&127)<<21|(_[7]&127)<<14|(_[8]&127)<<7|_[9]&127)+_.length,y}this.getLameTagFrame=function(C,_){var y=C.internal_flags;if(!C.bWriteVbrTag||y.Class_ID!=Lame.LAME_ID||y.VBR_seek_table.pos<=0)return 0;if(_.length<y.VBR_seek_table.TotalFrameSize)return y.VBR_seek_table.TotalFrameSize;y_.fill(_,0,y.VBR_seek_table.TotalFrameSize,0),W(C,_);var w=Vn(c);if(C.free_format)for(var V=1;V<c;++V)w[V]=255&255*V/100;else S(y.VBR_seek_table,w);var O=y.sideinfo_len;C.error_protection&&(O-=2),C.VBR==Da.vbr_off?(_[O++]=255&G.charAt(0),_[O++]=255&G.charAt(1),_[O++]=255&G.charAt(2),_[O++]=255&G.charAt(3)):(_[O++]=255&z.charAt(0),_[O++]=255&z.charAt(1),_[O++]=255&z.charAt(2),_[O++]=255&z.charAt(3)),r(_,O,a+s+l+d),O+=4,r(_,O,y.VBR_seek_table.nVbrNumFrames),O+=4;var Q=y.VBR_seek_table.nBytesWritten+y.VBR_seek_table.TotalFrameSize;r(_,O,0|Q),O+=4,R_.arraycopy(w,0,_,O,w.length),O+=w.length,C.error_protection&&t.CRC_writeheader(y,_);for(var k=0,V=0;V<O;V++)k=P(_[V],k);return O+=X(C,Q,_,O,k),y.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(C,_){var y=C.internal_flags;if(y.VBR_seek_table.pos<=0||(_.seek(_.length()),_.length()==0))return-1;var w=de(_);_.seek(w);var V=Vn(E),O=getLameTagFrame(C,V);return O>V.length?-1:(O<1||_.write(V,0,O),0)}}var w_=xn,gs=n0,O1=gs.new_byte,B_=gs.assert,I_=Tr(),C_=l_,L_=Ks,O_=zs(),N_=p_,F_=Zs(),H_=M_,k_=Rn,V_=yr();x0();var P_=E_,D_=w_;function X_(){this.setModules=function(e,t){}}function $_(){this.setModules=function(e,t,n){}}function Y_(){}function q_(){this.setModules=function(e,t){}}function U_(e,t,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var a=new I_,s=new X_,l=new L_,d=new V_,c=new C_,E=new O_,U=new N_,h=new D_,o=new P_,M=new q_,j=new H_,K=new F_,z=new $_,G=new Y_;a.setModules(l,d,c,E,U,h,o,M,G),d.setModules(l,G,o,h),M.setModules(d,o),c.setModules(a),U.setModules(d,j,E,K),E.setModules(K,j,a.enc.psy),j.setModules(d),K.setModules(E),h.setModules(a,d,o),s.setModules(z,G),z.setModules(o,M,c);var T=a.lame_init();T.num_channels=e,T.in_samplerate=t,T.brate=n,T.mode=k_.STEREO,T.quality=3,T.bWriteVbrTag=!1,T.disable_reservoir=!0,T.write_id3tag_automatic=!1,a.lame_init_params(T);var p=1152,S=0|1.25*p+7200,I=O1(S);this.encodeBuffer=function(r,b){e==1&&(b=r),B_(r.length==b.length),r.length>p&&(p=r.length,S=0|1.25*p+7200,I=O1(S));var F=a.lame_encode_buffer(T,r,b,r.length,I,0,S);return new Int8Array(I.subarray(0,F))},this.flush=function(){var r=a.lame_encode_flush(T,I,0,S);return new Int8Array(I.subarray(0,r))}}function U0(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function ua(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}U0.RIFF=ua("RIFF");U0.WAVE=ua("WAVE");U0.fmt_=ua("fmt ");U0.data=ua("data");U0.readHeader=function(e){var t=new U0,n=e.getUint32(0,!1);if(U0.RIFF==n&&(e.getUint32(4,!0),U0.WAVE==e.getUint32(8,!1)&&U0.fmt_==e.getUint32(12,!1))){var a=e.getUint32(16,!0),s=16+4;switch(a){case 16:case 18:t.channels=e.getUint16(s+2,!0),t.sampleRate=e.getUint32(s+4,!0);break;default:throw"extended fmt chunk not implemented"}s+=a;for(var l=U0.data,d=0;l!=n&&(n=e.getUint32(s,!1),d=e.getUint32(s+4,!0),l!=n);)s+=d+8;return t.dataLen=d,t.dataOffset=s+8,t}};Sr.Mp3Encoder=U_;Sr.WavHeader=U0;class Ht{static applyExponentialGainToChannels(t,n,a=6,s=!0){if(a<=0)return;const{src:l,dst:d,totalDuration:c}=t,E=n+a,U=Math.max(0,Math.min(n/c,1)),h=Math.max(0,Math.min(E/c,1)),o=Math.min(l.length,d.length),M=Math.min(l[0].length,d[0].length);for(let j=0;j<o;j++){const K=l[j],z=d[j],G=Math.floor(M*U),T=Math.floor(M*h);for(let p=G;p<=T;p++){const S=(p-G)/(T-G+1),I=Math.sin(S*Math.PI/2);z[p]=K[p]*(s?I:1-I)}}}static cloneAudioBuffer(t){const n=new AudioBuffer({length:t.length,numberOfChannels:t.numberOfChannels,sampleRate:t.sampleRate});for(let a=0;a<t.numberOfChannels;a++){const s=t.getChannelData(a);n.copyToChannel(s,a)}return n}static getAudioBufferChannelsSamples(t){return new Array(t.numberOfChannels).fill(0).map((a,s)=>t.getChannelData(s).slice())}static renderAudioBufferToCanvas(t,n,a={}){const{plotColor:s="#3d5",paddingX:l=0,amplitudeFactor:d=.5,trimTimeStart:c=0,trimTimeEnd:E=1/0,forceWaveFormRender:U=!1}=a,h=t.width-2*l,o=t.height,M=o>>1,j=Math.max(Math.floor(o*d),20);let K=t._cachedWaveFormImage,z=U;if(K||(K=document.createElement("canvas"),t._cachedWaveFormImage=K,K.width=t.width,K.height=t.height,z=!0),z){const F=K.getContext("2d");F.clearRect(0,0,t.width,t.height),F.lineWidth=1,F.strokeStyle="white";const D=n.getChannelData(0),W=1,P=Math.min(150,(n.length/h>>2)-1);for(let X=0;X<h;X++){const de=X/h,C=Math.floor(de*n.length),_=Math.max(0,C-P),y=Math.min(n.length-1,C+P);let w=0;for(let O=_;O<=y;O++)w+=Math.abs(D[O]);w/=y-_+1;const V=Math.max(1,Math.floor(w/W*j));F.beginPath(),F.moveTo(X+l,M+V),F.lineTo(X+l,M-V),F.stroke()}}const G=t.getContext("2d");G.clearRect(0,0,t.width,t.height),G.drawImage(K,0,0);const T=G.globalCompositeOperation;G.globalCompositeOperation="source-atop";const p=typeof s=="function"?s(G,t,{trimmed:!0}):s,S=typeof s=="function"?s(G,t,{trimmed:!1}):s,{duration:I}=n,r=Math.floor(c/I*h),b=Math.ceil(Math.min(E,I)/I*h);G.fillStyle=p,G.fillRect(0,0,t.width,t.height),G.fillStyle=S,G.fillRect(l+r,0,b-r,t.height),G.globalCompositeOperation=T}static audioBufferToMp3Chunks(t,n={}){const{kbps:a=256,onProgress:s,timeFrom:l=0,timeTo:d=1/0}=n,c=new Sr.Mp3Encoder(t.numberOfChannels,t.sampleRate,a),E=[t.getChannelData(0),t.numberOfChannels>1?t.getChannelData(1):[]].map(G=>{const T=Math.max(0,Math.floor(l/t.duration*G.length)),p=Math.min(G.length,Math.ceil(d/t.duration*G.length));return G.slice(T,p)}),U=E[0].length,h=576*2,o=[],M=new Int16Array(h),j=t.numberOfChannels>1?new Int16Array(h):void 0,K=Math.ceil(U/h);let z=0;for(let G=0;G<U;G+=h){const T=Math.min(U-G,h);for(let S=0;S<T;S++){const I=S+G;let r=Math.max(-1,Math.min(E[0][I],1)),b=Math.floor(r>=0?r*32767:r*32768);M[S]=b,t.numberOfChannels>1&&(r=Math.max(-1,Math.min(E[1][I],1)),b=Math.floor(r>=0?r*32767:r*32768),j[S]=b)}const p=T!==h?c.encodeBuffer(M.slice(0,T),j&&j.slice(0,T)):c.encodeBuffer(M,j);o.push(p),z++,typeof s=="function"&&s(z,K)}return o.push(c.flush()),o}constructor(){this.context=new AudioContext,this.audioBuffer=null,this.channelsData=null,this.gain=new GainNode(this.context),this.gain.connect(this.context.destination),this.volume=1,this.isMute=!1,this.hasStarted=!1,this.isPlaying=!1,this.lastPlayTimestamp=void 0,this.seekTimestamp=0,this.effects=[],this.onEndCallbacks=[]}decodeBuffer(t){return new Promise((n,a)=>{try{this.context.decodeAudioData(t,s=>{this.audioBuffer=s,this.channelsDataOriginal=Ht.getAudioBufferChannelsSamples(s),this.channelsData=Ht.getAudioBufferChannelsSamples(s),n(s)},a)}catch(s){a(s)}})}addEffect(t){let n=this.effects.find(a=>a.type===t.type);if(n){let a=!1;for(const s in n)if(n[s]!==t[s]){a=!0;break}if(!a)return!1;Object.assign(n,t)}else n=t,this.effects.push(t);for(let a=0;a<this.channelsData.length;a++){const s=this.channelsDataOriginal[a];this.channelsData[a].set(s)}for(const a of this.effects)/^fade(In|Out)$/.test(a.type)&&Ht.applyExponentialGainToChannels({dst:this.channelsData,src:this.channelsDataOriginal,totalDuration:this.audioBuffer.duration},a.timeStart,a.duration,a.type==="fadeIn");for(let a=0;a<this.channelsData.length;a++)this.audioBuffer.copyToChannel(this.channelsData[a],a);return this.start(this.getCurrentTime(),this.isPlaying),!0}addOnEndCallback(t){if(typeof t=="function")return this.onEndCallbacks.push(t),!0}setMute(t){this.isMute=t,this.setGain(this.volume)}setGain(t){t=Math.max(0,Math.min(t,5)),this.volume=t,this.gain.gain.value=this.isMute?0:this.volume}getGain(){return this.isMute?0:this.gain.gain.value}getVolume(){return this.volume}getCurrentTime(){let t=this.seekTimestamp;return this.lastPlayTimestamp!==void 0&&(t+=this.context.currentTime-this.lastPlayTimestamp),t}start(t=0,n=!0){if(!this.audioBuffer)return;this.source&&(this.source.stop(),this.source.disconnect());const a=this.context.createBufferSource();a.buffer=this.audioBuffer,a.connect(this.gain),a.start(0,t>this.audioBuffer.duration?this.audioBuffer.duration:t),a.onended=()=>{this.source===a&&(this.seekTimestamp+=this.context.currentTime-this.lastPlayTimestamp,this.lastPlayTimestamp=void 0,this.isPlaying=!1,this.hasStarted=!1,this.onEndCallbacks.forEach(s=>s()))},this.source=a,this.hasStarted=!0,this.seekTimestamp=0,this.lastPlayTimestamp=this.context.currentTime-t,this.isPlaying=!0,n?this.context.resume():this.pause()}resume(){this.hasStarted?this.isPlaying||(this.context.resume(),this.isPlaying=!0,this.lastPlayTimestamp=this.context.currentTime):this.start()}pause(){this.isPlaying&&(this.context.suspend(),this.isPlaying=!1,this.seekTimestamp+=this.context.currentTime-this.lastPlayTimestamp,this.lastPlayTimestamp=void 0)}close(){this.gain.disconnect(),this.context.suspend(),this.context.close()}}class G_{constructor(t){this.duration=t.duration,this.length=t.length,this.numberOfChannels=t.numberOfChannels,this.sampleRate=t.sampleRate,this.isAudioBufferClone=!0,this.channels=t.channels||[new Float32Array(t.getChannelData(0)),new Float32Array(t.numberOfChannels>1?t.getChannelData(1):[])]}getChannelData(t){return this.channels[t]}getTransferable(){return{data:{...this},buffers:this.channels.map(t=>t.buffer).filter(t=>t)}}}function K_(e,t){return new Promise((n,a)=>{const s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("target","_blank"),t&&s.setAttribute("download",t),s.style.display="none",document.body.appendChild(s),s.click(),setTimeout(()=>{s.remove(),n()},100)})}function N1(e,t={}){const{clickTriggerDistance:n=3,buttonWhich:a=1,onDrag:s,onDragStart:l,onDragStop:d,onClick:c}=t;let E,U,h;const o=["touchstart","mousedown"],M=["blur","mouseup","mousemove","touchmove","touchend","touchcancel"],j=(G=!0)=>{M.forEach(T=>{G?window.addEventListener(T,K,{capture:!0}):window.removeEventListener(T,K,{capture:!0})})},K=G=>{let{clientX:T,clientY:p}=G;if(!(/mouse/.test(G.type)&&G.which!==a)){if(/touch/.test(G.type)){if(!/touch(end|cancel)/.test(G.type)&&G.targetTouches.length!==1)return;const S=G.targetTouches[0];S&&(T=S.clientX,p=S.clientY)}if(/(touch|mouse)move/.test(G.type)){const S=T,I=p,r=Math.abs(S-E),b=Math.abs(I-U),F=Math.sqrt(r*r+b*b);F>=n&&(h=!1),typeof s=="function"&&s({x:S,y:I,dragDistance:F,dragDistanceX:r,dragDistanceY:b,dragStartX:E,dragStartY:U})}else o.includes(G.type)?(E=T,U=p,h=!0,j(),typeof l=="function"&&l({dragStartX:E,dragStartY:U})):/(touch(end|cancel)|mouseup)/.test(G.type)?(typeof d=="function"&&d({x:T,y:p}),h&&typeof c=="function"&&c(),z()):G.type==="blur"&&(typeof d=="function"&&d({}),z())}},z=G=>{G&&o.forEach(T=>{G.removeEventListener(T,K)}),j(!1)};j0(e,(G,T)=>{T&&z(T),G&&o.forEach(p=>{G.addEventListener(p,K)})}),ra(()=>z(e.value))}function j_(){return new Worker(""+new URL("encoder.worker-9abf8b09.js",import.meta.url).href)}const rt=e=>(Jn("data-v-656c1d38"),e=e(),ea(),e),W_=rt(()=>Le("header",null,[Le("div",null,"MP3 Tool")],-1)),z_={class:"column p-y-3 items-center"},Z_=rt(()=>Le("div",{class:"flex-1"},null,-1)),Q_={key:1,class:"column items-center full-width flex-1 relative"},g_={class:"file__label"},J_=rt(()=>Le("span",null,"File: ",-1)),e3=rt(()=>Le("span",null,null,-1)),t3=[e3],n3={class:"time-label"},a3={class:"actions__container full-width"},r3={class:"columnn m-l-7"},s3={class:"colum items-center"},i3=rt(()=>Le("span",{class:"white weight-600 font-14 m-b-1"},"Trim options",-1)),l3={class:"column m-t-6"},o3=rt(()=>Le("span",{class:"white weight-600 font-14 m-b-2"},"Effects",-1)),_3={class:"row items-center"},u3={class:"column"},f3=rt(()=>Le("span",{class:"white weight-600 font-12"},"Fade in",-1)),c3={class:"row items-center m-t-1"},v3={class:"fade-duration-label white weight-600"},h3={class:"column m-l-6"},d3=rt(()=>Le("span",{class:"white weight-600 font-12"},"Fade out",-1)),m3={class:"row items-center m-t-1"},b3={class:"fade-duration-label white weight-600"},p3={class:"column items-center"},x3={class:"row"},S3={class:"m-t-7 column items-center"},M3=["disabled"],A3=rt(()=>Le("div",null,null,-1)),E3=rt(()=>Le("div",{class:"flex-8"},null,-1)),R3={__name:"App",setup(e){function t(y){return new Promise((w,V)=>{try{const O=new FileReader;O.onload=Q=>{w(Q.target.result)},O.onerror=V,O.readAsArrayBuffer(y)}catch(O){V(O)}})}const n=v0(null),a=v0(null),s=v0(null),l=v0(null),d=v0(null),c=sn(null),E=sn(null),U=sn(null),h=sn(!1),o=i1(0,"volume",y=>Number(y)||0),M=i1(!1,"muted",y=>/true/.test(y)),j=v0({start:0,end:1/0}),K=v0({start:0,end:0}),z=sn(-1),G={paddingX:16,trimTimeStart:void 0,trimTimeEnd:void 0,plotColor:(y,w,V={})=>{if(!w.sampleColorGradient){const Q=Math.floor(w.height*.5),k=y.createLinearGradient(0,Q-40,0,Q+40),m=["#7320d2","#5f1fa8"];k.addColorStop(0,m[0]),k.addColorStop(.5,m[1]),k.addColorStop(1,m[0]),w.sampleColorGradient=k}return V.trimmed?"#fcedff":w.sampleColorGradient}};function T(y){return[Math.floor(y/60)%60,":",Math.floor(y%60),".",Math.floor((y-Math.floor(y))*100)].map(w=>typeof w=="number"?String(w).padStart(2,"0"):w).join("")}function p(y){if(!c.value||!c.value.audioBuffer||!a.value)return;const w=G.paddingX*(a.value.clientWidth/a.value.width),V=s.value.parentElement,O=V.getBoundingClientRect(),Q=y-w-O.x,k=Math.min(1,Math.max(0,Q)/(O.width-2*w)),m=s.value.getBoundingClientRect(),u=w-m.width*.5+k*(O.width-2*w),f=c.value&&c.value.audioBuffer&&c.value.audioBuffer.duration,x=10,B=Q<x||Q>O.width-2*w-x?k:.5;return{time:(f||0)*k,pct:k,parent:V,baseX:Q,seekContainerLeft:u,spanPosPct:B}}function S(y){if(!c.value||!c.value.audioBuffer||!a.value)return;const{parent:w,time:V,seekContainerLeft:O,spanPosPct:Q}=p(y),k=s.value.firstElementChild;Number.isNaN(V)?w.style.setProperty("--pos","-100px"):(k.textContent=T(V),k.style.setProperty("--pos-pct",Q.toFixed(2)),w.style.setProperty("--pos",Math.round(O)+"px"))}function I(){if(!c.value||!c.value.audioBuffer||!l.value||!d.value||!a.value)return;const y=G.paddingX*(a.value.clientWidth/a.value.width),w=l.value.clientWidth,{duration:V}=c.value.audioBuffer,{start:O,end:Q}=j.value,k=O/V,m=Math.min(Q,V)/V,u=y-w+k*(a.value.clientWidth-2*y)+1,f=y+m*(a.value.clientWidth-2*y)-1;l.value.style.left=`${Math.ceil(u)}px`,d.value.style.left=`${Math.floor(f)}px`,z.value<O?b(null,O):z.value>Q&&b(null,Q)}function r(){if(!a.value)return;const y=a.value.parentElement,w=a.value.clientWidth,V=w/a.value.width,O=G.paddingX*V;if(!c.value||!c.value.audioBuffer)return y.style.setProperty("--progress",`${O}px`);const Q=z.value,k=c.value.audioBuffer.duration,m=k?Q/k:0,u=Math.floor(O+m*(w-2*O));y.style.setProperty("--progress",`${u}px`)}function b(y,w){w||(w=p(y).time),w=Math.max(j.value.start,Math.min(w,j.value.end)),c.value.start(w,c.value.isPlaying)}function F(y,w){K.value[y]=Math.max(0,K.value[y]+w)}N1(l,{onDrag({x:y}){const w=p(y);j.value.start=w.time},onClick(){b(0)}}),N1(d,{onDrag({x:y}){const w=p(y);j.value.end=w.time},onClick(){b(1/0)}});async function D(y){n.value=y[0];const w=await t(y[0]),V=new Ht;await V.decodeBuffer(w),window.manager=V,h.value=V.isPlaying,j.value={start:0,end:1/0},z.value=0,K.value={start:0,end:0},U.value&&(URL.revokeObjectURL(U.value),U.value=null),V.setGain(o.value),V.setMute(M.value),V.addOnEndCallback(()=>{P()}),c.value=V,await hr(),Ht.renderAudioBufferToCanvas(a.value,c.value.audioBuffer,G);const O=setInterval(()=>{if(c.value!==V)return clearInterval(O);const Q=c.value.getCurrentTime();Q>=j.value.end&&h.value?P():Q!==z.value&&(z.value=Q,r())},25);I()}function W(){h.value?c.value.pause():c.value.resume(),h.value=!h.value}function P(){c.value.start(j.value.start,!1),h.value=!1}function X(){const y=new j_;y.onerror=V=>console.error(V),y.onmessage=V=>{const{data:O}=V;if(O&&("progress"in O&&(E.value=O.progress),"encodedBuffer"in O)){U.value&&URL.revokeObjectURL(U.value);const Q=new Blob([O.encodedBuffer],{type:"audio/mp3"}),k=URL.createObjectURL(Q);U.value=k,E.value=null,y.terminate()}};const w=new G_(c.value.audioBuffer).getTransferable();y.postMessage({audioBuffer:w.data,options:{timeFrom:j.value.start,timeTo:j.value.end}},w.buffers)}function de(){if(U.value){const y=n.value.name;K_(U.value,y)}}function C(){c.value.close(),c.value=null}function _(){r(),S(),I()}return j0(o,()=>{c.value&&c.value.setGain(o.value)}),j0(M,()=>{c.value&&c.value.setMute(M.value)},{immediate:!0}),j0(j,()=>{if(z.value<j.value.start||z.value>j.value.end){const y=Math.max(j.value.start,Math.min(z.value,j.value.end));z.value=y,b(void 0,y)}I(),r(),G.trimTimeStart=j.value.start,G.trimTimeEnd=j.value.end},{deep:!0,flush:"pre"}),j0([j,K],()=>{c.value&&(c.value.addEffect({type:"fadeIn",duration:K.value.start,timeStart:j.value.start}),c.value.addEffect({type:"fadeOut",duration:K.value.end,timeStart:Math.min(c.value.audioBuffer.duration,j.value.end)-K.value.end}),a.value&&Ht.renderAudioBufferToCanvas(a.value,c.value.audioBuffer,{...G,forceWaveFormRender:!0}))},{deep:!0}),aa(()=>{Is(["play","pause","plus-circle","minus-circle"]),window.addEventListener("resize",_)}),(y,w)=>(q0(),it(O0,null,[W_,Le("main",z_,[Z_,o0(c)?(q0(),it("div",Q_,[Le("div",g_,[J_,Le("b",null,Y0(n.value.name),1)]),Le("button",{class:"flat icon round absolute close-button white",onClick:C},[f0(ht,{name:"close-circle-outline",size:32})]),Le("div",{class:"canvas__container full-width m-t-2",onMousemove:w[1]||(w[1]=V=>S(V.clientX))},[Le("div",{class:"absolute seek-hint",ref_key:"seekHintEl",ref:s},t3,512),Le("div",{class:"absolute trim-start",ref_key:"trimStartEl",ref:l},null,512),Le("div",{class:"absolute trim-end",ref_key:"trimEndEl",ref:d},null,512),Le("canvas",{class:"full-width",ref_key:"canvasEl",ref:a,width:"1600",height:"260",onMousedown:w[0]||(w[0]=M0(V=>b(V.clientX),["left"]))},null,544),Le("span",n3,Y0(T(o0(z))),1)],32),Le("div",a3,[Le("div",r3,[Le("div",s3,[i3,f0(f2,{start:j.value.start,"onUpdate:start":w[2]||(w[2]=V=>j.value.start=V),end:j.value.end,"onUpdate:end":w[3]||(w[3]=V=>j.value.end=V),duration:o0(c).audioBuffer?o0(c).audioBuffer.duration:0},null,8,["start","end","duration"])]),Le("div",l3,[o3,Le("div",_3,[Le("div",u3,[f3,Le("div",c3,[Le("span",v3,Y0(K.value.start)+"s",1),Le("button",{class:"m-l-1 mini-icon round flat white",onClick:w[4]||(w[4]=V=>F("start",1))},[f0(ht,{name:"plus-circle",size:19})]),Le("button",{class:"m-l-1 mini-icon round flat white",onClick:w[5]||(w[5]=V=>F("start",-1))},[f0(ht,{name:"minus-circle",size:19})])])]),Le("div",h3,[d3,Le("div",m3,[Le("span",b3,Y0(K.value.end)+"s",1),Le("button",{class:"m-l-1 mini-icon round flat white",onClick:w[6]||(w[6]=V=>F("end",1))},[f0(ht,{name:"plus-circle",size:19})]),Le("button",{class:"m-l-1 mini-icon round flat white",onClick:w[7]||(w[7]=V=>F("end",-1))},[f0(ht,{name:"minus-circle",size:19})])])])])])]),Le("div",p3,[Le("div",x3,[Le("button",{class:"icon m-1",onClick:W},[f0(ht,{name:o0(h)?"pause":"play",size:40},null,8,["name"])]),Le("button",{class:"icon m-1",onClick:P},[f0(ht,{name:"stop",size:40})]),f0(qo,{class:"m-1",value:o0(o),"onUpdate:value":w[8]||(w[8]=V=>h0(o)?o.value=V:null),muted:o0(M),"onUpdate:muted":w[9]||(w[9]=V=>h0(M)?M.value=V:null)},null,8,["value","muted"])]),Le("div",S3,[Le("button",{class:"m-1",onClick:X,disabled:!!o0(E)},[o0(E)===null?(q0(),it(O0,{key:0},[ga("Encode")],64)):(q0(),it(O0,{key:1},[ga("Encoding... ("+Y0(o0(E))+"%)",1)],64))],8,M3),o0(U)?(q0(),it("button",{key:0,class:"m-t-3",onClick:de},"Download encoded mp3")):Ul("",!0)])]),A3])])):(q0(),ys(Ho,{key:0,class:"drag-drop p-y-5",onUpload:D,extensions:".mp3,.wav"})),E3])],64))}},y3=An(R3,[["__scopeId","data-v-656c1d38"]]);wo(y3).mount("#app");
