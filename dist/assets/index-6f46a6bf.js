(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function or(e,t){const n=Object.create(null),a=e.split(",");for(let s=0;s<a.length;s++)n[a[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function An(e){if(qe(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],s=v0(a)?pi(a):An(a);if(s)for(const i in s)t[i]=s[i]}return t}else{if(v0(e))return e;if(r0(e))return e}}const di=/;(?![^(]*\))/g,mi=/:([^]+)/,bi=/\/\*.*?\*\//gs;function pi(e){const t={};return e.replace(bi,"").split(di).forEach(n=>{if(n){const a=n.split(mi);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function yn(e){let t="";if(v0(e))t=e;else if(qe(e))for(let n=0;n<e.length;n++){const a=yn(e[n]);a&&(t+=a+" ")}else if(r0(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const xi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Si=or(xi);function qs(e){return!!e||e===""}const x0=e=>v0(e)?e:e==null?"":qe(e)||r0(e)&&(e.toString===gs||!Ue(e.toString))?JSON.stringify(e,Us,2):String(e),Us=(e,t)=>t&&t.__v_isRef?Us(e,t.value):Gt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[a,s])=>(n[`${a} =>`]=s,n),{})}:Ks(t)?{[`Set(${t.size})`]:[...t.values()]}:r0(t)&&!qe(t)&&!js(t)?String(t):t,Je={},Kt=[],Z0=()=>{},Mi=()=>!1,Ei=/^on[^a-z]/,zn=e=>Ei.test(e),_r=e=>e.startsWith("onUpdate:"),E0=Object.assign,ur=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ai=Object.prototype.hasOwnProperty,je=(e,t)=>Ai.call(e,t),qe=Array.isArray,Gt=e=>Zn(e)==="[object Map]",Ks=e=>Zn(e)==="[object Set]",Ue=e=>typeof e=="function",v0=e=>typeof e=="string",cr=e=>typeof e=="symbol",r0=e=>e!==null&&typeof e=="object",Gs=e=>r0(e)&&Ue(e.then)&&Ue(e.catch),gs=Object.prototype.toString,Zn=e=>gs.call(e),yi=e=>Zn(e).slice(8,-1),js=e=>Zn(e)==="[object Object]",fr=e=>v0(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$n=or(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ri=/-(\w)/g,rt=Qn(e=>e.replace(Ri,(t,n)=>n?n.toUpperCase():"")),Ti=/\B([A-Z])/g,Zt=Qn(e=>e.replace(Ti,"-$1").toLowerCase()),Jn=Qn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ra=Qn(e=>e?`on${Jn(e)}`:""),mn=(e,t)=>!Object.is(e,t),Ta=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Un=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},wi=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Pr;const Bi=()=>Pr||(Pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let g0;class Ii{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=g0,!t&&g0&&(this.index=(g0.scopes||(g0.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=g0;try{return g0=this,t()}finally{g0=n}}}on(){g0=this}off(){g0=this.parent}stop(t){if(this._active){let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Ci(e,t=g0){t&&t.active&&t.effects.push(e)}function Oi(){return g0}const vr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ws=e=>(e.w&xt)>0,zs=e=>(e.n&xt)>0,Li=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=xt},Ni=e=>{const{deps:t}=e;if(t.length){let n=0;for(let a=0;a<t.length;a++){const s=t[a];Ws(s)&&!zs(s)?s.delete(e):t[n++]=s,s.w&=~xt,s.n&=~xt}t.length=n}},ga=new WeakMap;let fn=0,xt=1;const ja=30;let W0;const kt=Symbol(""),Wa=Symbol("");class hr{constructor(t,n=null,a){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ci(this,a)}run(){if(!this.active)return this.fn();let t=W0,n=bt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=W0,W0=this,bt=!0,xt=1<<++fn,fn<=ja?Li(this):Xr(this),this.fn()}finally{fn<=ja&&Ni(this),xt=1<<--fn,W0=this.parent,bt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){W0===this?this.deferStop=!0:this.active&&(Xr(this),this.onStop&&this.onStop(),this.active=!1)}}function Xr(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let bt=!0;const Zs=[];function Qt(){Zs.push(bt),bt=!1}function Jt(){const e=Zs.pop();bt=e===void 0?!0:e}function L0(e,t,n){if(bt&&W0){let a=ga.get(e);a||ga.set(e,a=new Map);let s=a.get(n);s||a.set(n,s=vr()),Qs(s)}}function Qs(e,t){let n=!1;fn<=ja?zs(e)||(e.n|=xt,n=!Ws(e)):n=!e.has(W0),n&&(e.add(W0),W0.deps.push(e))}function _t(e,t,n,a,s,i){const u=ga.get(e);if(!u)return;let v=[];if(t==="clear")v=[...u.values()];else if(n==="length"&&qe(e)){const p=Number(a);u.forEach((q,d)=>{(d==="length"||d>=p)&&v.push(q)})}else switch(n!==void 0&&v.push(u.get(n)),t){case"add":qe(e)?fr(n)&&v.push(u.get("length")):(v.push(u.get(kt)),Gt(e)&&v.push(u.get(Wa)));break;case"delete":qe(e)||(v.push(u.get(kt)),Gt(e)&&v.push(u.get(Wa)));break;case"set":Gt(e)&&v.push(u.get(kt));break}if(v.length===1)v[0]&&za(v[0]);else{const p=[];for(const q of v)q&&p.push(...q);za(vr(p))}}function za(e,t){const n=qe(e)?e:[...e];for(const a of n)a.computed&&$r(a);for(const a of n)a.computed||$r(a)}function $r(e,t){(e!==W0||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Fi=or("__proto__,__v_isRef,__isVue"),Js=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(cr)),Hi=dr(),ki=dr(!1,!0),Vi=dr(!0),Yr=Di();function Di(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const a=We(this);for(let i=0,u=this.length;i<u;i++)L0(a,"get",i+"");const s=a[t](...n);return s===-1||s===!1?a[t](...n.map(We)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Qt();const a=We(this)[t].apply(this,n);return Jt(),a}}),e}function Pi(e){const t=We(this);return L0(t,"has",e),t.hasOwnProperty(e)}function dr(e=!1,t=!1){return function(a,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?tl:r1:t?a1:n1).get(a))return a;const u=qe(a);if(!e){if(u&&je(Yr,s))return Reflect.get(Yr,s,i);if(s==="hasOwnProperty")return Pi}const v=Reflect.get(a,s,i);return(cr(s)?Js.has(s):Fi(s))||(e||L0(a,"get",s),t)?v:f0(v)?u&&fr(s)?v:v.value:r0(v)?e?s1(v):pr(v):v}}const Xi=e1(),$i=e1(!0);function e1(e=!1){return function(n,a,s,i){let u=n[a];if(Wt(u)&&f0(u)&&!f0(s))return!1;if(!e&&(!Kn(s)&&!Wt(s)&&(u=We(u),s=We(s)),!qe(n)&&f0(u)&&!f0(s)))return u.value=s,!0;const v=qe(n)&&fr(a)?Number(a)<n.length:je(n,a),p=Reflect.set(n,a,s,i);return n===We(i)&&(v?mn(s,u)&&_t(n,"set",a,s):_t(n,"add",a,s)),p}}function Yi(e,t){const n=je(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&n&&_t(e,"delete",t,void 0),a}function qi(e,t){const n=Reflect.has(e,t);return(!cr(t)||!Js.has(t))&&L0(e,"has",t),n}function Ui(e){return L0(e,"iterate",qe(e)?"length":kt),Reflect.ownKeys(e)}const t1={get:Hi,set:Xi,deleteProperty:Yi,has:qi,ownKeys:Ui},Ki={get:Vi,set(e,t){return!0},deleteProperty(e,t){return!0}},Gi=E0({},t1,{get:ki,set:$i}),mr=e=>e,ea=e=>Reflect.getPrototypeOf(e);function In(e,t,n=!1,a=!1){e=e.__v_raw;const s=We(e),i=We(t);n||(t!==i&&L0(s,"get",t),L0(s,"get",i));const{has:u}=ea(s),v=a?mr:n?Sr:bn;if(u.call(s,t))return v(e.get(t));if(u.call(s,i))return v(e.get(i));e!==s&&e.get(t)}function Cn(e,t=!1){const n=this.__v_raw,a=We(n),s=We(e);return t||(e!==s&&L0(a,"has",e),L0(a,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function On(e,t=!1){return e=e.__v_raw,!t&&L0(We(e),"iterate",kt),Reflect.get(e,"size",e)}function qr(e){e=We(e);const t=We(this);return ea(t).has.call(t,e)||(t.add(e),_t(t,"add",e,e)),this}function Ur(e,t){t=We(t);const n=We(this),{has:a,get:s}=ea(n);let i=a.call(n,e);i||(e=We(e),i=a.call(n,e));const u=s.call(n,e);return n.set(e,t),i?mn(t,u)&&_t(n,"set",e,t):_t(n,"add",e,t),this}function Kr(e){const t=We(this),{has:n,get:a}=ea(t);let s=n.call(t,e);s||(e=We(e),s=n.call(t,e)),a&&a.call(t,e);const i=t.delete(e);return s&&_t(t,"delete",e,void 0),i}function Gr(){const e=We(this),t=e.size!==0,n=e.clear();return t&&_t(e,"clear",void 0,void 0),n}function Ln(e,t){return function(a,s){const i=this,u=i.__v_raw,v=We(u),p=t?mr:e?Sr:bn;return!e&&L0(v,"iterate",kt),u.forEach((q,d)=>a.call(s,p(q),p(d),i))}}function Nn(e,t,n){return function(...a){const s=this.__v_raw,i=We(s),u=Gt(i),v=e==="entries"||e===Symbol.iterator&&u,p=e==="keys"&&u,q=s[e](...a),d=n?mr:t?Sr:bn;return!t&&L0(i,"iterate",p?Wa:kt),{next(){const{value:o,done:R}=q.next();return R?{value:o,done:R}:{value:v?[d(o[0]),d(o[1])]:d(o),done:R}},[Symbol.iterator](){return this}}}}function vt(e){return function(...t){return e==="delete"?!1:this}}function gi(){const e={get(i){return In(this,i)},get size(){return On(this)},has:Cn,add:qr,set:Ur,delete:Kr,clear:Gr,forEach:Ln(!1,!1)},t={get(i){return In(this,i,!1,!0)},get size(){return On(this)},has:Cn,add:qr,set:Ur,delete:Kr,clear:Gr,forEach:Ln(!1,!0)},n={get(i){return In(this,i,!0)},get size(){return On(this,!0)},has(i){return Cn.call(this,i,!0)},add:vt("add"),set:vt("set"),delete:vt("delete"),clear:vt("clear"),forEach:Ln(!0,!1)},a={get(i){return In(this,i,!0,!0)},get size(){return On(this,!0)},has(i){return Cn.call(this,i,!0)},add:vt("add"),set:vt("set"),delete:vt("delete"),clear:vt("clear"),forEach:Ln(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Nn(i,!1,!1),n[i]=Nn(i,!0,!1),t[i]=Nn(i,!1,!0),a[i]=Nn(i,!0,!0)}),[e,n,t,a]}const[ji,Wi,zi,Zi]=gi();function br(e,t){const n=t?e?Zi:zi:e?Wi:ji;return(a,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?a:Reflect.get(je(n,s)&&s in a?n:a,s,i)}const Qi={get:br(!1,!1)},Ji={get:br(!1,!0)},el={get:br(!0,!1)},n1=new WeakMap,a1=new WeakMap,r1=new WeakMap,tl=new WeakMap;function nl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function al(e){return e.__v_skip||!Object.isExtensible(e)?0:nl(yi(e))}function pr(e){return Wt(e)?e:xr(e,!1,t1,Qi,n1)}function rl(e){return xr(e,!1,Gi,Ji,a1)}function s1(e){return xr(e,!0,Ki,el,r1)}function xr(e,t,n,a,s){if(!r0(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const u=al(e);if(u===0)return e;const v=new Proxy(e,u===2?a:n);return s.set(e,v),v}function gt(e){return Wt(e)?gt(e.__v_raw):!!(e&&e.__v_isReactive)}function Wt(e){return!!(e&&e.__v_isReadonly)}function Kn(e){return!!(e&&e.__v_isShallow)}function i1(e){return gt(e)||Wt(e)}function We(e){const t=e&&e.__v_raw;return t?We(t):e}function l1(e){return Un(e,"__v_skip",!0),e}const bn=e=>r0(e)?pr(e):e,Sr=e=>r0(e)?s1(e):e;function o1(e){bt&&W0&&(e=We(e),Qs(e.dep||(e.dep=vr())))}function _1(e,t){e=We(e);const n=e.dep;n&&za(n)}function f0(e){return!!(e&&e.__v_isRef===!0)}function d0(e){return u1(e,!1)}function At(e){return u1(e,!0)}function u1(e,t){return f0(e)?e:new sl(e,t)}class sl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:We(t),this._value=n?t:bn(t)}get value(){return o1(this),this._value}set value(t){const n=this.__v_isShallow||Kn(t)||Wt(t);t=n?t:We(t),mn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:bn(t),_1(this))}}function Qe(e){return f0(e)?e.value:e}const il={get:(e,t,n)=>Qe(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const s=e[t];return f0(s)&&!f0(n)?(s.value=n,!0):Reflect.set(e,t,n,a)}};function c1(e){return gt(e)?e:new Proxy(e,il)}var f1;class ll{constructor(t,n,a,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[f1]=!1,this._dirty=!0,this.effect=new hr(t,()=>{this._dirty||(this._dirty=!0,_1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=a}get value(){const t=We(this);return o1(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}f1="__v_isReadonly";function ol(e,t,n=!1){let a,s;const i=Ue(e);return i?(a=e,s=Z0):(a=e.get,s=e.set),new ll(a,s,i||!s,n)}function pt(e,t,n,a){let s;try{s=a?e(...a):e()}catch(i){ta(i,t,n)}return s}function Y0(e,t,n,a){if(Ue(e)){const i=pt(e,t,n,a);return i&&Gs(i)&&i.catch(u=>{ta(u,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Y0(e[i],t,n,a));return s}function ta(e,t,n,a=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const u=t.proxy,v=n;for(;i;){const q=i.ec;if(q){for(let d=0;d<q.length;d++)if(q[d](e,u,v)===!1)return}i=i.parent}const p=t.appContext.config.errorHandler;if(p){pt(p,null,10,[e,u,v]);return}}_l(e,n,s,a)}function _l(e,t,n,a=!0){console.error(e)}let pn=!1,Za=!1;const M0=[];let at=0;const jt=[];let lt=null,Lt=0;const v1=Promise.resolve();let Mr=null;function Gn(e){const t=Mr||v1;return e?t.then(this?e.bind(this):e):t}function ul(e){let t=at+1,n=M0.length;for(;t<n;){const a=t+n>>>1;xn(M0[a])<e?t=a+1:n=a}return t}function Er(e){(!M0.length||!M0.includes(e,pn&&e.allowRecurse?at+1:at))&&(e.id==null?M0.push(e):M0.splice(ul(e.id),0,e),h1())}function h1(){!pn&&!Za&&(Za=!0,Mr=v1.then(m1))}function cl(e){const t=M0.indexOf(e);t>at&&M0.splice(t,1)}function fl(e){qe(e)?jt.push(...e):(!lt||!lt.includes(e,e.allowRecurse?Lt+1:Lt))&&jt.push(e),h1()}function gr(e,t=pn?at+1:0){for(;t<M0.length;t++){const n=M0[t];n&&n.pre&&(M0.splice(t,1),t--,n())}}function d1(e){if(jt.length){const t=[...new Set(jt)];if(jt.length=0,lt){lt.push(...t);return}for(lt=t,lt.sort((n,a)=>xn(n)-xn(a)),Lt=0;Lt<lt.length;Lt++)lt[Lt]();lt=null,Lt=0}}const xn=e=>e.id==null?1/0:e.id,vl=(e,t)=>{const n=xn(e)-xn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function m1(e){Za=!1,pn=!0,M0.sort(vl);const t=Z0;try{for(at=0;at<M0.length;at++){const n=M0[at];n&&n.active!==!1&&pt(n,null,14)}}finally{at=0,M0.length=0,d1(),pn=!1,Mr=null,(M0.length||jt.length)&&m1()}}function hl(e,t,...n){if(e.isUnmounted)return;const a=e.vnode.props||Je;let s=n;const i=t.startsWith("update:"),u=i&&t.slice(7);if(u&&u in a){const d=`${u==="modelValue"?"model":u}Modifiers`,{number:o,trim:R}=a[d]||Je;R&&(s=n.map(Z=>v0(Z)?Z.trim():Z)),o&&(s=n.map(wi))}let v,p=a[v=Ra(t)]||a[v=Ra(rt(t))];!p&&i&&(p=a[v=Ra(Zt(t))]),p&&Y0(p,e,6,s);const q=a[v+"Once"];if(q){if(!e.emitted)e.emitted={};else if(e.emitted[v])return;e.emitted[v]=!0,Y0(q,e,6,s)}}function b1(e,t,n=!1){const a=t.emitsCache,s=a.get(e);if(s!==void 0)return s;const i=e.emits;let u={},v=!1;if(!Ue(e)){const p=q=>{const d=b1(q,t,!0);d&&(v=!0,E0(u,d))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!i&&!v?(r0(e)&&a.set(e,null),null):(qe(i)?i.forEach(p=>u[p]=null):E0(u,i),r0(e)&&a.set(e,u),u)}function na(e,t){return!e||!zn(t)?!1:(t=t.slice(2).replace(/Once$/,""),je(e,t[0].toLowerCase()+t.slice(1))||je(e,Zt(t))||je(e,t))}let b0=null,aa=null;function gn(e){const t=b0;return b0=e,aa=e&&e.type.__scopeId||null,t}function ra(e){aa=e}function sa(){aa=null}function p1(e,t=b0,n){if(!t||e._n)return e;const a=(...s)=>{a._d&&as(-1);const i=gn(t);let u;try{u=e(...s)}finally{gn(i),a._d&&as(1)}return u};return a._n=!0,a._c=!0,a._d=!0,a}function wa(e){const{type:t,vnode:n,proxy:a,withProxy:s,props:i,propsOptions:[u],slots:v,attrs:p,emit:q,render:d,renderCache:o,data:R,setupState:Z,ctx:K,inheritAttrs:W}=e;let U,A;const E=gn(e);try{if(n.shapeFlag&4){const w=s||a;U=nt(d.call(w,w,o,i,Z,R,K)),A=p}else{const w=t;U=nt(w.length>1?w(i,{attrs:p,slots:v,emit:q}):w(i,null)),A=t.props?p:dl(p)}}catch(w){dn.length=0,ta(w,e,1),U=c0(q0)}let x=U;if(A&&W!==!1){const w=Object.keys(A),{shapeFlag:r}=x;w.length&&r&7&&(u&&w.some(_r)&&(A=ml(A,u)),x=St(x,A))}return n.dirs&&(x=St(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),U=x,gn(E),U}const dl=e=>{let t;for(const n in e)(n==="class"||n==="style"||zn(n))&&((t||(t={}))[n]=e[n]);return t},ml=(e,t)=>{const n={};for(const a in e)(!_r(a)||!(a.slice(9)in t))&&(n[a]=e[a]);return n};function bl(e,t,n){const{props:a,children:s,component:i}=e,{props:u,children:v,patchFlag:p}=t,q=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return a?jr(a,u,q):!!u;if(p&8){const d=t.dynamicProps;for(let o=0;o<d.length;o++){const R=d[o];if(u[R]!==a[R]&&!na(q,R))return!0}}}else return(s||v)&&(!v||!v.$stable)?!0:a===u?!1:a?u?jr(a,u,q):!0:!!u;return!1}function jr(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let s=0;s<a.length;s++){const i=a[s];if(t[i]!==e[i]&&!na(n,i))return!0}return!1}function pl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const xl=e=>e.__isSuspense;function Sl(e,t){t&&t.pendingBranch?qe(e)?t.effects.push(...e):t.effects.push(e):fl(e)}function Ml(e,t){if(_0){let n=_0.provides;const a=_0.parent&&_0.parent.provides;a===n&&(n=_0.provides=Object.create(a)),n[e]=t}}function Yn(e,t,n=!1){const a=_0||b0;if(a){const s=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Ue(t)?t.call(a.proxy):t}}const Fn={};function $0(e,t,n){return x1(e,t,n)}function x1(e,t,{immediate:n,deep:a,flush:s,onTrack:i,onTrigger:u}=Je){const v=Oi()===(_0==null?void 0:_0.scope)?_0:null;let p,q=!1,d=!1;if(f0(e)?(p=()=>e.value,q=Kn(e)):gt(e)?(p=()=>e,a=!0):qe(e)?(d=!0,q=e.some(x=>gt(x)||Kn(x)),p=()=>e.map(x=>{if(f0(x))return x.value;if(gt(x))return Ht(x);if(Ue(x))return pt(x,v,2)})):Ue(e)?t?p=()=>pt(e,v,2):p=()=>{if(!(v&&v.isUnmounted))return o&&o(),Y0(e,v,3,[R])}:p=Z0,t&&a){const x=p;p=()=>Ht(x())}let o,R=x=>{o=A.onStop=()=>{pt(x,v,4)}},Z;if(Mn)if(R=Z0,t?n&&Y0(t,v,3,[p(),d?[]:void 0,R]):p(),s==="sync"){const x=Eo();Z=x.__watcherHandles||(x.__watcherHandles=[])}else return Z0;let K=d?new Array(e.length).fill(Fn):Fn;const W=()=>{if(A.active)if(t){const x=A.run();(a||q||(d?x.some((w,r)=>mn(w,K[r])):mn(x,K)))&&(o&&o(),Y0(t,v,3,[x,K===Fn?void 0:d&&K[0]===Fn?[]:K,R]),K=x)}else A.run()};W.allowRecurse=!!t;let U;s==="sync"?U=W:s==="post"?U=()=>O0(W,v&&v.suspense):(W.pre=!0,v&&(W.id=v.uid),U=()=>Er(W));const A=new hr(p,U);t?n?W():K=A.run():s==="post"?O0(A.run.bind(A),v&&v.suspense):A.run();const E=()=>{A.stop(),v&&v.scope&&ur(v.scope.effects,A)};return Z&&Z.push(E),E}function El(e,t,n){const a=this.proxy,s=v0(e)?e.includes(".")?S1(a,e):()=>a[e]:e.bind(a,a);let i;Ue(t)?i=t:(i=t.handler,n=t);const u=_0;zt(this);const v=x1(s,i.bind(a),n);return u?zt(u):Vt(),v}function S1(e,t){const n=t.split(".");return()=>{let a=e;for(let s=0;s<n.length&&a;s++)a=a[n[s]];return a}}function Ht(e,t){if(!r0(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),f0(e))Ht(e.value,t);else if(qe(e))for(let n=0;n<e.length;n++)Ht(e[n],t);else if(Ks(e)||Gt(e))e.forEach(n=>{Ht(n,t)});else if(js(e))for(const n in e)Ht(e[n],t);return e}function Al(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return oa(()=>{e.isMounted=!0}),_a(()=>{e.isUnmounting=!0}),e}const D0=[Function,Array],yl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:D0,onEnter:D0,onAfterEnter:D0,onEnterCancelled:D0,onBeforeLeave:D0,onLeave:D0,onAfterLeave:D0,onLeaveCancelled:D0,onBeforeAppear:D0,onAppear:D0,onAfterAppear:D0,onAppearCancelled:D0},setup(e,{slots:t}){const n=vo(),a=Al();let s;return()=>{const i=t.default&&E1(t.default(),!0);if(!i||!i.length)return;let u=i[0];if(i.length>1){for(const W of i)if(W.type!==q0){u=W;break}}const v=We(e),{mode:p}=v;if(a.isLeaving)return Ba(u);const q=Wr(u);if(!q)return Ba(u);const d=Qa(q,v,a,n);Ja(q,d);const o=n.subTree,R=o&&Wr(o);let Z=!1;const{getTransitionKey:K}=q.type;if(K){const W=K();s===void 0?s=W:W!==s&&(s=W,Z=!0)}if(R&&R.type!==q0&&(!Nt(q,R)||Z)){const W=Qa(R,v,a,n);if(Ja(R,W),p==="out-in")return a.isLeaving=!0,W.afterLeave=()=>{a.isLeaving=!1,n.update.active!==!1&&n.update()},Ba(u);p==="in-out"&&q.type!==q0&&(W.delayLeave=(U,A,E)=>{const x=M1(a,R);x[String(R.key)]=R,U._leaveCb=()=>{A(),U._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=E})}return u}}},Rl=yl;function M1(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function Qa(e,t,n,a){const{appear:s,mode:i,persisted:u=!1,onBeforeEnter:v,onEnter:p,onAfterEnter:q,onEnterCancelled:d,onBeforeLeave:o,onLeave:R,onAfterLeave:Z,onLeaveCancelled:K,onBeforeAppear:W,onAppear:U,onAfterAppear:A,onAppearCancelled:E}=t,x=String(e.key),w=M1(n,e),r=(H,g)=>{H&&Y0(H,a,9,g)},M=(H,g)=>{const F=g[1];r(H,g),qe(H)?H.every(X=>X.length<=1)&&F():H.length<=1&&F()},O={mode:i,persisted:u,beforeEnter(H){let g=v;if(!n.isMounted)if(s)g=W||v;else return;H._leaveCb&&H._leaveCb(!0);const F=w[x];F&&Nt(e,F)&&F.el._leaveCb&&F.el._leaveCb(),r(g,[H])},enter(H){let g=p,F=q,X=d;if(!n.isMounted)if(s)g=U||p,F=A||q,X=E||d;else return;let he=!1;const B=H._enterCb=_=>{he||(he=!0,_?r(X,[H]):r(F,[H]),O.delayedLeave&&O.delayedLeave(),H._enterCb=void 0)};g?M(g,[H,B]):B()},leave(H,g){const F=String(e.key);if(H._enterCb&&H._enterCb(!0),n.isUnmounting)return g();r(o,[H]);let X=!1;const he=H._leaveCb=B=>{X||(X=!0,g(),B?r(K,[H]):r(Z,[H]),H._leaveCb=void 0,w[F]===e&&delete w[F])};w[F]=e,R?M(R,[H,he]):he()},clone(H){return Qa(H,t,n,a)}};return O}function Ba(e){if(ia(e))return e=St(e),e.children=null,e}function Wr(e){return ia(e)?e.children?e.children[0]:void 0:e}function Ja(e,t){e.shapeFlag&6&&e.component?Ja(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function E1(e,t=!1,n){let a=[],s=0;for(let i=0;i<e.length;i++){let u=e[i];const v=n==null?u.key:String(n)+String(u.key!=null?u.key:i);u.type===S0?(u.patchFlag&128&&s++,a=a.concat(E1(u.children,t,v))):(t||u.type!==q0)&&a.push(v!=null?St(u,{key:v}):u)}if(s>1)for(let i=0;i<a.length;i++)a[i].patchFlag=-2;return a}const vn=e=>!!e.type.__asyncLoader,ia=e=>e.type.__isKeepAlive;function Tl(e,t){A1(e,"a",t)}function wl(e,t){A1(e,"da",t)}function A1(e,t,n=_0){const a=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(la(t,a,n),n){let s=n.parent;for(;s&&s.parent;)ia(s.parent.vnode)&&Bl(a,t,n,s),s=s.parent}}function Bl(e,t,n,a){const s=la(t,e,a,!0);y1(()=>{ur(a[t],s)},n)}function la(e,t,n=_0,a=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;Qt(),zt(n);const v=Y0(t,n,e,u);return Vt(),Jt(),v});return a?s.unshift(i):s.push(i),i}}const ct=e=>(t,n=_0)=>(!Mn||e==="sp")&&la(e,(...a)=>t(...a),n),Il=ct("bm"),oa=ct("m"),Cl=ct("bu"),Ol=ct("u"),_a=ct("bum"),y1=ct("um"),Ll=ct("sp"),Nl=ct("rtg"),Fl=ct("rtc");function Hl(e,t=_0){la("ec",e,t)}function er(e,t){const n=b0;if(n===null)return e;const a=fa(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[u,v,p,q=Je]=t[i];u&&(Ue(u)&&(u={mounted:u,updated:u}),u.deep&&Ht(v),s.push({dir:u,instance:a,value:v,oldValue:void 0,arg:p,modifiers:q}))}return e}function yt(e,t,n,a){const s=e.dirs,i=t&&t.dirs;for(let u=0;u<s.length;u++){const v=s[u];i&&(v.oldValue=i[u].value);let p=v.dir[a];p&&(Qt(),Y0(p,n,8,[e.el,v,e,t]),Jt())}}const kl="components",Vl="directives",Dl=Symbol();function R1(e){return Pl(Vl,e)}function Pl(e,t,n=!0,a=!1){const s=b0||_0;if(s){const i=s.type;if(e===kl){const v=xo(i,!1);if(v&&(v===t||v===rt(t)||v===Jn(rt(t))))return i}const u=zr(s[e]||i[e],t)||zr(s.appContext[e],t);return!u&&a?i:u}}function zr(e,t){return e&&(e[t]||e[rt(t)]||e[Jn(rt(t))])}function Xl(e,t,n,a){let s;const i=n&&n[a];if(qe(e)||v0(e)){s=new Array(e.length);for(let u=0,v=e.length;u<v;u++)s[u]=t(e[u],u,void 0,i&&i[u])}else if(typeof e=="number"){s=new Array(e);for(let u=0;u<e;u++)s[u]=t(u+1,u,void 0,i&&i[u])}else if(r0(e))if(e[Symbol.iterator])s=Array.from(e,(u,v)=>t(u,v,void 0,i&&i[v]));else{const u=Object.keys(e);s=new Array(u.length);for(let v=0,p=u.length;v<p;v++){const q=u[v];s[v]=t(e[q],q,v,i&&i[v])}}else s=[];return n&&(n[a]=s),s}function $l(e,t,n={},a,s){if(b0.isCE||b0.parent&&vn(b0.parent)&&b0.parent.isCE)return t!=="default"&&(n.name=t),c0("slot",n,a&&a());let i=e[t];i&&i._c&&(i._d=!1),m0();const u=i&&T1(i(n)),v=Wn(S0,{key:n.key||u&&u.key||`_${t}`},u||(a?a():[]),u&&e._===1?64:-2);return!s&&v.scopeId&&(v.slotScopeIds=[v.scopeId+"-s"]),i&&i._c&&(i._d=!0),v}function T1(e){return e.some(t=>k1(t)?!(t.type===q0||t.type===S0&&!T1(t.children)):!0)?e:null}const tr=e=>e?D1(e)?fa(e)||e.proxy:tr(e.parent):null,hn=E0(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>tr(e.parent),$root:e=>tr(e.root),$emit:e=>e.emit,$options:e=>Ar(e),$forceUpdate:e=>e.f||(e.f=()=>Er(e.update)),$nextTick:e=>e.n||(e.n=Gn.bind(e.proxy)),$watch:e=>El.bind(e)}),Ia=(e,t)=>e!==Je&&!e.__isScriptSetup&&je(e,t),Yl={get({_:e},t){const{ctx:n,setupState:a,data:s,props:i,accessCache:u,type:v,appContext:p}=e;let q;if(t[0]!=="$"){const Z=u[t];if(Z!==void 0)switch(Z){case 1:return a[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Ia(a,t))return u[t]=1,a[t];if(s!==Je&&je(s,t))return u[t]=2,s[t];if((q=e.propsOptions[0])&&je(q,t))return u[t]=3,i[t];if(n!==Je&&je(n,t))return u[t]=4,n[t];nr&&(u[t]=0)}}const d=hn[t];let o,R;if(d)return t==="$attrs"&&L0(e,"get",t),d(e);if((o=v.__cssModules)&&(o=o[t]))return o;if(n!==Je&&je(n,t))return u[t]=4,n[t];if(R=p.config.globalProperties,je(R,t))return R[t]},set({_:e},t,n){const{data:a,setupState:s,ctx:i}=e;return Ia(s,t)?(s[t]=n,!0):a!==Je&&je(a,t)?(a[t]=n,!0):je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:s,propsOptions:i}},u){let v;return!!n[u]||e!==Je&&je(e,u)||Ia(t,u)||(v=i[0])&&je(v,u)||je(a,u)||je(hn,u)||je(s.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let nr=!0;function ql(e){const t=Ar(e),n=e.proxy,a=e.ctx;nr=!1,t.beforeCreate&&Zr(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:u,watch:v,provide:p,inject:q,created:d,beforeMount:o,mounted:R,beforeUpdate:Z,updated:K,activated:W,deactivated:U,beforeDestroy:A,beforeUnmount:E,destroyed:x,unmounted:w,render:r,renderTracked:M,renderTriggered:O,errorCaptured:H,serverPrefetch:g,expose:F,inheritAttrs:X,components:he,directives:B,filters:_}=t;if(q&&Ul(q,a,null,e.appContext.config.unwrapInjectedRef),u)for(const G in u){const V=u[G];Ue(V)&&(a[G]=V.bind(n))}if(s){const G=s.call(n,n);r0(G)&&(e.data=pr(G))}if(nr=!0,i)for(const G in i){const V=i[G],re=Ue(V)?V.bind(n,n):Ue(V.get)?V.get.bind(n,n):Z0,D=!Ue(V)&&Ue(V.set)?V.set.bind(n):Z0,S=Pt({get:re,set:D});Object.defineProperty(a,G,{enumerable:!0,configurable:!0,get:()=>S.value,set:c=>S.value=c})}if(v)for(const G in v)w1(v[G],a,n,G);if(p){const G=Ue(p)?p.call(n):p;Reflect.ownKeys(G).forEach(V=>{Ml(V,G[V])})}d&&Zr(d,e,"c");function $(G,V){qe(V)?V.forEach(re=>G(re.bind(n))):V&&G(V.bind(n))}if($(Il,o),$(oa,R),$(Cl,Z),$(Ol,K),$(Tl,W),$(wl,U),$(Hl,H),$(Fl,M),$(Nl,O),$(_a,E),$(y1,w),$(Ll,g),qe(F))if(F.length){const G=e.exposed||(e.exposed={});F.forEach(V=>{Object.defineProperty(G,V,{get:()=>n[V],set:re=>n[V]=re})})}else e.exposed||(e.exposed={});r&&e.render===Z0&&(e.render=r),X!=null&&(e.inheritAttrs=X),he&&(e.components=he),B&&(e.directives=B)}function Ul(e,t,n=Z0,a=!1){qe(e)&&(e=ar(e));for(const s in e){const i=e[s];let u;r0(i)?"default"in i?u=Yn(i.from||s,i.default,!0):u=Yn(i.from||s):u=Yn(i),f0(u)&&a?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>u.value,set:v=>u.value=v}):t[s]=u}}function Zr(e,t,n){Y0(qe(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,n)}function w1(e,t,n,a){const s=a.includes(".")?S1(n,a):()=>n[a];if(v0(e)){const i=t[e];Ue(i)&&$0(s,i)}else if(Ue(e))$0(s,e.bind(n));else if(r0(e))if(qe(e))e.forEach(i=>w1(i,t,n,a));else{const i=Ue(e.handler)?e.handler.bind(n):t[e.handler];Ue(i)&&$0(s,i,e)}}function Ar(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:u}}=e.appContext,v=i.get(t);let p;return v?p=v:!s.length&&!n&&!a?p=t:(p={},s.length&&s.forEach(q=>jn(p,q,u,!0)),jn(p,t,u)),r0(t)&&i.set(t,p),p}function jn(e,t,n,a=!1){const{mixins:s,extends:i}=t;i&&jn(e,i,n,!0),s&&s.forEach(u=>jn(e,u,n,!0));for(const u in t)if(!(a&&u==="expose")){const v=Kl[u]||n&&n[u];e[u]=v?v(e[u],t[u]):t[u]}return e}const Kl={data:Qr,props:Ot,emits:Ot,methods:Ot,computed:Ot,beforeCreate:y0,created:y0,beforeMount:y0,mounted:y0,beforeUpdate:y0,updated:y0,beforeDestroy:y0,beforeUnmount:y0,destroyed:y0,unmounted:y0,activated:y0,deactivated:y0,errorCaptured:y0,serverPrefetch:y0,components:Ot,directives:Ot,watch:gl,provide:Qr,inject:Gl};function Qr(e,t){return t?e?function(){return E0(Ue(e)?e.call(this,this):e,Ue(t)?t.call(this,this):t)}:t:e}function Gl(e,t){return Ot(ar(e),ar(t))}function ar(e){if(qe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function y0(e,t){return e?[...new Set([].concat(e,t))]:t}function Ot(e,t){return e?E0(E0(Object.create(null),e),t):t}function gl(e,t){if(!e)return t;if(!t)return e;const n=E0(Object.create(null),e);for(const a in t)n[a]=y0(e[a],t[a]);return n}function jl(e,t,n,a=!1){const s={},i={};Un(i,ca,1),e.propsDefaults=Object.create(null),B1(e,t,s,i);for(const u in e.propsOptions[0])u in s||(s[u]=void 0);n?e.props=a?s:rl(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Wl(e,t,n,a){const{props:s,attrs:i,vnode:{patchFlag:u}}=e,v=We(s),[p]=e.propsOptions;let q=!1;if((a||u>0)&&!(u&16)){if(u&8){const d=e.vnode.dynamicProps;for(let o=0;o<d.length;o++){let R=d[o];if(na(e.emitsOptions,R))continue;const Z=t[R];if(p)if(je(i,R))Z!==i[R]&&(i[R]=Z,q=!0);else{const K=rt(R);s[K]=rr(p,v,K,Z,e,!1)}else Z!==i[R]&&(i[R]=Z,q=!0)}}}else{B1(e,t,s,i)&&(q=!0);let d;for(const o in v)(!t||!je(t,o)&&((d=Zt(o))===o||!je(t,d)))&&(p?n&&(n[o]!==void 0||n[d]!==void 0)&&(s[o]=rr(p,v,o,void 0,e,!0)):delete s[o]);if(i!==v)for(const o in i)(!t||!je(t,o))&&(delete i[o],q=!0)}q&&_t(e,"set","$attrs")}function B1(e,t,n,a){const[s,i]=e.propsOptions;let u=!1,v;if(t)for(let p in t){if($n(p))continue;const q=t[p];let d;s&&je(s,d=rt(p))?!i||!i.includes(d)?n[d]=q:(v||(v={}))[d]=q:na(e.emitsOptions,p)||(!(p in a)||q!==a[p])&&(a[p]=q,u=!0)}if(i){const p=We(n),q=v||Je;for(let d=0;d<i.length;d++){const o=i[d];n[o]=rr(s,p,o,q[o],e,!je(q,o))}}return u}function rr(e,t,n,a,s,i){const u=e[n];if(u!=null){const v=je(u,"default");if(v&&a===void 0){const p=u.default;if(u.type!==Function&&Ue(p)){const{propsDefaults:q}=s;n in q?a=q[n]:(zt(s),a=q[n]=p.call(null,t),Vt())}else a=p}u[0]&&(i&&!v?a=!1:u[1]&&(a===""||a===Zt(n))&&(a=!0))}return a}function I1(e,t,n=!1){const a=t.propsCache,s=a.get(e);if(s)return s;const i=e.props,u={},v=[];let p=!1;if(!Ue(e)){const d=o=>{p=!0;const[R,Z]=I1(o,t,!0);E0(u,R),Z&&v.push(...Z)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!p)return r0(e)&&a.set(e,Kt),Kt;if(qe(i))for(let d=0;d<i.length;d++){const o=rt(i[d]);Jr(o)&&(u[o]=Je)}else if(i)for(const d in i){const o=rt(d);if(Jr(o)){const R=i[d],Z=u[o]=qe(R)||Ue(R)?{type:R}:Object.assign({},R);if(Z){const K=ns(Boolean,Z.type),W=ns(String,Z.type);Z[0]=K>-1,Z[1]=W<0||K<W,(K>-1||je(Z,"default"))&&v.push(o)}}}const q=[u,v];return r0(e)&&a.set(e,q),q}function Jr(e){return e[0]!=="$"}function es(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function ts(e,t){return es(e)===es(t)}function ns(e,t){return qe(t)?t.findIndex(n=>ts(n,e)):Ue(t)&&ts(t,e)?0:-1}const C1=e=>e[0]==="_"||e==="$stable",yr=e=>qe(e)?e.map(nt):[nt(e)],zl=(e,t,n)=>{if(t._n)return t;const a=p1((...s)=>yr(t(...s)),n);return a._c=!1,a},O1=(e,t,n)=>{const a=e._ctx;for(const s in e){if(C1(s))continue;const i=e[s];if(Ue(i))t[s]=zl(s,i,a);else if(i!=null){const u=yr(i);t[s]=()=>u}}},L1=(e,t)=>{const n=yr(t);e.slots.default=()=>n},Zl=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=We(t),Un(t,"_",n)):O1(t,e.slots={})}else e.slots={},t&&L1(e,t);Un(e.slots,ca,1)},Ql=(e,t,n)=>{const{vnode:a,slots:s}=e;let i=!0,u=Je;if(a.shapeFlag&32){const v=t._;v?n&&v===1?i=!1:(E0(s,t),!n&&v===1&&delete s._):(i=!t.$stable,O1(t,s)),u=t}else t&&(L1(e,t),u={default:1});if(i)for(const v in s)!C1(v)&&!(v in u)&&delete s[v]};function N1(){return{app:null,config:{isNativeTag:Mi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jl=0;function eo(e,t){return function(a,s=null){Ue(a)||(a=Object.assign({},a)),s!=null&&!r0(s)&&(s=null);const i=N1(),u=new Set;let v=!1;const p=i.app={_uid:Jl++,_component:a,_props:s,_container:null,_context:i,_instance:null,version:Ao,get config(){return i.config},set config(q){},use(q,...d){return u.has(q)||(q&&Ue(q.install)?(u.add(q),q.install(p,...d)):Ue(q)&&(u.add(q),q(p,...d))),p},mixin(q){return i.mixins.includes(q)||i.mixins.push(q),p},component(q,d){return d?(i.components[q]=d,p):i.components[q]},directive(q,d){return d?(i.directives[q]=d,p):i.directives[q]},mount(q,d,o){if(!v){const R=c0(a,s);return R.appContext=i,d&&t?t(R,q):e(R,q,o),v=!0,p._container=q,q.__vue_app__=p,fa(R.component)||R.component.proxy}},unmount(){v&&(e(null,p._container),delete p._container.__vue_app__)},provide(q,d){return i.provides[q]=d,p}};return p}}function sr(e,t,n,a,s=!1){if(qe(e)){e.forEach((R,Z)=>sr(R,t&&(qe(t)?t[Z]:t),n,a,s));return}if(vn(a)&&!s)return;const i=a.shapeFlag&4?fa(a.component)||a.component.proxy:a.el,u=s?null:i,{i:v,r:p}=e,q=t&&t.r,d=v.refs===Je?v.refs={}:v.refs,o=v.setupState;if(q!=null&&q!==p&&(v0(q)?(d[q]=null,je(o,q)&&(o[q]=null)):f0(q)&&(q.value=null)),Ue(p))pt(p,v,12,[u,d]);else{const R=v0(p),Z=f0(p);if(R||Z){const K=()=>{if(e.f){const W=R?je(o,p)?o[p]:d[p]:p.value;s?qe(W)&&ur(W,i):qe(W)?W.includes(i)||W.push(i):R?(d[p]=[i],je(o,p)&&(o[p]=d[p])):(p.value=[i],e.k&&(d[e.k]=p.value))}else R?(d[p]=u,je(o,p)&&(o[p]=u)):Z&&(p.value=u,e.k&&(d[e.k]=u))};u?(K.id=-1,O0(K,n)):K()}}}const O0=Sl;function to(e){return no(e)}function no(e,t){const n=Bi();n.__VUE__=!0;const{insert:a,remove:s,patchProp:i,createElement:u,createText:v,createComment:p,setText:q,setElementText:d,parentNode:o,nextSibling:R,setScopeId:Z=Z0,insertStaticContent:K}=e,W=(I,P,J,ae=null,le=null,Se=null,Oe=!1,l=null,m=!!P.dynamicChildren)=>{if(I===P)return;I&&!Nt(I,P)&&(ae=Q(I),c(I,le,Se,!0),I=null),P.patchFlag===-2&&(m=!1,P.dynamicChildren=null);const{type:se,ref:de,shapeFlag:me}=P;switch(se){case ua:U(I,P,J,ae);break;case q0:A(I,P,J,ae);break;case Ca:I==null&&E(P,J,ae,Oe);break;case S0:he(I,P,J,ae,le,Se,Oe,l,m);break;default:me&1?r(I,P,J,ae,le,Se,Oe,l,m):me&6?B(I,P,J,ae,le,Se,Oe,l,m):(me&64||me&128)&&se.process(I,P,J,ae,le,Se,Oe,l,m,z)}de!=null&&le&&sr(de,I&&I.ref,Se,P||I,!P)},U=(I,P,J,ae)=>{if(I==null)a(P.el=v(P.children),J,ae);else{const le=P.el=I.el;P.children!==I.children&&q(le,P.children)}},A=(I,P,J,ae)=>{I==null?a(P.el=p(P.children||""),J,ae):P.el=I.el},E=(I,P,J,ae)=>{[I.el,I.anchor]=K(I.children,P,J,ae,I.el,I.anchor)},x=({el:I,anchor:P},J,ae)=>{let le;for(;I&&I!==P;)le=R(I),a(I,J,ae),I=le;a(P,J,ae)},w=({el:I,anchor:P})=>{let J;for(;I&&I!==P;)J=R(I),s(I),I=J;s(P)},r=(I,P,J,ae,le,Se,Oe,l,m)=>{Oe=Oe||P.type==="svg",I==null?M(P,J,ae,le,Se,Oe,l,m):g(I,P,le,Se,Oe,l,m)},M=(I,P,J,ae,le,Se,Oe,l)=>{let m,se;const{type:de,props:me,shapeFlag:xe,transition:be,dirs:Me}=I;if(m=I.el=u(I.type,Se,me&&me.is,me),xe&8?d(m,I.children):xe&16&&H(I.children,m,null,ae,le,Se&&de!=="foreignObject",Oe,l),Me&&yt(I,null,ae,"created"),O(m,I,I.scopeId,Oe,ae),me){for(const we in me)we!=="value"&&!$n(we)&&i(m,we,null,me[we],Se,I.children,ae,le,j);"value"in me&&i(m,"value",null,me.value),(se=me.onVnodeBeforeMount)&&et(se,ae,I)}Me&&yt(I,null,ae,"beforeMount");const Fe=(!le||le&&!le.pendingBranch)&&be&&!be.persisted;Fe&&be.beforeEnter(m),a(m,P,J),((se=me&&me.onVnodeMounted)||Fe||Me)&&O0(()=>{se&&et(se,ae,I),Fe&&be.enter(m),Me&&yt(I,null,ae,"mounted")},le)},O=(I,P,J,ae,le)=>{if(J&&Z(I,J),ae)for(let Se=0;Se<ae.length;Se++)Z(I,ae[Se]);if(le){let Se=le.subTree;if(P===Se){const Oe=le.vnode;O(I,Oe,Oe.scopeId,Oe.slotScopeIds,le.parent)}}},H=(I,P,J,ae,le,Se,Oe,l,m=0)=>{for(let se=m;se<I.length;se++){const de=I[se]=l?mt(I[se]):nt(I[se]);W(null,de,P,J,ae,le,Se,Oe,l)}},g=(I,P,J,ae,le,Se,Oe)=>{const l=P.el=I.el;let{patchFlag:m,dynamicChildren:se,dirs:de}=P;m|=I.patchFlag&16;const me=I.props||Je,xe=P.props||Je;let be;J&&Rt(J,!1),(be=xe.onVnodeBeforeUpdate)&&et(be,J,P,I),de&&yt(P,I,J,"beforeUpdate"),J&&Rt(J,!0);const Me=le&&P.type!=="foreignObject";if(se?F(I.dynamicChildren,se,l,J,ae,Me,Se):Oe||V(I,P,l,null,J,ae,Me,Se,!1),m>0){if(m&16)X(l,P,me,xe,J,ae,le);else if(m&2&&me.class!==xe.class&&i(l,"class",null,xe.class,le),m&4&&i(l,"style",me.style,xe.style,le),m&8){const Fe=P.dynamicProps;for(let we=0;we<Fe.length;we++){const Te=Fe[we],Xe=me[Te],ze=xe[Te];(ze!==Xe||Te==="value")&&i(l,Te,Xe,ze,le,I.children,J,ae,j)}}m&1&&I.children!==P.children&&d(l,P.children)}else!Oe&&se==null&&X(l,P,me,xe,J,ae,le);((be=xe.onVnodeUpdated)||de)&&O0(()=>{be&&et(be,J,P,I),de&&yt(P,I,J,"updated")},ae)},F=(I,P,J,ae,le,Se,Oe)=>{for(let l=0;l<P.length;l++){const m=I[l],se=P[l],de=m.el&&(m.type===S0||!Nt(m,se)||m.shapeFlag&70)?o(m.el):J;W(m,se,de,null,ae,le,Se,Oe,!0)}},X=(I,P,J,ae,le,Se,Oe)=>{if(J!==ae){if(J!==Je)for(const l in J)!$n(l)&&!(l in ae)&&i(I,l,J[l],null,Oe,P.children,le,Se,j);for(const l in ae){if($n(l))continue;const m=ae[l],se=J[l];m!==se&&l!=="value"&&i(I,l,se,m,Oe,P.children,le,Se,j)}"value"in ae&&i(I,"value",J.value,ae.value)}},he=(I,P,J,ae,le,Se,Oe,l,m)=>{const se=P.el=I?I.el:v(""),de=P.anchor=I?I.anchor:v("");let{patchFlag:me,dynamicChildren:xe,slotScopeIds:be}=P;be&&(l=l?l.concat(be):be),I==null?(a(se,J,ae),a(de,J,ae),H(P.children,J,de,le,Se,Oe,l,m)):me>0&&me&64&&xe&&I.dynamicChildren?(F(I.dynamicChildren,xe,J,le,Se,Oe,l),(P.key!=null||le&&P===le.subTree)&&F1(I,P,!0)):V(I,P,J,de,le,Se,Oe,l,m)},B=(I,P,J,ae,le,Se,Oe,l,m)=>{P.slotScopeIds=l,I==null?P.shapeFlag&512?le.ctx.activate(P,J,ae,Oe,m):_(P,J,ae,le,Se,Oe,m):L(I,P,m)},_=(I,P,J,ae,le,Se,Oe)=>{const l=I.component=fo(I,ae,le);if(ia(I)&&(l.ctx.renderer=z),ho(l),l.asyncDep){if(le&&le.registerDep(l,$),!I.el){const m=l.subTree=c0(q0);A(null,m,P,J)}return}$(l,I,P,J,le,Se,Oe)},L=(I,P,J)=>{const ae=P.component=I.component;if(bl(I,P,J))if(ae.asyncDep&&!ae.asyncResolved){G(ae,P,J);return}else ae.next=P,cl(ae.update),ae.update();else P.el=I.el,ae.vnode=P},$=(I,P,J,ae,le,Se,Oe)=>{const l=()=>{if(I.isMounted){let{next:de,bu:me,u:xe,parent:be,vnode:Me}=I,Fe=de,we;Rt(I,!1),de?(de.el=Me.el,G(I,de,Oe)):de=Me,me&&Ta(me),(we=de.props&&de.props.onVnodeBeforeUpdate)&&et(we,be,de,Me),Rt(I,!0);const Te=wa(I),Xe=I.subTree;I.subTree=Te,W(Xe,Te,o(Xe.el),Q(Xe),I,le,Se),de.el=Te.el,Fe===null&&pl(I,Te.el),xe&&O0(xe,le),(we=de.props&&de.props.onVnodeUpdated)&&O0(()=>et(we,be,de,Me),le)}else{let de;const{el:me,props:xe}=P,{bm:be,m:Me,parent:Fe}=I,we=vn(P);if(Rt(I,!1),be&&Ta(be),!we&&(de=xe&&xe.onVnodeBeforeMount)&&et(de,Fe,P),Rt(I,!0),me&&pe){const Te=()=>{I.subTree=wa(I),pe(me,I.subTree,I,le,null)};we?P.type.__asyncLoader().then(()=>!I.isUnmounted&&Te()):Te()}else{const Te=I.subTree=wa(I);W(null,Te,J,ae,I,le,Se),P.el=Te.el}if(Me&&O0(Me,le),!we&&(de=xe&&xe.onVnodeMounted)){const Te=P;O0(()=>et(de,Fe,Te),le)}(P.shapeFlag&256||Fe&&vn(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&I.a&&O0(I.a,le),I.isMounted=!0,P=J=ae=null}},m=I.effect=new hr(l,()=>Er(se),I.scope),se=I.update=()=>m.run();se.id=I.uid,Rt(I,!0),se()},G=(I,P,J)=>{P.component=I;const ae=I.vnode.props;I.vnode=P,I.next=null,Wl(I,P.props,ae,J),Ql(I,P.children,J),Qt(),gr(),Jt()},V=(I,P,J,ae,le,Se,Oe,l,m=!1)=>{const se=I&&I.children,de=I?I.shapeFlag:0,me=P.children,{patchFlag:xe,shapeFlag:be}=P;if(xe>0){if(xe&128){D(se,me,J,ae,le,Se,Oe,l,m);return}else if(xe&256){re(se,me,J,ae,le,Se,Oe,l,m);return}}be&8?(de&16&&j(se,le,Se),me!==se&&d(J,me)):de&16?be&16?D(se,me,J,ae,le,Se,Oe,l,m):j(se,le,Se,!0):(de&8&&d(J,""),be&16&&H(me,J,ae,le,Se,Oe,l,m))},re=(I,P,J,ae,le,Se,Oe,l,m)=>{I=I||Kt,P=P||Kt;const se=I.length,de=P.length,me=Math.min(se,de);let xe;for(xe=0;xe<me;xe++){const be=P[xe]=m?mt(P[xe]):nt(P[xe]);W(I[xe],be,J,null,le,Se,Oe,l,m)}se>de?j(I,le,Se,!0,!1,me):H(P,J,ae,le,Se,Oe,l,m,me)},D=(I,P,J,ae,le,Se,Oe,l,m)=>{let se=0;const de=P.length;let me=I.length-1,xe=de-1;for(;se<=me&&se<=xe;){const be=I[se],Me=P[se]=m?mt(P[se]):nt(P[se]);if(Nt(be,Me))W(be,Me,J,null,le,Se,Oe,l,m);else break;se++}for(;se<=me&&se<=xe;){const be=I[me],Me=P[xe]=m?mt(P[xe]):nt(P[xe]);if(Nt(be,Me))W(be,Me,J,null,le,Se,Oe,l,m);else break;me--,xe--}if(se>me){if(se<=xe){const be=xe+1,Me=be<de?P[be].el:ae;for(;se<=xe;)W(null,P[se]=m?mt(P[se]):nt(P[se]),J,Me,le,Se,Oe,l,m),se++}}else if(se>xe)for(;se<=me;)c(I[se],le,Se,!0),se++;else{const be=se,Me=se,Fe=new Map;for(se=Me;se<=xe;se++){const N=P[se]=m?mt(P[se]):nt(P[se]);N.key!=null&&Fe.set(N.key,se)}let we,Te=0;const Xe=xe-Me+1;let ze=!1,Ke=0;const y=new Array(Xe);for(se=0;se<Xe;se++)y[se]=0;for(se=be;se<=me;se++){const N=I[se];if(Te>=Xe){c(N,le,Se,!0);continue}let Y;if(N.key!=null)Y=Fe.get(N.key);else for(we=Me;we<=xe;we++)if(y[we-Me]===0&&Nt(N,P[we])){Y=we;break}Y===void 0?c(N,le,Se,!0):(y[Y-Me]=se+1,Y>=Ke?Ke=Y:ze=!0,W(N,P[Y],J,null,le,Se,Oe,l,m),Te++)}const T=ze?ao(y):Kt;for(we=T.length-1,se=Xe-1;se>=0;se--){const N=Me+se,Y=P[N],ee=N+1<de?P[N+1].el:ae;y[se]===0?W(null,Y,J,ee,le,Se,Oe,l,m):ze&&(we<0||se!==T[we]?S(Y,J,ee,2):we--)}}},S=(I,P,J,ae,le=null)=>{const{el:Se,type:Oe,transition:l,children:m,shapeFlag:se}=I;if(se&6){S(I.component.subTree,P,J,ae);return}if(se&128){I.suspense.move(P,J,ae);return}if(se&64){Oe.move(I,P,J,z);return}if(Oe===S0){a(Se,P,J);for(let me=0;me<m.length;me++)S(m[me],P,J,ae);a(I.anchor,P,J);return}if(Oe===Ca){x(I,P,J);return}if(ae!==2&&se&1&&l)if(ae===0)l.beforeEnter(Se),a(Se,P,J),O0(()=>l.enter(Se),le);else{const{leave:me,delayLeave:xe,afterLeave:be}=l,Me=()=>a(Se,P,J),Fe=()=>{me(Se,()=>{Me(),be&&be()})};xe?xe(Se,Me,Fe):Fe()}else a(Se,P,J)},c=(I,P,J,ae=!1,le=!1)=>{const{type:Se,props:Oe,ref:l,children:m,dynamicChildren:se,shapeFlag:de,patchFlag:me,dirs:xe}=I;if(l!=null&&sr(l,null,J,I,!0),de&256){P.ctx.deactivate(I);return}const be=de&1&&xe,Me=!vn(I);let Fe;if(Me&&(Fe=Oe&&Oe.onVnodeBeforeUnmount)&&et(Fe,P,I),de&6)b(I.component,J,ae);else{if(de&128){I.suspense.unmount(J,ae);return}be&&yt(I,null,P,"beforeUnmount"),de&64?I.type.remove(I,P,J,le,z,ae):se&&(Se!==S0||me>0&&me&64)?j(se,P,J,!1,!0):(Se===S0&&me&384||!le&&de&16)&&j(m,P,J),ae&&f(I)}(Me&&(Fe=Oe&&Oe.onVnodeUnmounted)||be)&&O0(()=>{Fe&&et(Fe,P,I),be&&yt(I,null,P,"unmounted")},J)},f=I=>{const{type:P,el:J,anchor:ae,transition:le}=I;if(P===S0){h(J,ae);return}if(P===Ca){w(I);return}const Se=()=>{s(J),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(I.shapeFlag&1&&le&&!le.persisted){const{leave:Oe,delayLeave:l}=le,m=()=>Oe(J,Se);l?l(I.el,Se,m):m()}else Se()},h=(I,P)=>{let J;for(;I!==P;)J=R(I),s(I),I=J;s(P)},b=(I,P,J)=>{const{bum:ae,scope:le,update:Se,subTree:Oe,um:l}=I;ae&&Ta(ae),le.stop(),Se&&(Se.active=!1,c(Oe,I,P,J)),l&&O0(l,P),O0(()=>{I.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},j=(I,P,J,ae=!1,le=!1,Se=0)=>{for(let Oe=Se;Oe<I.length;Oe++)c(I[Oe],P,J,ae,le)},Q=I=>I.shapeFlag&6?Q(I.component.subTree):I.shapeFlag&128?I.suspense.next():R(I.anchor||I.el),k=(I,P,J)=>{I==null?P._vnode&&c(P._vnode,null,null,!0):W(P._vnode||null,I,P,null,null,null,J),gr(),d1(),P._vnode=I},z={p:W,um:c,m:S,r:f,mt:_,mc:H,pc:V,pbc:F,n:Q,o:e};let ve,pe;return t&&([ve,pe]=t(z)),{render:k,hydrate:ve,createApp:eo(k,ve)}}function Rt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function F1(e,t,n=!1){const a=e.children,s=t.children;if(qe(a)&&qe(s))for(let i=0;i<a.length;i++){const u=a[i];let v=s[i];v.shapeFlag&1&&!v.dynamicChildren&&((v.patchFlag<=0||v.patchFlag===32)&&(v=s[i]=mt(s[i]),v.el=u.el),n||F1(u,v)),v.type===ua&&(v.el=u.el)}}function ao(e){const t=e.slice(),n=[0];let a,s,i,u,v;const p=e.length;for(a=0;a<p;a++){const q=e[a];if(q!==0){if(s=n[n.length-1],e[s]<q){t[a]=s,n.push(a);continue}for(i=0,u=n.length-1;i<u;)v=i+u>>1,e[n[v]]<q?i=v+1:u=v;q<e[n[i]]&&(i>0&&(t[a]=n[i-1]),n[i]=a)}}for(i=n.length,u=n[i-1];i-- >0;)n[i]=u,u=t[u];return n}const ro=e=>e.__isTeleport,S0=Symbol(void 0),ua=Symbol(void 0),q0=Symbol(void 0),Ca=Symbol(void 0),dn=[];let z0=null;function m0(e=!1){dn.push(z0=e?null:[])}function so(){dn.pop(),z0=dn[dn.length-1]||null}let Sn=1;function as(e){Sn+=e}function H1(e){return e.dynamicChildren=Sn>0?z0||Kt:null,so(),Sn>0&&z0&&z0.push(e),e}function k0(e,t,n,a,s,i){return H1(Ie(e,t,n,a,s,i,!0))}function Wn(e,t,n,a,s){return H1(c0(e,t,n,a,s,!0))}function k1(e){return e?e.__v_isVNode===!0:!1}function Nt(e,t){return e.type===t.type&&e.key===t.key}const ca="__vInternal",V1=({key:e})=>e??null,qn=({ref:e,ref_key:t,ref_for:n})=>e!=null?v0(e)||f0(e)||Ue(e)?{i:b0,r:e,k:t,f:!!n}:e:null;function Ie(e,t=null,n=null,a=0,s=null,i=e===S0?0:1,u=!1,v=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&V1(t),ref:t&&qn(t),scopeId:aa,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:a,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:b0};return v?(Rr(p,n),i&128&&e.normalize(p)):n&&(p.shapeFlag|=v0(n)?8:16),Sn>0&&!u&&z0&&(p.patchFlag>0||i&6)&&p.patchFlag!==32&&z0.push(p),p}const c0=io;function io(e,t=null,n=null,a=0,s=null,i=!1){if((!e||e===Dl)&&(e=q0),k1(e)){const v=St(e,t,!0);return n&&Rr(v,n),Sn>0&&!i&&z0&&(v.shapeFlag&6?z0[z0.indexOf(e)]=v:z0.push(v)),v.patchFlag|=-2,v}if(So(e)&&(e=e.__vccOpts),t){t=lo(t);let{class:v,style:p}=t;v&&!v0(v)&&(t.class=yn(v)),r0(p)&&(i1(p)&&!qe(p)&&(p=E0({},p)),t.style=An(p))}const u=v0(e)?1:xl(e)?128:ro(e)?64:r0(e)?4:Ue(e)?2:0;return Ie(e,t,n,a,s,u,i,!0)}function lo(e){return e?i1(e)||ca in e?E0({},e):e:null}function St(e,t,n=!1){const{props:a,ref:s,patchFlag:i,children:u}=e,v=t?_o(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:v,key:v&&V1(v),ref:t&&t.ref?n&&s?qe(s)?s.concat(qn(t)):[s,qn(t)]:qn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==S0?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&St(e.ssContent),ssFallback:e.ssFallback&&St(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ir(e=" ",t=0){return c0(ua,null,e,t)}function oo(e="",t=!1){return t?(m0(),Wn(q0,null,e)):c0(q0,null,e)}function nt(e){return e==null||typeof e=="boolean"?c0(q0):qe(e)?c0(S0,null,e.slice()):typeof e=="object"?mt(e):c0(ua,null,String(e))}function mt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:St(e)}function Rr(e,t){let n=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(qe(t))n=16;else if(typeof t=="object")if(a&65){const s=t.default;s&&(s._c&&(s._d=!1),Rr(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(ca in t)?t._ctx=b0:s===3&&b0&&(b0.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ue(t)?(t={default:t,_ctx:b0},n=32):(t=String(t),a&64?(n=16,t=[ir(t)]):n=8);e.children=t,e.shapeFlag|=n}function _o(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const s in a)if(s==="class")t.class!==a.class&&(t.class=yn([t.class,a.class]));else if(s==="style")t.style=An([t.style,a.style]);else if(zn(s)){const i=t[s],u=a[s];u&&i!==u&&!(qe(i)&&i.includes(u))&&(t[s]=i?[].concat(i,u):u)}else s!==""&&(t[s]=a[s])}return t}function et(e,t,n,a=null){Y0(e,t,7,[n,a])}const uo=N1();let co=0;function fo(e,t,n){const a=e.type,s=(t?t.appContext:e.appContext)||uo,i={uid:co++,vnode:e,type:a,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ii(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:I1(a,s),emitsOptions:b1(a,s),emit:null,emitted:null,propsDefaults:Je,inheritAttrs:a.inheritAttrs,ctx:Je,data:Je,props:Je,attrs:Je,slots:Je,refs:Je,setupState:Je,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=hl.bind(null,i),e.ce&&e.ce(i),i}let _0=null;const vo=()=>_0||b0,zt=e=>{_0=e,e.scope.on()},Vt=()=>{_0&&_0.scope.off(),_0=null};function D1(e){return e.vnode.shapeFlag&4}let Mn=!1;function ho(e,t=!1){Mn=t;const{props:n,children:a}=e.vnode,s=D1(e);jl(e,n,s,t),Zl(e,a);const i=s?mo(e,t):void 0;return Mn=!1,i}function mo(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=l1(new Proxy(e.ctx,Yl));const{setup:a}=n;if(a){const s=e.setupContext=a.length>1?po(e):null;zt(e),Qt();const i=pt(a,e,0,[e.props,s]);if(Jt(),Vt(),Gs(i)){if(i.then(Vt,Vt),t)return i.then(u=>{rs(e,u,t)}).catch(u=>{ta(u,e,0)});e.asyncDep=i}else rs(e,i,t)}else P1(e,t)}function rs(e,t,n){Ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:r0(t)&&(e.setupState=c1(t)),P1(e,n)}let ss;function P1(e,t,n){const a=e.type;if(!e.render){if(!t&&ss&&!a.render){const s=a.template||Ar(e).template;if(s){const{isCustomElement:i,compilerOptions:u}=e.appContext.config,{delimiters:v,compilerOptions:p}=a,q=E0(E0({isCustomElement:i,delimiters:v},u),p);a.render=ss(s,q)}}e.render=a.render||Z0}zt(e),Qt(),ql(e),Jt(),Vt()}function bo(e){return new Proxy(e.attrs,{get(t,n){return L0(e,"get","$attrs"),t[n]}})}function po(e){const t=a=>{e.exposed=a||{}};let n;return{get attrs(){return n||(n=bo(e))},slots:e.slots,emit:e.emit,expose:t}}function fa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(c1(l1(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in hn)return hn[n](e)},has(t,n){return n in t||n in hn}}))}function xo(e,t=!0){return Ue(e)?e.displayName||e.name:e.name||t&&e.__name}function So(e){return Ue(e)&&"__vccOpts"in e}const Pt=(e,t)=>ol(e,t,Mn),Mo=Symbol(""),Eo=()=>Yn(Mo),Ao="3.2.47",yo="http://www.w3.org/2000/svg",Ft=typeof document<"u"?document:null,is=Ft&&Ft.createElement("template"),Ro={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const s=t?Ft.createElementNS(yo,e):Ft.createElement(e,n?{is:n}:void 0);return e==="select"&&a&&a.multiple!=null&&s.setAttribute("multiple",a.multiple),s},createText:e=>Ft.createTextNode(e),createComment:e=>Ft.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ft.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,s,i){const u=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{is.innerHTML=a?`<svg>${e}</svg>`:e;const v=is.content;if(a){const p=v.firstChild;for(;p.firstChild;)v.appendChild(p.firstChild);v.removeChild(p)}t.insertBefore(v,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function To(e,t,n){const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function wo(e,t,n){const a=e.style,s=v0(n);if(n&&!s){if(t&&!v0(t))for(const i in t)n[i]==null&&lr(a,i,"");for(const i in n)lr(a,i,n[i])}else{const i=a.display;s?t!==n&&(a.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(a.display=i)}}const ls=/\s*!important$/;function lr(e,t,n){if(qe(n))n.forEach(a=>lr(e,t,a));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const a=Bo(e,t);ls.test(n)?e.setProperty(Zt(a),n.replace(ls,""),"important"):e[a]=n}}const os=["Webkit","Moz","ms"],Oa={};function Bo(e,t){const n=Oa[t];if(n)return n;let a=rt(t);if(a!=="filter"&&a in e)return Oa[t]=a;a=Jn(a);for(let s=0;s<os.length;s++){const i=os[s]+a;if(i in e)return Oa[t]=i}return t}const _s="http://www.w3.org/1999/xlink";function Io(e,t,n,a,s){if(a&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(_s,t.slice(6,t.length)):e.setAttributeNS(_s,t,n);else{const i=Si(t);n==null||i&&!qs(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Co(e,t,n,a,s,i,u){if(t==="innerHTML"||t==="textContent"){a&&u(a,s,i),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const p=n??"";(e.value!==p||e.tagName==="OPTION")&&(e.value=p),n==null&&e.removeAttribute(t);return}let v=!1;if(n===""||n==null){const p=typeof e[t];p==="boolean"?n=qs(n):n==null&&p==="string"?(n="",v=!0):p==="number"&&(n=0,v=!0)}try{e[t]=n}catch{}v&&e.removeAttribute(t)}function Oo(e,t,n,a){e.addEventListener(t,n,a)}function Lo(e,t,n,a){e.removeEventListener(t,n,a)}function No(e,t,n,a,s=null){const i=e._vei||(e._vei={}),u=i[t];if(a&&u)u.value=a;else{const[v,p]=Fo(t);if(a){const q=i[t]=Vo(a,s);Oo(e,v,q,p)}else u&&(Lo(e,v,u,p),i[t]=void 0)}}const us=/(?:Once|Passive|Capture)$/;function Fo(e){let t;if(us.test(e)){t={};let a;for(;a=e.match(us);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Zt(e.slice(2)),t]}let La=0;const Ho=Promise.resolve(),ko=()=>La||(Ho.then(()=>La=0),La=Date.now());function Vo(e,t){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;Y0(Do(a,n.value),t,5,[a])};return n.value=e,n.attached=ko(),n}function Do(e,t){if(qe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(a=>s=>!s._stopped&&a&&a(s))}else return t}const cs=/^on[a-z]/,Po=(e,t,n,a,s=!1,i,u,v,p)=>{t==="class"?To(e,a,s):t==="style"?wo(e,n,a):zn(t)?_r(t)||No(e,t,n,a,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Xo(e,t,a,s))?Co(e,t,a,i,u,v,p):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Io(e,t,a,s))};function Xo(e,t,n,a){return a?!!(t==="innerHTML"||t==="textContent"||t in e&&cs.test(t)&&Ue(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||cs.test(t)&&v0(n)?!1:t in e}const $o={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Rl.props;const Yo=["ctrl","shift","alt","meta"],qo={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Yo.some(n=>e[`${n}Key`]&&!t.includes(n))},R0=(e,t)=>(n,...a)=>{for(let s=0;s<t.length;s++){const i=qo[t[s]];if(i&&i(n,t))return}return e(n,...a)},fs={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):_n(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(e),_n(e,!0),a.enter(e)):a.leave(e,()=>{_n(e,!1)}):_n(e,t))},beforeUnmount(e,{value:t}){_n(e,t)}};function _n(e,t){e.style.display=t?e._vod:"none"}const Uo=E0({patchProp:Po},Ro);let vs;function Ko(){return vs||(vs=to(Uo))}const Go=(...e)=>{const t=Ko().createApp(...e),{mount:n}=t;return t.mount=a=>{const s=go(a);if(!s)return;const i=t._component;!Ue(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const u=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),u},t};function go(e){return v0(e)?document.querySelector(e):e}const en=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n},jo=e=>(ra("data-v-2e1206cc"),e=e(),sa(),e),Wo=["onDrop"],zo=["innerHTML"],Zo=jo(()=>Ie("div",{class:"drag-label"},"Drop files here",-1)),Qo=["accept"],Jo={__name:"DragDropInput",props:{label:String,allowDrop:{type:Boolean,default:!0},fullscreenDrop:Boolean,singleFile:{type:Boolean,default:!1},extensions:String},emits:["upload"],setup(e,{emit:t}){const n=e,a=d0(0),s=Pt(()=>n.allowDrop&&"draggable"in document.body&&"ondrag"in document.body&&"FileReader"in window),i=Pt(()=>n.label?n.label:s.value?n.singleFile?"<b>Click to select a file</b> or drag it here":"<b>Click to select files</b> or drag them here":n.singleFile?"<b>Click to select a file</b>":"<b>Click to select files</b>");function u(o){const R=o.target.querySelector("input");R&&(R.value=null,R.click())}function v(o){t("upload",o.target.files)}function p(o){if(!(o.dataTransfer&&!o.dataTransfer.types.includes("Files")))if(o.type==="blur")a.value=0;else if(o.type==="drop")console.log("drop",o);else{const R=/enter|start/.test(o.type)&&1||/leave|end/.test(o.type)&&-1||0;a.value+=R}}function q(o){if(!s.value||o.dataTransfer&&!o.dataTransfer.types.includes("Files"))return;a.value-=1;let R=Array.from(o.dataTransfer.files);if(n.extensions){const Z=n.extensions.split(",").map(W=>W.replace(/(^\.|\s+)/g,"")),K=new RegExp(`\\.(${Z.join("|")})$`,"i");R=R.filter(W=>K.test(W.name))}R.length>0&&v({target:{files:R}})}const d=["dragenter","dragleave","dragstart","dragend","drop","drag"];return oa(()=>{if(s.value){window.addEventListener("blur",p),window.addEventListener("drop",p);for(const o of d)document.addEventListener(o,p)}}),_a(()=>{window.removeEventListener("blur",p),window.removeEventListener("drop",p);for(const o of d)document.removeEventListener(o,p)}),(o,R)=>(m0(),k0("div",{class:yn(["upload-area",{dragging:a.value>0,candrag:Qe(s),fullscreen:e.fullscreenDrop}]),onClick:u,onDrop:R0(q,["prevent","stop"]),onDragover:R[0]||(R[0]=R0(()=>{},["prevent","stop"]))},[Ie("span",{class:"upload-label",innerHTML:Qe(i)},null,8,zo),Zo,Ie("input",{type:"file",accept:e.extensions,onInput:v},null,40,Qo)],42,Wo))}},e2=en(Jo,[["__scopeId","data-v-2e1206cc"]]);const t2={__name:"SvgIcon",props:{name:String,size:{type:Number,default:16}},setup(e){const t=e,n=d0(null),a=Pt(()=>{const s=`url('./icons/${t.name}.svg')`;return{width:t.size+"px",height:t.size+"px",backgroundColor:"currentColor",maskImage:s,"-webkit-mask-image":s}});return(s,i)=>(m0(),k0("div",{class:"svg-icon",ref_key:"rootEl",ref:n,style:An(Qe(a))},null,4))}},dt=en(t2,[["__scopeId","data-v-f53dc053"]]);function X1(e){const t="prefetch-icons-container";let n=document.getElementById(t);n||(n=document.createElement("div"),n.setAttribute("id",t),Object.assign(n.style,{position:"fixed",top:0,left:0,width:"50px",height:"50px",transform:"translateX(-100%)"}),document.body.append(n));for(const a of e){const s=`./icons/${a}.svg`,i=document.createElement("div");Object.assign(i.style,{background:`url(${s})`}),n.append(i)}}const n2=e=>(ra("data-v-4bdc06ad"),e=e(),sa(),e),a2=n2(()=>Ie("div",{class:"spacer"},null,-1)),r2={class:"slider__anim-container absolute"},s2=["onMousedown"],i2=["onMousedown"],l2={__name:"VolumeButton",props:{value:{type:Number,default:1},muted:{type:Boolean,default:!1},size:{type:Number,default:40}},emits:["update:value","update:muted"],setup(e,{emit:t}){const n=e,a=d0(null),s=d0(null),i=d0("volume-high"),u=d0(0),v=d0(!1);function p(o){if(!s.value)return n.value;const R=s.value.getBoundingClientRect(),Z=(o-R.x)/R.width,K=o<R.x||o>=R.x+R.width;return{pct:Math.max(0,Math.min(Z,1)),raw:Z,overflown:K}}function q(o){const R=p(o.clientX);if(o.target!==a.value&&R.overflown)return;t("update:value",R.pct);const Z=++u.value;v.value=!0;const K=A=>{const E=p(A.clientX);t("update:value",E.pct)},W=A=>{A.which===1&&U()},U=()=>{window.removeEventListener("mousemove",K,{capture:!0,passive:!0}),window.removeEventListener("blur",U),window.removeEventListener("mouseup",W),setTimeout(()=>{u.value===Z&&(v.value=!1)},1e3)};window.addEventListener("mousemove",K,{capture:!0,passive:!0}),window.addEventListener("blur",U,{once:!0}),window.addEventListener("mouseup",W)}const d=[{icon:"volume-high",level:.33},{icon:"volume-medium",level:Number.EPSILON},{icon:"volume-low",level:0},{icon:"volume-off",level:-1}];return $0(()=>[n.value,n.muted],()=>{if(n.muted)i.value="volume-off";else{const o=d.find(({level:R})=>R<=n.value);o&&(i.value=o.icon)}},{immediate:!0}),X1(d.map(({icon:o})=>o)),(o,R)=>(m0(),k0("div",{class:yn(["root row relative",{sliding:v.value}])},[Ie("button",{class:"icon",onClick:R[0]||(R[0]=Z=>o.$emit("update:muted",!n.muted))},[c0(dt,{name:i.value,size:e.size},null,8,["name","size"])]),a2,Ie("div",r2,[Ie("div",{class:"slider__container",style:An({"--progress":e.value})},[Ie("div",{class:"slider__track",ref_key:"sliderTrackEl",ref:s,onMousedown:R0(q,["left"])},null,40,s2),Ie("div",{class:"slider__button",ref_key:"sliderButtonEl",ref:a,onMousedown:R0(q,["left"])},null,40,i2)],4)])],2))}},o2=en(l2,[["__scopeId","data-v-4bdc06ad"]]);const st=e=>(ra("data-v-b03ae491"),e=e(),sa(),e),_2={class:"column"},u2={class:"row items-center"},c2=st(()=>Ie("span",null,":",-1)),f2=st(()=>Ie("span",null,".",-1)),v2={class:"column m-l-1"},h2=st(()=>Ie("div",{class:"arrow-up"},null,-1)),d2=[h2],m2=st(()=>Ie("div",{class:"arrow-down"},null,-1)),b2=[m2],p2=st(()=>Ie("span",{class:"font-12"},"Start",-1)),x2={class:"column m-l-3"},S2={class:"row items-center"},M2=st(()=>Ie("span",null,":",-1)),E2=st(()=>Ie("span",null,".",-1)),A2={class:"column m-l-1"},y2=st(()=>Ie("div",{class:"arrow-up"},null,-1)),R2=[y2],T2=st(()=>Ie("div",{class:"arrow-down"},null,-1)),w2=[T2],B2=st(()=>Ie("span",{class:"font-12"},"End",-1)),I2={__name:"TimeTrimInput",props:{start:{type:Number,default:0},end:{type:Number,default:1/0},duration:{type:Number,default:0}},emits:["update:start","update:end"],setup(e,{emit:t}){const n=e,a=d0(null),s=d0(null);function i(d){if(typeof d=="number"){const o=["mm","ss","ms"][d%3],Z=`[trim-${d<=2?"start":"end"}][${o}]`,K=s.value.querySelector(Z);K&&(a.value=d,d=K)}if(d){if(window.getSelection&&document.createRange){const o=document.createRange();o.selectNodeContents(d);const R=window.getSelection();R.removeAllRanges(),R.addRange(o)}else if(document.selection&&document.body.createTextRange){const o=document.body.createTextRange();o.moveToElementText(d),o.select()}}}function u(d){const o=(d-Math.floor(d))*1e3,R=Math.floor(d%60),Z=Math.floor(d/60);return{ms:o,ss:R,mm:Z}}function v(d,o){d==="start"&&a.value>2?a.value=2:d==="end"&&a.value<=2&&(a.value=5);let R=a.value;(typeof R!="number"||Number.isNaN(R))&&(R=d==="start"&&2||d==="end"&&5);const Z=[60,1,.01][R%3]*o,K=R<=2?n.start:n.end,W=Math.min(n.duration,R<=2?n.end:n.duration),U=R<=2?0:n.start,A=Math.max(U,Math.min(K+Z,W));i(R),t(`update:${R<=2?"start":"end"}`,A),Gn().then(()=>i(a.value))}function p(d,o){!o.ctrlKey&&!o.shiftKey&&!o.altKey&&Math.abs(o.deltaY)>.1&&(a.value=d,v(d<=2?"start":"end",o.deltaY>0?-1:1),o.preventDefault(),o.stopPropagation())}const q=Pt(()=>{const d=u(Math.max(0,n.start)),o=u(Math.min(n.duration,n.end));return[[d.mm,d.ss,Math.round(d.ms/10)],[o.mm,o.ss,Math.round(o.ms/10)]].map(R=>R.map(Z=>String(Z).padStart(2,"0")))});return $0(a,d=>{d!==null&&i(d)}),(d,o)=>(m0(),k0("div",{class:"row root items-center",ref_key:"rootEl",ref:s},[Ie("div",_2,[Ie("div",u2,[Ie("span",{"trim-start":"",mm:"",onMousedown:o[0]||(o[0]=R0(R=>i(0),["left","prevent","stop"])),onWheel:o[1]||(o[1]=R=>p(0,R))},x0(Qe(q)[0][0]),33),c2,Ie("span",{"trim-start":"",ss:"",onMousedown:o[2]||(o[2]=R0(R=>i(1),["left","prevent","stop"])),onWheel:o[3]||(o[3]=R=>p(1,R))},x0(Qe(q)[0][1]),33),f2,Ie("span",{"trim-start":"",ms:"",onMousedown:o[4]||(o[4]=R0(R=>i(2),["left","prevent","stop"])),onWheel:o[5]||(o[5]=R=>p(2,R))},x0(Qe(q)[0][2]),33),Ie("div",v2,[Ie("div",{class:"arrow-up__container",onClick:o[6]||(o[6]=R0(R=>v("start",1),["prevent","stop"]))},d2),Ie("div",{class:"arrow-down__container",onClick:o[7]||(o[7]=R0(R=>v("start",-1),["prevent","stop"]))},b2)])]),p2]),Ie("div",x2,[Ie("div",S2,[Ie("span",{"trim-end":"",mm:"",onMousedown:o[8]||(o[8]=R0(R=>i(3),["left","prevent","stop"])),onWheel:o[9]||(o[9]=R=>p(3,R))},x0(Qe(q)[1][0]),33),M2,Ie("span",{"trim-end":"",ss:"",onMousedown:o[10]||(o[10]=R0(R=>i(4),["left","prevent","stop"])),onWheel:o[11]||(o[11]=R=>p(4,R))},x0(Qe(q)[1][1]),33),E2,Ie("span",{"trim-end":"",ms:"",onMousedown:o[12]||(o[12]=R0(R=>i(5),["left","prevent","stop"])),onWheel:o[13]||(o[13]=R=>p(5,R))},x0(Qe(q)[1][2]),33),Ie("div",A2,[Ie("div",{class:"arrow-up__container",onClick:o[14]||(o[14]=R0(R=>v("end",1),["prevent","stop"]))},R2),Ie("div",{class:"arrow-down__container",onClick:o[15]||(o[15]=R0(R=>v("end",-1),["prevent","stop"]))},w2)])]),B2])],512))}},C2=en(I2,[["__scopeId","data-v-b03ae491"]]);const O2={class:"options-selector font-12"},L2={class:"title__container"},N2={class:"column no-wrap items-stretch"},F2=["onClick"],H2={__name:"OptionsSelector",props:{open:Boolean,title:String,items:{type:Array,default:()=>[]}},emits:["update:open","item-click"],setup(e,{emit:t}){function n(a,s){t("item-click",a,s),t("update:open",!1)}return(a,s)=>{const i=R1("click-outside");return er((m0(),k0("div",O2,[er(Ie("div",L2,[Ie("span",null,x0(e.title),1)],512),[[fs,e.title]]),Ie("div",N2,[(m0(!0),k0(S0,null,Xl(e.items,(u,v)=>(m0(),k0("div",{class:"option__container",onClick:p=>n(u,v)},[$l(a.$slots,"default",{item:u},()=>[Ie("span",null,x0(u.title||u),1)],!0)],8,F2))),256))])])),[[fs,e.open],[i,()=>t("update:open",!1)]])}}},k2=en(H2,[["__scopeId","data-v-4e91ad30"]]);function Na(e,t,n){if(!("localStorage"in globalThis))return d0(e);let a=e,s=localStorage.getItem(t);s!==null&&typeof n=="function"&&(s=n(s)),s!==null&&(a=s);const i=d0(a);return $0(()=>i.value,()=>{localStorage.setItem(t,i.value)}),i}var Tr={};function V2(e){return new Int8Array(e)}function $1(e){return new Int16Array(e)}function Y1(e){return new Int32Array(e)}function q1(e){return new Float32Array(e)}function D2(e){return new Float64Array(e)}function U1(e){if(e.length==1)return q1(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(U1(e));return n}function K1(e){if(e.length==1)return Y1(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(K1(e));return n}function G1(e){if(e.length==1)return $1(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(G1(e));return n}function g1(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(g1(e));return n}var j1={};j1.fill=function(e,t,n,a){if(arguments.length==2)for(var s=0;s<e.length;s++)e[s]=arguments[1];else for(var s=t;s<n;s++)e[s]=a};var Rn={};Rn.arraycopy=function(e,t,n,a,s){for(var i=t+s;t<i;)n[a++]=e[t++]};Rn.out={};Rn.out.println=function(e){console.log(e)};Rn.out.printf=function(){console.log.apply(console,arguments)};var va={};va.SQRT2=1.4142135623730951;va.FAST_LOG10=function(e){return Math.log10(e)};va.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function ut(e){this.ordinal=e}ut.short_block_allowed=new ut(0);ut.short_block_coupled=new ut(1);ut.short_block_dispensed=new ut(2);ut.short_block_forced=new ut(3);var W1={};W1.MAX_VALUE=34028235e31;function V0(e){this.ordinal=e}V0.vbr_off=new V0(0);V0.vbr_mt=new V0(1);V0.vbr_rh=new V0(2);V0.vbr_abr=new V0(3);V0.vbr_mtrh=new V0(4);V0.vbr_default=V0.vbr_mtrh;var P2=function(e){},a0={System:Rn,VbrMode:V0,Float:W1,ShortBlock:ut,Util:va,Arrays:j1,new_array_n:g1,new_byte:V2,new_double:D2,new_float:q1,new_float_n:U1,new_int:Y1,new_int_n:K1,new_short:$1,new_short_n:G1,assert:P2},Fa,hs;function X2(){if(hs)return Fa;hs=1;var e=a0,t=e.System,n=e.Util,a=e.Arrays,s=e.new_float,i=A0();function u(){var v=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],p=12,q=36,d=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],o=d[i.SHORT_TYPE],R=d[i.SHORT_TYPE],Z=d[i.SHORT_TYPE],K=d[i.SHORT_TYPE],W=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function U(x,w,r){for(var M=10,O=w+238-14-286,H=-15;H<0;H++){var g,F,X;g=v[M+-10],F=x[O+-224]*g,X=x[w+224]*g,g=v[M+-9],F+=x[O+-160]*g,X+=x[w+160]*g,g=v[M+-8],F+=x[O+-96]*g,X+=x[w+96]*g,g=v[M+-7],F+=x[O+-32]*g,X+=x[w+32]*g,g=v[M+-6],F+=x[O+32]*g,X+=x[w+-32]*g,g=v[M+-5],F+=x[O+96]*g,X+=x[w+-96]*g,g=v[M+-4],F+=x[O+160]*g,X+=x[w+-160]*g,g=v[M+-3],F+=x[O+224]*g,X+=x[w+-224]*g,g=v[M+-2],F+=x[w+-256]*g,X-=x[O+256]*g,g=v[M+-1],F+=x[w+-192]*g,X-=x[O+192]*g,g=v[M+0],F+=x[w+-128]*g,X-=x[O+128]*g,g=v[M+1],F+=x[w+-64]*g,X-=x[O+64]*g,g=v[M+2],F+=x[w+0]*g,X-=x[O+0]*g,g=v[M+3],F+=x[w+64]*g,X-=x[O+-64]*g,g=v[M+4],F+=x[w+128]*g,X-=x[O+-128]*g,g=v[M+5],F+=x[w+192]*g,X-=x[O+-192]*g,F*=v[M+6],g=X-F,r[30+H*2]=X+F,r[31+H*2]=v[M+7]*g,M+=18,w--,O++}{var F,X,he,B;X=x[w+-16]*v[M+-10],F=x[w+-32]*v[M+-2],X+=(x[w+-48]-x[w+16])*v[M+-9],F+=x[w+-96]*v[M+-1],X+=(x[w+-80]+x[w+48])*v[M+-8],F+=x[w+-160]*v[M+0],X+=(x[w+-112]-x[w+80])*v[M+-7],F+=x[w+-224]*v[M+1],X+=(x[w+-144]+x[w+112])*v[M+-6],F-=x[w+32]*v[M+2],X+=(x[w+-176]-x[w+144])*v[M+-5],F-=x[w+96]*v[M+3],X+=(x[w+-208]+x[w+176])*v[M+-4],F-=x[w+160]*v[M+4],X+=(x[w+-240]-x[w+208])*v[M+-3],F-=x[w+224],he=F-X,B=F+X,X=r[14],F=r[15]-X,r[31]=B+X,r[30]=he+F,r[15]=he-F,r[14]=B-X}{var _;_=r[28]-r[0],r[0]+=r[28],r[28]=_*v[M+-2*18+7],_=r[29]-r[1],r[1]+=r[29],r[29]=_*v[M+-2*18+7],_=r[26]-r[2],r[2]+=r[26],r[26]=_*v[M+-4*18+7],_=r[27]-r[3],r[3]+=r[27],r[27]=_*v[M+-4*18+7],_=r[24]-r[4],r[4]+=r[24],r[24]=_*v[M+-6*18+7],_=r[25]-r[5],r[5]+=r[25],r[25]=_*v[M+-6*18+7],_=r[22]-r[6],r[6]+=r[22],r[22]=_*n.SQRT2,_=r[23]-r[7],r[7]+=r[23],r[23]=_*n.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],_=r[6],r[6]=r[31]-_,r[31]=r[31]+_,_=r[7],r[7]=r[30]-_,r[30]=r[30]+_,_=r[22],r[22]=r[15]-_,r[15]=r[15]+_,_=r[23],r[23]=r[14]-_,r[14]=r[14]+_,_=r[20]-r[8],r[8]+=r[20],r[20]=_*v[M+-10*18+7],_=r[21]-r[9],r[9]+=r[21],r[21]=_*v[M+-10*18+7],_=r[18]-r[10],r[10]+=r[18],r[18]=_*v[M+-12*18+7],_=r[19]-r[11],r[11]+=r[19],r[19]=_*v[M+-12*18+7],_=r[16]-r[12],r[12]+=r[16],r[16]=_*v[M+-14*18+7],_=r[17]-r[13],r[13]+=r[17],r[17]=_*v[M+-14*18+7],_=-r[20]+r[24],r[20]+=r[24],r[24]=_*v[M+-12*18+7],_=-r[21]+r[25],r[21]+=r[25],r[25]=_*v[M+-12*18+7],_=r[4]-r[8],r[4]+=r[8],r[8]=_*v[M+-12*18+7],_=r[5]-r[9],r[5]+=r[9],r[9]=_*v[M+-12*18+7],_=r[0]-r[12],r[0]+=r[12],r[12]=_*v[M+-4*18+7],_=r[1]-r[13],r[1]+=r[13],r[13]=_*v[M+-4*18+7],_=r[16]-r[28],r[16]+=r[28],r[28]=_*v[M+-4*18+7],_=-r[17]+r[29],r[17]+=r[29],r[29]=_*v[M+-4*18+7],_=n.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=_,_=n.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=_,_=n.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=_-r[18],_=n.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=_-r[19],_=r[2],r[19]-=r[3],r[3]-=_,r[2]=r[31]-_,r[31]+=_,_=r[3],r[11]-=r[19],r[18]-=_,r[3]=r[30]-_,r[30]+=_,_=r[18],r[27]-=r[11],r[19]-=_,r[18]=r[15]-_,r[15]+=_,_=r[19],r[10]-=_,r[19]=r[14]-_,r[14]+=_,_=r[10],r[11]-=_,r[10]=r[23]-_,r[23]+=_,_=r[11],r[26]-=_,r[11]=r[22]-_,r[22]+=_,_=r[26],r[27]-=_,r[26]=r[7]-_,r[7]+=_,_=r[27],r[27]=r[6]-_,r[6]+=_,_=n.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=_,_=n.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=_,_=n.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=_,_=n.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=_,_=-n.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=_-r[8],_=-n.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=_-r[9],_=-n.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=_-r[25],_=-n.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=_-r[24],_=r[24]-r[16],r[24]=_,_=r[20]-_,r[20]=_,_=r[28]-_,r[28]=_,_=r[25]-r[17],r[25]=_,_=r[21]-_,r[21]=_,_=r[29]-_,r[29]=_,_=r[17]-r[1],r[17]=_,_=r[9]-_,r[9]=_,_=r[25]-_,r[25]=_,_=r[5]-_,r[5]=_,_=r[21]-_,r[21]=_,_=r[13]-_,r[13]=_,_=r[29]-_,r[29]=_,_=r[1]-r[0],r[1]=_,_=r[16]-_,r[16]=_,_=r[17]-_,r[17]=_,_=r[8]-_,r[8]=_,_=r[9]-_,r[9]=_,_=r[24]-_,r[24]=_,_=r[25]-_,r[25]=_,_=r[4]-_,r[4]=_,_=r[5]-_,r[5]=_,_=r[20]-_,r[20]=_,_=r[21]-_,r[21]=_,_=r[12]-_,r[12]=_,_=r[13]-_,r[13]=_,_=r[28]-_,r[28]=_,_=r[29]-_,r[29]=_,_=r[0],r[0]+=r[31],r[31]-=_,_=r[1],r[1]+=r[30],r[30]-=_,_=r[16],r[16]+=r[15],r[15]-=_,_=r[17],r[17]+=r[14],r[14]-=_,_=r[8],r[8]+=r[23],r[23]-=_,_=r[9],r[9]+=r[22],r[22]-=_,_=r[24],r[24]+=r[7],r[7]-=_,_=r[25],r[25]+=r[6],r[6]-=_,_=r[4],r[4]+=r[27],r[27]-=_,_=r[5],r[5]+=r[26],r[26]-=_,_=r[20],r[20]+=r[11],r[11]-=_,_=r[21],r[21]+=r[10],r[10]-=_,_=r[12],r[12]+=r[19],r[19]-=_,_=r[13],r[13]+=r[18],r[18]-=_,_=r[28],r[28]+=r[3],r[3]-=_,_=r[29],r[29]+=r[2],r[2]-=_}}function A(x,w){for(var r=0;r<3;r++){var M,O,H,g,F,X;g=x[w+2*3]*d[i.SHORT_TYPE][0]-x[w+5*3],M=x[w+0*3]*d[i.SHORT_TYPE][2]-x[w+3*3],O=g+M,H=g-M,g=x[w+5*3]*d[i.SHORT_TYPE][0]+x[w+2*3],M=x[w+3*3]*d[i.SHORT_TYPE][2]+x[w+0*3],F=g+M,X=-g+M,M=(x[w+1*3]*d[i.SHORT_TYPE][1]-x[w+4*3])*2069978111953089e-26,g=(x[w+4*3]*d[i.SHORT_TYPE][1]+x[w+1*3])*2069978111953089e-26,x[w+3*0]=O*190752519173728e-25+M,x[w+3*5]=-F*190752519173728e-25+g,H=H*.8660254037844387*1907525191737281e-26,F=F*.5*1907525191737281e-26+g,x[w+3*1]=H-F,x[w+3*2]=H+F,O=O*.5*1907525191737281e-26-M,X=X*.8660254037844387*1907525191737281e-26,x[w+3*3]=O+X,x[w+3*4]=O-X,w++}}function E(x,w,r){var M,O;{var H,g,F,X,he,B,_,L;H=r[17]-r[9],F=r[15]-r[11],X=r[14]-r[12],he=r[0]+r[8],B=r[1]+r[7],_=r[2]+r[6],L=r[3]+r[5],x[w+17]=he+_-L-(B-r[4]),O=(he+_-L)*R[12+7]+(B-r[4]),M=(H-F-X)*R[12+6],x[w+5]=M+O,x[w+6]=M-O,g=(r[16]-r[10])*R[12+6],B=B*R[12+7]+r[4],M=H*R[12+0]+g+F*R[12+1]+X*R[12+2],O=-he*R[12+4]+B-_*R[12+5]+L*R[12+3],x[w+1]=M+O,x[w+2]=M-O,M=H*R[12+1]-g-F*R[12+2]+X*R[12+0],O=-he*R[12+5]+B-_*R[12+3]+L*R[12+4],x[w+9]=M+O,x[w+10]=M-O,M=H*R[12+2]-g+F*R[12+0]-X*R[12+1],O=he*R[12+3]-B+_*R[12+4]-L*R[12+5],x[w+13]=M+O,x[w+14]=M-O}{var $,G,V,re,D,S,c,f;$=r[8]-r[0],V=r[6]-r[2],re=r[5]-r[3],D=r[17]+r[9],S=r[16]+r[10],c=r[15]+r[11],f=r[14]+r[12],x[w+0]=D+c+f+(S+r[13]),M=(D+c+f)*R[12+7]-(S+r[13]),O=($-V+re)*R[12+6],x[w+11]=M+O,x[w+12]=M-O,G=(r[7]-r[1])*R[12+6],S=r[13]-S*R[12+7],M=D*R[12+3]-S+c*R[12+4]+f*R[12+5],O=$*R[12+2]+G+V*R[12+0]+re*R[12+1],x[w+3]=M+O,x[w+4]=M-O,M=-D*R[12+5]+S-c*R[12+3]-f*R[12+4],O=$*R[12+1]+G-V*R[12+2]-re*R[12+0],x[w+7]=M+O,x[w+8]=M-O,M=-D*R[12+4]+S-c*R[12+5]-f*R[12+3],O=$*R[12+0]-G+V*R[12+1]-re*R[12+2],x[w+15]=M+O,x[w+16]=M-O}}this.mdct_sub48=function(x,w,r){for(var M=w,O=286,H=0;H<x.channels_out;H++){for(var g=0;g<x.mode_gr;g++){for(var F,X=x.l3_side.tt[g][H],he=X.xr,B=0,_=x.sb_sample[H][1-g],L=0,$=0;$<18/2;$++)for(U(M,O,_[L]),U(M,O+32,_[L+1]),L+=2,O+=64,F=1;F<32;F+=2)_[L-1][F]*=-1;for(F=0;F<32;F++,B+=18){var G=X.block_type,V=x.sb_sample[H][g],re=x.sb_sample[H][1-g];if(X.mixed_block_flag!=0&&F<2&&(G=0),x.amp_filter[F]<1e-12)a.fill(he,B+0,B+18,0);else{if(x.amp_filter[F]<1)for(var $=0;$<18;$++)re[$][W[F]]*=x.amp_filter[F];if(G==i.SHORT_TYPE){for(var $=-p/4;$<0;$++){var D=d[i.SHORT_TYPE][$+3];he[B+$*3+9]=V[9+$][W[F]]*D-V[8-$][W[F]],he[B+$*3+18]=V[14-$][W[F]]*D+V[15+$][W[F]],he[B+$*3+10]=V[15+$][W[F]]*D-V[14-$][W[F]],he[B+$*3+19]=re[2-$][W[F]]*D+re[3+$][W[F]],he[B+$*3+11]=re[3+$][W[F]]*D-re[2-$][W[F]],he[B+$*3+20]=re[8-$][W[F]]*D+re[9+$][W[F]]}A(he,B)}else{for(var S=s(18),$=-q/4;$<0;$++){var c,f;c=d[G][$+27]*re[$+9][W[F]]+d[G][$+36]*re[8-$][W[F]],f=d[G][$+9]*V[$+9][W[F]]-d[G][$+18]*V[8-$][W[F]],S[$+9]=c-f*o[3+$+9],S[$+18]=c*o[3+$+9]+f}E(he,B,S)}}if(G!=i.SHORT_TYPE&&F!=0)for(var $=7;$>=0;--$){var h,b;h=he[B+$]*Z[20+$]+he[B+-1-$]*K[28+$],b=he[B+$]*K[28+$]-he[B+-1-$]*Z[20+$],he[B+-1-$]=h,he[B+$]=b}}}if(M=r,O=286,x.mode_gr==1)for(var j=0;j<18;j++)t.arraycopy(x.sb_sample[H][1][j],0,x.sb_sample[H][0][j],0,32)}}}return Fa=u,Fa}var Ha,ds;function z1(){if(ds)return Ha;ds=1;var e=A0(),t=a0,n=t.System,a=t.new_float,s=t.new_float_n;function i(){this.l=a(e.SBMAX_l),this.s=s([e.SBMAX_s,3]);var u=this;this.assign=function(v){n.arraycopy(v.l,0,u.l,0,e.SBMAX_l);for(var p=0;p<e.SBMAX_s;p++)for(var q=0;q<3;q++)u.s[p][q]=v.s[p][q]}}return Ha=i,Ha}var ka,ms;function $2(){if(ms)return ka;ms=1;var e=z1();function t(){this.thm=new e,this.en=new e}return ka=t,ka}function Q0(e){var t=e;this.ordinal=function(){return t}}Q0.STEREO=new Q0(0);Q0.JOINT_STEREO=new Q0(1);Q0.DUAL_CHANNEL=new Q0(2);Q0.MONO=new Q0(3);Q0.NOT_SET=new Q0(4);var Tn=Q0,Va,bs;function A0(){if(bs)return Va;bs=1;var e=a0,t=e.System,n=e.VbrMode,a=e.new_array_n,s=e.new_float,i=e.new_float_n,u=e.new_int,v=e.assert;p.ENCDELAY=576,p.POSTDELAY=1152,p.MDCTDELAY=48,p.FFTOFFSET=224+p.MDCTDELAY,p.DECDELAY=528,p.SBLIMIT=32,p.CBANDS=64,p.SBPSY_l=21,p.SBPSY_s=12,p.SBMAX_l=22,p.SBMAX_s=13,p.PSFB21=6,p.PSFB12=6,p.BLKSIZE=1024,p.HBLKSIZE=p.BLKSIZE/2+1,p.BLKSIZE_s=256,p.HBLKSIZE_s=p.BLKSIZE_s/2+1,p.NORM_TYPE=0,p.START_TYPE=1,p.SHORT_TYPE=2,p.STOP_TYPE=3,p.MPG_MD_LR_LR=0,p.MPG_MD_LR_I=1,p.MPG_MD_MS_LR=2,p.MPG_MD_MS_I=3,p.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function p(){var q=X2(),d=$2(),o=Tn,R=p.FFTOFFSET,Z=p.MPG_MD_MS_LR,K=null;this.psy=null;var W=null,U=null,A=null;this.setModules=function(M,O,H,g){K=M,this.psy=O,W=O,U=g,A=H};var E=new q;function x(M){var O,H;if(M.ATH.useAdjust==0){M.ATH.adjust=1;return}if(H=M.loudness_sq[0][0],O=M.loudness_sq[1][0],M.channels_out==2?(H+=M.loudness_sq[0][1],O+=M.loudness_sq[1][1]):(H+=H,O+=O),M.mode_gr==2&&(H=Math.max(H,O)),H*=.5,H*=M.ATH.aaSensitivityP,H>.03125)M.ATH.adjust>=1?M.ATH.adjust=1:M.ATH.adjust<M.ATH.adjustLimit&&(M.ATH.adjust=M.ATH.adjustLimit),M.ATH.adjustLimit=1;else{var g=31.98*H+625e-6;M.ATH.adjust>=g?(M.ATH.adjust*=g*.075+.925,M.ATH.adjust<g&&(M.ATH.adjust=g)):M.ATH.adjustLimit>=g?M.ATH.adjust=g:M.ATH.adjust<M.ATH.adjustLimit&&(M.ATH.adjust=M.ATH.adjustLimit),M.ATH.adjustLimit=g}}function w(M){var O,H;for(v(0<=M.bitrate_index&&M.bitrate_index<16),v(0<=M.mode_ext&&M.mode_ext<4),M.bitrate_stereoMode_Hist[M.bitrate_index][4]++,M.bitrate_stereoMode_Hist[15][4]++,M.channels_out==2&&(M.bitrate_stereoMode_Hist[M.bitrate_index][M.mode_ext]++,M.bitrate_stereoMode_Hist[15][M.mode_ext]++),O=0;O<M.mode_gr;++O)for(H=0;H<M.channels_out;++H){var g=M.l3_side.tt[O][H].block_type|0;M.l3_side.tt[O][H].mixed_block_flag!=0&&(g=4),M.bitrate_blockType_Hist[M.bitrate_index][g]++,M.bitrate_blockType_Hist[M.bitrate_index][5]++,M.bitrate_blockType_Hist[15][g]++,M.bitrate_blockType_Hist[15][5]++}}function r(M,O){var H=M.internal_flags,g,F;if(H.lame_encode_frame_init==0){var X,he,B=s(2014),_=s(286+1152+576);for(H.lame_encode_frame_init=1,X=0,he=0;X<286+576*(1+H.mode_gr);++X)X<576*H.mode_gr?(B[X]=0,H.channels_out==2&&(_[X]=0)):(B[X]=O[0][he],H.channels_out==2&&(_[X]=O[1][he]),++he);for(F=0;F<H.mode_gr;F++)for(g=0;g<H.channels_out;g++)H.l3_side.tt[F][g].block_type=p.SHORT_TYPE;E.mdct_sub48(H,B,_),v(576>=p.FFTOFFSET),v(H.mf_size>=p.BLKSIZE+M.framesize-p.FFTOFFSET),v(H.mf_size>=512+M.framesize-32)}}this.lame_encode_mp3_frame=function(M,O,H,g,F,X){var he,B=a([2,2]);B[0][0]=new d,B[0][1]=new d,B[1][0]=new d,B[1][1]=new d;var _=a([2,2]);_[0][0]=new d,_[0][1]=new d,_[1][0]=new d,_[1][1]=new d;var L,$=[null,null],G=M.internal_flags,V=i([2,4]),re=[.5,.5],D=[[0,0],[0,0]],S=[[0,0],[0,0]],c,f,h;if($[0]=O,$[1]=H,G.lame_encode_frame_init==0&&r(M,$),G.padding=0,(G.slot_lag-=G.frac_SpF)<0&&(G.slot_lag+=M.out_samplerate,G.padding=1),G.psymodel!=0){var b,j=[null,null],Q=0,k=u(2);for(h=0;h<G.mode_gr;h++){for(f=0;f<G.channels_out;f++)j[f]=$[f],Q=576+h*576-p.FFTOFFSET;if(M.VBR==n.vbr_mtrh||M.VBR==n.vbr_mt?b=W.L3psycho_anal_vbr(M,j,Q,h,B,_,D[h],S[h],V[h],k):b=W.L3psycho_anal_ns(M,j,Q,h,B,_,D[h],S[h],V[h],k),b!=0)return-4;for(M.mode==o.JOINT_STEREO&&(re[h]=V[h][2]+V[h][3],re[h]>0&&(re[h]=V[h][3]/re[h])),f=0;f<G.channels_out;f++){var z=G.l3_side.tt[h][f];z.block_type=k[f],z.mixed_block_flag=0}}}else for(h=0;h<G.mode_gr;h++)for(f=0;f<G.channels_out;f++)G.l3_side.tt[h][f].block_type=p.NORM_TYPE,G.l3_side.tt[h][f].mixed_block_flag=0,S[h][f]=D[h][f]=700;if(x(G),E.mdct_sub48(G,$[0],$[1]),G.mode_ext=p.MPG_MD_LR_LR,M.force_ms)G.mode_ext=p.MPG_MD_MS_LR;else if(M.mode==o.JOINT_STEREO){var ve=0,pe=0;for(h=0;h<G.mode_gr;h++)for(f=0;f<G.channels_out;f++)ve+=S[h][f],pe+=D[h][f];if(ve<=1*pe){var I=G.l3_side.tt[0],P=G.l3_side.tt[G.mode_gr-1];I[0].block_type==I[1].block_type&&P[0].block_type==P[1].block_type&&(G.mode_ext=p.MPG_MD_MS_LR)}}if(G.mode_ext==Z?(L=_,c=S):(L=B,c=D),M.analysis&&G.pinfo!=null)for(h=0;h<G.mode_gr;h++)for(f=0;f<G.channels_out;f++)G.pinfo.ms_ratio[h]=G.ms_ratio[h],G.pinfo.ms_ener_ratio[h]=re[h],G.pinfo.blocktype[h][f]=G.l3_side.tt[h][f].block_type,G.pinfo.pe[h][f]=c[h][f],t.arraycopy(G.l3_side.tt[h][f].xr,0,G.pinfo.xr[h][f],0,576),G.mode_ext==Z&&(G.pinfo.ers[h][f]=G.pinfo.ers[h][f+2],t.arraycopy(G.pinfo.energy[h][f+2],0,G.pinfo.energy[h][f],0,G.pinfo.energy[h][f].length));if(M.VBR==n.vbr_off||M.VBR==n.vbr_abr){var J,ae;for(J=0;J<18;J++)G.nsPsy.pefirbuf[J]=G.nsPsy.pefirbuf[J+1];for(ae=0,h=0;h<G.mode_gr;h++)for(f=0;f<G.channels_out;f++)ae+=c[h][f];for(G.nsPsy.pefirbuf[18]=ae,ae=G.nsPsy.pefirbuf[9],J=0;J<9;J++)ae+=(G.nsPsy.pefirbuf[J]+G.nsPsy.pefirbuf[18-J])*p.fircoef[J];for(ae=670*5*G.mode_gr*G.channels_out/ae,h=0;h<G.mode_gr;h++)for(f=0;f<G.channels_out;f++)c[h][f]*=ae}if(G.iteration_loop.iteration_loop(M,c,re,L),K.format_bitstream(M),he=K.copy_buffer(G,g,F,X,1),M.bWriteVbrTag&&U.addVbrFrame(M),M.analysis&&G.pinfo!=null){for(f=0;f<G.channels_out;f++){var le;for(le=0;le<R;le++)G.pinfo.pcmdata[f][le]=G.pinfo.pcmdata[f][le+M.framesize];for(le=R;le<1600;le++)G.pinfo.pcmdata[f][le]=$[f][le-R]}A.set_frame_pinfo(M,L)}return w(G),he}}return Va=p,Va}var Z1=a0,ps=Z1.Util,xs=Z1.new_float,o0=A0();function Y2(){var e=xs(o0.BLKSIZE),t=xs(o0.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function a(i,u,v){var p=0,q,d,o;v<<=1;var R=u+v;q=4;do{var Z,K,W,U,A,E,x;x=q>>1,U=q,A=q<<1,E=A+U,q=A<<1,d=u,o=d+x;do{var w,r,M,O;r=i[d+0]-i[d+U],w=i[d+0]+i[d+U],O=i[d+A]-i[d+E],M=i[d+A]+i[d+E],i[d+A]=w-M,i[d+0]=w+M,i[d+E]=r-O,i[d+U]=r+O,r=i[o+0]-i[o+U],w=i[o+0]+i[o+U],O=ps.SQRT2*i[o+E],M=ps.SQRT2*i[o+A],i[o+A]=w-M,i[o+0]=w+M,i[o+E]=r-O,i[o+U]=r+O,o+=q,d+=q}while(d<R);for(K=n[p+0],Z=n[p+1],W=1;W<x;W++){var H,g;H=1-2*Z*Z,g=2*Z*K,d=u+W,o=u+U-W;do{var F,X,he,w,r,B,M,_,O,L;X=g*i[d+U]-H*i[o+U],F=H*i[d+U]+g*i[o+U],r=i[d+0]-F,w=i[d+0]+F,B=i[o+0]-X,he=i[o+0]+X,X=g*i[d+E]-H*i[o+E],F=H*i[d+E]+g*i[o+E],O=i[d+A]-F,M=i[d+A]+F,L=i[o+A]-X,_=i[o+A]+X,X=Z*M-K*L,F=K*M+Z*L,i[d+A]=w-F,i[d+0]=w+F,i[o+E]=B-X,i[o+U]=B+X,X=K*_-Z*O,F=Z*_+K*O,i[o+A]=he-F,i[o+0]=he+F,i[d+E]=r-X,i[d+U]=r+X,o+=q,d+=q}while(d<R);H=K,K=H*n[p+0]-Z*n[p+1],Z=H*n[p+1]+Z*n[p+0]}p+=2}while(q<v)}var s=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(i,u,v,p,q){for(var d=0;d<3;d++){var o=o0.BLKSIZE_s/2,R=65535&576/3*(d+1),Z=o0.BLKSIZE_s/8-1;do{var K,W,U,A,E,x=s[Z<<2]&255;K=t[x]*p[v][q+x+R],E=t[127-x]*p[v][q+x+R+128],W=K-E,K=K+E,U=t[x+64]*p[v][q+x+R+64],E=t[63-x]*p[v][q+x+R+192],A=U-E,U=U+E,o-=4,u[d][o+0]=K+U,u[d][o+2]=K-U,u[d][o+1]=W+A,u[d][o+3]=W-A,K=t[x+1]*p[v][q+x+R+1],E=t[126-x]*p[v][q+x+R+129],W=K-E,K=K+E,U=t[x+65]*p[v][q+x+R+65],E=t[62-x]*p[v][q+x+R+193],A=U-E,U=U+E,u[d][o+o0.BLKSIZE_s/2+0]=K+U,u[d][o+o0.BLKSIZE_s/2+2]=K-U,u[d][o+o0.BLKSIZE_s/2+1]=W+A,u[d][o+o0.BLKSIZE_s/2+3]=W-A}while(--Z>=0);a(u[d],o,o0.BLKSIZE_s/2)}},this.fft_long=function(i,u,v,p,q){var d=o0.BLKSIZE/8-1,o=o0.BLKSIZE/2;do{var R,Z,K,W,U,A=s[d]&255;R=e[A]*p[v][q+A],U=e[A+512]*p[v][q+A+512],Z=R-U,R=R+U,K=e[A+256]*p[v][q+A+256],U=e[A+768]*p[v][q+A+768],W=K-U,K=K+U,o-=4,u[o+0]=R+K,u[o+2]=R-K,u[o+1]=Z+W,u[o+3]=Z-W,R=e[A+1]*p[v][q+A+1],U=e[A+513]*p[v][q+A+513],Z=R-U,R=R+U,K=e[A+257]*p[v][q+A+257],U=e[A+769]*p[v][q+A+769],W=K-U,K=K+U,u[o+o0.BLKSIZE/2+0]=R+K,u[o+o0.BLKSIZE/2+2]=R-K,u[o+o0.BLKSIZE/2+1]=Z+W,u[o+o0.BLKSIZE/2+3]=Z-W}while(--d>=0);a(u,o,o0.BLKSIZE/2)},this.init_fft=function(i){for(var u=0;u<o0.BLKSIZE;u++)e[u]=.42-.5*Math.cos(2*Math.PI*(u+.5)/o0.BLKSIZE)+.08*Math.cos(4*Math.PI*(u+.5)/o0.BLKSIZE);for(var u=0;u<o0.BLKSIZE_s/2;u++)t[u]=.5*(1-Math.cos(2*Math.PI*(u+.5)/o0.BLKSIZE_s))}}var q2=Y2,ft=a0,$t=ft.VbrMode,Ss=ft.Float,Yt=ft.ShortBlock,B0=ft.Util,U2=ft.Arrays,u0=ft.new_float,P0=ft.new_float_n,Tt=ft.new_int,Pe=ft.assert,K2=q2,fe=A0();function G2(){var e=Tn,t=new K2,n=2.302585092994046,a=2,s=16,i=2,u=16,v=.34,p=1/(14752*14752)/(fe.BLKSIZE/2),q=.01,d=.8,o=.6,R=.3,Z=3.5,K=21,W=.2302585093;function U(y){return y}function A(y,T){for(var N=0,Y=0;Y<fe.BLKSIZE/2;++Y)N+=y[Y]*T.ATH.eql_w[Y];return N*=p,N}function E(y,T,N,Y,ee,C,te,ie,ne,ue,oe){var ce=y.internal_flags;if(ne<2)t.fft_long(ce,Y[ee],ne,ue,oe),t.fft_short(ce,C[te],ne,ue,oe);else if(ne==2){for(var Be=fe.BLKSIZE-1;Be>=0;--Be){var ke=Y[ee+0][Be],Ee=Y[ee+1][Be];Y[ee+0][Be]=(ke+Ee)*B0.SQRT2*.5,Y[ee+1][Be]=(ke-Ee)*B0.SQRT2*.5}for(var He=2;He>=0;--He)for(var Be=fe.BLKSIZE_s-1;Be>=0;--Be){var ke=C[te+0][He][Be],Ee=C[te+1][He][Be];C[te+0][He][Be]=(ke+Ee)*B0.SQRT2*.5,C[te+1][He][Be]=(ke-Ee)*B0.SQRT2*.5}}T[0]=Y[ee+0][0],T[0]*=T[0];for(var Be=fe.BLKSIZE/2-1;Be>=0;--Be){var _e=Y[ee+0][fe.BLKSIZE/2-Be],Le=Y[ee+0][fe.BLKSIZE/2+Be];T[fe.BLKSIZE/2-Be]=(_e*_e+Le*Le)*.5}for(var He=2;He>=0;--He){N[He][0]=C[te+0][He][0],N[He][0]*=N[He][0];for(var Be=fe.BLKSIZE_s/2-1;Be>=0;--Be){var _e=C[te+0][He][fe.BLKSIZE_s/2-Be],Le=C[te+0][He][fe.BLKSIZE_s/2+Be];N[He][fe.BLKSIZE_s/2-Be]=(_e*_e+Le*Le)*.5}}{for(var $e=0,Be=11;Be<fe.HBLKSIZE;Be++)$e+=T[Be];ce.tot_ener[ne]=$e}if(y.analysis){for(var Be=0;Be<fe.HBLKSIZE;Be++)ce.pinfo.energy[ie][ne][Be]=ce.pinfo.energy_save[ne][Be],ce.pinfo.energy_save[ne][Be]=T[Be];ce.pinfo.pe[ie][ne]=ce.pe[ne]}y.athaa_loudapprox==2&&ne<2&&(ce.loudness_sq[ie][ne]=ce.loudness_sq_save[ne],ce.loudness_sq_save[ne]=A(T,ce))}var x=8,w=23,r=15,M,O,H,g=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function F(){M=Math.pow(10,(x+1)/16),O=Math.pow(10,(w+1)/16),H=Math.pow(10,r/10)}var X=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],he=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],B=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function _(y,T,N,Y,ee,C){var te;if(T>y)if(T<y*O)te=T/y;else return y+T;else{if(y>=T*O)return y+T;te=y/T}if(y+=T,Y+3<=3+3){if(te>=M)return y;var ie=0|B0.FAST_LOG10_X(te,16);return y*he[ie]}var ie=0|B0.FAST_LOG10_X(te,16);if(C!=0?T=ee.ATH.cb_s[N]*ee.ATH.adjust:T=ee.ATH.cb_l[N]*ee.ATH.adjust,y<H*T){if(y>T){var ne,ue;return ne=1,ie<=13&&(ne=B[ie]),ue=B0.FAST_LOG10_X(y/T,10/15),y*((X[ie]-ne)*ue+ne)}return ie>13?y:y*B[ie]}return y*X[ie]}var L=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function $(y,T,N){var Y;if(y<0&&(y=0),T<0&&(T=0),y<=0)return T;if(T<=0)return y;if(T>y?Y=T/y:Y=y/T,-2<=N&&N<=2){if(Y>=M)return y+T;var ee=0|B0.FAST_LOG10_X(Y,16);return(y+T)*L[ee]}return Y<O?y+T:(y<T&&(y=T),y)}function G(y,T){var N=y.internal_flags;if(N.channels_out>1){for(var Y=0;Y<fe.SBMAX_l;Y++){var ee=N.thm[0].l[Y],C=N.thm[1].l[Y];N.thm[0].l[Y]+=C*T,N.thm[1].l[Y]+=ee*T}for(var Y=0;Y<fe.SBMAX_s;Y++)for(var te=0;te<3;te++){var ee=N.thm[0].s[Y][te],C=N.thm[1].s[Y][te];N.thm[0].s[Y][te]+=C*T,N.thm[1].s[Y][te]+=ee*T}}}function V(y){for(var T=0;T<fe.SBMAX_l;T++)if(!(y.thm[0].l[T]>1.58*y.thm[1].l[T]||y.thm[1].l[T]>1.58*y.thm[0].l[T])){var N=y.mld_l[T]*y.en[3].l[T],Y=Math.max(y.thm[2].l[T],Math.min(y.thm[3].l[T],N));N=y.mld_l[T]*y.en[2].l[T];var ee=Math.max(y.thm[3].l[T],Math.min(y.thm[2].l[T],N));y.thm[2].l[T]=Y,y.thm[3].l[T]=ee}for(var T=0;T<fe.SBMAX_s;T++)for(var C=0;C<3;C++)if(!(y.thm[0].s[T][C]>1.58*y.thm[1].s[T][C]||y.thm[1].s[T][C]>1.58*y.thm[0].s[T][C])){var N=y.mld_s[T]*y.en[3].s[T][C],Y=Math.max(y.thm[2].s[T][C],Math.min(y.thm[3].s[T][C],N));N=y.mld_s[T]*y.en[2].s[T][C];var ee=Math.max(y.thm[3].s[T][C],Math.min(y.thm[2].s[T][C],N));y.thm[2].s[T][C]=Y,y.thm[3].s[T][C]=ee}}function re(y,T,N){var Y=T,ee=Math.pow(10,N);T*=2,Y*=2;for(var C=0;C<fe.SBMAX_l;C++){var te,ie,ne,ue;if(ue=y.ATH.cb_l[y.bm_l[C]]*ee,te=Math.min(Math.max(y.thm[0].l[C],ue),Math.max(y.thm[1].l[C],ue)),ie=Math.max(y.thm[2].l[C],ue),ne=Math.max(y.thm[3].l[C],ue),te*T<ie+ne){var oe=te*Y/(ie+ne);ie*=oe,ne*=oe}y.thm[2].l[C]=Math.min(ie,y.thm[2].l[C]),y.thm[3].l[C]=Math.min(ne,y.thm[3].l[C])}ee*=fe.BLKSIZE_s/fe.BLKSIZE;for(var C=0;C<fe.SBMAX_s;C++)for(var ce=0;ce<3;ce++){var te,ie,ne,ue;if(ue=y.ATH.cb_s[y.bm_s[C]]*ee,te=Math.min(Math.max(y.thm[0].s[C][ce],ue),Math.max(y.thm[1].s[C][ce],ue)),ie=Math.max(y.thm[2].s[C][ce],ue),ne=Math.max(y.thm[3].s[C][ce],ue),te*T<ie+ne){var oe=te*T/(ie+ne);ie*=oe,ne*=oe}y.thm[2].s[C][ce]=Math.min(y.thm[2].s[C][ce],ie),y.thm[3].s[C][ce]=Math.min(y.thm[3].s[C][ce],ne)}}function D(y,T,N,Y,ee){var C,te,ie=0,ne=0;for(C=te=0;C<fe.SBMAX_s;++te,++C){for(var ue=y.bo_s[C],oe=y.npart_s,ce=ue<oe?ue:oe;te<ce;)Pe(T[te]>=0),Pe(N[te]>=0),ie+=T[te],ne+=N[te],te++;if(y.en[Y].s[C][ee]=ie,y.thm[Y].s[C][ee]=ne,te>=oe){++C;break}Pe(T[te]>=0),Pe(N[te]>=0);{var Be=y.PSY.bo_s_weight[C],ke=1-Be;ie=Be*T[te],ne=Be*N[te],y.en[Y].s[C][ee]+=ie,y.thm[Y].s[C][ee]+=ne,ie=ke*T[te],ne=ke*N[te]}}for(;C<fe.SBMAX_s;++C)y.en[Y].s[C][ee]=0,y.thm[Y].s[C][ee]=0}function S(y,T,N,Y){var ee,C,te=0,ie=0;for(ee=C=0;ee<fe.SBMAX_l;++C,++ee){for(var ne=y.bo_l[ee],ue=y.npart_l,oe=ne<ue?ne:ue;C<oe;)Pe(T[C]>=0),Pe(N[C]>=0),te+=T[C],ie+=N[C],C++;if(y.en[Y].l[ee]=te,y.thm[Y].l[ee]=ie,C>=ue){++ee;break}Pe(T[C]>=0),Pe(N[C]>=0);{var ce=y.PSY.bo_l_weight[ee],Be=1-ce;te=ce*T[C],ie=ce*N[C],y.en[Y].l[ee]+=te,y.thm[Y].l[ee]+=ie,te=Be*T[C],ie=Be*N[C]}}for(;ee<fe.SBMAX_l;++ee)y.en[Y].l[ee]=0,y.thm[Y].l[ee]=0}function c(y,T,N,Y,ee,C){var te=y.internal_flags,ie,ne;for(ne=ie=0;ne<te.npart_s;++ne){for(var ue=0,oe=te.numlines_s[ne],ce=0;ce<oe;++ce,++ie){var Be=T[C][ie];ue+=Be}N[ne]=ue}for(Pe(ne==te.npart_s),ie=ne=0;ne<te.npart_s;ne++){var ke=te.s3ind_s[ne][0],Ee=te.s3_ss[ie++]*N[ke];for(++ke;ke<=te.s3ind_s[ne][1];)Ee+=te.s3_ss[ie]*N[ke],++ie,++ke;{var He=i*te.nb_s1[ee][ne];Y[ne]=Math.min(Ee,He)}if(te.blocktype_old[ee&1]==fe.SHORT_TYPE){var He=u*te.nb_s2[ee][ne],_e=Y[ne];Y[ne]=Math.min(He,_e)}te.nb_s2[ee][ne]=te.nb_s1[ee][ne],te.nb_s1[ee][ne]=Ee,Pe(Y[ne]>=0)}for(;ne<=fe.CBANDS;++ne)N[ne]=0,Y[ne]=0}function f(y,T,N,Y){var ee=y.internal_flags;y.short_blocks==Yt.short_block_coupled&&!(T[0]!=0&&T[1]!=0)&&(T[0]=T[1]=0);for(var C=0;C<ee.channels_out;C++)Y[C]=fe.NORM_TYPE,y.short_blocks==Yt.short_block_dispensed&&(T[C]=1),y.short_blocks==Yt.short_block_forced&&(T[C]=0),T[C]!=0?(Pe(ee.blocktype_old[C]!=fe.START_TYPE),ee.blocktype_old[C]==fe.SHORT_TYPE&&(Y[C]=fe.STOP_TYPE)):(Y[C]=fe.SHORT_TYPE,ee.blocktype_old[C]==fe.NORM_TYPE&&(ee.blocktype_old[C]=fe.START_TYPE),ee.blocktype_old[C]==fe.STOP_TYPE&&(ee.blocktype_old[C]=fe.SHORT_TYPE)),N[C]=ee.blocktype_old[C],ee.blocktype_old[C]=Y[C]}function h(y,T,N){return N>=1?y:N<=0?T:T>0?Math.pow(y/T,N)*T:0}var b=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function j(y,T){for(var N=309.07,Y=0;Y<fe.SBMAX_s-1;Y++)for(var ee=0;ee<3;ee++){var C=y.thm.s[Y][ee];if(C>0){var te=C*T,ie=y.en.s[Y][ee];ie>te&&(ie>te*1e10?N+=b[Y]*(10*n):N+=b[Y]*B0.FAST_LOG10(ie/te))}}return N}var Q=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function k(y,T){for(var N=281.0575,Y=0;Y<fe.SBMAX_l-1;Y++){var ee=y.thm.l[Y];if(ee>0){var C=ee*T,te=y.en.l[Y];te>C&&(te>C*1e10?N+=Q[Y]*(10*n):N+=Q[Y]*B0.FAST_LOG10(te/C))}}return N}function z(y,T,N,Y,ee){var C,te;for(C=te=0;C<y.npart_l;++C){var ie=0,ne=0,ue;for(ue=0;ue<y.numlines_l[C];++ue,++te){var oe=T[te];ie+=oe,ne<oe&&(ne=oe)}N[C]=ie,Y[C]=ne,ee[C]=ie*y.rnumlines_l[C],Pe(y.rnumlines_l[C]>=0),Pe(N[C]>=0),Pe(Y[C]>=0),Pe(ee[C]>=0)}}function ve(y,T,N,Y){var ee=g.length-1,C=0,te=N[C]+N[C+1];if(te>0){var ie=T[C];ie<T[C+1]&&(ie=T[C+1]),Pe(y.numlines_l[C]+y.numlines_l[C+1]-1>0),te=20*(ie*2-te)/(te*(y.numlines_l[C]+y.numlines_l[C+1]-1));var ne=0|te;ne>ee&&(ne=ee),Y[C]=ne}else Y[C]=0;for(C=1;C<y.npart_l-1;C++)if(te=N[C-1]+N[C]+N[C+1],te>0){var ie=T[C-1];ie<T[C]&&(ie=T[C]),ie<T[C+1]&&(ie=T[C+1]),Pe(y.numlines_l[C-1]+y.numlines_l[C]+y.numlines_l[C+1]-1>0),te=20*(ie*3-te)/(te*(y.numlines_l[C-1]+y.numlines_l[C]+y.numlines_l[C+1]-1));var ne=0|te;ne>ee&&(ne=ee),Y[C]=ne}else Y[C]=0;if(Pe(C==y.npart_l-1),te=N[C-1]+N[C],te>0){var ie=T[C-1];ie<T[C]&&(ie=T[C]),Pe(y.numlines_l[C-1]+y.numlines_l[C]-1>0),te=20*(ie*2-te)/(te*(y.numlines_l[C-1]+y.numlines_l[C]-1));var ne=0|te;ne>ee&&(ne=ee),Y[C]=ne}else Y[C]=0;Pe(C==y.npart_l-1)}var pe=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(y,T,N,Y,ee,C,te,ie,ne,ue){var oe=y.internal_flags,ce=P0([2,fe.BLKSIZE]),Be=P0([2,3,fe.BLKSIZE_s]),ke=u0(fe.CBANDS+1),Ee=u0(fe.CBANDS+1),He=u0(fe.CBANDS+2),_e=Tt(2),Le=Tt(2),$e,Ae,Ne,ye,Ve,Ze,Ce,De,Ye=P0([2,576]),e0,N0=Tt(fe.CBANDS+2),l0=Tt(fe.CBANDS+2);for(U2.fill(l0,0),$e=oe.channels_out,y.mode==e.JOINT_STEREO&&($e=4),y.VBR==$t.vbr_off?e0=oe.ResvMax==0?0:oe.ResvSize/oe.ResvMax*.5:y.VBR==$t.vbr_rh||y.VBR==$t.vbr_mtrh||y.VBR==$t.vbr_mt?e0=.6:e0=1,Ae=0;Ae<oe.channels_out;Ae++){var t0=T[Ae],T0=N+576-350-K+192;for(ye=0;ye<576;ye++){var F0,H0;for(F0=t0[T0+ye+10],H0=0,Ve=0;Ve<(K-1)/2-1;Ve+=2)F0+=pe[Ve]*(t0[T0+ye+Ve]+t0[T0+ye+K-Ve]),H0+=pe[Ve+1]*(t0[T0+ye+Ve+1]+t0[T0+ye+K-Ve-1]);Ye[Ae][ye]=F0+H0}ee[Y][Ae].en.assign(oe.en[Ae]),ee[Y][Ae].thm.assign(oe.thm[Ae]),$e>2&&(C[Y][Ae].en.assign(oe.en[Ae+2]),C[Y][Ae].thm.assign(oe.thm[Ae+2]))}for(Ae=0;Ae<$e;Ae++){var U0,K0,p0=u0(12),J0=[0,0,0,0],Xt=u0(12),ba=1,Nr,Fr=u0(fe.CBANDS),Hr=u0(fe.CBANDS),n0=[0,0,0,0],kr=u0(fe.HBLKSIZE),Vr=P0([3,fe.HBLKSIZE_s]);for(Pe(oe.npart_s<=fe.CBANDS),Pe(oe.npart_l<=fe.CBANDS),ye=0;ye<3;ye++)p0[ye]=oe.nsPsy.last_en_subshort[Ae][ye+6],Pe(oe.nsPsy.last_en_subshort[Ae][ye+4]>0),Xt[ye]=p0[ye]/oe.nsPsy.last_en_subshort[Ae][ye+4],J0[0]+=p0[ye];if(Ae==2)for(ye=0;ye<576;ye++){var pa,xa;pa=Ye[0][ye],xa=Ye[1][ye],Ye[0][ye]=pa+xa,Ye[1][ye]=pa-xa}{var Dr=Ye[Ae&1],rn=0;for(ye=0;ye<9;ye++){for(var hi=rn+64,h0=1;rn<hi;rn++)h0<Math.abs(Dr[rn])&&(h0=Math.abs(Dr[rn]));oe.nsPsy.last_en_subshort[Ae][ye]=p0[ye+3]=h0,J0[1+ye/3]+=h0,h0>p0[ye+3-2]?(Pe(p0[ye+3-2]>0),h0=h0/p0[ye+3-2]):p0[ye+3-2]>h0*10?h0=p0[ye+3-2]/(h0*10):h0=0,Xt[ye+3]=h0}}if(y.analysis){var Sa=Xt[0];for(ye=1;ye<12;ye++)Sa<Xt[ye]&&(Sa=Xt[ye]);oe.pinfo.ers[Y][Ae]=oe.pinfo.ers_save[Ae],oe.pinfo.ers_save[Ae]=Sa}for(Nr=Ae==3?oe.nsPsy.attackthre_s:oe.nsPsy.attackthre,ye=0;ye<12;ye++)n0[ye/3]==0&&Xt[ye]>Nr&&(n0[ye/3]=ye%3+1);for(ye=1;ye<4;ye++){var Ma;J0[ye-1]>J0[ye]?(Pe(J0[ye]>0),Ma=J0[ye-1]/J0[ye]):(Pe(J0[ye-1]>0),Ma=J0[ye]/J0[ye-1]),Ma<1.7&&(n0[ye]=0,ye==1&&(n0[0]=0))}for(n0[0]!=0&&oe.nsPsy.lastAttacks[Ae]!=0&&(n0[0]=0),(oe.nsPsy.lastAttacks[Ae]==3||n0[0]+n0[1]+n0[2]+n0[3]!=0)&&(ba=0,n0[1]!=0&&n0[0]!=0&&(n0[1]=0),n0[2]!=0&&n0[1]!=0&&(n0[2]=0),n0[3]!=0&&n0[2]!=0&&(n0[3]=0)),Ae<2?Le[Ae]=ba:ba==0&&(Le[0]=Le[1]=0),ne[Ae]=oe.tot_ener[Ae],K0=Be,U0=ce,E(y,kr,Vr,U0,Ae&1,K0,Ae&1,Y,Ae,T,N),z(oe,kr,ke,Fr,Hr),ve(oe,Fr,Hr,N0),De=0;De<3;De++){var Ea,w0;for(c(y,Vr,Ee,He,Ae,De),D(oe,Ee,He,Ae,De),Ce=0;Ce<fe.SBMAX_s;Ce++){if(w0=oe.thm[Ae].s[Ce][De],w0*=d,n0[De]>=2||n0[De+1]==1){var sn=De!=0?De-1:2,h0=h(oe.thm[Ae].s[Ce][sn],w0,o*e0);w0=Math.min(w0,h0)}if(n0[De]==1){var sn=De!=0?De-1:2,h0=h(oe.thm[Ae].s[Ce][sn],w0,R*e0);w0=Math.min(w0,h0)}else if(De!=0&&n0[De-1]==3||De==0&&oe.nsPsy.lastAttacks[Ae]==3){var sn=De!=2?De+1:0,h0=h(oe.thm[Ae].s[Ce][sn],w0,R*e0);w0=Math.min(w0,h0)}Ea=p0[De*3+3]+p0[De*3+4]+p0[De*3+5],p0[De*3+5]*6<Ea&&(w0*=.5,p0[De*3+4]*6<Ea&&(w0*=.5)),oe.thm[Ae].s[Ce][De]=w0}}for(oe.nsPsy.lastAttacks[Ae]=n0[2],Ze=0,Ne=0;Ne<oe.npart_l;Ne++){for(var Mt=oe.s3ind[Ne][0],Aa=ke[Mt]*g[N0[Mt]],Et=oe.s3_ll[Ze++]*Aa;++Mt<=oe.s3ind[Ne][1];)Aa=ke[Mt]*g[N0[Mt]],Et=_(Et,oe.s3_ll[Ze++]*Aa,Mt,Mt-Ne,oe,0);Et*=.158489319246111,oe.blocktype_old[Ae&1]==fe.SHORT_TYPE?He[Ne]=Et:He[Ne]=h(Math.min(Et,Math.min(a*oe.nb_1[Ae][Ne],s*oe.nb_2[Ae][Ne])),Et,e0),oe.nb_2[Ae][Ne]=oe.nb_1[Ae][Ne],oe.nb_1[Ae][Ne]=Et}for(;Ne<=fe.CBANDS;++Ne)ke[Ne]=0,He[Ne]=0;S(oe,ke,He,Ae)}if((y.mode==e.STEREO||y.mode==e.JOINT_STEREO)&&y.interChRatio>0&&G(y,y.interChRatio),y.mode==e.JOINT_STEREO){var ya;V(oe),ya=y.msfix,Math.abs(ya)>0&&re(oe,ya,y.ATHlower*oe.ATH.adjust)}for(f(y,Le,ue,_e),Ae=0;Ae<$e;Ae++){var ln,on=0,wn,Bn;Ae>1?(ln=ie,on=-2,wn=fe.NORM_TYPE,(ue[0]==fe.SHORT_TYPE||ue[1]==fe.SHORT_TYPE)&&(wn=fe.SHORT_TYPE),Bn=C[Y][Ae-2]):(ln=te,on=0,wn=ue[Ae],Bn=ee[Y][Ae]),wn==fe.SHORT_TYPE?ln[on+Ae]=j(Bn,oe.masking_lower):ln[on+Ae]=k(Bn,oe.masking_lower),y.analysis&&(oe.pinfo.pe[Y][Ae]=ln[on+Ae])}return 0};function I(y,T,N,Y,ee,C,te,ie){var ne=y.internal_flags;if(Y<2)t.fft_long(ne,te[ie],Y,T,N);else if(Y==2)for(var ue=fe.BLKSIZE-1;ue>=0;--ue){var oe=te[ie+0][ue],ce=te[ie+1][ue];te[ie+0][ue]=(oe+ce)*B0.SQRT2*.5,te[ie+1][ue]=(oe-ce)*B0.SQRT2*.5}C[0]=te[ie+0][0],C[0]*=C[0];for(var ue=fe.BLKSIZE/2-1;ue>=0;--ue){var Be=te[ie+0][fe.BLKSIZE/2-ue],ke=te[ie+0][fe.BLKSIZE/2+ue];C[fe.BLKSIZE/2-ue]=(Be*Be+ke*ke)*.5}{for(var Ee=0,ue=11;ue<fe.HBLKSIZE;ue++)Ee+=C[ue];ne.tot_ener[Y]=Ee}if(y.analysis){for(var ue=0;ue<fe.HBLKSIZE;ue++)ne.pinfo.energy[ee][Y][ue]=ne.pinfo.energy_save[Y][ue],ne.pinfo.energy_save[Y][ue]=C[ue];ne.pinfo.pe[ee][Y]=ne.pe[Y]}}function P(y,T,N,Y,ee,C,te,ie){var ne=y.internal_flags;if(ee==0&&Y<2&&t.fft_short(ne,te[ie],Y,T,N),Y==2)for(var ue=fe.BLKSIZE_s-1;ue>=0;--ue){var oe=te[ie+0][ee][ue],ce=te[ie+1][ee][ue];te[ie+0][ee][ue]=(oe+ce)*B0.SQRT2*.5,te[ie+1][ee][ue]=(oe-ce)*B0.SQRT2*.5}C[ee][0]=te[ie+0][ee][0],C[ee][0]*=C[ee][0];for(var ue=fe.BLKSIZE_s/2-1;ue>=0;--ue){var Be=te[ie+0][ee][fe.BLKSIZE_s/2-ue],ke=te[ie+0][ee][fe.BLKSIZE_s/2+ue];C[ee][fe.BLKSIZE_s/2-ue]=(Be*Be+ke*ke)*.5}}function J(y,T,N,Y){var ee=y.internal_flags;y.athaa_loudapprox==2&&N<2&&(ee.loudness_sq[T][N]=ee.loudness_sq_save[N],ee.loudness_sq_save[N]=A(Y,ee))}var ae=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function le(y,T,N,Y,ee,C,te,ie,ne,ue){for(var oe=P0([2,576]),ce=y.internal_flags,Be=ce.channels_out,ke=y.mode==e.JOINT_STEREO?4:Be,Ee=0;Ee<Be;Ee++){firbuf=T[Ee];for(var He=N+576-350-K+192,_e=0;_e<576;_e++){var Le,$e;Le=firbuf[He+_e+10],$e=0;for(var Ae=0;Ae<(K-1)/2-1;Ae+=2)Le+=ae[Ae]*(firbuf[He+_e+Ae]+firbuf[He+_e+K-Ae]),$e+=ae[Ae+1]*(firbuf[He+_e+Ae+1]+firbuf[He+_e+K-Ae-1]);oe[Ee][_e]=Le+$e}ee[Y][Ee].en.assign(ce.en[Ee]),ee[Y][Ee].thm.assign(ce.thm[Ee]),ke>2&&(C[Y][Ee].en.assign(ce.en[Ee+2]),C[Y][Ee].thm.assign(ce.thm[Ee+2]))}for(var Ee=0;Ee<ke;Ee++){var Ne=u0(12),ye=u0(12),Ve=[0,0,0,0],Ze=oe[Ee&1],Ce=0,De=Ee==3?ce.nsPsy.attackthre_s:ce.nsPsy.attackthre,Ye=1;if(Ee==2)for(var _e=0,Ae=576;Ae>0;++_e,--Ae){var e0=oe[0][_e],N0=oe[1][_e];oe[0][_e]=e0+N0,oe[1][_e]=e0-N0}for(var _e=0;_e<3;_e++)ye[_e]=ce.nsPsy.last_en_subshort[Ee][_e+6],Pe(ce.nsPsy.last_en_subshort[Ee][_e+4]>0),Ne[_e]=ye[_e]/ce.nsPsy.last_en_subshort[Ee][_e+4],Ve[0]+=ye[_e];for(var _e=0;_e<9;_e++){for(var l0=Ce+64,t0=1;Ce<l0;Ce++)t0<Math.abs(Ze[Ce])&&(t0=Math.abs(Ze[Ce]));ce.nsPsy.last_en_subshort[Ee][_e]=ye[_e+3]=t0,Ve[1+_e/3]+=t0,t0>ye[_e+3-2]?(Pe(ye[_e+3-2]>0),t0=t0/ye[_e+3-2]):ye[_e+3-2]>t0*10?t0=ye[_e+3-2]/(t0*10):t0=0,Ne[_e+3]=t0}for(var _e=0;_e<3;++_e){var T0=ye[_e*3+3]+ye[_e*3+4]+ye[_e*3+5],F0=1;ye[_e*3+5]*6<T0&&(F0*=.5,ye[_e*3+4]*6<T0&&(F0*=.5)),ie[Ee][_e]=F0}if(y.analysis){for(var H0=Ne[0],_e=1;_e<12;_e++)H0<Ne[_e]&&(H0=Ne[_e]);ce.pinfo.ers[Y][Ee]=ce.pinfo.ers_save[Ee],ce.pinfo.ers_save[Ee]=H0}for(var _e=0;_e<12;_e++)ne[Ee][_e/3]==0&&Ne[_e]>De&&(ne[Ee][_e/3]=_e%3+1);for(var _e=1;_e<4;_e++){var U0=Ve[_e-1],K0=Ve[_e],p0=Math.max(U0,K0);p0<4e4&&U0<1.7*K0&&K0<1.7*U0&&(_e==1&&ne[Ee][0]<=ne[Ee][_e]&&(ne[Ee][0]=0),ne[Ee][_e]=0)}ne[Ee][0]<=ce.nsPsy.lastAttacks[Ee]&&(ne[Ee][0]=0),(ce.nsPsy.lastAttacks[Ee]==3||ne[Ee][0]+ne[Ee][1]+ne[Ee][2]+ne[Ee][3]!=0)&&(Ye=0,ne[Ee][1]!=0&&ne[Ee][0]!=0&&(ne[Ee][1]=0),ne[Ee][2]!=0&&ne[Ee][1]!=0&&(ne[Ee][2]=0),ne[Ee][3]!=0&&ne[Ee][2]!=0&&(ne[Ee][3]=0)),Ee<2?ue[Ee]=Ye:Ye==0&&(ue[0]=ue[1]=0),te[Ee]=ce.tot_ener[Ee]}}function Se(y,T,N){if(N==0)for(var Y=0;Y<y.npart_s;Y++)y.nb_s2[T][Y]=y.nb_s1[T][Y],y.nb_s1[T][Y]=0}function Oe(y,T){for(var N=0;N<y.npart_l;N++)y.nb_2[T][N]=y.nb_1[T][N],y.nb_1[T][N]=0}function l(y,T,N,Y){var ee=g.length-1,C=0,te=N[C]+N[C+1];if(te>0){var ie=T[C];ie<T[C+1]&&(ie=T[C+1]),Pe(y.numlines_s[C]+y.numlines_s[C+1]-1>0),te=20*(ie*2-te)/(te*(y.numlines_s[C]+y.numlines_s[C+1]-1));var ne=0|te;ne>ee&&(ne=ee),Y[C]=ne}else Y[C]=0;for(C=1;C<y.npart_s-1;C++)if(te=N[C-1]+N[C]+N[C+1],Pe(C+1<y.npart_s),te>0){var ie=T[C-1];ie<T[C]&&(ie=T[C]),ie<T[C+1]&&(ie=T[C+1]),Pe(y.numlines_s[C-1]+y.numlines_s[C]+y.numlines_s[C+1]-1>0),te=20*(ie*3-te)/(te*(y.numlines_s[C-1]+y.numlines_s[C]+y.numlines_s[C+1]-1));var ne=0|te;ne>ee&&(ne=ee),Y[C]=ne}else Y[C]=0;if(Pe(C==y.npart_s-1),te=N[C-1]+N[C],te>0){var ie=T[C-1];ie<T[C]&&(ie=T[C]),Pe(y.numlines_s[C-1]+y.numlines_s[C]-1>0),te=20*(ie*2-te)/(te*(y.numlines_s[C-1]+y.numlines_s[C]-1));var ne=0|te;ne>ee&&(ne=ee),Y[C]=ne}else Y[C]=0;Pe(C==y.npart_s-1)}function m(y,T,N,Y,ee,C){var te=y.internal_flags,ie=new float[fe.CBANDS],ne=u0(fe.CBANDS),ue,oe,ce,Be=new int[fe.CBANDS];for(ce=oe=0;ce<te.npart_s;++ce){var ke=0,Ee=0,He=te.numlines_s[ce];for(ue=0;ue<He;++ue,++oe){var _e=T[C][oe];ke+=_e,Ee<_e&&(Ee=_e)}N[ce]=ke,ie[ce]=Ee,ne[ce]=ke/He,Pe(ne[ce]>=0)}for(Pe(ce==te.npart_s);ce<fe.CBANDS;++ce)ie[ce]=0,ne[ce]=0;for(l(te,ie,ne,Be),oe=ce=0;ce<te.npart_s;ce++){var Le=te.s3ind_s[ce][0],$e=te.s3ind_s[ce][1],Ae,Ne,ye,Ve,Ze;for(Ae=Be[Le],Ne=1,Ve=te.s3_ss[oe]*N[Le]*g[Be[Le]],++oe,++Le;Le<=$e;)Ae+=Be[Le],Ne+=1,ye=te.s3_ss[oe]*N[Le]*g[Be[Le]],Ve=$(Ve,ye,Le-ce),++oe,++Le;Ae=(1+2*Ae)/(2*Ne),Ze=g[Ae]*.5,Ve*=Ze,Y[ce]=Ve,te.nb_s2[ee][ce]=te.nb_s1[ee][ce],te.nb_s1[ee][ce]=Ve,ye=ie[ce],ye*=te.minval_s[ce],ye*=Ze,Y[ce]>ye&&(Y[ce]=ye),te.masking_lower>1&&(Y[ce]*=te.masking_lower),Y[ce]>N[ce]&&(Y[ce]=N[ce]),te.masking_lower<1&&(Y[ce]*=te.masking_lower),Pe(Y[ce]>=0)}for(;ce<fe.CBANDS;++ce)N[ce]=0,Y[ce]=0}function se(y,T,N,Y,ee){var C=u0(fe.CBANDS),te=u0(fe.CBANDS),ie=Tt(fe.CBANDS+2),ne;z(y,T,N,C,te),ve(y,C,te,ie);var ue=0;for(ne=0;ne<y.npart_l;ne++){var oe,ce,Be,ke,Ee=y.s3ind[ne][0],He=y.s3ind[ne][1],_e=0,Le=0;for(_e=ie[Ee],Le+=1,ce=y.s3_ll[ue]*N[Ee]*g[ie[Ee]],++ue,++Ee;Ee<=He;)_e+=ie[Ee],Le+=1,oe=y.s3_ll[ue]*N[Ee]*g[ie[Ee]],ke=$(ce,oe,Ee-ne),ce=ke,++ue,++Ee;if(_e=(1+2*_e)/(2*Le),Be=g[_e]*.5,ce*=Be,y.blocktype_old[ee&1]==fe.SHORT_TYPE){var $e=a*y.nb_1[ee][ne];$e>0?Y[ne]=Math.min(ce,$e):Y[ne]=Math.min(ce,N[ne]*R)}else{var Ae=s*y.nb_2[ee][ne],Ne=a*y.nb_1[ee][ne],$e;Ae<=0&&(Ae=ce),Ne<=0&&(Ne=ce),y.blocktype_old[ee&1]==fe.NORM_TYPE?$e=Math.min(Ne,Ae):$e=Ne,Y[ne]=Math.min(ce,$e)}y.nb_2[ee][ne]=y.nb_1[ee][ne],y.nb_1[ee][ne]=ce,oe=C[ne],oe*=y.minval_l[ne],oe*=Be,Y[ne]>oe&&(Y[ne]=oe),y.masking_lower>1&&(Y[ne]*=y.masking_lower),Y[ne]>N[ne]&&(Y[ne]=N[ne]),y.masking_lower<1&&(Y[ne]*=y.masking_lower),Pe(Y[ne]>=0)}for(;ne<fe.CBANDS;++ne)N[ne]=0,Y[ne]=0}function de(y,T){var N=y.internal_flags;y.short_blocks==Yt.short_block_coupled&&!(T[0]!=0&&T[1]!=0)&&(T[0]=T[1]=0);for(var Y=0;Y<N.channels_out;Y++)y.short_blocks==Yt.short_block_dispensed&&(T[Y]=1),y.short_blocks==Yt.short_block_forced&&(T[Y]=0)}function me(y,T,N){for(var Y=y.internal_flags,ee=0;ee<Y.channels_out;ee++){var C=fe.NORM_TYPE;T[ee]!=0?(Pe(Y.blocktype_old[ee]!=fe.START_TYPE),Y.blocktype_old[ee]==fe.SHORT_TYPE&&(C=fe.STOP_TYPE)):(C=fe.SHORT_TYPE,Y.blocktype_old[ee]==fe.NORM_TYPE&&(Y.blocktype_old[ee]=fe.START_TYPE),Y.blocktype_old[ee]==fe.STOP_TYPE&&(Y.blocktype_old[ee]=fe.SHORT_TYPE)),N[ee]=Y.blocktype_old[ee],Y.blocktype_old[ee]=C}}function xe(y,T,N,Y,ee,C,te){for(var ie=C*2,ne=C>0?Math.pow(10,ee):1,ue,oe,ce=0;ce<te;++ce){var Be=y[2][ce],ke=y[3][ce],Ee=T[0][ce],He=T[1][ce],_e=T[2][ce],Le=T[3][ce];if(Ee<=1.58*He&&He<=1.58*Ee){var $e=N[ce]*ke,Ae=N[ce]*Be;oe=Math.max(_e,Math.min(Le,$e)),ue=Math.max(Le,Math.min(_e,Ae))}else oe=_e,ue=Le;if(C>0){var Ne,ye,Ve=Y[ce]*ne;if(Ne=Math.min(Math.max(Ee,Ve),Math.max(He,Ve)),_e=Math.max(oe,Ve),Le=Math.max(ue,Ve),ye=_e+Le,ye>0&&Ne*ie<ye){var Ze=Ne*ie/ye;_e*=Ze,Le*=Ze}oe=Math.min(_e,oe),ue=Math.min(Le,ue)}oe>Be&&(oe=Be),ue>ke&&(ue=ke),T[2][ce]=oe,T[3][ce]=ue}}this.L3psycho_anal_vbr=function(y,T,N,Y,ee,C,te,ie,ne,ue){var oe=y.internal_flags,ce,Be,ke=u0(fe.HBLKSIZE),Ee=P0([3,fe.HBLKSIZE_s]),He=P0([2,fe.BLKSIZE]),_e=P0([2,3,fe.BLKSIZE_s]),Le=P0([4,fe.CBANDS]),$e=P0([4,fe.CBANDS]),Ae=P0([4,3]),Ne=.6,ye=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Ve=Tt(2),Ze=y.mode==e.JOINT_STEREO?4:oe.channels_out;le(y,T,N,Y,ee,C,ne,Ae,ye,Ve),de(y,Ve);{for(var Ce=0;Ce<Ze;Ce++){var De=Ce&1;ce=He,I(y,T,N,Ce,Y,ke,ce,De),J(y,Y,Ce,ke),Ve[De]!=0?se(oe,ke,Le[Ce],$e[Ce],Ce):Oe(oe,Ce)}Ve[0]+Ve[1]==2&&y.mode==e.JOINT_STEREO&&xe(Le,$e,oe.mld_cb_l,oe.ATH.cb_l,y.ATHlower*oe.ATH.adjust,y.msfix,oe.npart_l);for(var Ce=0;Ce<Ze;Ce++){var De=Ce&1;Ve[De]!=0&&S(oe,Le[Ce],$e[Ce],Ce)}}{for(var Ye=0;Ye<3;Ye++){for(var Ce=0;Ce<Ze;++Ce){var De=Ce&1;Ve[De]!=0?Se(oe,Ce,Ye):(Be=_e,P(y,T,N,Ce,Ye,Ee,Be,De),m(y,Ee,Le[Ce],$e[Ce],Ce,Ye))}Ve[0]+Ve[1]==0&&y.mode==e.JOINT_STEREO&&xe(Le,$e,oe.mld_cb_s,oe.ATH.cb_s,y.ATHlower*oe.ATH.adjust,y.msfix,oe.npart_s);for(var Ce=0;Ce<Ze;++Ce){var De=Ce&1;Ve[De]==0&&D(oe,Le[Ce],$e[Ce],Ce,Ye)}}for(var Ce=0;Ce<Ze;Ce++){var De=Ce&1;if(Ve[De]==0)for(var e0=0;e0<fe.SBMAX_s;e0++){for(var N0=u0(3),Ye=0;Ye<3;Ye++){var l0=oe.thm[Ce].s[e0][Ye];if(l0*=d,ye[Ce][Ye]>=2||ye[Ce][Ye+1]==1){var t0=Ye!=0?Ye-1:2,T0=h(oe.thm[Ce].s[e0][t0],l0,o*Ne);l0=Math.min(l0,T0)}else if(ye[Ce][Ye]==1){var t0=Ye!=0?Ye-1:2,T0=h(oe.thm[Ce].s[e0][t0],l0,R*Ne);l0=Math.min(l0,T0)}else if(Ye!=0&&ye[Ce][Ye-1]==3||Ye==0&&oe.nsPsy.lastAttacks[Ce]==3){var t0=Ye!=2?Ye+1:0,T0=h(oe.thm[Ce].s[e0][t0],l0,R*Ne);l0=Math.min(l0,T0)}l0*=Ae[Ce][Ye],N0[Ye]=l0}for(var Ye=0;Ye<3;Ye++)oe.thm[Ce].s[e0][Ye]=N0[Ye]}}}for(var Ce=0;Ce<Ze;Ce++)oe.nsPsy.lastAttacks[Ce]=ye[Ce][2];me(y,Ve,ue);for(var Ce=0;Ce<Ze;Ce++){var F0,H0,U0,K0;Ce>1?(F0=ie,H0=-2,U0=fe.NORM_TYPE,(ue[0]==fe.SHORT_TYPE||ue[1]==fe.SHORT_TYPE)&&(U0=fe.SHORT_TYPE),K0=C[Y][Ce-2]):(F0=te,H0=0,U0=ue[Ce],K0=ee[Y][Ce]),U0==fe.SHORT_TYPE?F0[H0+Ce]=j(K0,oe.masking_lower):F0[H0+Ce]=k(K0,oe.masking_lower),y.analysis&&(oe.pinfo.pe[Y][Ce]=F0[H0+Ce])}return 0};function be(y,T){var N=y,Y;return N>=0?Y=-N*27:Y=N*T,Y<=-72?0:Math.exp(Y*W)}function Me(y){var T=0,N=0;{var Y=0,ee,C;for(Y=0;be(Y,y)>1e-20;Y-=1);for(ee=Y,C=0;Math.abs(C-ee)>1e-12;)Y=(C+ee)/2,be(Y,y)>0?C=Y:ee=Y;T=ee}{var Y=0,ee,C;for(Y=0;be(Y,y)>1e-20;Y+=1);for(ee=0,C=Y;Math.abs(C-ee)>1e-12;)Y=(C+ee)/2,be(Y,y)>0?ee=Y:C=Y;N=C}{var te=0,ie=1e3,ne;for(ne=0;ne<=ie;++ne){var Y=T+ne*(N-T)/ie,ue=be(Y,y);te+=ue}{var oe=(ie+1)/(te*(N-T));return oe}}}function Fe(y){var T,N,Y,ee;return T=y,T>=0?T*=3:T*=1.5,T>=.5&&T<=2.5?(ee=T-.5,N=8*(ee*ee-2*ee)):N=0,T+=.474,Y=15.811389+7.5*T-17.5*Math.sqrt(1+T*T),Y<=-60?0:(T=Math.exp((N+Y)*W),T/=.6609193,T)}function we(y){return y<0&&(y=0),y=y*.001,13*Math.atan(.76*y)+3.5*Math.atan(y*y/(7.5*7.5))}function Te(y,T,N,Y,ee,C,te,ie,ne,ue,oe,ce){var Be=u0(fe.CBANDS+1),ke=ie/(ce>15?2*576:2*192),Ee=Tt(fe.HBLKSIZE),He;ie/=ne;var _e=0,Le=0;for(He=0;He<fe.CBANDS;He++){var $e,Ae;for($e=we(ie*_e),Be[He]=ie*_e,Ae=_e;we(ie*Ae)-$e<v&&Ae<=ne/2;Ae++);for(y[He]=Ae-_e,Le=He+1;_e<Ae;)Pe(_e<fe.HBLKSIZE),Ee[_e++]=He;if(_e>ne/2){_e=ne/2,++He;break}}Pe(He<fe.CBANDS),Be[He]=ie*_e;for(var Ne=0;Ne<ce;Ne++){var ye,Ve,Ze,Ce,De;Ze=ue[Ne],Ce=ue[Ne+1],ye=0|Math.floor(.5+oe*(Ze-.5)),ye<0&&(ye=0),Ve=0|Math.floor(.5+oe*(Ce-.5)),Ve>ne/2&&(Ve=ne/2),N[Ne]=(Ee[ye]+Ee[Ve])/2,T[Ne]=Ee[Ve];var Ye=ke*Ce;te[Ne]=(Ye-Be[T[Ne]])/(Be[T[Ne]+1]-Be[T[Ne]]),te[Ne]<0?te[Ne]=0:te[Ne]>1&&(te[Ne]=1),De=we(ie*ue[Ne]*oe),De=Math.min(De,15.5)/15.5,C[Ne]=Math.pow(10,1.25*(1-Math.cos(Math.PI*De))-2.5)}_e=0;for(var e0=0;e0<Le;e0++){var N0=y[e0],$e,l0;$e=we(ie*_e),l0=we(ie*(_e+N0-1)),Y[e0]=.5*($e+l0),$e=we(ie*(_e-.5)),l0=we(ie*(_e+N0-.5)),ee[e0]=l0-$e,_e+=N0}return Le}function Xe(y,T,N,Y,ee,C){var te=P0([fe.CBANDS,fe.CBANDS]),ie,ne=0;if(C)for(var ue=0;ue<T;ue++)for(ie=0;ie<T;ie++){var oe=Fe(N[ue]-N[ie])*Y[ie];te[ue][ie]=oe*ee[ue]}else for(ie=0;ie<T;ie++)for(var ce=15+Math.min(21/N[ie],12),Be=Me(ce),ue=0;ue<T;ue++){var oe=Be*be(N[ue]-N[ie],ce)*Y[ie];te[ue][ie]=oe*ee[ue]}for(var ue=0;ue<T;ue++){for(ie=0;ie<T&&!(te[ue][ie]>0);ie++);for(y[ue][0]=ie,ie=T-1;ie>0&&!(te[ue][ie]>0);ie--);y[ue][1]=ie,ne+=y[ue][1]-y[ue][0]+1}for(var ke=u0(ne),Ee=0,ue=0;ue<T;ue++)for(ie=y[ue][0];ie<=y[ue][1];ie++)ke[Ee++]=te[ue][ie];return ke}function ze(y){var T=we(y);return T=Math.min(T,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*T))-2.5)}this.psymodel_init=function(y){var T=y.internal_flags,N,Y=!0,ee=13,C=24,te=0,ie=0,ne=-8.25,ue=-4.5,oe=u0(fe.CBANDS),ce=u0(fe.CBANDS),Be=u0(fe.CBANDS),ke=y.out_samplerate;switch(y.experimentalZ){default:case 0:Y=!0;break;case 1:Y=!(y.VBR==$t.vbr_mtrh||y.VBR==$t.vbr_mt);break;case 2:Y=!1;break;case 3:ee=8,te=-1.75,ie=-.0125,ne=-8.25,ue=-2.25;break}for(T.ms_ener_ratio_old=.25,T.blocktype_old[0]=T.blocktype_old[1]=fe.NORM_TYPE,N=0;N<4;++N){for(var _e=0;_e<fe.CBANDS;++_e)T.nb_1[N][_e]=1e20,T.nb_2[N][_e]=1e20,T.nb_s1[N][_e]=T.nb_s2[N][_e]=1;for(var Ee=0;Ee<fe.SBMAX_l;Ee++)T.en[N].l[Ee]=1e20,T.thm[N].l[Ee]=1e20;for(var _e=0;_e<3;++_e){for(var Ee=0;Ee<fe.SBMAX_s;Ee++)T.en[N].s[Ee][_e]=1e20,T.thm[N].s[Ee][_e]=1e20;T.nsPsy.lastAttacks[N]=0}for(var _e=0;_e<9;_e++)T.nsPsy.last_en_subshort[N][_e]=10}for(T.loudness_sq_save[0]=T.loudness_sq_save[1]=0,T.npart_l=Te(T.numlines_l,T.bo_l,T.bm_l,oe,ce,T.mld_l,T.PSY.bo_l_weight,ke,fe.BLKSIZE,T.scalefac_band.l,fe.BLKSIZE/(2*576),fe.SBMAX_l),Pe(T.npart_l<fe.CBANDS),N=0;N<T.npart_l;N++){var He=te;oe[N]>=ee&&(He=ie*(oe[N]-ee)/(C-ee)+te*(C-oe[N])/(C-ee)),Be[N]=Math.pow(10,He/10),T.numlines_l[N]>0?T.rnumlines_l[N]=1/T.numlines_l[N]:T.rnumlines_l[N]=0}T.s3_ll=Xe(T.s3ind,T.npart_l,oe,ce,Be,Y);var _e=0;for(N=0;N<T.npart_l;N++){var Le;Le=Ss.MAX_VALUE;for(var $e=0;$e<T.numlines_l[N];$e++,_e++){var Ae=ke*_e/(1e3*fe.BLKSIZE),Ne;Ne=this.ATHformula(Ae*1e3,y)-20,Ne=Math.pow(10,.1*Ne),Ne*=T.numlines_l[N],Le>Ne&&(Le=Ne)}T.ATH.cb_l[N]=Le,Le=-20+oe[N]*20/10,Le>6&&(Le=100),Le<-15&&(Le=-15),Le-=8,T.minval_l[N]=Math.pow(10,Le/10)*T.numlines_l[N]}for(T.npart_s=Te(T.numlines_s,T.bo_s,T.bm_s,oe,ce,T.mld_s,T.PSY.bo_s_weight,ke,fe.BLKSIZE_s,T.scalefac_band.s,fe.BLKSIZE_s/(2*192),fe.SBMAX_s),Pe(T.npart_s<fe.CBANDS),_e=0,N=0;N<T.npart_s;N++){var Le,He=ne;oe[N]>=ee&&(He=ue*(oe[N]-ee)/(C-ee)+ne*(C-oe[N])/(C-ee)),Be[N]=Math.pow(10,He/10),Le=Ss.MAX_VALUE;for(var $e=0;$e<T.numlines_s[N];$e++,_e++){var Ae=ke*_e/(1e3*fe.BLKSIZE_s),Ne;Ne=this.ATHformula(Ae*1e3,y)-20,Ne=Math.pow(10,.1*Ne),Ne*=T.numlines_s[N],Le>Ne&&(Le=Ne)}T.ATH.cb_s[N]=Le,Le=-7+oe[N]*7/12,oe[N]>12&&(Le*=1+Math.log(1+Le)*3.1),oe[N]<12&&(Le*=1+Math.log(1-Le)*2.3),Le<-15&&(Le=-15),Le-=8,T.minval_s[N]=Math.pow(10,Le/10)*T.numlines_s[N]}T.s3_ss=Xe(T.s3ind_s,T.npart_s,oe,ce,Be,Y),F(),t.init_fft(T),T.decay=Math.exp(-1*n/(q*ke/192));{var ye;ye=Z,y.exp_nspsytune&2&&(ye=1),Math.abs(y.msfix)>0&&(ye=y.msfix),y.msfix=ye;for(var Ve=0;Ve<T.npart_l;Ve++)T.s3ind[Ve][1]>T.npart_l-1&&(T.s3ind[Ve][1]=T.npart_l-1)}var Ze=576*T.mode_gr/ke;if(T.ATH.decay=Math.pow(10,-12/10*Ze),T.ATH.adjust=.01,T.ATH.adjustLimit=1,Pe(T.bo_l[fe.SBMAX_l-1]<=T.npart_l),Pe(T.bo_s[fe.SBMAX_s-1]<=T.npart_s),y.ATHtype!=-1){var Ae,Ce=y.out_samplerate/fe.BLKSIZE,De=0;for(Ae=0,N=0;N<fe.BLKSIZE/2;++N)Ae+=Ce,T.ATH.eql_w[N]=1/Math.pow(10,this.ATHformula(Ae,y)/10),De+=T.ATH.eql_w[N];for(De=1/De,N=fe.BLKSIZE/2;--N>=0;)T.ATH.eql_w[N]*=De}{for(var Ve=_e=0;Ve<T.npart_s;++Ve)for(N=0;N<T.numlines_s[Ve];++N)++_e;for(var Ve=_e=0;Ve<T.npart_l;++Ve)for(N=0;N<T.numlines_l[Ve];++N)++_e}for(_e=0,N=0;N<T.npart_l;N++){var Ae=ke*(_e+T.numlines_l[N]/2)/(1*fe.BLKSIZE);T.mld_cb_l[N]=ze(Ae),_e+=T.numlines_l[N]}for(;N<fe.CBANDS;++N)T.mld_cb_l[N]=1;for(_e=0,N=0;N<T.npart_s;N++){var Ae=ke*(_e+T.numlines_s[N]/2)/(1*fe.BLKSIZE_s);T.mld_cb_s[N]=ze(Ae),_e+=T.numlines_s[N]}for(;N<fe.CBANDS;++N)T.mld_cb_s[N]=1;return 0};function Ke(y,T){y<-.3&&(y=3410),y/=1e3,y=Math.max(.1,y);var N=3.64*Math.pow(y,-.8)-6.8*Math.exp(-.6*Math.pow(y-3.4,2))+6*Math.exp(-.15*Math.pow(y-8.7,2))+(.6+.04*T)*.001*Math.pow(y,4);return N}this.ATHformula=function(y,T){var N;switch(T.ATHtype){case 0:N=Ke(y,9);break;case 1:N=Ke(y,-1);break;case 2:N=Ke(y,0);break;case 3:N=Ke(y,1)+6;break;case 4:N=Ke(y,T.ATHcurve);break;default:N=Ke(y,0);break}return N}}var g2=G2,j2=Tn;function W2(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=j2.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var z2=W2,Z2=A0(),Q1={};Q1.SFBMAX=Z2.SBMAX_s*3;var ha=Q1,J1=a0,Q2=J1.new_float,wt=J1.new_int,Da=ha;function J2(){this.xr=Q2(576),this.l3_enc=wt(576),this.scalefac=wt(Da.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=wt(3),this.subblock_gain=wt(3+1),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=wt(Da.SFBMAX),this.window=wt(Da.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=wt(4),this.max_nonzero_coeff=0;var e=this;function t(a){return new Int32Array(a)}function n(a){return new Float32Array(a)}this.assign=function(a){e.xr=n(a.xr),e.l3_enc=t(a.l3_enc),e.scalefac=t(a.scalefac),e.xrpow_max=a.xrpow_max,e.part2_3_length=a.part2_3_length,e.big_values=a.big_values,e.count1=a.count1,e.global_gain=a.global_gain,e.scalefac_compress=a.scalefac_compress,e.block_type=a.block_type,e.mixed_block_flag=a.mixed_block_flag,e.table_select=t(a.table_select),e.subblock_gain=t(a.subblock_gain),e.region0_count=a.region0_count,e.region1_count=a.region1_count,e.preflag=a.preflag,e.scalefac_scale=a.scalefac_scale,e.count1table_select=a.count1table_select,e.part2_length=a.part2_length,e.sfb_lmax=a.sfb_lmax,e.sfb_smin=a.sfb_smin,e.psy_lmax=a.psy_lmax,e.sfbmax=a.sfbmax,e.psymax=a.psymax,e.sfbdivide=a.sfbdivide,e.width=t(a.width),e.window=t(a.window),e.count1bits=a.count1bits,e.sfb_partition_table=a.sfb_partition_table.slice(0),e.slen=t(a.slen),e.max_nonzero_coeff=a.max_nonzero_coeff}}var wr=J2,e_=a0,Ms=e_.new_int,t_=wr;function n_(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[Ms(4),Ms(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new t_}var a_=n_,ei=a0,Hn=ei.System,kn=ei.new_int,Vn=A0();function r_(e,t,n,a){this.l=kn(1+Vn.SBMAX_l),this.s=kn(1+Vn.SBMAX_s),this.psfb21=kn(1+Vn.PSFB21),this.psfb12=kn(1+Vn.PSFB12);var s=this.l,i=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Hn.arraycopy(this.arrL,0,s,0,Math.min(this.arrL.length,this.l.length)),Hn.arraycopy(this.arrS,0,i,0,Math.min(this.arrS.length,this.s.length)),Hn.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Hn.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var ti=r_,Br=a0,Pa=Br.new_float,s_=Br.new_float_n,i_=Br.new_int,Es=A0();function l_(){this.last_en_subshort=s_([4,9]),this.lastAttacks=i_(4),this.pefirbuf=Pa(19),this.longfact=Pa(Es.SBMAX_l),this.shortfact=Pa(Es.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var o_=l_;function __(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var u_=__,tn=a0,c_=tn.new_byte,f_=tn.new_double,X0=tn.new_float,Bt=tn.new_float_n,G0=tn.new_int,Dn=tn.new_int_n,v_=a_,h_=ti,d_=o_,m_=u_,As=z1(),s0=A0(),b_=ha;ot.MFSIZE=3*1152+s0.ENCDELAY-s0.MDCTDELAY;ot.MAX_HEADER_BUF=256;ot.MAX_BITS_PER_CHANNEL=4095;ot.MAX_BITS_PER_GRANULE=7680;ot.BPC=320;function ot(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=Bt([2,ot.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new v_,this.ms_ratio=X0(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=G0(2),this.CurrentStep=G0(2),this.masking_lower=0,this.bv_scf=G0(576),this.pseudohalf=G0(b_.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*ot.BPC+1),this.itime=f_(2),this.sideinfo_len=0,this.sb_sample=Bt([2,2,18,s0.SBLIMIT]),this.amp_filter=X0(32);function t(){this.write_timing=0,this.ptr=0,this.buf=c_(e)}this.header=new Array(ot.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new h_,this.minval_l=X0(s0.CBANDS),this.minval_s=X0(s0.CBANDS),this.nb_1=Bt([4,s0.CBANDS]),this.nb_2=Bt([4,s0.CBANDS]),this.nb_s1=Bt([4,s0.CBANDS]),this.nb_s2=Bt([4,s0.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=X0(4),this.loudness_sq=Bt([2,2]),this.loudness_sq_save=X0(2),this.mld_l=X0(s0.SBMAX_l),this.mld_s=X0(s0.SBMAX_s),this.bm_l=G0(s0.SBMAX_l),this.bo_l=G0(s0.SBMAX_l),this.bm_s=G0(s0.SBMAX_s),this.bo_s=G0(s0.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Dn([s0.CBANDS,2]),this.s3ind_s=Dn([s0.CBANDS,2]),this.numlines_s=G0(s0.CBANDS),this.numlines_l=G0(s0.CBANDS),this.rnumlines_l=X0(s0.CBANDS),this.mld_cb_l=X0(s0.CBANDS),this.mld_cb_s=X0(s0.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=X0(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=G0(2),this.nsPsy=new d_,this.VBR_seek_table=new m_,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Dn([16,4+1]),this.bitrate_blockType_Hist=Dn([16,4+1+1]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new As;for(var n=0;n<this.thm.length;n++)this.thm[n]=new As;for(var n=0;n<this.header.length;n++)this.header[n]=new t}var da=ot,p_=a0,It=p_.new_float,Ct=A0();function x_(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=It(Ct.SBMAX_l),this.s=It(Ct.SBMAX_s),this.psfb21=It(Ct.PSFB21),this.psfb12=It(Ct.PSFB12),this.cb_l=It(Ct.CBANDS),this.cb_s=It(Ct.CBANDS),this.eql_w=It(Ct.BLKSIZE/2)}var S_=x_,ni=a0,I0=ni.System,ys=ni.Arrays;i0.STEPS_per_dB=100;i0.MAX_dB=120;i0.GAIN_NOT_ENOUGH_SAMPLES=-24601;i0.GAIN_ANALYSIS_ERROR=0;i0.GAIN_ANALYSIS_OK=1;i0.INIT_GAIN_ANALYSIS_ERROR=0;i0.INIT_GAIN_ANALYSIS_OK=1;i0.YULE_ORDER=10;i0.MAX_ORDER=i0.YULE_ORDER;i0.MAX_SAMP_FREQ=48e3;i0.RMS_WINDOW_TIME_NUMERATOR=1;i0.RMS_WINDOW_TIME_DENOMINATOR=20;i0.MAX_SAMPLES_PER_WINDOW=i0.MAX_SAMP_FREQ*i0.RMS_WINDOW_TIME_NUMERATOR/i0.RMS_WINDOW_TIME_DENOMINATOR+1;function i0(){var e=64.82,t=.95,n=i0.RMS_WINDOW_TIME_NUMERATOR,a=i0.RMS_WINDOW_TIME_DENOMINATOR,s=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],i=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function u(o,R,Z,K,W,U){for(;W--!=0;)Z[K]=1e-10+o[R+0]*U[0]-Z[K-1]*U[1]+o[R-1]*U[2]-Z[K-2]*U[3]+o[R-2]*U[4]-Z[K-3]*U[5]+o[R-3]*U[6]-Z[K-4]*U[7]+o[R-4]*U[8]-Z[K-5]*U[9]+o[R-5]*U[10]-Z[K-6]*U[11]+o[R-6]*U[12]-Z[K-7]*U[13]+o[R-7]*U[14]-Z[K-8]*U[15]+o[R-8]*U[16]-Z[K-9]*U[17]+o[R-9]*U[18]-Z[K-10]*U[19]+o[R-10]*U[20],++K,++R}function v(o,R,Z,K,W,U){for(;W--!=0;)Z[K]=o[R+0]*U[0]-Z[K-1]*U[1]+o[R-1]*U[2]-Z[K-2]*U[3]+o[R-2]*U[4],++K,++R}function p(o,R){for(var Z=0;Z<MAX_ORDER;Z++)o.linprebuf[Z]=o.lstepbuf[Z]=o.loutbuf[Z]=o.rinprebuf[Z]=o.rstepbuf[Z]=o.routbuf[Z]=0;switch(0|R){case 48e3:o.reqindex=0;break;case 44100:o.reqindex=1;break;case 32e3:o.reqindex=2;break;case 24e3:o.reqindex=3;break;case 22050:o.reqindex=4;break;case 16e3:o.reqindex=5;break;case 12e3:o.reqindex=6;break;case 11025:o.reqindex=7;break;case 8e3:o.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return o.sampleWindow=0|(R*n+a-1)/a,o.lsum=0,o.rsum=0,o.totsamp=0,ys.ill(o.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(o,R){return p(o,R)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(o.linpre=MAX_ORDER,o.rinpre=MAX_ORDER,o.lstep=MAX_ORDER,o.rstep=MAX_ORDER,o.lout=MAX_ORDER,o.rout=MAX_ORDER,ys.fill(o.B,0),INIT_GAIN_ANALYSIS_OK)};function q(o){return o*o}this.AnalyzeSamples=function(o,R,Z,K,W,U,A){var E,x,w,r,M,O,H;if(U==0)return GAIN_ANALYSIS_OK;switch(H=0,M=U,A){case 1:K=R,W=Z;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(U<MAX_ORDER?(I0.arraycopy(R,Z,o.linprebuf,MAX_ORDER,U),I0.arraycopy(K,W,o.rinprebuf,MAX_ORDER,U)):(I0.arraycopy(R,Z,o.linprebuf,MAX_ORDER,MAX_ORDER),I0.arraycopy(K,W,o.rinprebuf,MAX_ORDER,MAX_ORDER));M>0;){O=M>o.sampleWindow-o.totsamp?o.sampleWindow-o.totsamp:M,H<MAX_ORDER?(E=o.linpre+H,x=o.linprebuf,w=o.rinpre+H,r=o.rinprebuf,O>MAX_ORDER-H&&(O=MAX_ORDER-H)):(E=Z+H,x=R,w=W+H,r=K),u(x,E,o.lstepbuf,o.lstep+o.totsamp,O,s[o.reqindex]),u(r,w,o.rstepbuf,o.rstep+o.totsamp,O,s[o.reqindex]),v(o.lstepbuf,o.lstep+o.totsamp,o.loutbuf,o.lout+o.totsamp,O,i[o.reqindex]),v(o.rstepbuf,o.rstep+o.totsamp,o.routbuf,o.rout+o.totsamp,O,i[o.reqindex]),E=o.lout+o.totsamp,x=o.loutbuf,w=o.rout+o.totsamp,r=o.routbuf;for(var g=O%8;g--!=0;)o.lsum+=q(x[E++]),o.rsum+=q(r[w++]);for(g=O/8;g--!=0;)o.lsum+=q(x[E+0])+q(x[E+1])+q(x[E+2])+q(x[E+3])+q(x[E+4])+q(x[E+5])+q(x[E+6])+q(x[E+7]),E+=8,o.rsum+=q(r[w+0])+q(r[w+1])+q(r[w+2])+q(r[w+3])+q(r[w+4])+q(r[w+5])+q(r[w+6])+q(r[w+7]),w+=8;if(M-=O,H+=O,o.totsamp+=O,o.totsamp==o.sampleWindow){var F=i0.STEPS_per_dB*10*Math.log10((o.lsum+o.rsum)/o.totsamp*.5+1e-37),X=F<=0?0:0|F;X>=o.A.length&&(X=o.A.length-1),o.A[X]++,o.lsum=o.rsum=0,I0.arraycopy(o.loutbuf,o.totsamp,o.loutbuf,0,MAX_ORDER),I0.arraycopy(o.routbuf,o.totsamp,o.routbuf,0,MAX_ORDER),I0.arraycopy(o.lstepbuf,o.totsamp,o.lstepbuf,0,MAX_ORDER),I0.arraycopy(o.rstepbuf,o.totsamp,o.rstepbuf,0,MAX_ORDER),o.totsamp=0}if(o.totsamp>o.sampleWindow)return GAIN_ANALYSIS_ERROR}return U<MAX_ORDER?(I0.arraycopy(o.linprebuf,U,o.linprebuf,0,MAX_ORDER-U),I0.arraycopy(o.rinprebuf,U,o.rinprebuf,0,MAX_ORDER-U),I0.arraycopy(R,Z,o.linprebuf,MAX_ORDER-U,U),I0.arraycopy(K,W,o.rinprebuf,MAX_ORDER-U,U)):(I0.arraycopy(R,Z+U-MAX_ORDER,o.linprebuf,0,MAX_ORDER),I0.arraycopy(K,W+U-MAX_ORDER,o.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function d(o,R){var Z,K=0;for(Z=0;Z<R;Z++)K+=o[Z];if(K==0)return GAIN_NOT_ENOUGH_SAMPLES;var W=0|Math.ceil(K*(1-t));for(Z=R;Z-- >0&&!((W-=o[Z])<=0););return e-Z/i0.STEPS_per_dB}this.GetTitleGain=function(o){for(var R=d(o.A,o.A.length),Z=0;Z<o.A.length;Z++)o.B[Z]+=o.A[Z],o.A[Z]=0;for(var Z=0;Z<MAX_ORDER;Z++)o.linprebuf[Z]=o.lstepbuf[Z]=o.loutbuf[Z]=o.rinprebuf[Z]=o.rstepbuf[Z]=o.routbuf[Z]=0;return o.totsamp=0,o.lsum=o.rsum=0,R}}var ai=i0,ri=a0,qt=ri.new_float,Rs=ri.new_int,C0=ai;function M_(){this.linprebuf=qt(C0.MAX_ORDER*2),this.linpre=0,this.lstepbuf=qt(C0.MAX_SAMPLES_PER_WINDOW+C0.MAX_ORDER),this.lstep=0,this.loutbuf=qt(C0.MAX_SAMPLES_PER_WINDOW+C0.MAX_ORDER),this.lout=0,this.rinprebuf=qt(C0.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=qt(C0.MAX_SAMPLES_PER_WINDOW+C0.MAX_ORDER),this.rstep=0,this.routbuf=qt(C0.MAX_SAMPLES_PER_WINDOW+C0.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=Rs(0|C0.STEPS_per_dB*C0.MAX_dB),this.B=Rs(0|C0.STEPS_per_dB*C0.MAX_dB)}var E_=M_;function A_(e){this.bits=e}var si=A_,Ir=a0,Ts=Ir.new_float,y_=Ir.new_int,ws=Ir.assert,R_=si,Bs=A0(),T_=ha,w_=da;function B_(e){var t=e;this.quantize=t,this.iteration_loop=function(n,a,s,i){var u=n.internal_flags,v=Ts(T_.SFBMAX),p=Ts(576),q=y_(2),d=0,o,R=u.l3_side,Z=new R_(d);this.quantize.rv.ResvFrameBegin(n,Z),d=Z.bits;for(var K=0;K<u.mode_gr;K++){o=this.quantize.qupvt.on_pe(n,a,q,d,K,K),u.mode_ext==Bs.MPG_MD_MS_LR&&(this.quantize.ms_convert(u.l3_side,K),this.quantize.qupvt.reduce_side(q,s[K],d,o));for(var W=0;W<u.channels_out;W++){var U,A,E=R.tt[K][W];E.block_type!=Bs.SHORT_TYPE?(U=0,A=u.PSY.mask_adjust-U):(U=0,A=u.PSY.mask_adjust_short-U),u.masking_lower=Math.pow(10,A*.1),this.quantize.init_outer_loop(u,E),this.quantize.init_xrpow(u,E,p)&&(this.quantize.qupvt.calc_xmin(n,i[K][W],E,v),this.quantize.outer_loop(n,E,v,p,W,q[W])),this.quantize.iteration_finish_one(u,K,W),ws(E.part2_3_length<=w_.MAX_BITS_PER_CHANNEL),ws(E.part2_3_length<=q[W])}}this.quantize.rv.ResvFrameEnd(u,d)}}var I_=B_;function Ge(e,t,n,a){this.xlen=e,this.linmax=t,this.table=n,this.hlen=a}var Re={};Re.t1HB=[1,1,1,0];Re.t2HB=[1,2,1,3,1,1,3,2,0];Re.t3HB=[3,2,1,1,1,1,3,2,0];Re.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];Re.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];Re.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];Re.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];Re.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];Re.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];Re.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];Re.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];Re.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];Re.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];Re.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];Re.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];Re.t32HB=[1<<0,5<<1,4<<1,5<<2,6<<1,5<<2,4<<2,4<<3,7<<1,3<<2,6<<2,0<<3,7<<2,2<<3,3<<3,1<<4];Re.t33HB=[15<<0,14<<1,13<<1,12<<2,11<<1,10<<2,9<<2,8<<3,7<<1,6<<2,5<<2,4<<3,3<<2,2<<3,1<<3,0<<4];Re.t1l=[1,4,3,5];Re.t2l=[1,4,7,4,5,7,6,7,8];Re.t3l=[2,3,7,4,4,7,6,7,8];Re.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];Re.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];Re.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];Re.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];Re.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];Re.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];Re.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];Re.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];Re.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];Re.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];Re.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];Re.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];Re.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];Re.t32l=[1+0,4+1,4+1,5+2,4+1,6+2,5+2,6+3,4+1,5+2,5+2,6+3,5+2,6+3,6+3,6+4];Re.t33l=[4+0,4+1,4+1,4+2,4+1,4+2,4+2,4+3,4+1,4+2,4+2,4+3,4+2,4+3,4+3,4+4];Re.ht=[new Ge(0,0,null,null),new Ge(2,0,Re.t1HB,Re.t1l),new Ge(3,0,Re.t2HB,Re.t2l),new Ge(3,0,Re.t3HB,Re.t3l),new Ge(0,0,null,null),new Ge(4,0,Re.t5HB,Re.t5l),new Ge(4,0,Re.t6HB,Re.t6l),new Ge(6,0,Re.t7HB,Re.t7l),new Ge(6,0,Re.t8HB,Re.t8l),new Ge(6,0,Re.t9HB,Re.t9l),new Ge(8,0,Re.t10HB,Re.t10l),new Ge(8,0,Re.t11HB,Re.t11l),new Ge(8,0,Re.t12HB,Re.t12l),new Ge(16,0,Re.t13HB,Re.t13l),new Ge(0,0,null,Re.t16_5l),new Ge(16,0,Re.t15HB,Re.t15l),new Ge(1,1,Re.t16HB,Re.t16l),new Ge(2,3,Re.t16HB,Re.t16l),new Ge(3,7,Re.t16HB,Re.t16l),new Ge(4,15,Re.t16HB,Re.t16l),new Ge(6,63,Re.t16HB,Re.t16l),new Ge(8,255,Re.t16HB,Re.t16l),new Ge(10,1023,Re.t16HB,Re.t16l),new Ge(13,8191,Re.t16HB,Re.t16l),new Ge(4,15,Re.t24HB,Re.t24l),new Ge(5,31,Re.t24HB,Re.t24l),new Ge(6,63,Re.t24HB,Re.t24l),new Ge(7,127,Re.t24HB,Re.t24l),new Ge(8,255,Re.t24HB,Re.t24l),new Ge(9,511,Re.t24HB,Re.t24l),new Ge(11,2047,Re.t24HB,Re.t24l),new Ge(13,8191,Re.t24HB,Re.t24l),new Ge(0,0,Re.t32HB,Re.t32l),new Ge(0,0,Re.t33HB,Re.t33l)];Re.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];Re.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];Re.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];Re.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];Re.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];Re.scfsi_band=[0,6,11,16,21];var Cr=Re,Xa,Is;function ii(){if(Is)return Xa;Is=1;var e=ti,t=a0,n=t.VbrMode,a=t.Float,s=t.Util,i=t.new_float,u=t.new_int,v=t.assert,p=A0(),q=si,d=da;o.Q_MAX=256+1,o.Q_MAX2=116,o.LARGE_BITS=1e5,o.IXMAX_VAL=8206;function o(){var R=Or(),Z=null,K=null,W=null;this.setModules=function(L,$,G){Z=L,K=$,W=G};function U(L){return v(0<=L+o.Q_MAX2&&L<o.Q_MAX),H[L+o.Q_MAX2]}this.IPOW20=function(L){return v(0<=L&&L<o.Q_MAX),g[L]};var A=2220446049250313e-31,E=o.IXMAX_VAL,x=E+2,w=o.Q_MAX,r=o.Q_MAX2;o.LARGE_BITS;var M=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var O=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=O,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var H=i(w+r+1),g=i(w),F=i(x),X=i(x);this.adj43=X;function he(L,$){var G=W.ATHformula($,L);return G-=M,G=Math.pow(10,G/10+L.ATHlower),G}function B(L){for(var $=L.internal_flags.ATH.l,G=L.internal_flags.ATH.psfb21,V=L.internal_flags.ATH.s,re=L.internal_flags.ATH.psfb12,D=L.internal_flags,S=L.out_samplerate,c=0;c<p.SBMAX_l;c++){var f=D.scalefac_band.l[c],h=D.scalefac_band.l[c+1];$[c]=a.MAX_VALUE;for(var b=f;b<h;b++){var j=b*S/1152,Q=he(L,j);$[c]=Math.min($[c],Q)}}for(var c=0;c<p.PSFB21;c++){var f=D.scalefac_band.psfb21[c],h=D.scalefac_band.psfb21[c+1];G[c]=a.MAX_VALUE;for(var b=f;b<h;b++){var j=b*S/1152,Q=he(L,j);G[c]=Math.min(G[c],Q)}}for(var c=0;c<p.SBMAX_s;c++){var f=D.scalefac_band.s[c],h=D.scalefac_band.s[c+1];V[c]=a.MAX_VALUE;for(var b=f;b<h;b++){var j=b*S/384,Q=he(L,j);V[c]=Math.min(V[c],Q)}V[c]*=D.scalefac_band.s[c+1]-D.scalefac_band.s[c]}for(var c=0;c<p.PSFB12;c++){var f=D.scalefac_band.psfb12[c],h=D.scalefac_band.psfb12[c+1];re[c]=a.MAX_VALUE;for(var b=f;b<h;b++){var j=b*S/384,Q=he(L,j);re[c]=Math.min(re[c],Q)}re[c]*=D.scalefac_band.s[13]-D.scalefac_band.s[12]}if(L.noATH){for(var c=0;c<p.SBMAX_l;c++)$[c]=1e-20;for(var c=0;c<p.PSFB21;c++)G[c]=1e-20;for(var c=0;c<p.SBMAX_s;c++)V[c]=1e-20;for(var c=0;c<p.PSFB12;c++)re[c]=1e-20}D.ATH.floor=10*Math.log10(he(L,-1))}this.iteration_init=function(L){var $=L.internal_flags,G=$.l3_side,V;if($.iteration_init_init==0){for($.iteration_init_init=1,G.main_data_begin=0,B(L),F[0]=0,V=1;V<x;V++)F[V]=Math.pow(V,4/3);for(V=0;V<x-1;V++)X[V]=V+1-Math.pow(.5*(F[V]+F[V+1]),.75);for(X[V]=.5,V=0;V<w;V++)g[V]=Math.pow(2,(V-210)*-.1875);for(V=0;V<=w+r;V++)H[V]=Math.pow(2,(V-210-r)*.25);Z.huffman_init($);{var re,D,S,c;for(V=L.exp_nspsytune>>2&63,V>=32&&(V-=64),re=Math.pow(10,V/4/10),V=L.exp_nspsytune>>8&63,V>=32&&(V-=64),D=Math.pow(10,V/4/10),V=L.exp_nspsytune>>14&63,V>=32&&(V-=64),S=Math.pow(10,V/4/10),V=L.exp_nspsytune>>20&63,V>=32&&(V-=64),c=S*Math.pow(10,V/4/10),V=0;V<p.SBMAX_l;V++){var f;V<=6?f=re:V<=13?f=D:V<=20?f=S:f=c,$.nsPsy.longfact[V]=f}for(V=0;V<p.SBMAX_s;V++){var f;V<=5?f=re:V<=10?f=D:V<=11?f=S:f=c,$.nsPsy.shortfact[V]=f}}}},this.on_pe=function(L,$,G,V,re,D){var S=L.internal_flags,c=0,f,h=u(2),b,j=new q(c),Q=K.ResvMaxBits(L,V,j,D);c=j.bits;var k=c+Q;for(k>d.MAX_BITS_PER_GRANULE&&(k=d.MAX_BITS_PER_GRANULE),f=0,b=0;b<S.channels_out;++b)G[b]=Math.min(d.MAX_BITS_PER_CHANNEL,c/S.channels_out),h[b]=0|G[b]*$[re][b]/700-G[b],h[b]>V*3/4&&(h[b]=V*3/4),h[b]<0&&(h[b]=0),h[b]+G[b]>d.MAX_BITS_PER_CHANNEL&&(h[b]=Math.max(0,d.MAX_BITS_PER_CHANNEL-G[b])),f+=h[b];if(f>Q)for(b=0;b<S.channels_out;++b)h[b]=Q*h[b]/f;for(b=0;b<S.channels_out;++b)G[b]+=h[b],Q-=h[b];for(f=0,b=0;b<S.channels_out;++b)f+=G[b];if(f>d.MAX_BITS_PER_GRANULE){var z=0;for(b=0;b<S.channels_out;++b)G[b]*=d.MAX_BITS_PER_GRANULE,G[b]/=f,z+=G[b]}return k},this.reduce_side=function(L,$,G,V){v(L[0]+L[1]<=d.MAX_BITS_PER_GRANULE);var re=.33*(.5-$)/.5;re<0&&(re=0),re>.5&&(re=.5);var D=0|re*.5*(L[0]+L[1]);D>d.MAX_BITS_PER_CHANNEL-L[0]&&(D=d.MAX_BITS_PER_CHANNEL-L[0]),D<0&&(D=0),L[1]>=125&&(L[1]-D>125?(L[0]<G&&(L[0]+=D),L[1]-=D):(L[0]+=L[1]-125,L[1]=125)),D=L[0]+L[1],D>V&&(L[0]=V*L[0]/D,L[1]=V*L[1]/D),v(L[0]<=d.MAX_BITS_PER_CHANNEL),v(L[1]<=d.MAX_BITS_PER_CHANNEL),v(L[0]+L[1]<=d.MAX_BITS_PER_GRANULE)},this.athAdjust=function(L,$,G){var V=90.30873362,re=94.82444863,D=s.FAST_LOG10_X($,10),S=L*L,c=0;return D-=G,S>1e-20&&(c=1+s.FAST_LOG10_X(S,10/V)),c<0&&(c=0),D*=c,D+=G+V-re,Math.pow(10,.1*D)},this.calc_xmin=function(L,$,G,V){var re=0,D=L.internal_flags,S,c=0,f=0,h=D.ATH,b=G.xr,j=L.VBR==n.vbr_mtrh?1:0,Q=D.masking_lower;for((L.VBR==n.vbr_mtrh||L.VBR==n.vbr_mt)&&(Q=1),S=0;S<G.psy_lmax;S++){var k,z,ve,pe,I,P;L.VBR==n.vbr_rh||L.VBR==n.vbr_mtrh?z=athAdjust(h.adjust,h.l[S],h.floor):z=h.adjust*h.l[S],I=G.width[S],ve=z/I,pe=A,P=I>>1,k=0;do{var J,ae;J=b[c]*b[c],k+=J,pe+=J<ve?J:ve,c++,ae=b[c]*b[c],k+=ae,pe+=ae<ve?ae:ve,c++}while(--P>0);if(k>z&&f++,S==p.SBPSY_l){var le=z*D.nsPsy.longfact[S];pe<le&&(pe=le)}if(j!=0&&(z=pe),!L.ATHonly){var Se=$.en.l[S];if(Se>0){var le;le=k*$.thm.l[S]*Q/Se,j!=0&&(le*=D.nsPsy.longfact[S]),z<le&&(z=le)}}j!=0?V[re++]=z:V[re++]=z*D.nsPsy.longfact[S]}var Oe=575;if(G.block_type!=p.SHORT_TYPE)for(var l=576;l--!=0&&R.EQ(b[l],0);)Oe=l;G.max_nonzero_coeff=Oe;for(var m=G.sfb_smin;S<G.psymax;m++,S+=3){var I,se,de;for(L.VBR==n.vbr_rh||L.VBR==n.vbr_mtrh?de=athAdjust(h.adjust,h.s[m],h.floor):de=h.adjust*h.s[m],I=G.width[S],se=0;se<3;se++){var k=0,z,ve,pe,P=I>>1;ve=de/I,pe=A;do{var J,ae;J=b[c]*b[c],k+=J,pe+=J<ve?J:ve,c++,ae=b[c]*b[c],k+=ae,pe+=ae<ve?ae:ve,c++}while(--P>0);if(k>de&&f++,m==p.SBPSY_s){var le=de*D.nsPsy.shortfact[m];pe<le&&(pe=le)}if(j!=0?z=pe:z=de,!L.ATHonly&&!L.ATHshort){var Se=$.en.s[m][se];if(Se>0){var le;le=k*$.thm.s[m][se]*Q/Se,j!=0&&(le*=D.nsPsy.shortfact[m]),z<le&&(z=le)}}j!=0?V[re++]=z:V[re++]=z*D.nsPsy.shortfact[m]}L.useTemporal&&(V[re-3]>V[re-3+1]&&(V[re-3+1]+=(V[re-3]-V[re-3+1])*D.decay),V[re-3+1]>V[re-3+2]&&(V[re-3+2]+=(V[re-3+1]-V[re-3+2])*D.decay))}return f};function _(L){this.s=L}this.calc_noise_core=function(L,$,G,V){var re=0,D=$.s,S=L.l3_enc;if(D>L.count1)for(;G--!=0;){var c;c=L.xr[D],D++,re+=c*c,c=L.xr[D],D++,re+=c*c}else if(D>L.big_values){var f=i(2);for(f[0]=0,f[1]=V;G--!=0;){var c;c=Math.abs(L.xr[D])-f[S[D]],D++,re+=c*c,c=Math.abs(L.xr[D])-f[S[D]],D++,re+=c*c}}else for(;G--!=0;){var c;c=Math.abs(L.xr[D])-F[S[D]]*V,D++,re+=c*c,c=Math.abs(L.xr[D])-F[S[D]]*V,D++,re+=c*c}return $.s=D,re},this.calc_noise=function(L,$,G,V,re){var D=0,S=0,c,f,h=0,b=0,j=0,Q=-20,k=0,z=L.scalefac,ve=0;for(V.over_SSD=0,c=0;c<L.psymax;c++){var pe=L.global_gain-(z[ve++]+(L.preflag!=0?O[c]:0)<<L.scalefac_scale+1)-L.subblock_gain[L.window[c]]*8,I=0;if(re!=null&&re.step[c]==pe)I=re.noise[c],k+=L.width[c],G[D++]=I/$[S++],I=re.noise_log[c];else{var P=U(pe);if(f=L.width[c]>>1,k+L.width[c]>L.max_nonzero_coeff){var J;J=L.max_nonzero_coeff-k+1,J>0?f=J>>1:f=0}var ae=new _(k);I=this.calc_noise_core(L,ae,f,P),k=ae.s,re!=null&&(re.step[c]=pe,re.noise[c]=I),I=G[D++]=I/$[S++],I=s.FAST_LOG10(Math.max(I,1e-20)),re!=null&&(re.noise_log[c]=I)}if(re!=null&&(re.global_gain=L.global_gain),j+=I,I>0){var le;le=Math.max(0|I*10+.5,1),V.over_SSD+=le*le,h++,b+=I}Q=Math.max(Q,I)}return V.over_count=h,V.tot_noise=j,V.over_noise=b,V.max_noise=Q,h},this.set_pinfo=function(L,$,G,V,re){var D=L.internal_flags,S,c,f,h,b,j=$.scalefac_scale==0?.5:1,Q=$.scalefac,k=i(L3Side.SFBMAX),z=i(L3Side.SFBMAX),ve=new CalcNoiseResult;calc_xmin(L,G,$,k),calc_noise($,k,z,ve,null);var pe=0;for(c=$.sfb_lmax,$.block_type!=p.SHORT_TYPE&&$.mixed_block_flag==0&&(c=22),S=0;S<c;S++){var I=D.scalefac_band.l[S],P=D.scalefac_band.l[S+1],J=P-I;for(h=0;pe<P;pe++)h+=$.xr[pe]*$.xr[pe];h/=J,b=1e15,D.pinfo.en[V][re][S]=b*h,D.pinfo.xfsf[V][re][S]=b*k[S]*z[S]/J,G.en.l[S]>0&&!L.ATHonly?h=h/G.en.l[S]:h=0,D.pinfo.thr[V][re][S]=b*Math.max(h*G.thm.l[S],D.ATH.l[S]),D.pinfo.LAMEsfb[V][re][S]=0,$.preflag!=0&&S>=11&&(D.pinfo.LAMEsfb[V][re][S]=-j*O[S]),S<p.SBPSY_l&&(v(Q[S]>=0),D.pinfo.LAMEsfb[V][re][S]-=j*Q[S])}if($.block_type==p.SHORT_TYPE)for(c=S,S=$.sfb_smin;S<p.SBMAX_s;S++)for(var I=D.scalefac_band.s[S],P=D.scalefac_band.s[S+1],J=P-I,ae=0;ae<3;ae++){for(h=0,f=I;f<P;f++)h+=$.xr[pe]*$.xr[pe],pe++;h=Math.max(h/J,1e-20),b=1e15,D.pinfo.en_s[V][re][3*S+ae]=b*h,D.pinfo.xfsf_s[V][re][3*S+ae]=b*k[c]*z[c]/J,G.en.s[S][ae]>0?h=h/G.en.s[S][ae]:h=0,(L.ATHonly||L.ATHshort)&&(h=0),D.pinfo.thr_s[V][re][3*S+ae]=b*Math.max(h*G.thm.s[S][ae],D.ATH.s[S]),D.pinfo.LAMEsfb_s[V][re][3*S+ae]=-2*$.subblock_gain[ae],S<p.SBPSY_s&&(D.pinfo.LAMEsfb_s[V][re][3*S+ae]-=j*Q[c]),c++}D.pinfo.LAMEqss[V][re]=$.global_gain,D.pinfo.LAMEmainbits[V][re]=$.part2_3_length+$.part2_length,D.pinfo.LAMEsfbits[V][re]=$.part2_length,D.pinfo.over[V][re]=ve.over_count,D.pinfo.max_noise[V][re]=ve.max_noise*10,D.pinfo.over_noise[V][re]=ve.over_noise*10,D.pinfo.tot_noise[V][re]=ve.tot_noise*10,D.pinfo.over_SSD[V][re]=ve.over_SSD}}return Xa=o,Xa}var $a,Cs;function li(){if(Cs)return $a;Cs=1;var e=a0,t=e.System,n=e.Arrays,a=e.new_int,s=e.assert,i=A0(),u=Cr,v=wr,p=ii();function q(){var d=null;this.qupvt=null,this.setModules=function(D){this.qupvt=D,d=D};function o(D){this.bits=0|D}var R=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function Z(D,S,c,f,h,b){var j=.5946/S;for(D=D>>1;D--!=0;)h[b++]=j>c[f++]?0:1,h[b++]=j>c[f++]?0:1}function K(D,S,c,f,h,b){D=D>>1;var j=D%2;for(D=D>>1;D--!=0;){var Q,k,z,ve,pe,I,P,J;Q=c[f++]*S,k=c[f++]*S,pe=0|Q,z=c[f++]*S,I=0|k,ve=c[f++]*S,P=0|z,Q+=d.adj43[pe],J=0|ve,k+=d.adj43[I],h[b++]=0|Q,z+=d.adj43[P],h[b++]=0|k,ve+=d.adj43[J],h[b++]=0|z,h[b++]=0|ve}if(j!=0){var Q,k,pe,I;Q=c[f++]*S,k=c[f++]*S,pe=0|Q,I=0|k,Q+=d.adj43[pe],k+=d.adj43[I],h[b++]=0|Q,h[b++]=0|k}}function W(D,S,c,f,h){var b,j,Q=0,k,z=0,ve=0,pe=0,I=S,P=0,J=I,ae=0,le=D,Se=0;for(k=h!=null&&f.global_gain==h.global_gain,f.block_type==i.SHORT_TYPE?j=38:j=21,b=0;b<=j;b++){var Oe=-1;if((k||f.block_type==i.NORM_TYPE)&&(Oe=f.global_gain-(f.scalefac[b]+(f.preflag!=0?d.pretab[b]:0)<<f.scalefac_scale+1)-f.subblock_gain[f.window[b]]*8),s(f.width[b]>=0),k&&h.step[b]==Oe)z!=0&&(K(z,c,le,Se,J,ae),z=0),ve!=0&&(Z(ve,c,le,Se,J,ae),ve=0);else{var l=f.width[b];if(Q+f.width[b]>f.max_nonzero_coeff){var m;m=f.max_nonzero_coeff-Q+1,n.fill(S,f.max_nonzero_coeff,576,0),l=m,l<0&&(l=0),b=j+1}if(z==0&&ve==0&&(J=I,ae=P,le=D,Se=pe),h!=null&&h.sfb_count1>0&&b>=h.sfb_count1&&h.step[b]>0&&Oe>=h.step[b]?(z!=0&&(K(z,c,le,Se,J,ae),z=0,J=I,ae=P,le=D,Se=pe),ve+=l):(ve!=0&&(Z(ve,c,le,Se,J,ae),ve=0,J=I,ae=P,le=D,Se=pe),z+=l),l<=0){ve!=0&&(Z(ve,c,le,Se,J,ae),ve=0),z!=0&&(K(z,c,le,Se,J,ae),z=0);break}}b<=j&&(P+=f.width[b],pe+=f.width[b],Q+=f.width[b])}z!=0&&(K(z,c,le,Se,J,ae),z=0),ve!=0&&(Z(ve,c,le,Se,J,ae),ve=0)}function U(D,S,c){var f=0,h=0;do{var b=D[S++],j=D[S++];f<b&&(f=b),h<j&&(h=j)}while(S<c);return f<h&&(f=h),f}function A(D,S,c,f,h,b){var j=u.ht[f].xlen*65536+u.ht[h].xlen,Q=0,k;do{var z=D[S++],ve=D[S++];z!=0&&(z>14&&(z=15,Q+=j),z*=16),ve!=0&&(ve>14&&(ve=15,Q+=j),z+=ve),Q+=u.largetbl[z]}while(S<c);return k=Q&65535,Q>>=16,Q>k&&(Q=k,f=h),b.bits+=Q,f}function E(D,S,c,f){var h=0,b=u.ht[1].hlen;do{var j=D[S+0]*2+D[S+1];S+=2,h+=b[j]}while(S<c);return f.bits+=h,1}function x(D,S,c,f,h){var b=0,j,Q=u.ht[f].xlen,k;f==2?k=u.table23:k=u.table56;do{var z=D[S+0]*Q+D[S+1];S+=2,b+=k[z]}while(S<c);return j=b&65535,b>>=16,b>j&&(b=j,f++),h.bits+=b,f}function w(D,S,c,f,h){var b=0,j=0,Q=0,k=u.ht[f].xlen,z=u.ht[f].hlen,ve=u.ht[f+1].hlen,pe=u.ht[f+2].hlen;do{var I=D[S+0]*k+D[S+1];S+=2,b+=z[I],j+=ve[I],Q+=pe[I]}while(S<c);var P=f;return b>j&&(b=j,P++),b>Q&&(b=Q,P=f+2),h.bits+=b,P}var r=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function M(D,S,c,f){var h=U(D,S,c);switch(h){case 0:return h;case 1:return E(D,S,c,f);case 2:case 3:return x(D,S,c,r[h-1],f);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return w(D,S,c,r[h-1],f);default:if(h>p.IXMAX_VAL)return f.bits=p.LARGE_BITS,-1;h-=15;var b;for(b=24;b<32&&!(u.ht[b].linmax>=h);b++);var j;for(j=b-8;j<24&&!(u.ht[j].linmax>=h);j++);return A(D,S,c,j,b,f)}}this.noquant_count_bits=function(D,S,c){var f=S.l3_enc,h=Math.min(576,S.max_nonzero_coeff+2>>1<<1);for(c!=null&&(c.sfb_count1=0);h>1&&!(f[h-1]|f[h-2]);h-=2);S.count1=h;for(var b=0,j=0;h>3;h-=4){var Q;if(((f[h-1]|f[h-2]|f[h-3]|f[h-4])&2147483647)>1)break;Q=((f[h-4]*2+f[h-3])*2+f[h-2])*2+f[h-1],b+=u.t32l[Q],j+=u.t33l[Q]}var k=b;if(S.count1table_select=0,b>j&&(k=j,S.count1table_select=1),S.count1bits=k,S.big_values=h,h==0)return k;if(S.block_type==i.SHORT_TYPE)b=3*D.scalefac_band.s[3],b>S.big_values&&(b=S.big_values),j=S.big_values;else if(S.block_type==i.NORM_TYPE){if(b=S.region0_count=D.bv_scf[h-2],j=S.region1_count=D.bv_scf[h-1],s(b+j+2<i.SBPSY_l),j=D.scalefac_band.l[b+j+2],b=D.scalefac_band.l[b+1],j<h){var z=new o(k);S.table_select[2]=M(f,j,h,z),k=z.bits}}else S.region0_count=7,S.region1_count=i.SBMAX_l-1-7-1,b=D.scalefac_band.l[7+1],j=h,b>j&&(b=j);if(b=Math.min(b,h),j=Math.min(j,h),0<b){var z=new o(k);S.table_select[0]=M(f,0,b,z),k=z.bits}if(b<j){var z=new o(k);S.table_select[1]=M(f,b,j,z),k=z.bits}if(D.use_best_huffman==2&&(S.part2_3_length=k,best_huffman_divide(D,S),k=S.part2_3_length),c!=null&&S.block_type==i.NORM_TYPE){for(var ve=0;D.scalefac_band.l[ve]<S.big_values;)ve++;c.sfb_count1=ve}return k},this.count_bits=function(D,S,c,f){var h=c.l3_enc,b=p.IXMAX_VAL/d.IPOW20(c.global_gain);if(c.xrpow_max>b)return p.LARGE_BITS;if(W(S,h,d.IPOW20(c.global_gain),c,f),D.substep_shaping&2)for(var j=0,Q=c.global_gain+c.scalefac_scale,k=.634521682242439/d.IPOW20(Q),z=0;z<c.sfbmax;z++){var ve=c.width[z];if(D.pseudohalf[z]==0)j+=ve;else{var pe;for(pe=j,j+=ve;pe<j;++pe)h[pe]=S[pe]>=k?h[pe]:0}}return this.noquant_count_bits(D,c,f)};function O(D,S,c,f,h,b,j){for(var Q=S.big_values,k=0;k<=7+15;k++)f[k]=p.LARGE_BITS;for(var k=0;k<16;k++){var z=D.scalefac_band.l[k+1];if(z>=Q)break;var ve=0,pe=new o(ve),I=M(c,0,z,pe);ve=pe.bits;for(var P=0;P<8;P++){var J=D.scalefac_band.l[k+P+2];if(J>=Q)break;var ae=ve;pe=new o(ae);var le=M(c,z,J,pe);ae=pe.bits,f[k+P]>ae&&(f[k+P]=ae,h[k+P]=k,b[k+P]=I,j[k+P]=le)}}}function H(D,S,c,f,h,b,j,Q){for(var k=S.big_values,z=2;z<i.SBMAX_l+1;z++){var ve=D.scalefac_band.l[z];if(ve>=k)break;var pe=h[z-2]+S.count1bits;if(c.part2_3_length<=pe)break;var I=new o(pe),P=M(f,ve,k,I);pe=I.bits,!(c.part2_3_length<=pe)&&(c.assign(S),c.part2_3_length=pe,c.region0_count=b[z-2],c.region1_count=z-2-b[z-2],c.table_select[0]=j[z-2],c.table_select[1]=Q[z-2],c.table_select[2]=P)}}this.best_huffman_divide=function(D,S){var c=new v,f=S.l3_enc,h=a(7+15+1),b=a(7+15+1),j=a(7+15+1),Q=a(7+15+1);if(!(S.block_type==i.SHORT_TYPE&&D.mode_gr==1)){c.assign(S),S.block_type==i.NORM_TYPE&&(O(D,S,f,h,b,j,Q),H(D,c,S,f,h,b,j,Q));var k=c.big_values;if(!(k==0||(f[k-2]|f[k-1])>1)&&(k=S.count1+2,!(k>576))){c.assign(S),c.count1=k;for(var z=0,ve=0;k>c.big_values;k-=4){var pe=((f[k-4]*2+f[k-3])*2+f[k-2])*2+f[k-1];z+=u.t32l[pe],ve+=u.t33l[pe]}if(c.big_values=k,c.count1table_select=0,z>ve&&(z=ve,c.count1table_select=1),c.count1bits=z,c.block_type==i.NORM_TYPE)H(D,c,S,f,h,b,j,Q);else{if(c.part2_3_length=z,z=D.scalefac_band.l[7+1],z>k&&(z=k),z>0){var I=new o(c.part2_3_length);c.table_select[0]=M(f,0,z,I),c.part2_3_length=I.bits}if(k>z){var I=new o(c.part2_3_length);c.table_select[1]=M(f,z,k,I),c.part2_3_length=I.bits}S.part2_3_length>c.part2_3_length&&S.assign(c)}}}};var g=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],F=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],X=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],he=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];q.slen1_tab=X,q.slen2_tab=he;function B(D,S){for(var c,f=S.tt[1][D],h=S.tt[0][D],b=0;b<u.scfsi_band.length-1;b++){for(c=u.scfsi_band[b];c<u.scfsi_band[b+1]&&!(h.scalefac[c]!=f.scalefac[c]&&f.scalefac[c]>=0);c++);if(c==u.scfsi_band[b+1]){for(c=u.scfsi_band[b];c<u.scfsi_band[b+1];c++)f.scalefac[c]=-1;S.scfsi[D][b]=1}}var j=0,Q=0;for(c=0;c<11;c++)f.scalefac[c]!=-1&&(Q++,j<f.scalefac[c]&&(j=f.scalefac[c]));for(var k=0,z=0;c<i.SBPSY_l;c++)f.scalefac[c]!=-1&&(z++,k<f.scalefac[c]&&(k=f.scalefac[c]));for(var b=0;b<16;b++)if(j<g[b]&&k<F[b]){var ve=X[b]*Q+he[b]*z;f.part2_length>ve&&(f.part2_length=ve,f.scalefac_compress=b)}}this.best_scalefac_store=function(D,S,c,f){var h=f.tt[S][c],b,j,Q,k,z=0;for(Q=0,b=0;b<h.sfbmax;b++){var ve=h.width[b];for(Q+=ve,k=-ve;k<0&&h.l3_enc[k+Q]==0;k++);k==0&&(h.scalefac[b]=z=-2)}if(h.scalefac_scale==0&&h.preflag==0){var pe=0;for(b=0;b<h.sfbmax;b++)h.scalefac[b]>0&&(pe|=h.scalefac[b]);if(!(pe&1)&&pe!=0){for(b=0;b<h.sfbmax;b++)h.scalefac[b]>0&&(h.scalefac[b]>>=1);h.scalefac_scale=z=1}}if(h.preflag==0&&h.block_type!=i.SHORT_TYPE&&D.mode_gr==2){for(b=11;b<i.SBPSY_l&&!(h.scalefac[b]<d.pretab[b]&&h.scalefac[b]!=-2);b++);if(b==i.SBPSY_l){for(b=11;b<i.SBPSY_l;b++)h.scalefac[b]>0&&(h.scalefac[b]-=d.pretab[b]);h.preflag=z=1}}for(j=0;j<4;j++)f.scfsi[c][j]=0;for(D.mode_gr==2&&S==1&&f.tt[0][c].block_type!=i.SHORT_TYPE&&f.tt[1][c].block_type!=i.SHORT_TYPE&&(B(c,f),z=0),b=0;b<h.sfbmax;b++)h.scalefac[b]==-2&&(h.scalefac[b]=0);z!=0&&(D.mode_gr==2?this.scale_bitcount(h):this.scale_bitcount_lsf(D,h))};function _(D,S){for(var c=0;c<S;++c)if(D[c]<0)return!1;return!0}var L=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],$=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],G=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(D){var S,c,f=0,h=0,b,j=D.scalefac;if(s(_(j,D.sfbmax)),D.block_type==i.SHORT_TYPE)b=L,D.mixed_block_flag!=0&&(b=$);else if(b=G,D.preflag==0){for(c=11;c<i.SBPSY_l&&!(j[c]<d.pretab[c]);c++);if(c==i.SBPSY_l)for(D.preflag=1,c=11;c<i.SBPSY_l;c++)j[c]-=d.pretab[c]}for(c=0;c<D.sfbdivide;c++)f<j[c]&&(f=j[c]);for(;c<D.sfbmax;c++)h<j[c]&&(h=j[c]);for(D.part2_length=p.LARGE_BITS,S=0;S<16;S++)f<g[S]&&h<F[S]&&D.part2_length>b[S]&&(D.part2_length=b[S],D.scalefac_compress=S);return D.part2_length==p.LARGE_BITS};var V=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(D,S){var c,f,h,b,j,Q,k,z,ve=a(4),pe=S.scalefac;for(S.preflag!=0?c=2:c=0,k=0;k<4;k++)ve[k]=0;if(S.block_type==i.SHORT_TYPE){f=1;var I=d.nr_of_sfb_block[c][f];for(z=0,h=0;h<4;h++)for(b=I[h]/3,k=0;k<b;k++,z++)for(j=0;j<3;j++)pe[z*3+j]>ve[h]&&(ve[h]=pe[z*3+j])}else{f=0;var I=d.nr_of_sfb_block[c][f];for(z=0,h=0;h<4;h++)for(b=I[h],k=0;k<b;k++,z++)pe[z]>ve[h]&&(ve[h]=pe[z])}for(Q=!1,h=0;h<4;h++)ve[h]>V[c][h]&&(Q=!0);if(!Q){var P,J,ae,le;for(S.sfb_partition_table=d.nr_of_sfb_block[c][f],h=0;h<4;h++)S.slen[h]=re[ve[h]];switch(P=S.slen[0],J=S.slen[1],ae=S.slen[2],le=S.slen[3],c){case 0:S.scalefac_compress=(P*5+J<<4)+(ae<<2)+le;break;case 1:S.scalefac_compress=400+(P*5+J<<2)+ae;break;case 2:S.scalefac_compress=500+P*3+J;break;default:t.err.printf(`intensity stereo not implemented yet
`);break}}if(!Q)for(s(S.sfb_partition_table!=null),S.part2_length=0,h=0;h<4;h++)S.part2_length+=S.slen[h]*S.sfb_partition_table[h];return Q};var re=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(D){for(var S=2;S<=576;S+=2){for(var c=0,f;D.scalefac_band.l[++c]<S;);for(f=R[c][0];D.scalefac_band.l[f+1]>S;)f--;for(f<0&&(f=R[c][0]),D.bv_scf[S-2]=f,f=R[c][1];D.scalefac_band.l[f+D.bv_scf[S-2]+2]>S;)f--;f<0&&(f=R[c][1]),D.bv_scf[S-1]=f}}}return $a=q,$a}var Ya,Os;function Or(){if(Os)return Ya;Os=1;var e=a0,t=e.System,n=e.Arrays,a=e.new_byte,s=e.new_float_n,i=e.new_int,u=e.assert,v=li(),p=Cr,q=A0(),d=da;o.EQ=function(R,Z){return Math.abs(R)>Math.abs(Z)?Math.abs(R-Z)<=Math.abs(R)*1e-6:Math.abs(R-Z)<=Math.abs(Z)*1e-6},o.NEQ=function(R,Z){return!o.EQ(R,Z)};function o(){var R=Lr(),Z=this,K=32773,W=null,U=null,A=null,E=null;this.setModules=function(S,c,f,h){W=S,U=c,A=f,E=h};var x=null,w=0,r=0,M=0;this.getframebits=function(S){var c=S.internal_flags,f;c.bitrate_index!=0?f=p.bitrate_table[S.version][c.bitrate_index]:f=S.brate;var h=0|(S.version+1)*72e3*f/S.out_samplerate+c.padding;return 8*h};function O(S){t.arraycopy(S.header[S.w_ptr].buf,0,x,r,S.sideinfo_len),r+=S.sideinfo_len,w+=S.sideinfo_len*8,S.w_ptr=S.w_ptr+1&d.MAX_HEADER_BUF-1}function H(S,c,f){for(;f>0;){var h;M==0&&(M=8,r++,u(r<R.LAME_MAXMP3BUFFER),u(S.header[S.w_ptr].write_timing>=w),S.header[S.w_ptr].write_timing==w&&O(S),x[r]=0),h=Math.min(f,M),f-=h,M-=h,x[r]|=c>>f<<M,w+=h}}function g(S,c,f){for(;f>0;){var h;M==0&&(M=8,r++,u(r<R.LAME_MAXMP3BUFFER),x[r]=0),h=Math.min(f,M),f-=h,M-=h,x[r]|=c>>f<<M,w+=h}}function F(S,c){var f=S.internal_flags,h;if(c>=8&&(H(f,76,8),c-=8),c>=8&&(H(f,65,8),c-=8),c>=8&&(H(f,77,8),c-=8),c>=8&&(H(f,69,8),c-=8),c>=32){var b=A.getLameShortVersion();if(c>=32)for(h=0;h<b.length&&c>=8;++h)c-=8,H(f,b.charAt(h),8)}for(;c>=1;c-=1)H(f,f.ancillary_flag,1),f.ancillary_flag^=S.disable_reservoir?0:1}function X(S,c,f){for(var h=S.header[S.h_ptr].ptr;f>0;){var b=Math.min(f,8-(h&7));f-=b,S.header[S.h_ptr].buf[h>>3]|=c>>f<<8-(h&7)-b,h+=b}S.header[S.h_ptr].ptr=h}function he(S,c){S<<=8;for(var f=0;f<8;f++)S<<=1,c<<=1,(c^S)&65536&&(c^=K);return c}this.CRC_writeheader=function(S,c){var f=65535;f=he(c[2]&255,f),f=he(c[3]&255,f);for(var h=6;h<S.sideinfo_len;h++)f=he(c[h]&255,f);c[4]=byte(f>>8),c[5]=byte(f&255)};function B(S,c){var f=S.internal_flags,h,b,j;if(h=f.l3_side,f.header[f.h_ptr].ptr=0,n.fill(f.header[f.h_ptr].buf,0,f.sideinfo_len,0),S.out_samplerate<16e3?X(f,4094,12):X(f,4095,12),X(f,S.version,1),X(f,4-3,2),X(f,S.error_protection?0:1,1),X(f,f.bitrate_index,4),X(f,f.samplerate_index,2),X(f,f.padding,1),X(f,S.extension,1),X(f,S.mode.ordinal(),2),X(f,f.mode_ext,2),X(f,S.copyright,1),X(f,S.original,1),X(f,S.emphasis,2),S.error_protection&&X(f,0,16),S.version==1){for(u(h.main_data_begin>=0),X(f,h.main_data_begin,9),f.channels_out==2?X(f,h.private_bits,3):X(f,h.private_bits,5),j=0;j<f.channels_out;j++){var Q;for(Q=0;Q<4;Q++)X(f,h.scfsi[j][Q],1)}for(b=0;b<2;b++)for(j=0;j<f.channels_out;j++){var k=h.tt[b][j];X(f,k.part2_3_length+k.part2_length,12),X(f,k.big_values/2,9),X(f,k.global_gain,8),X(f,k.scalefac_compress,4),k.block_type!=q.NORM_TYPE?(X(f,1,1),X(f,k.block_type,2),X(f,k.mixed_block_flag,1),k.table_select[0]==14&&(k.table_select[0]=16),X(f,k.table_select[0],5),k.table_select[1]==14&&(k.table_select[1]=16),X(f,k.table_select[1],5),X(f,k.subblock_gain[0],3),X(f,k.subblock_gain[1],3),X(f,k.subblock_gain[2],3)):(X(f,0,1),k.table_select[0]==14&&(k.table_select[0]=16),X(f,k.table_select[0],5),k.table_select[1]==14&&(k.table_select[1]=16),X(f,k.table_select[1],5),k.table_select[2]==14&&(k.table_select[2]=16),X(f,k.table_select[2],5),u(0<=k.region0_count&&k.region0_count<16),u(0<=k.region1_count&&k.region1_count<8),X(f,k.region0_count,4),X(f,k.region1_count,3)),X(f,k.preflag,1),X(f,k.scalefac_scale,1),X(f,k.count1table_select,1)}}else for(u(h.main_data_begin>=0),X(f,h.main_data_begin,8),X(f,h.private_bits,f.channels_out),b=0,j=0;j<f.channels_out;j++){var k=h.tt[b][j];X(f,k.part2_3_length+k.part2_length,12),X(f,k.big_values/2,9),X(f,k.global_gain,8),X(f,k.scalefac_compress,9),k.block_type!=q.NORM_TYPE?(X(f,1,1),X(f,k.block_type,2),X(f,k.mixed_block_flag,1),k.table_select[0]==14&&(k.table_select[0]=16),X(f,k.table_select[0],5),k.table_select[1]==14&&(k.table_select[1]=16),X(f,k.table_select[1],5),X(f,k.subblock_gain[0],3),X(f,k.subblock_gain[1],3),X(f,k.subblock_gain[2],3)):(X(f,0,1),k.table_select[0]==14&&(k.table_select[0]=16),X(f,k.table_select[0],5),k.table_select[1]==14&&(k.table_select[1]=16),X(f,k.table_select[1],5),k.table_select[2]==14&&(k.table_select[2]=16),X(f,k.table_select[2],5),u(0<=k.region0_count&&k.region0_count<16),u(0<=k.region1_count&&k.region1_count<8),X(f,k.region0_count,4),X(f,k.region1_count,3)),X(f,k.scalefac_scale,1),X(f,k.count1table_select,1)}S.error_protection&&CRC_writeheader(f,f.header[f.h_ptr].buf);{var z=f.h_ptr;u(f.header[z].ptr==f.sideinfo_len*8),f.h_ptr=z+1&d.MAX_HEADER_BUF-1,f.header[f.h_ptr].write_timing=f.header[z].write_timing+c,f.h_ptr==f.w_ptr&&t.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function _(S,c){var f=p.ht[c.count1table_select+32],h,b=0,j=c.big_values,Q=c.big_values;for(u(c.count1table_select<2),h=(c.count1-c.big_values)/4;h>0;--h){var k=0,z=0,ve;ve=c.l3_enc[j+0],ve!=0&&(z+=8,c.xr[Q+0]<0&&k++),ve=c.l3_enc[j+1],ve!=0&&(z+=4,k*=2,c.xr[Q+1]<0&&k++),ve=c.l3_enc[j+2],ve!=0&&(z+=2,k*=2,c.xr[Q+2]<0&&k++),ve=c.l3_enc[j+3],ve!=0&&(z++,k*=2,c.xr[Q+3]<0&&k++),j+=4,Q+=4,H(S,k+f.table[z],f.hlen[z]),b+=f.hlen[z]}return b}function L(S,c,f,h,b){var j=p.ht[c],Q=0;if(c==0)return Q;for(var k=f;k<h;k+=2){var z=0,ve=0,pe=j.xlen,I=j.xlen,P=0,J=b.l3_enc[k],ae=b.l3_enc[k+1];if(J!=0&&(b.xr[k]<0&&P++,z--),c>15){if(J>14){var le=J-15;u(le<=j.linmax),P|=le<<1,ve=pe,J=15}if(ae>14){var Se=ae-15;u(Se<=j.linmax),P<<=pe,P|=Se,ve+=pe,ae=15}I=16}ae!=0&&(P<<=1,b.xr[k+1]<0&&P++,z--),J=J*I+ae,ve-=z,z+=j.hlen[J],H(S,j.table[J],z),H(S,P,ve),Q+=z+ve}return Q}function $(S,c){var f=3*S.scalefac_band.s[3];f>c.big_values&&(f=c.big_values);var h=L(S,c.table_select[0],0,f,c);return h+=L(S,c.table_select[1],f,c.big_values,c),h}function G(S,c){var f,h,b,j;f=c.big_values;var Q=c.region0_count+1;return u(Q<S.scalefac_band.l.length),b=S.scalefac_band.l[Q],Q+=c.region1_count+1,u(Q<S.scalefac_band.l.length),j=S.scalefac_band.l[Q],b>f&&(b=f),j>f&&(j=f),h=L(S,c.table_select[0],0,b,c),h+=L(S,c.table_select[1],b,j,c),h+=L(S,c.table_select[2],j,f,c),h}function V(S){var c,f,h,b,j=0,Q=S.internal_flags,k=Q.l3_side;if(S.version==1)for(c=0;c<2;c++)for(f=0;f<Q.channels_out;f++){var z=k.tt[c][f],ve=v.slen1_tab[z.scalefac_compress],pe=v.slen2_tab[z.scalefac_compress];for(b=0,h=0;h<z.sfbdivide;h++)z.scalefac[h]!=-1&&(H(Q,z.scalefac[h],ve),b+=ve);for(;h<z.sfbmax;h++)z.scalefac[h]!=-1&&(H(Q,z.scalefac[h],pe),b+=pe);u(b==z.part2_length),z.block_type==q.SHORT_TYPE?b+=$(Q,z):b+=G(Q,z),b+=_(Q,z),u(b==z.part2_3_length+z.part2_length),j+=b}else for(c=0,f=0;f<Q.channels_out;f++){var z=k.tt[c][f],I,P,J=0;if(u(z.sfb_partition_table!=null),b=0,h=0,P=0,z.block_type==q.SHORT_TYPE){for(;P<4;P++){var ae=z.sfb_partition_table[P]/3,le=z.slen[P];for(I=0;I<ae;I++,h++)H(Q,Math.max(z.scalefac[h*3+0],0),le),H(Q,Math.max(z.scalefac[h*3+1],0),le),H(Q,Math.max(z.scalefac[h*3+2],0),le),J+=3*le}b+=$(Q,z)}else{for(;P<4;P++){var ae=z.sfb_partition_table[P],le=z.slen[P];for(I=0;I<ae;I++,h++)H(Q,Math.max(z.scalefac[h],0),le),J+=le}b+=G(Q,z)}b+=_(Q,z),u(b==z.part2_3_length),u(J==z.part2_length),j+=J+b}return j}function re(){this.total=0}function D(S,c){var f=S.internal_flags,h,b,j,Q,k;return k=f.w_ptr,Q=f.h_ptr-1,Q==-1&&(Q=d.MAX_HEADER_BUF-1),h=f.header[Q].write_timing-w,c.total=h,h>=0&&(b=1+Q-k,Q<k&&(b=1+Q-k+d.MAX_HEADER_BUF),h-=b*8*f.sideinfo_len),j=Z.getframebits(S),h+=j,c.total+=j,c.total%8!=0?c.total=1+c.total/8:c.total=c.total/8,c.total+=r+1,h<0&&t.err.println(`strange error flushing buffer ... 
`),h}this.flush_bitstream=function(S){var c=S.internal_flags,f,h,b=c.h_ptr-1;if(b==-1&&(b=d.MAX_HEADER_BUF-1),f=c.l3_side,!((h=D(S,new re))<0)){if(F(S,h),u(c.header[b].write_timing+this.getframebits(S)==w),c.ResvSize=0,f.main_data_begin=0,c.findReplayGain){var j=W.GetTitleGain(c.rgdata);u(NEQ(j,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),c.RadioGain=Math.floor(j*10+.5)|0}c.findPeakSample&&(c.noclipGainChange=Math.ceil(Math.log10(c.PeakSample/32767)*20*10)|0,c.noclipGainChange>0&&(EQ(S.scale,1)||EQ(S.scale,0))?c.noclipScale=Math.floor(32767/c.PeakSample*100)/100:c.noclipScale=-1)}},this.add_dummy_byte=function(S,c,f){for(var h=S.internal_flags,b;f-- >0;)for(g(h,c,8),b=0;b<d.MAX_HEADER_BUF;++b)h.header[b].write_timing+=8},this.format_bitstream=function(S){var c=S.internal_flags,f;f=c.l3_side;var h=this.getframebits(S);F(S,f.resvDrain_pre),B(S,h);var b=8*c.sideinfo_len;if(b+=V(S),F(S,f.resvDrain_post),b+=f.resvDrain_post,f.main_data_begin+=(h-b)/8,D(S,new re)!=c.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),f.main_data_begin*8!=c.ResvSize&&(t.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*f.main_data_begin,c.ResvSize,f.resvDrain_post,f.resvDrain_pre,8*c.sideinfo_len,b-f.resvDrain_post-8*c.sideinfo_len,b,b%8,h),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),c.ResvSize=f.main_data_begin*8),w>1e9){var j;for(j=0;j<d.MAX_HEADER_BUF;++j)c.header[j].write_timing-=w;w=0}return 0},this.copy_buffer=function(S,c,f,h,b){var j=r+1;if(j<=0)return 0;if(h!=0&&j>h)return-1;if(t.arraycopy(x,0,c,f,j),r=-1,M=0,b!=0){var Q=i(1);if(Q[0]=S.nMusicCRC,E.updateMusicCRC(Q,c,f,j),S.nMusicCRC=Q[0],j>0&&(S.VBR_seek_table.nBytesWritten+=j),S.decode_on_the_fly){for(var k=s([2,1152]),z=j,ve=-1,pe;ve!=0;)if(ve=U.hip_decode1_unclipped(S.hip,c,f,z,k[0],k[1]),z=0,ve==-1&&(ve=0),ve>0){if(S.findPeakSample){for(pe=0;pe<ve;pe++)k[0][pe]>S.PeakSample?S.PeakSample=k[0][pe]:-k[0][pe]>S.PeakSample&&(S.PeakSample=-k[0][pe]);if(S.channels_out>1)for(pe=0;pe<ve;pe++)k[1][pe]>S.PeakSample?S.PeakSample=k[1][pe]:-k[1][pe]>S.PeakSample&&(S.PeakSample=-k[1][pe])}if(S.findReplayGain&&W.AnalyzeSamples(S.rgdata,k[0],0,k[1],0,ve,S.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return j},this.init_bit_stream_w=function(S){x=a(R.LAME_MAXMP3BUFFER),S.h_ptr=S.w_ptr=0,S.header[S.h_ptr].write_timing=0,r=-1,M=0,w=0}}return Ya=o,Ya}var qa,Ls;function Lr(){if(Ls)return qa;Ls=1;var e=a0,t=e.System,n=e.VbrMode,a=e.ShortBlock,s=e.new_float,i=e.new_int_n,u=e.new_short_n,v=e.assert,p=g2,q=z2,d=da,o=S_,R=E_,Z=I_,K=Or(),W=Cr,U=A0();function A(){var E=Tn,x=this,w=128*1024;A.V9=410,A.V8=420,A.V7=430,A.V6=440,A.V5=450,A.V4=460,A.V3=470,A.V2=480,A.V1=490,A.V0=500,A.R3MIX=1e3,A.STANDARD=1001,A.EXTREME=1002,A.INSANE=1003,A.STANDARD_FAST=1004,A.EXTREME_FAST=1005,A.MEDIUM=1006,A.MEDIUM_FAST=1007;var r=16384+w;A.LAME_MAXMP3BUFFER=r;var M,O,H,g,F,X=new p,he,B,_;this.enc=new U,this.setModules=function(l,m,se,de,me,xe,be,Me,Fe){M=l,O=m,H=se,g=de,F=me,he=xe,B=Me,_=Fe,this.enc.setModules(O,X,g,he)};function L(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=s(U.SBMAX_l),this.bo_s_weight=s(U.SBMAX_s)}function $(){this.lowerlimit=0}function G(l,m){this.lowpass=m}var V=4294479419;function re(l){var m;return l.class_id=V,m=l.internal_flags=new d,l.mode=E.NOT_SET,l.original=1,l.in_samplerate=44100,l.num_channels=2,l.num_samples=-1,l.bWriteVbrTag=!0,l.quality=-1,l.short_blocks=null,m.subblock_gain=-1,l.lowpassfreq=0,l.highpassfreq=0,l.lowpasswidth=-1,l.highpasswidth=-1,l.VBR=n.vbr_off,l.VBR_q=4,l.ATHcurve=-1,l.VBR_mean_bitrate_kbps=128,l.VBR_min_bitrate_kbps=0,l.VBR_max_bitrate_kbps=0,l.VBR_hard_min=0,m.VBR_min_bitrate=1,m.VBR_max_bitrate=13,l.quant_comp=-1,l.quant_comp_short=-1,l.msfix=-1,m.resample_ratio=1,m.OldValue[0]=180,m.OldValue[1]=180,m.CurrentStep[0]=4,m.CurrentStep[1]=4,m.masking_lower=1,m.nsPsy.attackthre=-1,m.nsPsy.attackthre_s=-1,l.scale=-1,l.athaa_type=-1,l.ATHtype=-1,l.athaa_loudapprox=-1,l.athaa_sensitivity=0,l.useTemporal=null,l.interChRatio=-1,m.mf_samples_to_encode=U.ENCDELAY+U.POSTDELAY,l.encoder_padding=0,m.mf_size=U.ENCDELAY-U.MDCTDELAY,l.findReplayGain=!1,l.decode_on_the_fly=!1,m.decode_on_the_fly=!1,m.findReplayGain=!1,m.findPeakSample=!1,m.RadioGain=0,m.AudiophileGain=0,m.noclipGainChange=0,m.noclipScale=-1,l.preset=0,l.write_id3tag_automatic=!0,0}this.lame_init=function(){var l=new q;return re(l),l.lame_allocated_gfp=1,l};function D(l){return l>1?0:l<=0?1:Math.cos(Math.PI/2*l)}this.nearestBitrateFullIndex=function(l){var m=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],se=0,de=0,me=0,xe=0;xe=m[16],me=16,de=m[16],se=16;for(var be=0;be<16;be++)if(Math.max(l,m[be+1])!=l){xe=m[be+1],me=be+1,de=m[be],se=be;break}return xe-l>l-de?se:me};function S(l,m){var se=44100;return m>=48e3?se=48e3:m>=44100?se=44100:m>=32e3?se=32e3:m>=24e3?se=24e3:m>=22050?se=22050:m>=16e3?se=16e3:m>=12e3?se=12e3:m>=11025?se=11025:m>=8e3&&(se=8e3),l==-1?se:(l<=15960&&(se=44100),l<=15250&&(se=32e3),l<=11220&&(se=24e3),l<=9970&&(se=22050),l<=7230&&(se=16e3),l<=5420&&(se=12e3),l<=4510&&(se=11025),l<=3970&&(se=8e3),m<se?m>44100?48e3:m>32e3?44100:m>24e3?32e3:m>22050?24e3:m>16e3?22050:m>12e3?16e3:m>11025?12e3:m>8e3?11025:8e3:se)}function c(l,m){switch(l){case 44100:return m.version=1,0;case 48e3:return m.version=1,1;case 32e3:return m.version=1,2;case 22050:return m.version=0,0;case 24e3:return m.version=0,1;case 16e3:return m.version=0,2;case 11025:return m.version=0,0;case 12e3:return m.version=0,1;case 8e3:return m.version=0,2;default:return m.version=0,-1}}function f(l,m,se){se<16e3&&(m=2);for(var de=W.bitrate_table[m][1],me=2;me<=14;me++)W.bitrate_table[m][me]>0&&Math.abs(W.bitrate_table[m][me]-l)<Math.abs(de-l)&&(de=W.bitrate_table[m][me]);return de}function h(l,m,se){se<16e3&&(m=2);for(var de=0;de<=14;de++)if(W.bitrate_table[m][de]>0&&W.bitrate_table[m][de]==l)return de;return-1}function b(l,m){var se=[new G(8,2e3),new G(16,3700),new G(24,3900),new G(32,5500),new G(40,7e3),new G(48,7500),new G(56,1e4),new G(64,11e3),new G(80,13500),new G(96,15100),new G(112,15600),new G(128,17e3),new G(160,17500),new G(192,18600),new G(224,19400),new G(256,19700),new G(320,20500)],de=x.nearestBitrateFullIndex(m);l.lowerlimit=se[de].lowpass}function j(l){var m=l.internal_flags,se=32,de=-1;if(m.lowpass1>0){for(var me=999,xe=0;xe<=31;xe++){var be=xe/31;be>=m.lowpass2&&(se=Math.min(se,xe)),m.lowpass1<be&&be<m.lowpass2&&(me=Math.min(me,xe))}me==999?m.lowpass1=(se-.75)/31:m.lowpass1=(me-.75)/31,m.lowpass2=se/31}if(m.highpass2>0&&m.highpass2<.9*(.75/31)&&(m.highpass1=0,m.highpass2=0,t.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),m.highpass2>0){for(var Me=-1,xe=0;xe<=31;xe++){var be=xe/31;be<=m.highpass1&&(de=Math.max(de,xe)),m.highpass1<be&&be<m.highpass2&&(Me=Math.max(Me,xe))}m.highpass1=de/31,Me==-1?m.highpass2=(de+.75)/31:m.highpass2=(Me+.75)/31}for(var xe=0;xe<32;xe++){var Fe,we,be=xe/31;m.highpass2>m.highpass1?Fe=D((m.highpass2-be)/(m.highpass2-m.highpass1+1e-20)):Fe=1,m.lowpass2>m.lowpass1?we=D((be-m.lowpass1)/(m.lowpass2-m.lowpass1+1e-20)):we=1,m.amp_filter[xe]=Fe*we}}function Q(l){var m=l.internal_flags;switch(l.quality){default:case 9:m.psymodel=0,m.noise_shaping=0,m.noise_shaping_amp=0,m.noise_shaping_stop=0,m.use_best_huffman=0,m.full_outer_loop=0;break;case 8:l.quality=7;case 7:m.psymodel=1,m.noise_shaping=0,m.noise_shaping_amp=0,m.noise_shaping_stop=0,m.use_best_huffman=0,m.full_outer_loop=0;break;case 6:m.psymodel=1,m.noise_shaping==0&&(m.noise_shaping=1),m.noise_shaping_amp=0,m.noise_shaping_stop=0,m.subblock_gain==-1&&(m.subblock_gain=1),m.use_best_huffman=0,m.full_outer_loop=0;break;case 5:m.psymodel=1,m.noise_shaping==0&&(m.noise_shaping=1),m.noise_shaping_amp=0,m.noise_shaping_stop=0,m.subblock_gain==-1&&(m.subblock_gain=1),m.use_best_huffman=0,m.full_outer_loop=0;break;case 4:m.psymodel=1,m.noise_shaping==0&&(m.noise_shaping=1),m.noise_shaping_amp=0,m.noise_shaping_stop=0,m.subblock_gain==-1&&(m.subblock_gain=1),m.use_best_huffman=1,m.full_outer_loop=0;break;case 3:m.psymodel=1,m.noise_shaping==0&&(m.noise_shaping=1),m.noise_shaping_amp=1,m.noise_shaping_stop=1,m.subblock_gain==-1&&(m.subblock_gain=1),m.use_best_huffman=1,m.full_outer_loop=0;break;case 2:m.psymodel=1,m.noise_shaping==0&&(m.noise_shaping=1),m.substep_shaping==0&&(m.substep_shaping=2),m.noise_shaping_amp=1,m.noise_shaping_stop=1,m.subblock_gain==-1&&(m.subblock_gain=1),m.use_best_huffman=1,m.full_outer_loop=0;break;case 1:m.psymodel=1,m.noise_shaping==0&&(m.noise_shaping=1),m.substep_shaping==0&&(m.substep_shaping=2),m.noise_shaping_amp=2,m.noise_shaping_stop=1,m.subblock_gain==-1&&(m.subblock_gain=1),m.use_best_huffman=1,m.full_outer_loop=0;break;case 0:m.psymodel=1,m.noise_shaping==0&&(m.noise_shaping=1),m.substep_shaping==0&&(m.substep_shaping=2),m.noise_shaping_amp=2,m.noise_shaping_stop=1,m.subblock_gain==-1&&(m.subblock_gain=1),m.use_best_huffman=1,m.full_outer_loop=0;break}}function k(l){var m=l.internal_flags;l.frameNum=0,l.write_id3tag_automatic&&B.id3tag_write_v2(l),m.bitrate_stereoMode_Hist=i([16,4+1]),m.bitrate_blockType_Hist=i([16,4+1+1]),m.PeakSample=0,l.bWriteVbrTag&&he.InitVbrTag(l)}this.lame_init_params=function(l){var m=l.internal_flags;if(m.Class_ID=0,m.ATH==null&&(m.ATH=new o),m.PSY==null&&(m.PSY=new L),m.rgdata==null&&(m.rgdata=new R),m.channels_in=l.num_channels,m.channels_in==1&&(l.mode=E.MONO),m.channels_out=l.mode==E.MONO?1:2,m.mode_ext=U.MPG_MD_MS_LR,l.mode==E.MONO&&(l.force_ms=!1),l.VBR==n.vbr_off&&l.VBR_mean_bitrate_kbps!=128&&l.brate==0&&(l.brate=l.VBR_mean_bitrate_kbps),l.VBR==n.vbr_off||l.VBR==n.vbr_mtrh||l.VBR==n.vbr_mt||(l.free_format=!1),l.VBR==n.vbr_off&&l.brate==0&&K.EQ(l.compression_ratio,0)&&(l.compression_ratio=11.025),l.VBR==n.vbr_off&&l.compression_ratio>0&&(l.out_samplerate==0&&(l.out_samplerate=map2MP3Frequency(int(.97*l.in_samplerate))),l.brate=0|l.out_samplerate*16*m.channels_out/(1e3*l.compression_ratio),m.samplerate_index=c(l.out_samplerate,l),l.free_format||(l.brate=f(l.brate,l.version,l.out_samplerate))),l.out_samplerate!=0&&(l.out_samplerate<16e3?(l.VBR_mean_bitrate_kbps=Math.max(l.VBR_mean_bitrate_kbps,8),l.VBR_mean_bitrate_kbps=Math.min(l.VBR_mean_bitrate_kbps,64)):l.out_samplerate<32e3?(l.VBR_mean_bitrate_kbps=Math.max(l.VBR_mean_bitrate_kbps,8),l.VBR_mean_bitrate_kbps=Math.min(l.VBR_mean_bitrate_kbps,160)):(l.VBR_mean_bitrate_kbps=Math.max(l.VBR_mean_bitrate_kbps,32),l.VBR_mean_bitrate_kbps=Math.min(l.VBR_mean_bitrate_kbps,320))),l.lowpassfreq==0){var se=16e3;switch(l.VBR){case n.vbr_off:{var de=new $;b(de,l.brate),se=de.lowerlimit;break}case n.vbr_abr:{var de=new $;b(de,l.VBR_mean_bitrate_kbps),se=de.lowerlimit;break}case n.vbr_rh:{var me=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=l.VBR_q&&l.VBR_q<=9){var xe=me[l.VBR_q],be=me[l.VBR_q+1],Me=l.VBR_q_frac;se=linear_int(xe,be,Me)}else se=19500;break}default:{var me=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=l.VBR_q&&l.VBR_q<=9){var xe=me[l.VBR_q],be=me[l.VBR_q+1],Me=l.VBR_q_frac;se=linear_int(xe,be,Me)}else se=19500}}l.mode==E.MONO&&(l.VBR==n.vbr_off||l.VBR==n.vbr_abr)&&(se*=1.5),l.lowpassfreq=se|0}if(l.out_samplerate==0&&(2*l.lowpassfreq>l.in_samplerate&&(l.lowpassfreq=l.in_samplerate/2),l.out_samplerate=S(l.lowpassfreq|0,l.in_samplerate)),l.lowpassfreq=Math.min(20500,l.lowpassfreq),l.lowpassfreq=Math.min(l.out_samplerate/2,l.lowpassfreq),l.VBR==n.vbr_off&&(l.compression_ratio=l.out_samplerate*16*m.channels_out/(1e3*l.brate)),l.VBR==n.vbr_abr&&(l.compression_ratio=l.out_samplerate*16*m.channels_out/(1e3*l.VBR_mean_bitrate_kbps)),l.bWriteVbrTag||(l.findReplayGain=!1,l.decode_on_the_fly=!1,m.findPeakSample=!1),m.findReplayGain=l.findReplayGain,m.decode_on_the_fly=l.decode_on_the_fly,m.decode_on_the_fly&&(m.findPeakSample=!0),m.findReplayGain&&M.InitGainAnalysis(m.rgdata,l.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return l.internal_flags=null,-6;switch(m.decode_on_the_fly&&!l.decode_only&&(m.hip!=null&&_.hip_decode_exit(m.hip),m.hip=_.hip_decode_init()),m.mode_gr=l.out_samplerate<=24e3?1:2,l.framesize=576*m.mode_gr,l.encoder_delay=U.ENCDELAY,m.resample_ratio=l.in_samplerate/l.out_samplerate,l.VBR){case n.vbr_mt:case n.vbr_rh:case n.vbr_mtrh:{var Fe=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];l.compression_ratio=Fe[l.VBR_q]}break;case n.vbr_abr:l.compression_ratio=l.out_samplerate*16*m.channels_out/(1e3*l.VBR_mean_bitrate_kbps);break;default:l.compression_ratio=l.out_samplerate*16*m.channels_out/(1e3*l.brate);break}if(l.mode==E.NOT_SET&&(l.mode=E.JOINT_STEREO),l.highpassfreq>0?(m.highpass1=2*l.highpassfreq,l.highpasswidth>=0?m.highpass2=2*(l.highpassfreq+l.highpasswidth):m.highpass2=(1+0)*2*l.highpassfreq,m.highpass1/=l.out_samplerate,m.highpass2/=l.out_samplerate):(m.highpass1=0,m.highpass2=0),l.lowpassfreq>0?(m.lowpass2=2*l.lowpassfreq,l.lowpasswidth>=0?(m.lowpass1=2*(l.lowpassfreq-l.lowpasswidth),m.lowpass1<0&&(m.lowpass1=0)):m.lowpass1=(1-0)*2*l.lowpassfreq,m.lowpass1/=l.out_samplerate,m.lowpass2/=l.out_samplerate):(m.lowpass1=0,m.lowpass2=0),j(l),m.samplerate_index=c(l.out_samplerate,l),m.samplerate_index<0)return l.internal_flags=null,-1;if(l.VBR==n.vbr_off){if(l.free_format)m.bitrate_index=0;else if(l.brate=f(l.brate,l.version,l.out_samplerate),m.bitrate_index=h(l.brate,l.version,l.out_samplerate),m.bitrate_index<=0)return l.internal_flags=null,-1}else m.bitrate_index=1;l.analysis&&(l.bWriteVbrTag=!1),m.pinfo!=null&&(l.bWriteVbrTag=!1),O.init_bit_stream_w(m);for(var we=m.samplerate_index+3*l.version+6*(l.out_samplerate<16e3?1:0),Te=0;Te<U.SBMAX_l+1;Te++)m.scalefac_band.l[Te]=g.sfBandIndex[we].l[Te];for(var Te=0;Te<U.PSFB21+1;Te++){var Xe=(m.scalefac_band.l[22]-m.scalefac_band.l[21])/U.PSFB21,ze=m.scalefac_band.l[21]+Te*Xe;m.scalefac_band.psfb21[Te]=ze}m.scalefac_band.psfb21[U.PSFB21]=576;for(var Te=0;Te<U.SBMAX_s+1;Te++)m.scalefac_band.s[Te]=g.sfBandIndex[we].s[Te];for(var Te=0;Te<U.PSFB12+1;Te++){var Xe=(m.scalefac_band.s[13]-m.scalefac_band.s[12])/U.PSFB12,ze=m.scalefac_band.s[12]+Te*Xe;m.scalefac_band.psfb12[Te]=ze}m.scalefac_band.psfb12[U.PSFB12]=192,l.version==1?m.sideinfo_len=m.channels_out==1?4+17:4+32:m.sideinfo_len=m.channels_out==1?4+9:4+17,l.error_protection&&(m.sideinfo_len+=2),k(l),m.Class_ID=V;{var Ke;for(Ke=0;Ke<19;Ke++)m.nsPsy.pefirbuf[Ke]=700*m.mode_gr*m.channels_out;l.ATHtype==-1&&(l.ATHtype=4)}switch(v(l.VBR_q<=9),v(l.VBR_q>=0),l.VBR){case n.vbr_mt:l.VBR=n.vbr_mtrh;case n.vbr_mtrh:{l.useTemporal==null&&(l.useTemporal=!1),H.apply_preset(l,500-l.VBR_q*10,0),l.quality<0&&(l.quality=LAME_DEFAULT_QUALITY),l.quality<5&&(l.quality=0),l.quality>5&&(l.quality=5),m.PSY.mask_adjust=l.maskingadjust,m.PSY.mask_adjust_short=l.maskingadjust_short,l.experimentalY?m.sfb21_extra=!1:m.sfb21_extra=l.out_samplerate>44e3,m.iteration_loop=new VBRNewIterationLoop(F);break}case n.vbr_rh:{H.apply_preset(l,500-l.VBR_q*10,0),m.PSY.mask_adjust=l.maskingadjust,m.PSY.mask_adjust_short=l.maskingadjust_short,l.experimentalY?m.sfb21_extra=!1:m.sfb21_extra=l.out_samplerate>44e3,l.quality>6&&(l.quality=6),l.quality<0&&(l.quality=LAME_DEFAULT_QUALITY),m.iteration_loop=new VBROldIterationLoop(F);break}default:{var y;m.sfb21_extra=!1,l.quality<0&&(l.quality=LAME_DEFAULT_QUALITY),y=l.VBR,y==n.vbr_off&&(l.VBR_mean_bitrate_kbps=l.brate),H.apply_preset(l,l.VBR_mean_bitrate_kbps,0),l.VBR=y,m.PSY.mask_adjust=l.maskingadjust,m.PSY.mask_adjust_short=l.maskingadjust_short,y==n.vbr_off?m.iteration_loop=new Z(F):m.iteration_loop=new ABRIterationLoop(F);break}}if(v(l.scale>=0),l.VBR!=n.vbr_off){if(m.VBR_min_bitrate=1,m.VBR_max_bitrate=14,l.out_samplerate<16e3&&(m.VBR_max_bitrate=8),l.VBR_min_bitrate_kbps!=0&&(l.VBR_min_bitrate_kbps=f(l.VBR_min_bitrate_kbps,l.version,l.out_samplerate),m.VBR_min_bitrate=h(l.VBR_min_bitrate_kbps,l.version,l.out_samplerate),m.VBR_min_bitrate<0)||l.VBR_max_bitrate_kbps!=0&&(l.VBR_max_bitrate_kbps=f(l.VBR_max_bitrate_kbps,l.version,l.out_samplerate),m.VBR_max_bitrate=h(l.VBR_max_bitrate_kbps,l.version,l.out_samplerate),m.VBR_max_bitrate<0))return-1;l.VBR_min_bitrate_kbps=W.bitrate_table[l.version][m.VBR_min_bitrate],l.VBR_max_bitrate_kbps=W.bitrate_table[l.version][m.VBR_max_bitrate],l.VBR_mean_bitrate_kbps=Math.min(W.bitrate_table[l.version][m.VBR_max_bitrate],l.VBR_mean_bitrate_kbps),l.VBR_mean_bitrate_kbps=Math.max(W.bitrate_table[l.version][m.VBR_min_bitrate],l.VBR_mean_bitrate_kbps)}return l.tune&&(m.PSY.mask_adjust+=l.tune_value_a,m.PSY.mask_adjust_short+=l.tune_value_a),Q(l),v(l.scale>=0),l.athaa_type<0?m.ATH.useAdjust=3:m.ATH.useAdjust=l.athaa_type,m.ATH.aaSensitivityP=Math.pow(10,l.athaa_sensitivity/-10),l.short_blocks==null&&(l.short_blocks=a.short_block_allowed),l.short_blocks==a.short_block_allowed&&(l.mode==E.JOINT_STEREO||l.mode==E.STEREO)&&(l.short_blocks=a.short_block_coupled),l.quant_comp<0&&(l.quant_comp=1),l.quant_comp_short<0&&(l.quant_comp_short=0),l.msfix<0&&(l.msfix=0),l.exp_nspsytune=l.exp_nspsytune|1,l.internal_flags.nsPsy.attackthre<0&&(l.internal_flags.nsPsy.attackthre=p.NSATTACKTHRE),l.internal_flags.nsPsy.attackthre_s<0&&(l.internal_flags.nsPsy.attackthre_s=p.NSATTACKTHRE_S),v(l.scale>=0),l.scale<0&&(l.scale=1),l.ATHtype<0&&(l.ATHtype=4),l.ATHcurve<0&&(l.ATHcurve=4),l.athaa_loudapprox<0&&(l.athaa_loudapprox=2),l.interChRatio<0&&(l.interChRatio=0),l.useTemporal==null&&(l.useTemporal=!0),m.slot_lag=m.frac_SpF=0,l.VBR==n.vbr_off&&(m.slot_lag=m.frac_SpF=(l.version+1)*72e3*l.brate%l.out_samplerate|0),g.iteration_init(l),X.psymodel_init(l),v(l.scale>=0),0};function z(l,m){(l.in_buffer_0==null||l.in_buffer_nsamples<m)&&(l.in_buffer_0=s(m),l.in_buffer_1=s(m),l.in_buffer_nsamples=m)}this.lame_encode_flush=function(l,m,se,de){var me=l.internal_flags,xe=u([2,1152]),be=0,Me,Fe,we,Te,Xe=me.mf_samples_to_encode-U.POSTDELAY,ze=ve(l);if(me.mf_samples_to_encode<1)return 0;for(Me=0,l.in_samplerate!=l.out_samplerate&&(Xe+=16*l.out_samplerate/l.in_samplerate),we=l.framesize-Xe%l.framesize,we<576&&(we+=l.framesize),l.encoder_padding=we,Te=(Xe+we)/l.framesize;Te>0&&be>=0;){var Ke=ze-me.mf_size,y=l.frameNum;Ke*=l.in_samplerate,Ke/=l.out_samplerate,Ke>1152&&(Ke=1152),Ke<1&&(Ke=1),Fe=de-Me,de==0&&(Fe=0),be=this.lame_encode_buffer(l,xe[0],xe[1],Ke,m,se,Fe),se+=be,Me+=be,Te-=y!=l.frameNum?1:0}if(me.mf_samples_to_encode=0,be<0||(Fe=de-Me,de==0&&(Fe=0),O.flush_bitstream(l),be=O.copy_buffer(me,m,se,Fe,1),be<0))return be;if(se+=be,Me+=be,Fe=de-Me,de==0&&(Fe=0),l.write_id3tag_automatic){if(B.id3tag_write_v1(l),be=O.copy_buffer(me,m,se,Fe,0),be<0)return be;Me+=be}return Me},this.lame_encode_buffer=function(l,m,se,de,me,xe,be){var Me=l.internal_flags,Fe=[null,null];if(Me.Class_ID!=V)return-3;if(de==0)return 0;z(Me,de),Fe[0]=Me.in_buffer_0,Fe[1]=Me.in_buffer_1;for(var we=0;we<de;we++)Fe[0][we]=m[we],Me.channels_in>1&&(Fe[1][we]=se[we]);return pe(l,Fe[0],Fe[1],de,me,xe,be)};function ve(l){var m=U.BLKSIZE+l.framesize-U.FFTOFFSET;return m=Math.max(m,512+l.framesize-32),m}function pe(l,m,se,de,me,xe,be){var Me=l.internal_flags,Fe=0,we,Te,Xe,ze,Ke,y=[null,null],T=[null,null];if(Me.Class_ID!=V)return-3;if(de==0)return 0;if(Ke=O.copy_buffer(Me,me,xe,be,0),Ke<0)return Ke;if(xe+=Ke,Fe+=Ke,T[0]=m,T[1]=se,K.NEQ(l.scale,0)&&K.NEQ(l.scale,1))for(Te=0;Te<de;++Te)T[0][Te]*=l.scale,Me.channels_out==2&&(T[1][Te]*=l.scale);if(K.NEQ(l.scale_left,0)&&K.NEQ(l.scale_left,1))for(Te=0;Te<de;++Te)T[0][Te]*=l.scale_left;if(K.NEQ(l.scale_right,0)&&K.NEQ(l.scale_right,1))for(Te=0;Te<de;++Te)T[1][Te]*=l.scale_right;if(l.num_channels==2&&Me.channels_out==1)for(Te=0;Te<de;++Te)T[0][Te]=.5*(T[0][Te]+T[1][Te]),T[1][Te]=0;ze=ve(l),y[0]=Me.mfbuf[0],y[1]=Me.mfbuf[1];for(var N=0;de>0;){var Y=[null,null],ee=0,C=0;Y[0]=T[0],Y[1]=T[1];var te=new P;if(Oe(l,y,Y,N,de,te),ee=te.n_in,C=te.n_out,Me.findReplayGain&&!Me.decode_on_the_fly&&M.AnalyzeSamples(Me.rgdata,y[0],Me.mf_size,y[1],Me.mf_size,C,Me.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(de-=ee,N+=ee,Me.channels_out==2,Me.mf_size+=C,v(Me.mf_size<=d.MFSIZE),Me.mf_samples_to_encode<1&&(Me.mf_samples_to_encode=U.ENCDELAY+U.POSTDELAY),Me.mf_samples_to_encode+=C,Me.mf_size>=ze){var ie=be-Fe;if(be==0&&(ie=0),we=I(l,y[0],y[1],me,xe,ie),we<0)return we;for(xe+=we,Fe+=we,Me.mf_size-=l.framesize,Me.mf_samples_to_encode-=l.framesize,Xe=0;Xe<Me.channels_out;Xe++)for(Te=0;Te<Me.mf_size;Te++)y[Xe][Te]=y[Xe][Te+l.framesize]}}return Fe}function I(l,m,se,de,me,xe){var be=x.enc.lame_encode_mp3_frame(l,m,se,de,me,xe);return l.frameNum++,be}function P(){this.n_in=0,this.n_out=0}function J(){this.num_used=0}function ae(l,m){return m!=0?ae(m,l%m):l}function le(l,m,se){var de=Math.PI*m;l/=se,l<0&&(l=0),l>1&&(l=1);var me=l-.5,xe=.42-.5*Math.cos(2*l*Math.PI)+.08*Math.cos(4*l*Math.PI);return Math.abs(me)<1e-9?de/Math.PI:xe*Math.sin(se*de*me)/(Math.PI*se*me)}function Se(l,m,se,de,me,xe,be,Me,Fe){var we=l.internal_flags,Te,Xe=0,ze,Ke=l.out_samplerate/ae(l.out_samplerate,l.in_samplerate);Ke>d.BPC&&(Ke=d.BPC);var y=Math.abs(we.resample_ratio-Math.floor(.5+we.resample_ratio))<1e-4?1:0,T=1/we.resample_ratio;T>1&&(T=1);var N=31;N%2==0&&--N,N+=y;var Y=N+1;if(we.fill_buffer_resample_init==0){for(we.inbuf_old[0]=s(Y),we.inbuf_old[1]=s(Y),Te=0;Te<=2*Ke;++Te)we.blackfilt[Te]=s(Y);for(we.itime[0]=0,we.itime[1]=0,Xe=0;Xe<=2*Ke;Xe++){var ee=0,C=(Xe-Ke)/(2*Ke);for(Te=0;Te<=N;Te++)ee+=we.blackfilt[Xe][Te]=le(Te-C,T,N);for(Te=0;Te<=N;Te++)we.blackfilt[Xe][Te]/=ee}we.fill_buffer_resample_init=1}var te=we.inbuf_old[Fe];for(ze=0;ze<de;ze++){var ie,ne;if(ie=ze*we.resample_ratio,Xe=0|Math.floor(ie-we.itime[Fe]),N+Xe-N/2>=be)break;var C=ie-we.itime[Fe]-(Xe+.5*(N%2));ne=0|Math.floor(C*2*Ke+Ke+.5);var ue=0;for(Te=0;Te<=N;++Te){var oe=0|Te+Xe-N/2,ce;ce=oe<0?te[Y+oe]:me[xe+oe],ue+=ce*we.blackfilt[ne][Te]}m[se+ze]=ue}if(Me.num_used=Math.min(be,N+Xe-N/2),we.itime[Fe]+=Me.num_used-ze*we.resample_ratio,Me.num_used>=Y)for(Te=0;Te<Y;Te++)te[Te]=me[xe+Me.num_used+Te-Y];else{var Be=Y-Me.num_used;for(Te=0;Te<Be;++Te)te[Te]=te[Te+Me.num_used];for(Xe=0;Te<Y;++Te,++Xe)te[Te]=me[xe+Xe];v(Xe==Me.num_used)}return ze}function Oe(l,m,se,de,me,xe){var be=l.internal_flags;if(be.resample_ratio<.9999||be.resample_ratio>1.0001)for(var Me=0;Me<be.channels_out;Me++){var Fe=new J;xe.n_out=Se(l,m[Me],be.mf_size,l.framesize,se[Me],de,me,Fe,Me),xe.n_in=Fe.num_used}else{xe.n_out=Math.min(l.framesize,me),xe.n_in=xe.n_out;for(var we=0;we<xe.n_out;++we)m[0][be.mf_size+we]=se[0][de+we],be.channels_out==2&&(m[1][be.mf_size+we]=se[1][de+we])}}}return qa=A,qa}var C_=a0,tt=C_.VbrMode;function O_(){var e=Lr();function t(d,o,R,Z,K,W,U,A,E,x,w,r,M,O,H){this.vbr_q=d,this.quant_comp=o,this.quant_comp_s=R,this.expY=Z,this.st_lrm=K,this.st_s=W,this.masking_adj=U,this.masking_adj_short=A,this.ath_lower=E,this.ath_curve=x,this.ath_sensitivity=w,this.interch=r,this.safejoint=M,this.sfb21mod=O,this.msfix=H}function n(d,o,R,Z,K,W,U,A,E,x,w,r,M,O){this.quant_comp=o,this.quant_comp_s=R,this.safejoint=Z,this.nsmsfix=K,this.st_lrm=W,this.st_s=U,this.nsbass=A,this.scale=E,this.masking_adj=x,this.ath_lower=w,this.ath_curve=r,this.interch=M,this.sfscale=O}var a;this.setModules=function(d){a=d};var s=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],i=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function u(d,o,R){var Z=d.VBR==tt.vbr_rh?s:i,K=d.VBR_q_frac,W=Z[o],U=Z[o+1],A=W;W.st_lrm=W.st_lrm+K*(U.st_lrm-W.st_lrm),W.st_s=W.st_s+K*(U.st_s-W.st_s),W.masking_adj=W.masking_adj+K*(U.masking_adj-W.masking_adj),W.masking_adj_short=W.masking_adj_short+K*(U.masking_adj_short-W.masking_adj_short),W.ath_lower=W.ath_lower+K*(U.ath_lower-W.ath_lower),W.ath_curve=W.ath_curve+K*(U.ath_curve-W.ath_curve),W.ath_sensitivity=W.ath_sensitivity+K*(U.ath_sensitivity-W.ath_sensitivity),W.interch=W.interch+K*(U.interch-W.interch),W.msfix=W.msfix+K*(U.msfix-W.msfix),q(d,A.vbr_q),R!=0?d.quant_comp=A.quant_comp:Math.abs(d.quant_comp- -1)>0||(d.quant_comp=A.quant_comp),R!=0?d.quant_comp_short=A.quant_comp_s:Math.abs(d.quant_comp_short- -1)>0||(d.quant_comp_short=A.quant_comp_s),A.expY!=0&&(d.experimentalY=A.expY!=0),R!=0?d.internal_flags.nsPsy.attackthre=A.st_lrm:Math.abs(d.internal_flags.nsPsy.attackthre- -1)>0||(d.internal_flags.nsPsy.attackthre=A.st_lrm),R!=0?d.internal_flags.nsPsy.attackthre_s=A.st_s:Math.abs(d.internal_flags.nsPsy.attackthre_s- -1)>0||(d.internal_flags.nsPsy.attackthre_s=A.st_s),R!=0?d.maskingadjust=A.masking_adj:Math.abs(d.maskingadjust-0)>0||(d.maskingadjust=A.masking_adj),R!=0?d.maskingadjust_short=A.masking_adj_short:Math.abs(d.maskingadjust_short-0)>0||(d.maskingadjust_short=A.masking_adj_short),R!=0?d.ATHlower=-A.ath_lower/10:Math.abs(-d.ATHlower*10-0)>0||(d.ATHlower=-A.ath_lower/10),R!=0?d.ATHcurve=A.ath_curve:Math.abs(d.ATHcurve- -1)>0||(d.ATHcurve=A.ath_curve),R!=0?d.athaa_sensitivity=A.ath_sensitivity:Math.abs(d.athaa_sensitivity- -1)>0||(d.athaa_sensitivity=A.ath_sensitivity),A.interch>0&&(R!=0?d.interChRatio=A.interch:Math.abs(d.interChRatio- -1)>0||(d.interChRatio=A.interch)),A.safejoint>0&&(d.exp_nspsytune=d.exp_nspsytune|A.safejoint),A.sfb21mod>0&&(d.exp_nspsytune=d.exp_nspsytune|A.sfb21mod<<20),R!=0?d.msfix=A.msfix:Math.abs(d.msfix- -1)>0||(d.msfix=A.msfix),R==0&&(d.VBR_q=o,d.VBR_q_frac=K)}var v=[new n(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new n(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new n(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new n(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new n(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new n(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new n(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new n(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new n(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new n(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new n(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new n(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new n(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new n(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new n(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function p(d,o,R){var Z=o,K=a.nearestBitrateFullIndex(o);if(d.VBR=tt.vbr_abr,d.VBR_mean_bitrate_kbps=Z,d.VBR_mean_bitrate_kbps=Math.min(d.VBR_mean_bitrate_kbps,320),d.VBR_mean_bitrate_kbps=Math.max(d.VBR_mean_bitrate_kbps,8),d.brate=d.VBR_mean_bitrate_kbps,d.VBR_mean_bitrate_kbps>320&&(d.disable_reservoir=!0),v[K].safejoint>0&&(d.exp_nspsytune=d.exp_nspsytune|2),v[K].sfscale>0&&(d.internal_flags.noise_shaping=2),Math.abs(v[K].nsbass)>0){var W=int(v[K].nsbass*4);W<0&&(W+=64),d.exp_nspsytune=d.exp_nspsytune|W<<2}return R!=0?d.quant_comp=v[K].quant_comp:Math.abs(d.quant_comp- -1)>0||(d.quant_comp=v[K].quant_comp),R!=0?d.quant_comp_short=v[K].quant_comp_s:Math.abs(d.quant_comp_short- -1)>0||(d.quant_comp_short=v[K].quant_comp_s),R!=0?d.msfix=v[K].nsmsfix:Math.abs(d.msfix- -1)>0||(d.msfix=v[K].nsmsfix),R!=0?d.internal_flags.nsPsy.attackthre=v[K].st_lrm:Math.abs(d.internal_flags.nsPsy.attackthre- -1)>0||(d.internal_flags.nsPsy.attackthre=v[K].st_lrm),R!=0?d.internal_flags.nsPsy.attackthre_s=v[K].st_s:Math.abs(d.internal_flags.nsPsy.attackthre_s- -1)>0||(d.internal_flags.nsPsy.attackthre_s=v[K].st_s),R!=0?d.scale=v[K].scale:Math.abs(d.scale- -1)>0||(d.scale=v[K].scale),R!=0?d.maskingadjust=v[K].masking_adj:Math.abs(d.maskingadjust-0)>0||(d.maskingadjust=v[K].masking_adj),v[K].masking_adj>0?R!=0?d.maskingadjust_short=v[K].masking_adj*.9:Math.abs(d.maskingadjust_short-0)>0||(d.maskingadjust_short=v[K].masking_adj*.9):R!=0?d.maskingadjust_short=v[K].masking_adj*1.1:Math.abs(d.maskingadjust_short-0)>0||(d.maskingadjust_short=v[K].masking_adj*1.1),R!=0?d.ATHlower=-v[K].ath_lower/10:Math.abs(-d.ATHlower*10-0)>0||(d.ATHlower=-v[K].ath_lower/10),R!=0?d.ATHcurve=v[K].ath_curve:Math.abs(d.ATHcurve- -1)>0||(d.ATHcurve=v[K].ath_curve),R!=0?d.interChRatio=v[K].interch:Math.abs(d.interChRatio- -1)>0||(d.interChRatio=v[K].interch),o}this.apply_preset=function(d,o,R){switch(o){case e.R3MIX:{o=e.V3,d.VBR=tt.vbr_mtrh;break}case e.MEDIUM:{o=e.V4,d.VBR=tt.vbr_rh;break}case e.MEDIUM_FAST:{o=e.V4,d.VBR=tt.vbr_mtrh;break}case e.STANDARD:{o=e.V2,d.VBR=tt.vbr_rh;break}case e.STANDARD_FAST:{o=e.V2,d.VBR=tt.vbr_mtrh;break}case e.EXTREME:{o=e.V0,d.VBR=tt.vbr_rh;break}case e.EXTREME_FAST:{o=e.V0,d.VBR=tt.vbr_mtrh;break}case e.INSANE:return o=320,d.preset=o,p(d,o,R),d.VBR=tt.vbr_off,o}switch(d.preset=o,o){case e.V9:return u(d,9,R),o;case e.V8:return u(d,8,R),o;case e.V7:return u(d,7,R),o;case e.V6:return u(d,6,R),o;case e.V5:return u(d,5,R),o;case e.V4:return u(d,4,R),o;case e.V3:return u(d,3,R),o;case e.V2:return u(d,2,R),o;case e.V1:return u(d,1,R),o;case e.V0:return u(d,0,R),o}return 8<=o&&o<=320?p(d,o,R):(d.preset=0,o)};function q(d,o){var R=0;return 0>o&&(R=-1,o=0),9<o&&(R=-1,o=9),d.VBR_q=o,d.VBR_q_frac=0,R}}var L_=O_;function N_(){this.setModules=function(e,t){}}var F_=N_;function H_(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var k_=H_,oi=a0,Ns=oi.new_float,V_=oi.new_int;function D_(){this.global_gain=0,this.sfb_count1=0,this.step=V_(39),this.noise=Ns(39),this.noise_log=Ns(39)}var P_=D_,nn=a0,ht=nn.System,Fs=nn.VbrMode,Ua=nn.Util,Ut=nn.Arrays,un=nn.new_float,cn=nn.assert,X_=F_,Ka=k_,$_=P_,ge=A0(),Hs=wr,ks=ha;function Y_(){var e;this.rv=null;var t;this.qupvt=null;var n,a=new X_,s;this.setModules=function(A,E,x,w){e=A,t=E,this.rv=E,n=x,this.qupvt=x,s=w,a.setModules(n,s)},this.ms_convert=function(A,E){for(var x=0;x<576;++x){var w=A.tt[E][0].xr[x],r=A.tt[E][1].xr[x];A.tt[E][0].xr[x]=(w+r)*(Ua.SQRT2*.5),A.tt[E][1].xr[x]=(w-r)*(Ua.SQRT2*.5)}};function i(A,E,x,w){w=0;for(var r=0;r<=x;++r){var M=Math.abs(A.xr[r]);w+=M,E[r]=Math.sqrt(M*Math.sqrt(M)),E[r]>A.xrpow_max&&(A.xrpow_max=E[r])}return w}this.init_xrpow=function(A,E,x){var w=0,r=0|E.max_nonzero_coeff;if(E.xrpow_max=0,Ut.fill(x,r,576,0),w=i(E,x,r,w),w>1e-20){var M=0;A.substep_shaping&2&&(M=1);for(var O=0;O<E.psymax;O++)A.pseudohalf[O]=M;return!0}return Ut.fill(E.l3_enc,0,576,0),!1};function u(A,E){var x=A.ATH,w=E.xr;if(E.block_type!=ge.SHORT_TYPE)for(var r=!1,M=ge.PSFB21-1;M>=0&&!r;M--){var O=A.scalefac_band.psfb21[M],H=A.scalefac_band.psfb21[M+1],g=n.athAdjust(x.adjust,x.psfb21[M],x.floor);A.nsPsy.longfact[21]>1e-12&&(g*=A.nsPsy.longfact[21]);for(var F=H-1;F>=O;F--)if(Math.abs(w[F])<g)w[F]=0;else{r=!0;break}}else for(var X=0;X<3;X++)for(var r=!1,M=ge.PSFB12-1;M>=0&&!r;M--){var O=A.scalefac_band.s[12]*3+(A.scalefac_band.s[13]-A.scalefac_band.s[12])*X+(A.scalefac_band.psfb12[M]-A.scalefac_band.psfb12[0]),H=O+(A.scalefac_band.psfb12[M+1]-A.scalefac_band.psfb12[M]),he=n.athAdjust(x.adjust,x.psfb12[M],x.floor);A.nsPsy.shortfact[12]>1e-12&&(he*=A.nsPsy.shortfact[12]);for(var F=H-1;F>=O;F--)if(Math.abs(w[F])<he)w[F]=0;else{r=!0;break}}}this.init_outer_loop=function(A,E){E.part2_3_length=0,E.big_values=0,E.count1=0,E.global_gain=210,E.scalefac_compress=0,E.table_select[0]=0,E.table_select[1]=0,E.table_select[2]=0,E.subblock_gain[0]=0,E.subblock_gain[1]=0,E.subblock_gain[2]=0,E.subblock_gain[3]=0,E.region0_count=0,E.region1_count=0,E.preflag=0,E.scalefac_scale=0,E.count1table_select=0,E.part2_length=0,E.sfb_lmax=ge.SBPSY_l,E.sfb_smin=ge.SBPSY_s,E.psy_lmax=A.sfb21_extra?ge.SBMAX_l:ge.SBPSY_l,E.psymax=E.psy_lmax,E.sfbmax=E.sfb_lmax,E.sfbdivide=11;for(var x=0;x<ge.SBMAX_l;x++)E.width[x]=A.scalefac_band.l[x+1]-A.scalefac_band.l[x],E.window[x]=3;if(E.block_type==ge.SHORT_TYPE){var w=un(576);E.sfb_smin=0,E.sfb_lmax=0,E.mixed_block_flag!=0&&(E.sfb_smin=3,E.sfb_lmax=A.mode_gr*2+4),E.psymax=E.sfb_lmax+3*((A.sfb21_extra?ge.SBMAX_s:ge.SBPSY_s)-E.sfb_smin),E.sfbmax=E.sfb_lmax+3*(ge.SBPSY_s-E.sfb_smin),E.sfbdivide=E.sfbmax-18,E.psy_lmax=E.sfb_lmax;var r=A.scalefac_band.l[E.sfb_lmax];ht.arraycopy(E.xr,0,w,0,576);for(var x=E.sfb_smin;x<ge.SBMAX_s;x++)for(var M=A.scalefac_band.s[x],O=A.scalefac_band.s[x+1],H=0;H<3;H++)for(var g=M;g<O;g++)E.xr[r++]=w[3*g+H];for(var F=E.sfb_lmax,x=E.sfb_smin;x<ge.SBMAX_s;x++)E.width[F]=E.width[F+1]=E.width[F+2]=A.scalefac_band.s[x+1]-A.scalefac_band.s[x],E.window[F]=0,E.window[F+1]=1,E.window[F+2]=2,F+=3}E.count1bits=0,E.sfb_partition_table=n.nr_of_sfb_block[0][0],E.slen[0]=0,E.slen[1]=0,E.slen[2]=0,E.slen[3]=0,E.max_nonzero_coeff=575,Ut.fill(E.scalefac,0),u(A,E)};function v(A){this.ordinal=A}v.BINSEARCH_NONE=new v(0),v.BINSEARCH_UP=new v(1),v.BINSEARCH_DOWN=new v(2);function p(A,E,x,w,r){var M,O=A.CurrentStep[w],H=!1,g=A.OldValue[w],F=v.BINSEARCH_NONE;for(E.global_gain=g,x-=E.part2_length;;){var X;if(M=s.count_bits(A,r,E,null),O==1||M==x)break;M>x?(F==v.BINSEARCH_DOWN&&(H=!0),H&&(O/=2),F=v.BINSEARCH_UP,X=O):(F==v.BINSEARCH_UP&&(H=!0),H&&(O/=2),F=v.BINSEARCH_DOWN,X=-O),E.global_gain+=X,E.global_gain<0&&(E.global_gain=0,H=!0),E.global_gain>255&&(E.global_gain=255,H=!0)}for(cn(E.global_gain>=0),cn(E.global_gain<256);M>x&&E.global_gain<255;)E.global_gain++,M=s.count_bits(A,r,E,null);return A.CurrentStep[w]=g-E.global_gain>=4?4:2,A.OldValue[w]=E.global_gain,E.part2_3_length=M,M}this.trancate_smallspectrums=function(A,E,x,w){var r=un(ks.SFBMAX);if(!(!(A.substep_shaping&4)&&E.block_type==ge.SHORT_TYPE||A.substep_shaping&128)){n.calc_noise(E,x,r,new Ka,null);for(var O=0;O<576;O++){var M=0;E.l3_enc[O]!=0&&(M=Math.abs(E.xr[O])),w[O]=M}var O=0,H=8;E.block_type==ge.SHORT_TYPE&&(H=6);do{var g,F,X,he,B=E.width[H];if(O+=B,!(r[H]>=1)&&(Ut.sort(w,O-B,B),!BitStream.EQ(w[O-1],0))){g=(1-r[H])*x[H],F=0,he=0;do{var _;for(X=1;he+X<B&&!BitStream.NEQ(w[he+O-B],w[he+O+X-B]);X++);if(_=w[he+O-B]*w[he+O-B]*X,g<_){he!=0&&(F=w[he+O-B-1]);break}g-=_,he+=X}while(he<B);if(!BitStream.EQ(F,0))do Math.abs(E.xr[O-B])<=F&&(E.l3_enc[O-B]=0);while(--B>0)}}while(++H<E.psymax);E.part2_3_length=s.noquant_count_bits(A,E,null)}};function q(A){for(var E=0;E<A.sfbmax;E++)if(A.scalefac[E]+A.subblock_gain[A.window[E]]==0)return!1;return!0}function d(A){return Ua.FAST_LOG10(.368+.632*A*A*A)}function o(A,E){for(var x=1e-37,w=0;w<E.psymax;w++)x+=d(A[w]);return Math.max(1e-20,x)}function R(A,E,x,w,r){var M;switch(A){default:case 9:{E.over_count>0?(M=x.over_SSD<=E.over_SSD,x.over_SSD==E.over_SSD&&(M=x.bits<E.bits)):M=x.max_noise<0&&x.max_noise*10+x.bits<=E.max_noise*10+E.bits;break}case 0:M=x.over_count<E.over_count||x.over_count==E.over_count&&x.over_noise<E.over_noise||x.over_count==E.over_count&&BitStream.EQ(x.over_noise,E.over_noise)&&x.tot_noise<E.tot_noise;break;case 8:x.max_noise=o(r,w);case 1:M=x.max_noise<E.max_noise;break;case 2:M=x.tot_noise<E.tot_noise;break;case 3:M=x.tot_noise<E.tot_noise&&x.max_noise<E.max_noise;break;case 4:M=x.max_noise<=0&&E.max_noise>.2||x.max_noise<=0&&E.max_noise<0&&E.max_noise>x.max_noise-.2&&x.tot_noise<E.tot_noise||x.max_noise<=0&&E.max_noise>0&&E.max_noise>x.max_noise-.2&&x.tot_noise<E.tot_noise+E.over_noise||x.max_noise>0&&E.max_noise>-.05&&E.max_noise>x.max_noise-.1&&x.tot_noise+x.over_noise<E.tot_noise+E.over_noise||x.max_noise>0&&E.max_noise>-.1&&E.max_noise>x.max_noise-.15&&x.tot_noise+x.over_noise+x.over_noise<E.tot_noise+E.over_noise+E.over_noise;break;case 5:M=x.over_noise<E.over_noise||BitStream.EQ(x.over_noise,E.over_noise)&&x.tot_noise<E.tot_noise;break;case 6:M=x.over_noise<E.over_noise||BitStream.EQ(x.over_noise,E.over_noise)&&(x.max_noise<E.max_noise||BitStream.EQ(x.max_noise,E.max_noise)&&x.tot_noise<=E.tot_noise);break;case 7:M=x.over_count<E.over_count||x.over_noise<E.over_noise;break}return E.over_count==0&&(M=M&&x.bits<E.bits),M}function Z(A,E,x,w,r){var M=A.internal_flags,O;E.scalefac_scale==0?O=1.2968395546510096:O=1.6817928305074292;for(var H=0,g=0;g<E.sfbmax;g++)H<x[g]&&(H=x[g]);var F=M.noise_shaping_amp;switch(F==3&&(r?F=2:F=1),F){case 2:break;case 1:H>1?H=Math.pow(H,.5):H*=.95;break;case 0:default:H>1?H=1:H*=.95;break}for(var X=0,g=0;g<E.sfbmax;g++){var he=E.width[g],B;if(X+=he,!(x[g]<H)){if(M.substep_shaping&2&&(M.pseudohalf[g]=M.pseudohalf[g]==0?1:0,M.pseudohalf[g]==0&&M.noise_shaping_amp==2))return;for(E.scalefac[g]++,B=-he;B<0;B++)w[X+B]*=O,w[X+B]>E.xrpow_max&&(E.xrpow_max=w[X+B]);if(M.noise_shaping_amp==2)return}}}function K(A,E){for(var x=1.2968395546510096,w=0,r=0;r<A.sfbmax;r++){var M=A.width[r],O=A.scalefac[r];if(A.preflag!=0&&(O+=n.pretab[r]),w+=M,O&1){O++;for(var H=-M;H<0;H++)E[w+H]*=x,E[w+H]>A.xrpow_max&&(A.xrpow_max=E[w+H])}A.scalefac[r]=O>>1}A.preflag=0,A.scalefac_scale=1}function W(A,E,x){var w,r=E.scalefac;for(w=0;w<E.sfb_lmax;w++)if(r[w]>=16)return!0;for(var M=0;M<3;M++){var O=0,H=0;for(w=E.sfb_lmax+M;w<E.sfbdivide;w+=3)O<r[w]&&(O=r[w]);for(;w<E.sfbmax;w+=3)H<r[w]&&(H=r[w]);if(!(O<16&&H<8)){if(E.subblock_gain[M]>=7)return!0;E.subblock_gain[M]++;var g=A.scalefac_band.l[E.sfb_lmax];for(w=E.sfb_lmax+M;w<E.sfbmax;w+=3){var F,X=E.width[w],he=r[w];if(he=he-(4>>E.scalefac_scale),he>=0){r[w]=he,g+=X*3;continue}r[w]=0;{var B=210+(he<<E.scalefac_scale+1);F=n.IPOW20(B)}g+=X*(M+1);for(var _=-X;_<0;_++)x[g+_]*=F,x[g+_]>E.xrpow_max&&(E.xrpow_max=x[g+_]);g+=X*(3-M-1)}{var F=n.IPOW20(202);g+=E.width[w]*(M+1);for(var _=-E.width[w];_<0;_++)x[g+_]*=F,x[g+_]>E.xrpow_max&&(E.xrpow_max=x[g+_])}}}return!1}function U(A,E,x,w,r){var M=A.internal_flags;Z(A,E,x,w,r);var O=q(E);return O?!1:(M.mode_gr==2?O=s.scale_bitcount(E):O=s.scale_bitcount_lsf(M,E),O?(M.noise_shaping>1&&(Ut.fill(M.pseudohalf,0),E.scalefac_scale==0?(K(E,w),O=!1):E.block_type==ge.SHORT_TYPE&&M.subblock_gain>0&&(O=W(M,E,w)||q(E))),O||(M.mode_gr==2?O=s.scale_bitcount(E):O=s.scale_bitcount_lsf(M,E)),!O):!0)}this.outer_loop=function(A,E,x,w,r,M){var O=A.internal_flags,H=new Hs,g=un(576),F=un(ks.SFBMAX),X=new Ka,he,B=new $_,_=9999999,L=!1,$=!1,G=0;if(p(O,E,M,r,w),O.noise_shaping==0)return 100;n.calc_noise(E,x,F,X,B),X.bits=E.part2_3_length,H.assign(E);var V=0;for(ht.arraycopy(w,0,g,0,576);!L;){do{var re=new Ka,D,S=255;if(O.substep_shaping&2?D=20:D=3,O.sfb21_extra&&(F[H.sfbmax]>1||H.block_type==ge.SHORT_TYPE&&(F[H.sfbmax+1]>1||F[H.sfbmax+2]>1))||!U(A,H,F,w,$))break;H.scalefac_scale!=0&&(S=254);var c=M-H.part2_length;if(c<=0)break;for(;(H.part2_3_length=s.count_bits(O,w,H,B))>c&&H.global_gain<=S;)H.global_gain++;if(H.global_gain>S)break;if(X.over_count==0){for(;(H.part2_3_length=s.count_bits(O,w,H,B))>_&&H.global_gain<=S;)H.global_gain++;if(H.global_gain>S)break}if(n.calc_noise(H,x,F,re,B),re.bits=H.part2_3_length,E.block_type!=ge.SHORT_TYPE?he=A.quant_comp:he=A.quant_comp_short,he=R(he,X,re,H,F)?1:0,he!=0)_=E.part2_3_length,X=re,E.assign(H),V=0,ht.arraycopy(w,0,g,0,576);else if(O.full_outer_loop==0&&(++V>D&&X.over_count==0||O.noise_shaping_amp==3&&$&&V>30||O.noise_shaping_amp==3&&$&&H.global_gain-G>15))break}while(H.global_gain+H.scalefac_scale<255);O.noise_shaping_amp==3?$?L=!0:(H.assign(E),ht.arraycopy(g,0,w,0,576),V=0,G=H.global_gain,$=!0):L=!0}return cn(E.global_gain+E.scalefac_scale<=255),A.VBR==Fs.vbr_rh||A.VBR==Fs.vbr_mtrh?ht.arraycopy(g,0,w,0,576):O.substep_shaping&1&&trancate_smallspectrums(O,E,x,w),X.over_count},this.iteration_finish_one=function(A,E,x){var w=A.l3_side,r=w.tt[E][x];s.best_scalefac_store(A,E,x,w),A.use_best_huffman==1&&s.best_huffman_divide(A,r),t.ResvAdjust(A,r)},this.VBR_encode_granule=function(A,E,x,w,r,M,O){var H=A.internal_flags,g=new Hs,F=un(576),X=O,he=O+1,B=(O+M)/2,_,L,$=0,G=H.sfb21_extra;cn(X<=LameInternalFlags.MAX_BITS_PER_CHANNEL),Ut.fill(g.l3_enc,0);do B>X-42?H.sfb21_extra=!1:H.sfb21_extra=G,L=outer_loop(A,E,x,w,r,B),L<=0?($=1,he=E.part2_3_length,g.assign(E),ht.arraycopy(w,0,F,0,576),O=he-32,_=O-M,B=(O+M)/2):(M=B+32,_=O-M,B=(O+M)/2,$!=0&&($=2,E.assign(g),ht.arraycopy(F,0,w,0,576)));while(_>12);H.sfb21_extra=G,$==2&&ht.arraycopy(g.l3_enc,0,E.l3_enc,0,576),cn(E.part2_3_length<=X)},this.get_framebits=function(A,E){var x=A.internal_flags;x.bitrate_index=x.VBR_min_bitrate;var w=e.getframebits(A);x.bitrate_index=1,w=e.getframebits(A);for(var r=1;r<=x.VBR_max_bitrate;r++){x.bitrate_index=r;var M=new MeanBits(w);E[r]=t.ResvFrameBegin(A,M),w=M.bits}},this.VBR_old_prepare=function(A,E,x,w,r,M,O,H,g){var F=A.internal_flags,X,he=0,B=1,_=0;F.bitrate_index=F.VBR_max_bitrate;var L=t.ResvFrameBegin(A,new MeanBits(0))/F.mode_gr;get_framebits(A,M);for(var $=0;$<F.mode_gr;$++){var G=n.on_pe(A,E,H[$],L,$,0);F.mode_ext==ge.MPG_MD_MS_LR&&(ms_convert(F.l3_side,$),n.reduce_side(H[$],x[$],L,G));for(var V=0;V<F.channels_out;++V){var re=F.l3_side.tt[$][V];re.block_type!=ge.SHORT_TYPE?(he=1.28/(1+Math.exp(3.5-E[$][V]/300))-.05,X=F.PSY.mask_adjust-he):(he=2.56/(1+Math.exp(3.5-E[$][V]/300))-.14,X=F.PSY.mask_adjust_short-he),F.masking_lower=Math.pow(10,X*.1),init_outer_loop(F,re),g[$][V]=n.calc_xmin(A,w[$][V],re,r[$][V]),g[$][V]!=0&&(B=0),O[$][V]=126,_+=H[$][V]}}for(var $=0;$<F.mode_gr;$++)for(var V=0;V<F.channels_out;V++)_>M[F.VBR_max_bitrate]&&(H[$][V]*=M[F.VBR_max_bitrate],H[$][V]/=_),O[$][V]>H[$][V]&&(O[$][V]=H[$][V]);return B},this.bitpressure_strategy=function(A,E,x,w){for(var r=0;r<A.mode_gr;r++)for(var M=0;M<A.channels_out;M++){for(var O=A.l3_side.tt[r][M],H=E[r][M],g=0,F=0;F<O.psy_lmax;F++)H[g++]*=1+.029*F*F/ge.SBMAX_l/ge.SBMAX_l;if(O.block_type==ge.SHORT_TYPE)for(var F=O.sfb_smin;F<ge.SBMAX_s;F++)H[g++]*=1+.029*F*F/ge.SBMAX_s/ge.SBMAX_s,H[g++]*=1+.029*F*F/ge.SBMAX_s/ge.SBMAX_s,H[g++]*=1+.029*F*F/ge.SBMAX_s/ge.SBMAX_s;w[r][M]=0|Math.max(x[r][M],.9*w[r][M])}},this.VBR_new_prepare=function(A,E,x,w,r,M){var O=A.internal_flags,H=1,g=0,F=0,X;if(A.free_format){O.bitrate_index=0;var he=new MeanBits(g);X=t.ResvFrameBegin(A,he),g=he.bits,r[0]=X}else{O.bitrate_index=O.VBR_max_bitrate;var he=new MeanBits(g);t.ResvFrameBegin(A,he),g=he.bits,get_framebits(A,r),X=r[O.VBR_max_bitrate]}for(var B=0;B<O.mode_gr;B++){n.on_pe(A,E,M[B],g,B,0),O.mode_ext==ge.MPG_MD_MS_LR&&ms_convert(O.l3_side,B);for(var _=0;_<O.channels_out;++_){var L=O.l3_side.tt[B][_];O.masking_lower=Math.pow(10,O.PSY.mask_adjust*.1),init_outer_loop(O,L),n.calc_xmin(A,x[B][_],L,w[B][_])!=0&&(H=0),F+=M[B][_]}}for(var B=0;B<O.mode_gr;B++)for(var _=0;_<O.channels_out;_++)F>X&&(M[B][_]*=X,M[B][_]/=F);return H},this.calc_target_bits=function(A,E,x,w,r,M){var O=A.internal_flags,H=O.l3_side,g,F,X,he,B=0;O.bitrate_index=O.VBR_max_bitrate;var _=new MeanBits(B);for(M[0]=t.ResvFrameBegin(A,_),B=_.bits,O.bitrate_index=1,B=e.getframebits(A)-O.sideinfo_len*8,r[0]=B/(O.mode_gr*O.channels_out),B=A.VBR_mean_bitrate_kbps*A.framesize*1e3,O.substep_shaping&1&&(B*=1.09),B/=A.out_samplerate,B-=O.sideinfo_len*8,B/=O.mode_gr*O.channels_out,g=.93+.07*(11-A.compression_ratio)/(11-5.5),g<.9&&(g=.9),g>1&&(g=1),F=0;F<O.mode_gr;F++){var L=0;for(X=0;X<O.channels_out;X++){if(w[F][X]=int(g*B),E[F][X]>700){var $=int((E[F][X]-700)/1.4),G=H.tt[F][X];w[F][X]=int(g*B),G.block_type==ge.SHORT_TYPE&&$<B/2&&($=B/2),$>B*3/2?$=B*3/2:$<0&&($=0),w[F][X]+=$}w[F][X]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(w[F][X]=LameInternalFlags.MAX_BITS_PER_CHANNEL),L+=w[F][X]}if(L>LameInternalFlags.MAX_BITS_PER_GRANULE)for(X=0;X<O.channels_out;++X)w[F][X]*=LameInternalFlags.MAX_BITS_PER_GRANULE,w[F][X]/=L}if(O.mode_ext==ge.MPG_MD_MS_LR)for(F=0;F<O.mode_gr;F++)n.reduce_side(w[F],x[F],B*O.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(he=0,F=0;F<O.mode_gr;F++)for(X=0;X<O.channels_out;X++)w[F][X]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(w[F][X]=LameInternalFlags.MAX_BITS_PER_CHANNEL),he+=w[F][X];if(he>M[0])for(F=0;F<O.mode_gr;F++)for(X=0;X<O.channels_out;X++)w[F][X]*=M[0],w[F][X]/=he}}var q_=Y_,U_=a0,Vs=U_.assert;function K_(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var a=t.internal_flags,s,i=a.l3_side,u=e.getframebits(t);n.bits=(u-a.sideinfo_len*8)/a.mode_gr;var v=8*256*a.mode_gr-8;t.brate>320?s=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(s=8*1440,t.strict_ISO&&(s=8*int(32e4/(t.out_samplerate/1152)/8+.5))),a.ResvMax=s-u,a.ResvMax>v&&(a.ResvMax=v),(a.ResvMax<0||t.disable_reservoir)&&(a.ResvMax=0);var p=n.bits*a.mode_gr+Math.min(a.ResvSize,a.ResvMax);return p>s&&(p=s),Vs(a.ResvMax%8==0),Vs(a.ResvMax>=0),i.resvDrain_pre=0,a.pinfo!=null&&(a.pinfo.mean_bits=n.bits/2,a.pinfo.resvsize=a.ResvSize),p},this.ResvMaxBits=function(t,n,a,s){var i=t.internal_flags,u,v=i.ResvSize,p=i.ResvMax;s!=0&&(v+=n),i.substep_shaping&1&&(p*=.9),a.bits=n,v*10>p*9?(u=v-p*9/10,a.bits+=u,i.substep_shaping|=128):(u=0,i.substep_shaping&=127,!t.disable_reservoir&&!(i.substep_shaping&1)&&(a.bits-=.1*n));var q=v<i.ResvMax*6/10?v:i.ResvMax*6/10;return q-=u,q<0&&(q=0),q},this.ResvAdjust=function(t,n){t.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(t,n){var a,s=t.l3_side;t.ResvSize+=n*t.mode_gr;var i=0;s.resvDrain_post=0,s.resvDrain_pre=0,(a=t.ResvSize%8)!=0&&(i+=a),a=t.ResvSize-i-t.ResvMax,a>0&&(i+=a);{var u=Math.min(s.main_data_begin*8,i)/8;s.resvDrain_pre+=8*u,i-=8*u,t.ResvSize-=8*u,s.main_data_begin-=u}s.resvDrain_post+=i,t.ResvSize-=i}}var G_=K_;function g_(){var e="http://www.mp3dev.org/",t=3,n=98,a=4,s=0,i=93;this.getLameVersion=function(){return t+"."+n+"."+a},this.getLameShortVersion=function(){return t+"."+n+"."+a},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return s+"."+i},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var j_=g_,an=a0,W_=an.System,Ga=an.VbrMode,Ds=an.ShortBlock,z_=an.Arrays,Pn=an.new_byte,Z_=an.assert;En.NUMTOCENTRIES=100;En.MAXFRAMESIZE=2880;function En(){var e,t,n;this.setModules=function(B,_,L){e=B,t=_,n=L};var a=1,s=2,i=4,u=8,v=En.NUMTOCENTRIES,p=En.MAXFRAMESIZE,q=v+4+4+4+4+4,d=q+9+1+1+8+1+1+3+1+1+2+4+2+2,o=128,R=64,Z=32,K=null,W="Xing",U="Info",A=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function E(B,_){if(B.nVbrNumFrames++,B.sum+=_,B.seen++,!(B.seen<B.want)&&(B.pos<B.size&&(B.bag[B.pos]=B.sum,B.pos++,B.seen=0),B.pos==B.size)){for(var L=1;L<B.size;L+=2)B.bag[L/2]=B.bag[L];B.want*=2,B.pos/=2}}function x(B,_){if(!(B.pos<=0))for(var L=1;L<v;++L){var $=L/v,G,V,re=0|Math.floor($*B.pos);re>B.pos-1&&(re=B.pos-1),G=B.bag[re],V=B.sum;var D=0|256*G/V;D>255&&(D=255),_[L]=255&D}}this.addVbrFrame=function(B){var _=B.internal_flags,L=Tables.bitrate_table[B.version][_.bitrate_index];Z_(_.VBR_seek_table.bag!=null),E(_.VBR_seek_table,L)};function w(B,_){var L=B[_+0]&255;return L<<=8,L|=B[_+1]&255,L<<=8,L|=B[_+2]&255,L<<=8,L|=B[_+3]&255,L}function r(B,_,L){B[_+0]=255&(L>>24&255),B[_+1]=255&(L>>16&255),B[_+2]=255&(L>>8&255),B[_+3]=255&(L&255)}function M(B,_,L){B[_+0]=255&(L>>8&255),B[_+1]=255&(L&255)}function O(B,_){return new String(B,_,W.length(),K).equals(W)||new String(B,_,U.length(),K).equals(U)}function H(B,_,L){return 255&(B<<_|L&~(-1<<_))}function g(B,_){var L=B.internal_flags;_[0]=H(_[0],8,255),_[1]=H(_[1],3,7),_[1]=H(_[1],1,B.out_samplerate<16e3?0:1),_[1]=H(_[1],1,B.version),_[1]=H(_[1],2,4-3),_[1]=H(_[1],1,B.error_protection?0:1),_[2]=H(_[2],4,L.bitrate_index),_[2]=H(_[2],2,L.samplerate_index),_[2]=H(_[2],1,0),_[2]=H(_[2],1,B.extension),_[3]=H(_[3],2,B.mode.ordinal()),_[3]=H(_[3],2,L.mode_ext),_[3]=H(_[3],1,B.copyright),_[3]=H(_[3],1,B.original),_[3]=H(_[3],2,B.emphasis),_[0]=255;var $=255&(_[1]&241),G;B.version==1?G=o:B.out_samplerate<16e3?G=Z:G=R,B.VBR==Ga.vbr_off&&(G=B.brate);var V;B.free_format?V=0:V=255&16*e.BitrateIndex(G,B.version,B.out_samplerate),B.version==1?(_[1]=255&($|10),$=255&(_[2]&13),_[2]=255&(V|$)):(_[1]=255&($|2),$=255&(_[2]&13),_[2]=255&(V|$))}this.getVbrTag=function(B){var _=new VBRTagData,L=0;_.flags=0;var $=B[L+1]>>3&1,G=B[L+2]>>2&3,V=B[L+3]>>6&3,re=B[L+2]>>4&15;if(re=Tables.bitrate_table[$][re],B[L+1]>>4==14?_.samprate=Tables.samplerate_table[2][G]:_.samprate=Tables.samplerate_table[$][G],$!=0?V!=3?L+=32+4:L+=17+4:V!=3?L+=17+4:L+=9+4,!O(B,L))return null;L+=4,_.hId=$;var D=_.flags=w(B,L);if(L+=4,D&a&&(_.frames=w(B,L),L+=4),D&s&&(_.bytes=w(B,L),L+=4),D&i){if(_.toc!=null)for(var S=0;S<v;S++)_.toc[S]=B[L+S];L+=v}_.vbrScale=-1,D&u&&(_.vbrScale=w(B,L),L+=4),_.headersize=($+1)*72e3*re/_.samprate,L+=21;var c=B[L+0]<<4;c+=B[L+1]>>4;var f=(B[L+1]&15)<<8;return f+=B[L+2]&255,(c<0||c>3e3)&&(c=-1),(f<0||f>3e3)&&(f=-1),_.encDelay=c,_.encPadding=f,_},this.InitVbrTag=function(B){var _=B.internal_flags,L;B.version==1?L=o:B.out_samplerate<16e3?L=Z:L=R,B.VBR==Ga.vbr_off&&(L=B.brate);var $=(B.version+1)*72e3*L/B.out_samplerate,G=_.sideinfo_len+d;if(_.VBR_seek_table.TotalFrameSize=$,$<G||$>p){B.bWriteVbrTag=!1;return}_.VBR_seek_table.nVbrNumFrames=0,_.VBR_seek_table.nBytesWritten=0,_.VBR_seek_table.sum=0,_.VBR_seek_table.seen=0,_.VBR_seek_table.want=1,_.VBR_seek_table.pos=0,_.VBR_seek_table.bag==null&&(_.VBR_seek_table.bag=new int[400],_.VBR_seek_table.size=400);var V=Pn(p);g(B,V);for(var re=_.VBR_seek_table.TotalFrameSize,D=0;D<re;++D)t.add_dummy_byte(B,V[D]&255,1)};function F(B,_){var L=_^B;return _=_>>8^A[L&255],_}this.updateMusicCRC=function(B,_,L,$){for(var G=0;G<$;++G)B[0]=F(_[L+G],B[0])};function X(B,_,L,$,G){var V=B.internal_flags,re=0,D=B.encoder_delay,S=B.encoder_padding,c=100-10*B.VBR_q-B.quality,f=n.getLameVeryShortVersion(),h,b=0,j,Q=[1,5,3,2,4,0,3],k=0|(B.lowpassfreq/100+.5>255?255:B.lowpassfreq/100+.5),z=0,ve=0,pe=0,I=B.internal_flags.noise_shaping,P=0,J=0,ae=0,le=0,Se=0,Oe=(B.exp_nspsytune&1)!=0,l=(B.exp_nspsytune&2)!=0,m=!1,se=!1,de=B.internal_flags.nogap_total,me=B.internal_flags.nogap_current,xe=B.ATHtype,be=0,Me;switch(B.VBR){case vbr_abr:Me=B.VBR_mean_bitrate_kbps;break;case vbr_off:Me=B.brate;break;default:Me=B.VBR_min_bitrate_kbps}switch(B.VBR.ordinal()<Q.length?h=Q[B.VBR.ordinal()]:h=0,j=16*b+h,V.findReplayGain&&(V.RadioGain>510&&(V.RadioGain=510),V.RadioGain<-510&&(V.RadioGain=-510),ve=8192,ve|=3072,V.RadioGain>=0?ve|=V.RadioGain:(ve|=512,ve|=-V.RadioGain)),V.findPeakSample&&(z=Math.abs(0|V.PeakSample/32767*Math.pow(2,23)+.5)),de!=-1&&(me>0&&(se=!0),me<de-1&&(m=!0)),be=xe+((Oe?1:0)<<4)+((l?1:0)<<5)+((m?1:0)<<6)+((se?1:0)<<7),c<0&&(c=0),B.mode){case MONO:P=0;break;case STEREO:P=1;break;case DUAL_CHANNEL:P=2;break;case JOINT_STEREO:B.force_ms?P=4:P=3;break;case NOT_SET:default:P=7;break}B.in_samplerate<=32e3?ae=0:B.in_samplerate==48e3?ae=2:B.in_samplerate>48e3?ae=3:ae=1,(B.short_blocks==Ds.short_block_forced||B.short_blocks==Ds.short_block_dispensed||B.lowpassfreq==-1&&B.highpassfreq==-1||B.scale_left<B.scale_right||B.scale_left>B.scale_right||B.disable_reservoir&&B.brate<320||B.noATH||B.ATHonly||xe==0||B.in_samplerate<=32e3)&&(J=1),le=I+(P<<2)+(J<<5)+(ae<<6),Se=V.nMusicCRC,r(L,$+re,c),re+=4;for(var Fe=0;Fe<9;Fe++)L[$+re+Fe]=255&f.charAt(Fe);re+=9,L[$+re]=255&j,re++,L[$+re]=255&k,re++,r(L,$+re,z),re+=4,M(L,$+re,ve),re+=2,M(L,$+re,pe),re+=2,L[$+re]=255&be,re++,Me>=255?L[$+re]=255:L[$+re]=255&Me,re++,L[$+re]=255&D>>4,L[$+re+1]=255&(D<<4)+(S>>8),L[$+re+2]=255&S,re+=3,L[$+re]=255&le,re++,L[$+re++]=0,M(L,$+re,B.preset),re+=2,r(L,$+re,_),re+=4,M(L,$+re,Se),re+=2;for(var we=0;we<re;we++)G=F(L[$+we],G);return M(L,$+re,G),re+=2,re}function he(B){B.seek(0);var _=Pn(10);B.readFully(_);var L;return new String(_,"ISO-8859-1").startsWith("ID3")?L=0:L=((_[6]&127)<<21|(_[7]&127)<<14|(_[8]&127)<<7|_[9]&127)+_.length,L}this.getLameTagFrame=function(B,_){var L=B.internal_flags;if(!B.bWriteVbrTag||L.Class_ID!=Lame.LAME_ID||L.VBR_seek_table.pos<=0)return 0;if(_.length<L.VBR_seek_table.TotalFrameSize)return L.VBR_seek_table.TotalFrameSize;z_.fill(_,0,L.VBR_seek_table.TotalFrameSize,0),g(B,_);var $=Pn(v);if(B.free_format)for(var G=1;G<v;++G)$[G]=255&255*G/100;else x(L.VBR_seek_table,$);var V=L.sideinfo_len;B.error_protection&&(V-=2),B.VBR==Ga.vbr_off?(_[V++]=255&U.charAt(0),_[V++]=255&U.charAt(1),_[V++]=255&U.charAt(2),_[V++]=255&U.charAt(3)):(_[V++]=255&W.charAt(0),_[V++]=255&W.charAt(1),_[V++]=255&W.charAt(2),_[V++]=255&W.charAt(3)),r(_,V,a+s+i+u),V+=4,r(_,V,L.VBR_seek_table.nVbrNumFrames),V+=4;var re=L.VBR_seek_table.nBytesWritten+L.VBR_seek_table.TotalFrameSize;r(_,V,0|re),V+=4,W_.arraycopy($,0,_,V,$.length),V+=$.length,B.error_protection&&t.CRC_writeheader(L,_);for(var D=0,G=0;G<V;G++)D=F(_[G],D);return V+=X(B,re,_,V,D),L.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(B,_){var L=B.internal_flags;if(L.VBR_seek_table.pos<=0||(_.seek(_.length()),_.length()==0))return-1;var $=he(_);_.seek($);var G=Pn(p),V=getLameTagFrame(B,G);return V>G.length?-1:(V<1||_.write(G,0,V),0)}}var Q_=En,_i=a0,Ps=_i.new_byte,J_=_i.assert,eu=Lr(),tu=L_,nu=ai,au=ii(),ru=q_,su=li(),iu=G_,lu=Tn,ou=Or();A0();var _u=j_,uu=Q_;function cu(){this.setModules=function(e,t){}}function fu(){this.setModules=function(e,t,n){}}function vu(){}function hu(){this.setModules=function(e,t){}}function du(e,t,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var a=new eu,s=new cu,i=new nu,u=new ou,v=new tu,p=new au,q=new ru,d=new uu,o=new _u,R=new hu,Z=new iu,K=new su,W=new fu,U=new vu;a.setModules(i,u,v,p,q,d,o,R,U),u.setModules(i,U,o,d),R.setModules(u,o),v.setModules(a),q.setModules(u,Z,p,K),p.setModules(K,Z,a.enc.psy),Z.setModules(u),K.setModules(p),d.setModules(a,u,o),s.setModules(W,U),W.setModules(o,R,v);var A=a.lame_init();A.num_channels=e,A.in_samplerate=t,A.brate=n,A.mode=lu.STEREO,A.quality=3,A.bWriteVbrTag=!1,A.disable_reservoir=!0,A.write_id3tag_automatic=!1,a.lame_init_params(A);var E=1152,x=0|1.25*E+7200,w=Ps(x);this.encodeBuffer=function(r,M){e==1&&(M=r),J_(r.length==M.length),r.length>E&&(E=r.length,x=0|1.25*E+7200,w=Ps(x));var O=a.lame_encode_buffer(A,r,M,r.length,w,0,x);return new Int8Array(w.subarray(0,O))},this.flush=function(){var r=a.lame_encode_flush(A,w,0,x);return new Int8Array(w.subarray(0,r))}}function j0(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function ma(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}j0.RIFF=ma("RIFF");j0.WAVE=ma("WAVE");j0.fmt_=ma("fmt ");j0.data=ma("data");j0.readHeader=function(e){var t=new j0,n=e.getUint32(0,!1);if(j0.RIFF==n&&(e.getUint32(4,!0),j0.WAVE==e.getUint32(8,!1)&&j0.fmt_==e.getUint32(12,!1))){var a=e.getUint32(16,!0),s=16+4;switch(a){case 16:case 18:t.channels=e.getUint16(s+2,!0),t.sampleRate=e.getUint32(s+4,!0);break;default:throw"extended fmt chunk not implemented"}s+=a;for(var i=j0.data,u=0;i!=n&&(n=e.getUint32(s,!1),u=e.getUint32(s+4,!0),i!=n);)s+=u+8;return t.dataLen=u,t.dataOffset=s+8,t}};Tr.Mp3Encoder=du;Tr.WavHeader=j0;class Dt{static applyExponentialGainToChannels(t,n={}){const{timeStart:a,duration:s=6,rising:i=!0,easingFunction:u=U=>U}=n;if(s<=0)return;const{src:v,dst:p,totalDuration:q}=t,d=a+s,o=Math.max(0,Math.min(a/q,1)),R=Math.max(0,Math.min(d/q,1)),Z=Math.min(v.length,p.length),K=Math.min(v[0].length,p[0].length),W=new Array(1e4).fill().map((U,A,E)=>u(A/(E.length-1)));for(let U=0;U<Z;U++){const A=v[U],E=p[U],x=Math.floor(K*o),w=Math.floor(K*R);for(let r=x;r<=w;r++){const M=(r-x)/(w-x),O=Math.floor(M*W.length),H=W[O];E[r]=A[r]*(i?H:1-H)}}}static cloneAudioBuffer(t){const n=new AudioBuffer({length:t.length,numberOfChannels:t.numberOfChannels,sampleRate:t.sampleRate});for(let a=0;a<t.numberOfChannels;a++){const s=t.getChannelData(a);n.copyToChannel(s,a)}return n}static getAudioBufferChannelsSamples(t){return new Array(t.numberOfChannels).fill(0).map((a,s)=>t.getChannelData(s).slice())}static renderAudioBufferToCanvas(t,n,a={}){const{plotColor:s="#3d5",paddingX:i=0,amplitudeFactor:u=.5,trimTimeStart:v=0,trimTimeEnd:p=1/0,forceWaveFormRender:q=!1}=a,d=t.width-2*i,o=t.height,R=o>>1,Z=Math.max(Math.floor(o*u),20);let K=t._cachedWaveFormImage,W=q;if(K||(K=document.createElement("canvas"),t._cachedWaveFormImage=K,K.width=t.width,K.height=t.height,W=!0),W){const O=K.getContext("2d");O.clearRect(0,0,t.width,t.height),O.lineWidth=1,O.strokeStyle="white";const H=n.getChannelData(0),g=1,F=Math.min(150,(n.length/d>>2)-1);for(let X=0;X<d;X++){const he=X/d,B=Math.floor(he*n.length),_=Math.max(0,B-F),L=Math.min(n.length-1,B+F);let $=0;for(let V=_;V<=L;V++)$+=Math.abs(H[V]);$/=L-_+1;const G=Math.max(1,Math.floor($/g*Z));O.beginPath(),O.moveTo(X+i,R+G),O.lineTo(X+i,R-G),O.stroke()}}const U=t.getContext("2d");U.clearRect(0,0,t.width,t.height),U.drawImage(K,0,0);const A=U.globalCompositeOperation;U.globalCompositeOperation="source-atop";const E=typeof s=="function"?s(U,t,{trimmed:!0}):s,x=typeof s=="function"?s(U,t,{trimmed:!1}):s,{duration:w}=n,r=Math.floor(v/w*d),M=Math.ceil(Math.min(p,w)/w*d);U.fillStyle=E,U.fillRect(0,0,t.width,t.height),U.fillStyle=x,U.fillRect(i+r,0,M-r,t.height),U.globalCompositeOperation=A}static audioBufferToMp3Chunks(t,n={}){const{kbps:a=256,onProgress:s,timeFrom:i=0,timeTo:u=1/0}=n,v=new Tr.Mp3Encoder(t.numberOfChannels,t.sampleRate,a),p=[t.getChannelData(0),t.numberOfChannels>1?t.getChannelData(1):[]].map(U=>{const A=Math.max(0,Math.floor(i/t.duration*U.length)),E=Math.min(U.length,Math.ceil(u/t.duration*U.length));return U.slice(A,E)}),q=p[0].length,d=576*2,o=[],R=new Int16Array(d),Z=t.numberOfChannels>1?new Int16Array(d):void 0,K=Math.ceil(q/d);let W=0;for(let U=0;U<q;U+=d){const A=Math.min(q-U,d);for(let x=0;x<A;x++){const w=x+U;let r=Math.max(-1,Math.min(p[0][w],1)),M=Math.floor(r>=0?r*32767:r*32768);R[x]=M,t.numberOfChannels>1&&(r=Math.max(-1,Math.min(p[1][w],1)),M=Math.floor(r>=0?r*32767:r*32768),Z[x]=M)}const E=A!==d?v.encodeBuffer(R.slice(0,A),Z&&Z.slice(0,A)):v.encodeBuffer(R,Z);o.push(E),W++,typeof s=="function"&&s(W,K)}return o.push(v.flush()),o}constructor(){this.context=new AudioContext,this.audioBuffer=null,this.channelsData=null,this.gain=new GainNode(this.context),this.gain.connect(this.context.destination),this.volume=1,this.isMute=!1,this.hasStarted=!1,this.isPlaying=!1,this.lastPlayTimestamp=void 0,this.seekTimestamp=0,this.easingFunction=t=>t,this.effects=[],this.onEndCallbacks=[]}decodeBuffer(t){return new Promise((n,a)=>{try{this.context.decodeAudioData(t,s=>{this.audioBuffer=s,this.channelsDataOriginal=Dt.getAudioBufferChannelsSamples(s),this.channelsData=Dt.getAudioBufferChannelsSamples(s),n(s)},a)}catch(s){a(s)}})}addEffect(t){let n=this.effects.find(a=>a.type===t.type);if(n){let a=!1;for(const s in n)if(n[s]!==t[s]){a=!0;break}if(!a)return!1;Object.assign(n,t)}else n=t,this.effects.push(t);return this.applyEffects(),this.start(this.getCurrentTime(),this.isPlaying),!0}applyEffects(){for(let t=0;t<this.channelsData.length;t++){const n=this.channelsDataOriginal[t];this.channelsData[t].set(n)}for(const t of this.effects)/^fade(In|Out)$/.test(t.type)&&Dt.applyExponentialGainToChannels({dst:this.channelsData,src:this.channelsDataOriginal,totalDuration:this.audioBuffer.duration},{timeStart:t.timeStart,duration:t.duration,rising:t.type==="fadeIn",easingFunction:this.easingFunction});for(let t=0;t<this.channelsData.length;t++)this.audioBuffer.copyToChannel(this.channelsData[t],t)}addOnEndCallback(t){if(typeof t=="function")return this.onEndCallbacks.push(t),!0}setEasingFunction(t){this.easingFunction=t}setMute(t){this.isMute=t,this.setGain(this.volume)}setGain(t){t=Math.max(0,Math.min(t,5)),this.volume=t,this.gain.gain.value=this.isMute?0:this.volume}getGain(){return this.isMute?0:this.gain.gain.value}getVolume(){return this.volume}getCurrentTime(){let t=this.seekTimestamp;return this.lastPlayTimestamp!==void 0&&(t+=this.context.currentTime-this.lastPlayTimestamp),t}start(t=0,n=!0){if(!this.audioBuffer)return;this.source&&(this.source.stop(),this.source.disconnect());const a=this.context.createBufferSource();a.buffer=this.audioBuffer,a.connect(this.gain),a.start(0,t>this.audioBuffer.duration?this.audioBuffer.duration:t),a.onended=()=>{this.source===a&&(this.seekTimestamp+=this.context.currentTime-this.lastPlayTimestamp,this.lastPlayTimestamp=void 0,this.isPlaying=!1,this.hasStarted=!1,this.onEndCallbacks.forEach(s=>s()))},this.source=a,this.hasStarted=!0,this.seekTimestamp=0,this.lastPlayTimestamp=this.context.currentTime-t,this.isPlaying=!0,n?this.context.resume():this.pause()}resume(){this.hasStarted?this.isPlaying||(this.context.resume(),this.isPlaying=!0,this.lastPlayTimestamp=this.context.currentTime):this.start()}pause(){this.isPlaying&&(this.context.suspend(),this.isPlaying=!1,this.seekTimestamp+=this.context.currentTime-this.lastPlayTimestamp,this.lastPlayTimestamp=void 0)}close(){this.gain.disconnect(),this.context.suspend(),this.context.close()}}class mu{constructor(t){this.duration=t.duration,this.length=t.length,this.numberOfChannels=t.numberOfChannels,this.sampleRate=t.sampleRate,this.isAudioBufferClone=!0,this.channels=t.channels||[new Float32Array(t.getChannelData(0)),new Float32Array(t.numberOfChannels>1?t.getChannelData(1):[])]}getChannelData(t){return this.channels[t]}getTransferable(){return{data:{...this},buffers:this.channels.map(t=>t.buffer).filter(t=>t)}}}function bu(e,t){return new Promise((n,a)=>{const s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("target","_blank"),t&&s.setAttribute("download",t),s.style.display="none",document.body.appendChild(s),s.click(),setTimeout(()=>{s.remove(),n()},100)})}function Xs(e,t={}){const{clickTriggerDistance:n=3,buttonWhich:a=1,onDrag:s,onDragStart:i,onDragStop:u,onClick:v}=t;let p,q,d;const o=["touchstart","mousedown"],R=["blur","mouseup","mousemove","touchmove","touchend","touchcancel"],Z=(U=!0)=>{R.forEach(A=>{U?window.addEventListener(A,K,{capture:!0}):window.removeEventListener(A,K,{capture:!0})})},K=U=>{let{clientX:A,clientY:E}=U;if(!(/mouse/.test(U.type)&&U.which!==a)){if(/touch/.test(U.type)){if(!/touch(end|cancel)/.test(U.type)&&U.targetTouches.length!==1)return;const x=U.targetTouches[0];x&&(A=x.clientX,E=x.clientY)}if(/(touch|mouse)move/.test(U.type)){const x=A,w=E,r=Math.abs(x-p),M=Math.abs(w-q),O=Math.sqrt(r*r+M*M);O>=n&&(d=!1),typeof s=="function"&&s({x,y:w,dragDistance:O,dragDistanceX:r,dragDistanceY:M,dragStartX:p,dragStartY:q})}else o.includes(U.type)?(p=A,q=E,d=!0,Z(),typeof i=="function"&&i({dragStartX:p,dragStartY:q})):/(touch(end|cancel)|mouseup)/.test(U.type)?(typeof u=="function"&&u({x:A,y:E}),d&&typeof v=="function"&&v(),W()):U.type==="blur"&&U.target===window&&(typeof u=="function"&&u({}),W())}},W=U=>{U&&o.forEach(A=>{U.removeEventListener(A,K)}),Z(!1)};$0(e,(U,A)=>{A&&W(A),U&&o.forEach(E=>{U.addEventListener(E,K)})}),_a(()=>W(e.value))}function pu(e,t={}){let n;const a=typeof t=="number"?t:t.delay,{triggerCallLimit:s=1/0}=t,i=function(...u){if(n!==void 0&&(clearTimeout(n),n=void 0),i.callCount=(i.callCount||0)+1,i.callCount>s)i.dispatch(...u);else{const v=setTimeout(()=>{n===v&&(n=void 0,i.dispatch(...u))},a);n=v}};return i.dispatch=function(...u){return i.callCount=0,e.apply(this,u)},i}function xu(e){return Math.sin(e*Math.PI/2)}function Su(e){return Math.sqrt(1-(e-1)**2)}function Mu(e){return e===1?1:1-2**(e*-10)}function Eu(e){return e}function Au(){return new Worker(""+new URL("encoder.worker-d11b4ea4.js",import.meta.url).href)}const it=e=>(ra("data-v-212b390d"),e=e(),sa(),e),yu=it(()=>Ie("header",null,[Ie("div",null,"MP3 Tool")],-1)),Ru={class:"column p-y-3 items-center"},Tu=it(()=>Ie("div",{class:"flex-1"},null,-1)),wu={key:0,class:"m-t-5 text-white font-24 text-bold p-b-3 loading"},Bu={key:2,class:"column items-center full-width flex-1 relative"},Iu={class:"file__label column items-center m-b-2"},Cu={class:"m-b-1"},Ou=it(()=>Ie("span",null,"File:",-1)),Lu=it(()=>Ie("span",null,null,-1)),Nu=[Lu],Fu={class:"time-label"},Hu={class:"actions__container m-x-6"},ku={class:"tools__container column"},Vu={class:"column items-start"},Du=it(()=>Ie("span",{class:"white weight-600 font-14 m-b-1"},"Trim options",-1)),Pu={class:"effects__container column m-t-6"},Xu={class:"row items-center full-width m-b-2"},$u=it(()=>Ie("span",{class:"white weight-600 font-14"},"Effects",-1)),Yu={class:"row items-center"},qu={class:"column"},Uu=it(()=>Ie("span",{class:"white weight-600 font-12"},"Fade in",-1)),Ku={class:"row items-center m-t-1"},Gu={class:"fade-duration-label white weight-600"},gu={class:"column m-l-6"},ju=it(()=>Ie("span",{class:"white weight-600 font-12"},"Fade out",-1)),Wu={class:"row items-center m-t-1"},zu={class:"fade-duration-label white weight-600"},Zu={class:"column items-center"},Qu={class:"row"},Ju={class:"encode__container column items-center"},e3=["disabled"],t3=it(()=>Ie("div",null,null,-1)),n3=it(()=>Ie("div",{class:"flex-8"},null,-1)),a3={__name:"App",setup(e){function t(h){return new Promise((b,j)=>{try{const Q=new FileReader;Q.onload=k=>{b(k.target.result)},Q.onerror=j,Q.readAsArrayBuffer(h)}catch(Q){j(Q)}})}const n=[{title:"Sine",function:xu},{title:"Circular",function:Su},{title:"Exponential",function:Mu},{title:"Linear",function:Eu}],a=d0(null),s=d0(null),i=d0(null),u=d0(null),v=d0(null),p=At(null),q=At(null),d=At(null),o=At(!1),R=Na("","ease-func"),Z=At(!1),K=At(!1),W=Na(0,"volume",h=>Number(h)||0),U=Na(!1,"muted",h=>/true/.test(h)),A=d0({start:0,end:1/0}),E=d0({start:0,end:0}),x=At(-1),w=Pt(()=>p.value&&p.value.audioBuffer&&p.value.audioBuffer.duration),r=Pt(()=>n.find(({title:b})=>b===R.value)),M={paddingX:16,trimTimeStart:void 0,trimTimeEnd:void 0,plotColor:(h,b,j={})=>{if(!b.sampleColorGradient){const k=Math.floor(b.height*.5),z=h.createLinearGradient(0,k-40,0,k+40),ve=["#7320d2","#5f1fa8"];z.addColorStop(0,ve[0]),z.addColorStop(.5,ve[1]),z.addColorStop(1,ve[0]),b.sampleColorGradient=z}return j.trimmed?"#fcedff":b.sampleColorGradient}};function O(h){return[Math.floor(h/60)%60,":",Math.floor(h%60),".",Math.floor((h-Math.floor(h))*100)].map(b=>typeof b=="number"?String(b).padStart(2,"0"):b).join("")}function H(h){if(!p.value||!p.value.audioBuffer||!s.value)return;const b=M.paddingX*(s.value.clientWidth/s.value.width),j=i.value.parentElement,Q=j.getBoundingClientRect(),k=h-b-Q.x,z=Math.min(1,Math.max(0,k)/(Q.width-2*b)),ve=i.value.getBoundingClientRect(),pe=b-ve.width*.5+z*(Q.width-2*b),I=p.value&&p.value.audioBuffer&&p.value.audioBuffer.duration,P=10,J=k<P||k>Q.width-2*b-P?z:.5;return{time:(I||0)*z,pct:z,parent:j,baseX:k,seekContainerLeft:pe,spanPosPct:J}}function g(h){if(!p.value||!p.value.audioBuffer||!s.value)return;const{parent:b,time:j,seekContainerLeft:Q,spanPosPct:k}=H(h),z=i.value.firstElementChild;Number.isNaN(j)?b.style.setProperty("--pos","-100px"):(z.textContent=O(j),z.style.setProperty("--pos-pct",k.toFixed(2)),b.style.setProperty("--pos",Math.round(Q)+"px"))}function F(){if(!p.value||!p.value.audioBuffer||!u.value||!v.value||!s.value)return;const h=M.paddingX*(s.value.clientWidth/s.value.width),b=u.value.clientWidth,{duration:j}=p.value.audioBuffer,{start:Q,end:k}=A.value,z=Q/j,ve=Math.min(k,j)/j,pe=h-b+z*(s.value.clientWidth-2*h)+1,I=h+ve*(s.value.clientWidth-2*h)-1;u.value.style.left=`${Math.ceil(pe)}px`,v.value.style.left=`${Math.floor(I)}px`,x.value<Q?he(null,Q):x.value>k&&he(null,k)}function X(){if(!s.value)return;const h=s.value.parentElement,b=s.value.clientWidth,j=b/s.value.width,Q=M.paddingX*j;if(!p.value||!p.value.audioBuffer)return h.style.setProperty("--progress",`${Q}px`);const k=x.value,z=p.value.audioBuffer.duration,ve=z?k/z:0,pe=Math.floor(Q+ve*(b-2*Q));h.style.setProperty("--progress",`${pe}px`)}function he(h,b){b||(b=H(h).time),b=Math.max(A.value.start,Math.min(b,A.value.end)),b=Math.max(0,Math.min(b,w.value)),p.value.start(b,p.value.isPlaying)}function B(h,b){E.value[h]=Math.max(0,E.value[h]+b)}Xs(u,{onDrag({x:h}){const b=H(h);A.value.start=Math.min(b.time,A.value.end)},onClick(){he(0)}}),Xs(v,{onDrag({x:h}){const b=H(h);A.value.end=Math.max(b.time,A.value.start)},onClick(){he(1/0)}});async function _(h){a.value=h[0],o.value=!0;const b=new Dt;try{await Gn();const Q=await t(h[0]);await b.decodeBuffer(Q)}finally{o.value=!1}window.manager=b,K.value=b.isPlaying,A.value={start:0,end:1/0},x.value=0,E.value={start:0,end:0},d.value&&(URL.revokeObjectURL(d.value),d.value=null),b.setGain(W.value),b.setMute(U.value),b.addOnEndCallback(()=>{V()}),p.value=b,await Gn(),Dt.renderAudioBufferToCanvas(s.value,p.value.audioBuffer,M);const j=setInterval(()=>{if(p.value!==b)return clearInterval(j);const Q=p.value.getCurrentTime();Q>=A.value.end&&K.value?V():Q!==x.value&&(x.value=Q,X())},25);F()}function L(){Z.value=!Z.value}function $(h,b){R.value=h}function G(){K.value?p.value.pause():p.value.resume(),K.value=!K.value}function V(){p.value.start(A.value.start,!1),K.value=!1}function re(){const h=new Au;h.onerror=j=>console.error(j),h.onmessage=j=>{const{data:Q}=j;if(Q&&("progress"in Q&&(q.value=Q.progress),"encodedBuffer"in Q)){d.value&&URL.revokeObjectURL(d.value);const k=new Blob([Q.encodedBuffer],{type:"audio/mp3"}),z=URL.createObjectURL(k);d.value=z,q.value=null,h.terminate()}};const b=new mu(p.value.audioBuffer).getTransferable();h.postMessage({audioBuffer:b.data,options:{timeFrom:A.value.start,timeTo:A.value.end}},b.buffers)}function D(){if(d.value){const h=a.value.name;bu(d.value,h)}}function S(){p.value.close(),p.value=null}function c(){X(),g(),F()}$0(W,()=>{p.value&&p.value.setGain(W.value)}),$0(U,()=>{p.value&&p.value.setMute(U.value)},{immediate:!0}),$0(A,()=>{if(x.value<A.value.start||x.value>A.value.end){const h=Math.max(A.value.start,Math.min(x.value,A.value.end));x.value=h,he(void 0,h)}F(),X(),M.trimTimeStart=A.value.start,M.trimTimeEnd=A.value.end},{deep:!0,flush:"pre"});const f=pu(()=>{s.value&&p.value&&Dt.renderAudioBufferToCanvas(s.value,p.value.audioBuffer,{...M,forceWaveFormRender:!0})},{delay:25,triggerCallLimit:5});return $0([A,E],()=>{p.value&&(p.value.addEffect({type:"fadeIn",duration:E.value.start,timeStart:A.value.start}),p.value.addEffect({type:"fadeOut",duration:E.value.end,timeStart:Math.min(p.value.audioBuffer.duration,A.value.end)-E.value.end}),f())},{deep:!0}),$0([p,R],h=>{const b=r.value||n[0];p.value&&(p.value.setEasingFunction(b.function),p.value.applyEffects(),f())},{immediate:!0}),oa(()=>{X1(["play","pause","plus-circle","minus-circle"]),window.addEventListener("resize",c),window.addEventListener("keydown",h=>{if(!(h.altKey||h.ctrlKey||h.shiftKey))if(h.code==="Space")G();else if(/Arrow(Up|Down)/.test(h.code)){const b=.05*(h.code==="ArrowUp"?1:-1);W.value=Math.max(0,Math.min(W.value+b,1))}else if(/Arrow(Right|Left)/.test(h.code)){const b=5*(h.code==="ArrowRight"?1:-1);he(void 0,x.value+b)}else h.code==="KeyM"&&(U.value=!U.value)})}),(h,b)=>{const j=R1("float");return m0(),k0(S0,null,[yu,Ie("main",Ru,[Tu,Qe(o)?(m0(),k0("div",wu,"Decoding file...")):Qe(p)?(m0(),k0("div",Bu,[Ie("div",Iu,[Ie("div",Cu,[Ou,Ie("b",null,x0(a.value.name),1)]),Ie("span",null,"Length: "+x0(O(Qe(w)).slice(0,-3)),1)]),Ie("button",{class:"flat icon round absolute close-button white",onClick:S},[c0(dt,{name:"close-circle-outline",size:32})]),Ie("div",{class:"canvas__container full-width",onMousemove:b[1]||(b[1]=Q=>g(Q.clientX))},[Ie("div",{class:"absolute seek-hint",ref_key:"seekHintEl",ref:i},Nu,512),Ie("div",{class:"absolute trim-start",ref_key:"trimStartEl",ref:u},null,512),Ie("div",{class:"absolute trim-end",ref_key:"trimEndEl",ref:v},null,512),Ie("canvas",{class:"full-width",ref_key:"canvasEl",ref:s,width:"1600",height:"260",onMousedown:b[0]||(b[0]=R0(Q=>he(Q.clientX),["left"]))},null,544),Ie("span",Fu,x0(O(Qe(x))),1)],32),Ie("div",Hu,[Ie("div",ku,[Ie("div",Vu,[Du,c0(C2,{start:A.value.start,"onUpdate:start":b[2]||(b[2]=Q=>A.value.start=Q),end:A.value.end,"onUpdate:end":b[3]||(b[3]=Q=>A.value.end=Q),duration:Qe(p).audioBuffer?Qe(p).audioBuffer.duration:0},null,8,["start","end","duration"])]),Ie("div",Pu,[Ie("div",Xu,[$u,Ie("button",{class:"button-easing-function white outline font-11 m-l-2 weight-600 flex-1",onClick:L},x0(Qe(r)?`Easing: ${Qe(r).title}`:"Pick easing function"),1),er((m0(),Wn(k2,{open:Qe(Z),"onUpdate:open":b[4]||(b[4]=Q=>f0(Z)?Z.value=Q:null),items:n.map(({title:Q})=>Q),title:"Select easing function",onItemClick:$},{default:p1(Q=>[Ie("span",null,x0(Q.item),1)]),_:1},8,["open","items"])),[[j,{offset:16}]])]),Ie("div",Yu,[Ie("div",qu,[Uu,Ie("div",Ku,[Ie("span",Gu,x0(E.value.start)+"s",1),Ie("button",{class:"m-l-1 mini-icon round flat white",onClick:b[5]||(b[5]=Q=>B("start",1))},[c0(dt,{name:"plus-circle",size:19})]),Ie("button",{class:"m-l-1 mini-icon round flat white",onClick:b[6]||(b[6]=Q=>B("start",-1))},[c0(dt,{name:"minus-circle",size:19})])])]),Ie("div",gu,[ju,Ie("div",Wu,[Ie("span",zu,x0(E.value.end)+"s",1),Ie("button",{class:"m-l-1 mini-icon round flat white",onClick:b[7]||(b[7]=Q=>B("end",1))},[c0(dt,{name:"plus-circle",size:19})]),Ie("button",{class:"m-l-1 mini-icon round flat white",onClick:b[8]||(b[8]=Q=>B("end",-1))},[c0(dt,{name:"minus-circle",size:19})])])])])])]),Ie("div",Zu,[Ie("div",Qu,[Ie("button",{class:"icon m-1",onClick:G},[c0(dt,{name:Qe(K)?"pause":"play",size:40},null,8,["name"])]),Ie("button",{class:"icon m-1",onClick:V},[c0(dt,{name:"stop",size:40})]),c0(o2,{class:"m-1",value:Qe(W),"onUpdate:value":b[9]||(b[9]=Q=>f0(W)?W.value=Q:null),muted:Qe(U),"onUpdate:muted":b[10]||(b[10]=Q=>f0(U)?U.value=Q:null)},null,8,["value","muted"])]),Ie("div",Ju,[Ie("button",{class:"m-1",onClick:re,disabled:!!Qe(q)},[Qe(q)===null?(m0(),k0(S0,{key:0},[ir("Encode")],64)):(m0(),k0(S0,{key:1},[ir("Encoding... ("+x0(Qe(q))+"%)",1)],64))],8,e3),Qe(d)?(m0(),k0("button",{key:0,class:"m-t-3",onClick:D},"Download encoded mp3")):oo("",!0)])]),t3])])):(m0(),Wn(e2,{key:1,class:"drag-drop p-y-5",onUpload:_,extensions:".mp3,.wav","fullscreen-drop":""})),n3])],64)}}},r3=en(a3,[["__scopeId","data-v-212b390d"]]);function s3(e,t="parentElement"){if(typeof t=="function"&&(t=t()),typeof t=="string"&&(t in e?t=e[t]:t=document.querySelector(t)),t&&"getBoundingClientRect"in t)return t}function Xn(e,t=1){const n={top:0,bottom:0,left:0,right:1,center:.5}[e]||0;return t*n}function $s(e,t){const{value:n}=t;let{target:a=e&&e.parentElement,anchor:s=["center right","center left"],offset:i=8,zIndex:u=200}=n;const v=s3(e,a);if(v){const p=e.getBoundingClientRect(),q=v.getBoundingClientRect(),d=s[0].split(" "),o=s[1].split(" "),R=Xn(d[0]),Z=Xn(d[1]),K=q.y+R*q.height,W=q.x+Z*q.width,U=Xn(o[0]),A=Xn(o[1]),E=p.height*U,x=p.width*A,w=i*2*(Z-.5),r=i*2*(R-.5),M=W+w-x,O=K+r-E;Object.assign(e.style,{visibility:"",zIndex:u,left:`${M}px`,top:`${O}px`})}}const i3={created(e){Object.assign(e.style,{position:"fixed",visibility:"hidden"})},mounted(e,t,n,a){$s(e,t)},updated(e,t,n,a){$s(e,t)}},ui=["mousedown","touchstart"],ci={capture:!0};function l3(e,t){for(;e;){if(e===t)return!0;e=e.parentElement}return!1}function fi(e){e.__clickOutsideHandler&&ui.forEach(t=>window.removeEventListener(t,e.__clickOutsideHandler,ci))}function o3(e,t){fi(e),e.__clickOutsideHandler=n=>{!l3(n.target||n.srcElement,e)&&typeof t=="function"&&t()},ui.forEach(n=>window.addEventListener(n,e.__clickOutsideHandler,ci))}const _3={created(e,t){o3(e,t.value)},unmounted(e){fi(e)}},Ys={float:i3,clickOutside:_3};function u3(e){for(const t in Ys)e.directive(t,Ys[t])}const vi=Go(r3);u3(vi);vi.mount("#app");
