(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ur(e,t){const n=Object.create(null),a=e.split(",");for(let s=0;s<a.length;s++)n[a[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function yn(e){if(Ye(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],s=h0(a)?Ei(a):yn(a);if(s)for(const i in s)t[i]=s[i]}return t}else{if(h0(e))return e;if(r0(e))return e}}const xi=/;(?![^(]*\))/g,Si=/:([^]+)/,Mi=/\/\*.*?\*\//gs;function Ei(e){const t={};return e.replace(Mi,"").split(xi).forEach(n=>{if(n){const a=n.split(Si);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Rn(e){let t="";if(h0(e))t=e;else if(Ye(e))for(let n=0;n<e.length;n++){const a=Rn(e[n]);a&&(t+=a+" ")}else if(r0(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ai="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yi=ur(Ai);function Ks(e){return!!e||e===""}const x0=e=>h0(e)?e:e==null?"":Ye(e)||r0(e)&&(e.toString===Zs||!ge(e.toString))?JSON.stringify(e,js,2):String(e),js=(e,t)=>t&&t.__v_isRef?js(e,t.value):Kt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[a,s])=>(n[`${a} =>`]=s,n),{})}:Ws(t)?{[`Set(${t.size})`]:[...t.values()]}:r0(t)&&!Ye(t)&&!Qs(t)?String(t):t,Je={},Gt=[],Z0=()=>{},Ri=()=>!1,Ti=/^on[^a-z]/,Jn=e=>Ti.test(e),cr=e=>e.startsWith("onUpdate:"),E0=Object.assign,fr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},wi=Object.prototype.hasOwnProperty,je=(e,t)=>wi.call(e,t),Ye=Array.isArray,Kt=e=>ea(e)==="[object Map]",Ws=e=>ea(e)==="[object Set]",ge=e=>typeof e=="function",h0=e=>typeof e=="string",hr=e=>typeof e=="symbol",r0=e=>e!==null&&typeof e=="object",zs=e=>r0(e)&&ge(e.then)&&ge(e.catch),Zs=Object.prototype.toString,ea=e=>Zs.call(e),Bi=e=>ea(e).slice(8,-1),Qs=e=>ea(e)==="[object Object]",vr=e=>h0(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Yn=ur(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ta=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ii=/-(\w)/g,st=ta(e=>e.replace(Ii,(t,n)=>n?n.toUpperCase():"")),Ci=/\B([A-Z])/g,Qt=ta(e=>e.replace(Ci,"-$1").toLowerCase()),na=ta(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ba=ta(e=>e?`on${na(e)}`:""),pn=(e,t)=>!Object.is(e,t),qn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Gn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Wa=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $r;const Oi=()=>$r||($r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let K0;class Li{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=K0,!t&&K0&&(this.index=(K0.scopes||(K0.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=K0;try{return K0=this,t()}finally{K0=n}}}on(){K0=this}off(){K0=this.parent}stop(t){if(this._active){let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Ni(e,t=K0){t&&t.active&&t.effects.push(e)}function Fi(){return K0}const dr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Js=e=>(e.w&St)>0,e1=e=>(e.n&St)>0,Hi=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=St},ki=e=>{const{deps:t}=e;if(t.length){let n=0;for(let a=0;a<t.length;a++){const s=t[a];Js(s)&&!e1(s)?s.delete(e):t[n++]=s,s.w&=~St,s.n&=~St}t.length=n}},za=new WeakMap;let hn=0,St=1;const Za=30;let W0;const kt=Symbol(""),Qa=Symbol("");class mr{constructor(t,n=null,a){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ni(this,a)}run(){if(!this.active)return this.fn();let t=W0,n=bt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=W0,W0=this,bt=!0,St=1<<++hn,hn<=Za?Hi(this):Yr(this),this.fn()}finally{hn<=Za&&ki(this),St=1<<--hn,W0=this.parent,bt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){W0===this?this.deferStop=!0:this.active&&(Yr(this),this.onStop&&this.onStop(),this.active=!1)}}function Yr(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let bt=!0;const t1=[];function Jt(){t1.push(bt),bt=!1}function en(){const e=t1.pop();bt=e===void 0?!0:e}function L0(e,t,n){if(bt&&W0){let a=za.get(e);a||za.set(e,a=new Map);let s=a.get(n);s||a.set(n,s=dr()),n1(s)}}function n1(e,t){let n=!1;hn<=Za?e1(e)||(e.n|=St,n=!Js(e)):n=!e.has(W0),n&&(e.add(W0),W0.deps.push(e))}function _t(e,t,n,a,s,i){const u=za.get(e);if(!u)return;let h=[];if(t==="clear")h=[...u.values()];else if(n==="length"&&Ye(e)){const p=Number(a);u.forEach((g,d)=>{(d==="length"||d>=p)&&h.push(g)})}else switch(n!==void 0&&h.push(u.get(n)),t){case"add":Ye(e)?vr(n)&&h.push(u.get("length")):(h.push(u.get(kt)),Kt(e)&&h.push(u.get(Qa)));break;case"delete":Ye(e)||(h.push(u.get(kt)),Kt(e)&&h.push(u.get(Qa)));break;case"set":Kt(e)&&h.push(u.get(kt));break}if(h.length===1)h[0]&&Ja(h[0]);else{const p=[];for(const g of h)g&&p.push(...g);Ja(dr(p))}}function Ja(e,t){const n=Ye(e)?e:[...e];for(const a of n)a.computed&&qr(a);for(const a of n)a.computed||qr(a)}function qr(e,t){(e!==W0||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Vi=ur("__proto__,__v_isRef,__isVue"),a1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(hr)),Di=pr(),Pi=pr(!1,!0),Xi=pr(!0),gr=$i();function $i(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const a=We(this);for(let i=0,u=this.length;i<u;i++)L0(a,"get",i+"");const s=a[t](...n);return s===-1||s===!1?a[t](...n.map(We)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Jt();const a=We(this)[t].apply(this,n);return en(),a}}),e}function Yi(e){const t=We(this);return L0(t,"has",e),t.hasOwnProperty(e)}function pr(e=!1,t=!1){return function(a,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?rl:o1:t?l1:i1).get(a))return a;const u=Ye(a);if(!e){if(u&&je(gr,s))return Reflect.get(gr,s,i);if(s==="hasOwnProperty")return Yi}const h=Reflect.get(a,s,i);return(hr(s)?a1.has(s):Vi(s))||(e||L0(a,"get",s),t)?h:f0(h)?u&&vr(s)?h:h.value:r0(h)?e?_1(h):Sr(h):h}}const qi=r1(),gi=r1(!0);function r1(e=!1){return function(n,a,s,i){let u=n[a];if(zt(u)&&f0(u)&&!f0(s))return!1;if(!e&&(!Kn(s)&&!zt(s)&&(u=We(u),s=We(s)),!Ye(n)&&f0(u)&&!f0(s)))return u.value=s,!0;const h=Ye(n)&&vr(a)?Number(a)<n.length:je(n,a),p=Reflect.set(n,a,s,i);return n===We(i)&&(h?pn(s,u)&&_t(n,"set",a,s):_t(n,"add",a,s)),p}}function Ui(e,t){const n=je(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&n&&_t(e,"delete",t,void 0),a}function Gi(e,t){const n=Reflect.has(e,t);return(!hr(t)||!a1.has(t))&&L0(e,"has",t),n}function Ki(e){return L0(e,"iterate",Ye(e)?"length":kt),Reflect.ownKeys(e)}const s1={get:Di,set:qi,deleteProperty:Ui,has:Gi,ownKeys:Ki},ji={get:Xi,set(e,t){return!0},deleteProperty(e,t){return!0}},Wi=E0({},s1,{get:Pi,set:gi}),br=e=>e,aa=e=>Reflect.getPrototypeOf(e);function Cn(e,t,n=!1,a=!1){e=e.__v_raw;const s=We(e),i=We(t);n||(t!==i&&L0(s,"get",t),L0(s,"get",i));const{has:u}=aa(s),h=a?br:n?Er:bn;if(u.call(s,t))return h(e.get(t));if(u.call(s,i))return h(e.get(i));e!==s&&e.get(t)}function On(e,t=!1){const n=this.__v_raw,a=We(n),s=We(e);return t||(e!==s&&L0(a,"has",e),L0(a,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Ln(e,t=!1){return e=e.__v_raw,!t&&L0(We(e),"iterate",kt),Reflect.get(e,"size",e)}function Ur(e){e=We(e);const t=We(this);return aa(t).has.call(t,e)||(t.add(e),_t(t,"add",e,e)),this}function Gr(e,t){t=We(t);const n=We(this),{has:a,get:s}=aa(n);let i=a.call(n,e);i||(e=We(e),i=a.call(n,e));const u=s.call(n,e);return n.set(e,t),i?pn(t,u)&&_t(n,"set",e,t):_t(n,"add",e,t),this}function Kr(e){const t=We(this),{has:n,get:a}=aa(t);let s=n.call(t,e);s||(e=We(e),s=n.call(t,e)),a&&a.call(t,e);const i=t.delete(e);return s&&_t(t,"delete",e,void 0),i}function jr(){const e=We(this),t=e.size!==0,n=e.clear();return t&&_t(e,"clear",void 0,void 0),n}function Nn(e,t){return function(a,s){const i=this,u=i.__v_raw,h=We(u),p=t?br:e?Er:bn;return!e&&L0(h,"iterate",kt),u.forEach((g,d)=>a.call(s,p(g),p(d),i))}}function Fn(e,t,n){return function(...a){const s=this.__v_raw,i=We(s),u=Kt(i),h=e==="entries"||e===Symbol.iterator&&u,p=e==="keys"&&u,g=s[e](...a),d=n?br:t?Er:bn;return!t&&L0(i,"iterate",p?Qa:kt),{next(){const{value:o,done:A}=g.next();return A?{value:o,done:A}:{value:h?[d(o[0]),d(o[1])]:d(o),done:A}},[Symbol.iterator](){return this}}}}function ht(e){return function(...t){return e==="delete"?!1:this}}function zi(){const e={get(i){return Cn(this,i)},get size(){return Ln(this)},has:On,add:Ur,set:Gr,delete:Kr,clear:jr,forEach:Nn(!1,!1)},t={get(i){return Cn(this,i,!1,!0)},get size(){return Ln(this)},has:On,add:Ur,set:Gr,delete:Kr,clear:jr,forEach:Nn(!1,!0)},n={get(i){return Cn(this,i,!0)},get size(){return Ln(this,!0)},has(i){return On.call(this,i,!0)},add:ht("add"),set:ht("set"),delete:ht("delete"),clear:ht("clear"),forEach:Nn(!0,!1)},a={get(i){return Cn(this,i,!0,!0)},get size(){return Ln(this,!0)},has(i){return On.call(this,i,!0)},add:ht("add"),set:ht("set"),delete:ht("delete"),clear:ht("clear"),forEach:Nn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Fn(i,!1,!1),n[i]=Fn(i,!0,!1),t[i]=Fn(i,!1,!0),a[i]=Fn(i,!0,!0)}),[e,n,t,a]}const[Zi,Qi,Ji,el]=zi();function xr(e,t){const n=t?e?el:Ji:e?Qi:Zi;return(a,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?a:Reflect.get(je(n,s)&&s in a?n:a,s,i)}const tl={get:xr(!1,!1)},nl={get:xr(!1,!0)},al={get:xr(!0,!1)},i1=new WeakMap,l1=new WeakMap,o1=new WeakMap,rl=new WeakMap;function sl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function il(e){return e.__v_skip||!Object.isExtensible(e)?0:sl(Bi(e))}function Sr(e){return zt(e)?e:Mr(e,!1,s1,tl,i1)}function ll(e){return Mr(e,!1,Wi,nl,l1)}function _1(e){return Mr(e,!0,ji,al,o1)}function Mr(e,t,n,a,s){if(!r0(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const u=il(e);if(u===0)return e;const h=new Proxy(e,u===2?a:n);return s.set(e,h),h}function jt(e){return zt(e)?jt(e.__v_raw):!!(e&&e.__v_isReactive)}function zt(e){return!!(e&&e.__v_isReadonly)}function Kn(e){return!!(e&&e.__v_isShallow)}function u1(e){return jt(e)||zt(e)}function We(e){const t=e&&e.__v_raw;return t?We(t):e}function c1(e){return Gn(e,"__v_skip",!0),e}const bn=e=>r0(e)?Sr(e):e,Er=e=>r0(e)?_1(e):e;function f1(e){bt&&W0&&(e=We(e),n1(e.dep||(e.dep=dr())))}function h1(e,t){e=We(e);const n=e.dep;n&&Ja(n)}function f0(e){return!!(e&&e.__v_isRef===!0)}function d0(e){return v1(e,!1)}function vt(e){return v1(e,!0)}function v1(e,t){return f0(e)?e:new ol(e,t)}class ol{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:We(t),this._value=n?t:bn(t)}get value(){return f1(this),this._value}set value(t){const n=this.__v_isShallow||Kn(t)||zt(t);t=n?t:We(t),pn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:bn(t),h1(this))}}function ze(e){return f0(e)?e.value:e}const _l={get:(e,t,n)=>ze(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const s=e[t];return f0(s)&&!f0(n)?(s.value=n,!0):Reflect.set(e,t,n,a)}};function d1(e){return jt(e)?e:new Proxy(e,_l)}var m1;class ul{constructor(t,n,a,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[m1]=!1,this._dirty=!0,this.effect=new mr(t,()=>{this._dirty||(this._dirty=!0,h1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=a}get value(){const t=We(this);return f1(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}m1="__v_isReadonly";function cl(e,t,n=!1){let a,s;const i=ge(e);return i?(a=e,s=Z0):(a=e.get,s=e.set),new ul(a,s,i||!s,n)}function xt(e,t,n,a){let s;try{s=a?e(...a):e()}catch(i){ra(i,t,n)}return s}function Y0(e,t,n,a){if(ge(e)){const i=xt(e,t,n,a);return i&&zs(i)&&i.catch(u=>{ra(u,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Y0(e[i],t,n,a));return s}function ra(e,t,n,a=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const u=t.proxy,h=n;for(;i;){const g=i.ec;if(g){for(let d=0;d<g.length;d++)if(g[d](e,u,h)===!1)return}i=i.parent}const p=t.appContext.config.errorHandler;if(p){xt(p,null,10,[e,u,h]);return}}fl(e,n,s,a)}function fl(e,t,n,a=!0){console.error(e)}let xn=!1,er=!1;const M0=[];let rt=0;const Wt=[];let lt=null,Lt=0;const p1=Promise.resolve();let Ar=null;function jn(e){const t=Ar||p1;return e?t.then(this?e.bind(this):e):t}function hl(e){let t=rt+1,n=M0.length;for(;t<n;){const a=t+n>>>1;Sn(M0[a])<e?t=a+1:n=a}return t}function yr(e){(!M0.length||!M0.includes(e,xn&&e.allowRecurse?rt+1:rt))&&(e.id==null?M0.push(e):M0.splice(hl(e.id),0,e),b1())}function b1(){!xn&&!er&&(er=!0,Ar=p1.then(S1))}function vl(e){const t=M0.indexOf(e);t>rt&&M0.splice(t,1)}function dl(e){Ye(e)?Wt.push(...e):(!lt||!lt.includes(e,e.allowRecurse?Lt+1:Lt))&&Wt.push(e),b1()}function Wr(e,t=xn?rt+1:0){for(;t<M0.length;t++){const n=M0[t];n&&n.pre&&(M0.splice(t,1),t--,n())}}function x1(e){if(Wt.length){const t=[...new Set(Wt)];if(Wt.length=0,lt){lt.push(...t);return}for(lt=t,lt.sort((n,a)=>Sn(n)-Sn(a)),Lt=0;Lt<lt.length;Lt++)lt[Lt]();lt=null,Lt=0}}const Sn=e=>e.id==null?1/0:e.id,ml=(e,t)=>{const n=Sn(e)-Sn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function S1(e){er=!1,xn=!0,M0.sort(ml);const t=Z0;try{for(rt=0;rt<M0.length;rt++){const n=M0[rt];n&&n.active!==!1&&xt(n,null,14)}}finally{rt=0,M0.length=0,x1(),xn=!1,Ar=null,(M0.length||Wt.length)&&S1()}}function pl(e,t,...n){if(e.isUnmounted)return;const a=e.vnode.props||Je;let s=n;const i=t.startsWith("update:"),u=i&&t.slice(7);if(u&&u in a){const d=`${u==="modelValue"?"model":u}Modifiers`,{number:o,trim:A}=a[d]||Je;A&&(s=n.map(Z=>h0(Z)?Z.trim():Z)),o&&(s=n.map(Wa))}let h,p=a[h=Ba(t)]||a[h=Ba(st(t))];!p&&i&&(p=a[h=Ba(Qt(t))]),p&&Y0(p,e,6,s);const g=a[h+"Once"];if(g){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Y0(g,e,6,s)}}function M1(e,t,n=!1){const a=t.emitsCache,s=a.get(e);if(s!==void 0)return s;const i=e.emits;let u={},h=!1;if(!ge(e)){const p=g=>{const d=M1(g,t,!0);d&&(h=!0,E0(u,d))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!i&&!h?(r0(e)&&a.set(e,null),null):(Ye(i)?i.forEach(p=>u[p]=null):E0(u,i),r0(e)&&a.set(e,u),u)}function sa(e,t){return!e||!Jn(t)?!1:(t=t.slice(2).replace(/Once$/,""),je(e,t[0].toLowerCase()+t.slice(1))||je(e,Qt(t))||je(e,t))}let p0=null,ia=null;function Wn(e){const t=p0;return p0=e,ia=e&&e.type.__scopeId||null,t}function la(e){ia=e}function oa(){ia=null}function E1(e,t=p0,n){if(!t||e._n)return e;const a=(...s)=>{a._d&&ss(-1);const i=Wn(t);let u;try{u=e(...s)}finally{Wn(i),a._d&&ss(1)}return u};return a._n=!0,a._c=!0,a._d=!0,a}function Ia(e){const{type:t,vnode:n,proxy:a,withProxy:s,props:i,propsOptions:[u],slots:h,attrs:p,emit:g,render:d,renderCache:o,data:A,setupState:Z,ctx:j,inheritAttrs:W}=e;let U,R;const m=Wn(e);try{if(n.shapeFlag&4){const w=s||a;U=at(d.call(w,w,o,i,Z,A,j)),R=p}else{const w=t;U=at(w.length>1?w(i,{attrs:p,slots:h,emit:g}):w(i,null)),R=t.props?p:bl(p)}}catch(w){mn.length=0,ra(w,e,1),U=c0(q0)}let S=U;if(R&&W!==!1){const w=Object.keys(R),{shapeFlag:r}=S;w.length&&r&7&&(u&&w.some(cr)&&(R=xl(R,u)),S=Mt(S,R))}return n.dirs&&(S=Mt(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),U=S,Wn(m),U}const bl=e=>{let t;for(const n in e)(n==="class"||n==="style"||Jn(n))&&((t||(t={}))[n]=e[n]);return t},xl=(e,t)=>{const n={};for(const a in e)(!cr(a)||!(a.slice(9)in t))&&(n[a]=e[a]);return n};function Sl(e,t,n){const{props:a,children:s,component:i}=e,{props:u,children:h,patchFlag:p}=t,g=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return a?zr(a,u,g):!!u;if(p&8){const d=t.dynamicProps;for(let o=0;o<d.length;o++){const A=d[o];if(u[A]!==a[A]&&!sa(g,A))return!0}}}else return(s||h)&&(!h||!h.$stable)?!0:a===u?!1:a?u?zr(a,u,g):!0:!!u;return!1}function zr(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let s=0;s<a.length;s++){const i=a[s];if(t[i]!==e[i]&&!sa(n,i))return!0}return!1}function Ml({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const El=e=>e.__isSuspense;function Al(e,t){t&&t.pendingBranch?Ye(e)?t.effects.push(...e):t.effects.push(e):dl(e)}function yl(e,t){if(_0){let n=_0.provides;const a=_0.parent&&_0.parent.provides;a===n&&(n=_0.provides=Object.create(a)),n[e]=t}}function gn(e,t,n=!1){const a=_0||p0;if(a){const s=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ge(t)?t.call(a.proxy):t}}const Hn={};function k0(e,t,n){return A1(e,t,n)}function A1(e,t,{immediate:n,deep:a,flush:s,onTrack:i,onTrigger:u}=Je){const h=Fi()===(_0==null?void 0:_0.scope)?_0:null;let p,g=!1,d=!1;if(f0(e)?(p=()=>e.value,g=Kn(e)):jt(e)?(p=()=>e,a=!0):Ye(e)?(d=!0,g=e.some(S=>jt(S)||Kn(S)),p=()=>e.map(S=>{if(f0(S))return S.value;if(jt(S))return Ht(S);if(ge(S))return xt(S,h,2)})):ge(e)?t?p=()=>xt(e,h,2):p=()=>{if(!(h&&h.isUnmounted))return o&&o(),Y0(e,h,3,[A])}:p=Z0,t&&a){const S=p;p=()=>Ht(S())}let o,A=S=>{o=R.onStop=()=>{xt(S,h,4)}},Z;if(En)if(A=Z0,t?n&&Y0(t,h,3,[p(),d?[]:void 0,A]):p(),s==="sync"){const S=Ro();Z=S.__watcherHandles||(S.__watcherHandles=[])}else return Z0;let j=d?new Array(e.length).fill(Hn):Hn;const W=()=>{if(R.active)if(t){const S=R.run();(a||g||(d?S.some((w,r)=>pn(w,j[r])):pn(S,j)))&&(o&&o(),Y0(t,h,3,[S,j===Hn?void 0:d&&j[0]===Hn?[]:j,A]),j=S)}else R.run()};W.allowRecurse=!!t;let U;s==="sync"?U=W:s==="post"?U=()=>O0(W,h&&h.suspense):(W.pre=!0,h&&(W.id=h.uid),U=()=>yr(W));const R=new mr(p,U);t?n?W():j=R.run():s==="post"?O0(R.run.bind(R),h&&h.suspense):R.run();const m=()=>{R.stop(),h&&h.scope&&fr(h.scope.effects,R)};return Z&&Z.push(m),m}function Rl(e,t,n){const a=this.proxy,s=h0(e)?e.includes(".")?y1(a,e):()=>a[e]:e.bind(a,a);let i;ge(t)?i=t:(i=t.handler,n=t);const u=_0;Zt(this);const h=A1(s,i.bind(a),n);return u?Zt(u):Vt(),h}function y1(e,t){const n=t.split(".");return()=>{let a=e;for(let s=0;s<n.length&&a;s++)a=a[n[s]];return a}}function Ht(e,t){if(!r0(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),f0(e))Ht(e.value,t);else if(Ye(e))for(let n=0;n<e.length;n++)Ht(e[n],t);else if(Ws(e)||Kt(e))e.forEach(n=>{Ht(n,t)});else if(Qs(e))for(const n in e)Ht(e[n],t);return e}function Tl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ca(()=>{e.isMounted=!0}),fa(()=>{e.isUnmounting=!0}),e}const P0=[Function,Array],wl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:P0,onEnter:P0,onAfterEnter:P0,onEnterCancelled:P0,onBeforeLeave:P0,onLeave:P0,onAfterLeave:P0,onLeaveCancelled:P0,onBeforeAppear:P0,onAppear:P0,onAfterAppear:P0,onAppearCancelled:P0},setup(e,{slots:t}){const n=po(),a=Tl();let s;return()=>{const i=t.default&&T1(t.default(),!0);if(!i||!i.length)return;let u=i[0];if(i.length>1){for(const W of i)if(W.type!==q0){u=W;break}}const h=We(e),{mode:p}=h;if(a.isLeaving)return Ca(u);const g=Zr(u);if(!g)return Ca(u);const d=tr(g,h,a,n);nr(g,d);const o=n.subTree,A=o&&Zr(o);let Z=!1;const{getTransitionKey:j}=g.type;if(j){const W=j();s===void 0?s=W:W!==s&&(s=W,Z=!0)}if(A&&A.type!==q0&&(!Nt(g,A)||Z)){const W=tr(A,h,a,n);if(nr(A,W),p==="out-in")return a.isLeaving=!0,W.afterLeave=()=>{a.isLeaving=!1,n.update.active!==!1&&n.update()},Ca(u);p==="in-out"&&g.type!==q0&&(W.delayLeave=(U,R,m)=>{const S=R1(a,A);S[String(A.key)]=A,U._leaveCb=()=>{R(),U._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=m})}return u}}},Bl=wl;function R1(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function tr(e,t,n,a){const{appear:s,mode:i,persisted:u=!1,onBeforeEnter:h,onEnter:p,onAfterEnter:g,onEnterCancelled:d,onBeforeLeave:o,onLeave:A,onAfterLeave:Z,onLeaveCancelled:j,onBeforeAppear:W,onAppear:U,onAfterAppear:R,onAppearCancelled:m}=t,S=String(e.key),w=R1(n,e),r=(V,G)=>{V&&Y0(V,a,9,G)},M=(V,G)=>{const k=G[1];r(V,G),Ye(V)?V.every($=>$.length<=1)&&k():V.length<=1&&k()},O={mode:i,persisted:u,beforeEnter(V){let G=h;if(!n.isMounted)if(s)G=W||h;else return;V._leaveCb&&V._leaveCb(!0);const k=w[S];k&&Nt(e,k)&&k.el._leaveCb&&k.el._leaveCb(),r(G,[V])},enter(V){let G=p,k=g,$=d;if(!n.isMounted)if(s)G=U||p,k=R||g,$=m||d;else return;let de=!1;const B=V._enterCb=_=>{de||(de=!0,_?r($,[V]):r(k,[V]),O.delayedLeave&&O.delayedLeave(),V._enterCb=void 0)};G?M(G,[V,B]):B()},leave(V,G){const k=String(e.key);if(V._enterCb&&V._enterCb(!0),n.isUnmounting)return G();r(o,[V]);let $=!1;const de=V._leaveCb=B=>{$||($=!0,G(),B?r(j,[V]):r(Z,[V]),V._leaveCb=void 0,w[k]===e&&delete w[k])};w[k]=e,A?M(A,[V,de]):de()},clone(V){return tr(V,t,n,a)}};return O}function Ca(e){if(_a(e))return e=Mt(e),e.children=null,e}function Zr(e){return _a(e)?e.children?e.children[0]:void 0:e}function nr(e,t){e.shapeFlag&6&&e.component?nr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function T1(e,t=!1,n){let a=[],s=0;for(let i=0;i<e.length;i++){let u=e[i];const h=n==null?u.key:String(n)+String(u.key!=null?u.key:i);u.type===S0?(u.patchFlag&128&&s++,a=a.concat(T1(u.children,t,h))):(t||u.type!==q0)&&a.push(h!=null?Mt(u,{key:h}):u)}if(s>1)for(let i=0;i<a.length;i++)a[i].patchFlag=-2;return a}const vn=e=>!!e.type.__asyncLoader,_a=e=>e.type.__isKeepAlive;function Il(e,t){w1(e,"a",t)}function Cl(e,t){w1(e,"da",t)}function w1(e,t,n=_0){const a=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(ua(t,a,n),n){let s=n.parent;for(;s&&s.parent;)_a(s.parent.vnode)&&Ol(a,t,n,s),s=s.parent}}function Ol(e,t,n,a){const s=ua(t,e,a,!0);B1(()=>{fr(a[t],s)},n)}function ua(e,t,n=_0,a=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;Jt(),Zt(n);const h=Y0(t,n,e,u);return Vt(),en(),h});return a?s.unshift(i):s.push(i),i}}const ct=e=>(t,n=_0)=>(!En||e==="sp")&&ua(e,(...a)=>t(...a),n),Ll=ct("bm"),ca=ct("m"),Nl=ct("bu"),Fl=ct("u"),fa=ct("bum"),B1=ct("um"),Hl=ct("sp"),kl=ct("rtg"),Vl=ct("rtc");function Dl(e,t=_0){ua("ec",e,t)}function zn(e,t){const n=p0;if(n===null)return e;const a=da(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[u,h,p,g=Je]=t[i];u&&(ge(u)&&(u={mounted:u,updated:u}),u.deep&&Ht(h),s.push({dir:u,instance:a,value:h,oldValue:void 0,arg:p,modifiers:g}))}return e}function yt(e,t,n,a){const s=e.dirs,i=t&&t.dirs;for(let u=0;u<s.length;u++){const h=s[u];i&&(h.oldValue=i[u].value);let p=h.dir[a];p&&(Jt(),Y0(p,n,8,[e.el,h,e,t]),en())}}const Pl="components",Xl="directives",$l=Symbol();function I1(e){return Yl(Xl,e)}function Yl(e,t,n=!0,a=!1){const s=p0||_0;if(s){const i=s.type;if(e===Pl){const h=Eo(i,!1);if(h&&(h===t||h===st(t)||h===na(st(t))))return i}const u=Qr(s[e]||i[e],t)||Qr(s.appContext[e],t);return!u&&a?i:u}}function Qr(e,t){return e&&(e[t]||e[st(t)]||e[na(st(t))])}function ql(e,t,n,a){let s;const i=n&&n[a];if(Ye(e)||h0(e)){s=new Array(e.length);for(let u=0,h=e.length;u<h;u++)s[u]=t(e[u],u,void 0,i&&i[u])}else if(typeof e=="number"){s=new Array(e);for(let u=0;u<e;u++)s[u]=t(u+1,u,void 0,i&&i[u])}else if(r0(e))if(e[Symbol.iterator])s=Array.from(e,(u,h)=>t(u,h,void 0,i&&i[h]));else{const u=Object.keys(e);s=new Array(u.length);for(let h=0,p=u.length;h<p;h++){const g=u[h];s[h]=t(e[g],g,h,i&&i[h])}}else s=[];return n&&(n[a]=s),s}function gl(e,t,n={},a,s){if(p0.isCE||p0.parent&&vn(p0.parent)&&p0.parent.isCE)return t!=="default"&&(n.name=t),c0("slot",n,a&&a());let i=e[t];i&&i._c&&(i._d=!1),m0();const u=i&&C1(i(n)),h=Qn(S0,{key:n.key||u&&u.key||`_${t}`},u||(a?a():[]),u&&e._===1?64:-2);return!s&&h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),i&&i._c&&(i._d=!0),h}function C1(e){return e.some(t=>X1(t)?!(t.type===q0||t.type===S0&&!C1(t.children)):!0)?e:null}const ar=e=>e?Y1(e)?da(e)||e.proxy:ar(e.parent):null,dn=E0(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ar(e.parent),$root:e=>ar(e.root),$emit:e=>e.emit,$options:e=>Rr(e),$forceUpdate:e=>e.f||(e.f=()=>yr(e.update)),$nextTick:e=>e.n||(e.n=jn.bind(e.proxy)),$watch:e=>Rl.bind(e)}),Oa=(e,t)=>e!==Je&&!e.__isScriptSetup&&je(e,t),Ul={get({_:e},t){const{ctx:n,setupState:a,data:s,props:i,accessCache:u,type:h,appContext:p}=e;let g;if(t[0]!=="$"){const Z=u[t];if(Z!==void 0)switch(Z){case 1:return a[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Oa(a,t))return u[t]=1,a[t];if(s!==Je&&je(s,t))return u[t]=2,s[t];if((g=e.propsOptions[0])&&je(g,t))return u[t]=3,i[t];if(n!==Je&&je(n,t))return u[t]=4,n[t];rr&&(u[t]=0)}}const d=dn[t];let o,A;if(d)return t==="$attrs"&&L0(e,"get",t),d(e);if((o=h.__cssModules)&&(o=o[t]))return o;if(n!==Je&&je(n,t))return u[t]=4,n[t];if(A=p.config.globalProperties,je(A,t))return A[t]},set({_:e},t,n){const{data:a,setupState:s,ctx:i}=e;return Oa(s,t)?(s[t]=n,!0):a!==Je&&je(a,t)?(a[t]=n,!0):je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:s,propsOptions:i}},u){let h;return!!n[u]||e!==Je&&je(e,u)||Oa(t,u)||(h=i[0])&&je(h,u)||je(a,u)||je(dn,u)||je(s.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let rr=!0;function Gl(e){const t=Rr(e),n=e.proxy,a=e.ctx;rr=!1,t.beforeCreate&&Jr(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:u,watch:h,provide:p,inject:g,created:d,beforeMount:o,mounted:A,beforeUpdate:Z,updated:j,activated:W,deactivated:U,beforeDestroy:R,beforeUnmount:m,destroyed:S,unmounted:w,render:r,renderTracked:M,renderTriggered:O,errorCaptured:V,serverPrefetch:G,expose:k,inheritAttrs:$,components:de,directives:B,filters:_}=t;if(g&&Kl(g,a,null,e.appContext.config.unwrapInjectedRef),u)for(const K in u){const P=u[K];ge(P)&&(a[K]=P.bind(n))}if(s){const K=s.call(n,n);r0(K)&&(e.data=Sr(K))}if(rr=!0,i)for(const K in i){const P=i[K],ne=ge(P)?P.bind(n,n):ge(P.get)?P.get.bind(n,n):Z0,D=!ge(P)&&ge(P.set)?P.set.bind(n):Z0,b=Pt({get:ne,set:D});Object.defineProperty(a,K,{enumerable:!0,configurable:!0,get:()=>b.value,set:c=>b.value=c})}if(h)for(const K in h)O1(h[K],a,n,K);if(p){const K=ge(p)?p.call(n):p;Reflect.ownKeys(K).forEach(P=>{yl(P,K[P])})}d&&Jr(d,e,"c");function Y(K,P){Ye(P)?P.forEach(ne=>K(ne.bind(n))):P&&K(P.bind(n))}if(Y(Ll,o),Y(ca,A),Y(Nl,Z),Y(Fl,j),Y(Il,W),Y(Cl,U),Y(Dl,V),Y(Vl,M),Y(kl,O),Y(fa,m),Y(B1,w),Y(Hl,G),Ye(k))if(k.length){const K=e.exposed||(e.exposed={});k.forEach(P=>{Object.defineProperty(K,P,{get:()=>n[P],set:ne=>n[P]=ne})})}else e.exposed||(e.exposed={});r&&e.render===Z0&&(e.render=r),$!=null&&(e.inheritAttrs=$),de&&(e.components=de),B&&(e.directives=B)}function Kl(e,t,n=Z0,a=!1){Ye(e)&&(e=sr(e));for(const s in e){const i=e[s];let u;r0(i)?"default"in i?u=gn(i.from||s,i.default,!0):u=gn(i.from||s):u=gn(i),f0(u)&&a?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>u.value,set:h=>u.value=h}):t[s]=u}}function Jr(e,t,n){Y0(Ye(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,n)}function O1(e,t,n,a){const s=a.includes(".")?y1(n,a):()=>n[a];if(h0(e)){const i=t[e];ge(i)&&k0(s,i)}else if(ge(e))k0(s,e.bind(n));else if(r0(e))if(Ye(e))e.forEach(i=>O1(i,t,n,a));else{const i=ge(e.handler)?e.handler.bind(n):t[e.handler];ge(i)&&k0(s,i,e)}}function Rr(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:u}}=e.appContext,h=i.get(t);let p;return h?p=h:!s.length&&!n&&!a?p=t:(p={},s.length&&s.forEach(g=>Zn(p,g,u,!0)),Zn(p,t,u)),r0(t)&&i.set(t,p),p}function Zn(e,t,n,a=!1){const{mixins:s,extends:i}=t;i&&Zn(e,i,n,!0),s&&s.forEach(u=>Zn(e,u,n,!0));for(const u in t)if(!(a&&u==="expose")){const h=jl[u]||n&&n[u];e[u]=h?h(e[u],t[u]):t[u]}return e}const jl={data:es,props:Ot,emits:Ot,methods:Ot,computed:Ot,beforeCreate:y0,created:y0,beforeMount:y0,mounted:y0,beforeUpdate:y0,updated:y0,beforeDestroy:y0,beforeUnmount:y0,destroyed:y0,unmounted:y0,activated:y0,deactivated:y0,errorCaptured:y0,serverPrefetch:y0,components:Ot,directives:Ot,watch:zl,provide:es,inject:Wl};function es(e,t){return t?e?function(){return E0(ge(e)?e.call(this,this):e,ge(t)?t.call(this,this):t)}:t:e}function Wl(e,t){return Ot(sr(e),sr(t))}function sr(e){if(Ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function y0(e,t){return e?[...new Set([].concat(e,t))]:t}function Ot(e,t){return e?E0(E0(Object.create(null),e),t):t}function zl(e,t){if(!e)return t;if(!t)return e;const n=E0(Object.create(null),e);for(const a in t)n[a]=y0(e[a],t[a]);return n}function Zl(e,t,n,a=!1){const s={},i={};Gn(i,va,1),e.propsDefaults=Object.create(null),L1(e,t,s,i);for(const u in e.propsOptions[0])u in s||(s[u]=void 0);n?e.props=a?s:ll(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Ql(e,t,n,a){const{props:s,attrs:i,vnode:{patchFlag:u}}=e,h=We(s),[p]=e.propsOptions;let g=!1;if((a||u>0)&&!(u&16)){if(u&8){const d=e.vnode.dynamicProps;for(let o=0;o<d.length;o++){let A=d[o];if(sa(e.emitsOptions,A))continue;const Z=t[A];if(p)if(je(i,A))Z!==i[A]&&(i[A]=Z,g=!0);else{const j=st(A);s[j]=ir(p,h,j,Z,e,!1)}else Z!==i[A]&&(i[A]=Z,g=!0)}}}else{L1(e,t,s,i)&&(g=!0);let d;for(const o in h)(!t||!je(t,o)&&((d=Qt(o))===o||!je(t,d)))&&(p?n&&(n[o]!==void 0||n[d]!==void 0)&&(s[o]=ir(p,h,o,void 0,e,!0)):delete s[o]);if(i!==h)for(const o in i)(!t||!je(t,o))&&(delete i[o],g=!0)}g&&_t(e,"set","$attrs")}function L1(e,t,n,a){const[s,i]=e.propsOptions;let u=!1,h;if(t)for(let p in t){if(Yn(p))continue;const g=t[p];let d;s&&je(s,d=st(p))?!i||!i.includes(d)?n[d]=g:(h||(h={}))[d]=g:sa(e.emitsOptions,p)||(!(p in a)||g!==a[p])&&(a[p]=g,u=!0)}if(i){const p=We(n),g=h||Je;for(let d=0;d<i.length;d++){const o=i[d];n[o]=ir(s,p,o,g[o],e,!je(g,o))}}return u}function ir(e,t,n,a,s,i){const u=e[n];if(u!=null){const h=je(u,"default");if(h&&a===void 0){const p=u.default;if(u.type!==Function&&ge(p)){const{propsDefaults:g}=s;n in g?a=g[n]:(Zt(s),a=g[n]=p.call(null,t),Vt())}else a=p}u[0]&&(i&&!h?a=!1:u[1]&&(a===""||a===Qt(n))&&(a=!0))}return a}function N1(e,t,n=!1){const a=t.propsCache,s=a.get(e);if(s)return s;const i=e.props,u={},h=[];let p=!1;if(!ge(e)){const d=o=>{p=!0;const[A,Z]=N1(o,t,!0);E0(u,A),Z&&h.push(...Z)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!p)return r0(e)&&a.set(e,Gt),Gt;if(Ye(i))for(let d=0;d<i.length;d++){const o=st(i[d]);ts(o)&&(u[o]=Je)}else if(i)for(const d in i){const o=st(d);if(ts(o)){const A=i[d],Z=u[o]=Ye(A)||ge(A)?{type:A}:Object.assign({},A);if(Z){const j=rs(Boolean,Z.type),W=rs(String,Z.type);Z[0]=j>-1,Z[1]=W<0||j<W,(j>-1||je(Z,"default"))&&h.push(o)}}}const g=[u,h];return r0(e)&&a.set(e,g),g}function ts(e){return e[0]!=="$"}function ns(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function as(e,t){return ns(e)===ns(t)}function rs(e,t){return Ye(t)?t.findIndex(n=>as(n,e)):ge(t)&&as(t,e)?0:-1}const F1=e=>e[0]==="_"||e==="$stable",Tr=e=>Ye(e)?e.map(at):[at(e)],Jl=(e,t,n)=>{if(t._n)return t;const a=E1((...s)=>Tr(t(...s)),n);return a._c=!1,a},H1=(e,t,n)=>{const a=e._ctx;for(const s in e){if(F1(s))continue;const i=e[s];if(ge(i))t[s]=Jl(s,i,a);else if(i!=null){const u=Tr(i);t[s]=()=>u}}},k1=(e,t)=>{const n=Tr(t);e.slots.default=()=>n},eo=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=We(t),Gn(t,"_",n)):H1(t,e.slots={})}else e.slots={},t&&k1(e,t);Gn(e.slots,va,1)},to=(e,t,n)=>{const{vnode:a,slots:s}=e;let i=!0,u=Je;if(a.shapeFlag&32){const h=t._;h?n&&h===1?i=!1:(E0(s,t),!n&&h===1&&delete s._):(i=!t.$stable,H1(t,s)),u=t}else t&&(k1(e,t),u={default:1});if(i)for(const h in s)!F1(h)&&!(h in u)&&delete s[h]};function V1(){return{app:null,config:{isNativeTag:Ri,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let no=0;function ao(e,t){return function(a,s=null){ge(a)||(a=Object.assign({},a)),s!=null&&!r0(s)&&(s=null);const i=V1(),u=new Set;let h=!1;const p=i.app={_uid:no++,_component:a,_props:s,_container:null,_context:i,_instance:null,version:To,get config(){return i.config},set config(g){},use(g,...d){return u.has(g)||(g&&ge(g.install)?(u.add(g),g.install(p,...d)):ge(g)&&(u.add(g),g(p,...d))),p},mixin(g){return i.mixins.includes(g)||i.mixins.push(g),p},component(g,d){return d?(i.components[g]=d,p):i.components[g]},directive(g,d){return d?(i.directives[g]=d,p):i.directives[g]},mount(g,d,o){if(!h){const A=c0(a,s);return A.appContext=i,d&&t?t(A,g):e(A,g,o),h=!0,p._container=g,g.__vue_app__=p,da(A.component)||A.component.proxy}},unmount(){h&&(e(null,p._container),delete p._container.__vue_app__)},provide(g,d){return i.provides[g]=d,p}};return p}}function lr(e,t,n,a,s=!1){if(Ye(e)){e.forEach((A,Z)=>lr(A,t&&(Ye(t)?t[Z]:t),n,a,s));return}if(vn(a)&&!s)return;const i=a.shapeFlag&4?da(a.component)||a.component.proxy:a.el,u=s?null:i,{i:h,r:p}=e,g=t&&t.r,d=h.refs===Je?h.refs={}:h.refs,o=h.setupState;if(g!=null&&g!==p&&(h0(g)?(d[g]=null,je(o,g)&&(o[g]=null)):f0(g)&&(g.value=null)),ge(p))xt(p,h,12,[u,d]);else{const A=h0(p),Z=f0(p);if(A||Z){const j=()=>{if(e.f){const W=A?je(o,p)?o[p]:d[p]:p.value;s?Ye(W)&&fr(W,i):Ye(W)?W.includes(i)||W.push(i):A?(d[p]=[i],je(o,p)&&(o[p]=d[p])):(p.value=[i],e.k&&(d[e.k]=p.value))}else A?(d[p]=u,je(o,p)&&(o[p]=u)):Z&&(p.value=u,e.k&&(d[e.k]=u))};u?(j.id=-1,O0(j,n)):j()}}}const O0=Al;function ro(e){return so(e)}function so(e,t){const n=Oi();n.__VUE__=!0;const{insert:a,remove:s,patchProp:i,createElement:u,createText:h,createComment:p,setText:g,setElementText:d,parentNode:o,nextSibling:A,setScopeId:Z=Z0,insertStaticContent:j}=e,W=(C,X,Q,ae=null,le=null,Se=null,Oe=!1,l=null,v=!!X.dynamicChildren)=>{if(C===X)return;C&&!Nt(C,X)&&(ae=se(C),c(C,le,Se,!0),C=null),X.patchFlag===-2&&(v=!1,X.dynamicChildren=null);const{type:re,ref:ve,shapeFlag:pe}=X;switch(re){case ha:U(C,X,Q,ae);break;case q0:R(C,X,Q,ae);break;case La:C==null&&m(X,Q,ae,Oe);break;case S0:de(C,X,Q,ae,le,Se,Oe,l,v);break;default:pe&1?r(C,X,Q,ae,le,Se,Oe,l,v):pe&6?B(C,X,Q,ae,le,Se,Oe,l,v):(pe&64||pe&128)&&re.process(C,X,Q,ae,le,Se,Oe,l,v,z)}ve!=null&&le&&lr(ve,C&&C.ref,Se,X||C,!X)},U=(C,X,Q,ae)=>{if(C==null)a(X.el=h(X.children),Q,ae);else{const le=X.el=C.el;X.children!==C.children&&g(le,X.children)}},R=(C,X,Q,ae)=>{C==null?a(X.el=p(X.children||""),Q,ae):X.el=C.el},m=(C,X,Q,ae)=>{[C.el,C.anchor]=j(C.children,X,Q,ae,C.el,C.anchor)},S=({el:C,anchor:X},Q,ae)=>{let le;for(;C&&C!==X;)le=A(C),a(C,Q,ae),C=le;a(X,Q,ae)},w=({el:C,anchor:X})=>{let Q;for(;C&&C!==X;)Q=A(C),s(C),C=Q;s(X)},r=(C,X,Q,ae,le,Se,Oe,l,v)=>{Oe=Oe||X.type==="svg",C==null?M(X,Q,ae,le,Se,Oe,l,v):G(C,X,le,Se,Oe,l,v)},M=(C,X,Q,ae,le,Se,Oe,l)=>{let v,re;const{type:ve,props:pe,shapeFlag:xe,transition:be,dirs:Me}=C;if(v=C.el=u(C.type,Se,pe&&pe.is,pe),xe&8?d(v,C.children):xe&16&&V(C.children,v,null,ae,le,Se&&ve!=="foreignObject",Oe,l),Me&&yt(C,null,ae,"created"),O(v,C,C.scopeId,Oe,ae),pe){for(const we in pe)we!=="value"&&!Yn(we)&&i(v,we,null,pe[we],Se,C.children,ae,le,N);"value"in pe&&i(v,"value",null,pe.value),(re=pe.onVnodeBeforeMount)&&tt(re,ae,C)}Me&&yt(C,null,ae,"beforeMount");const Fe=(!le||le&&!le.pendingBranch)&&be&&!be.persisted;Fe&&be.beforeEnter(v),a(v,X,Q),((re=pe&&pe.onVnodeMounted)||Fe||Me)&&O0(()=>{re&&tt(re,ae,C),Fe&&be.enter(v),Me&&yt(C,null,ae,"mounted")},le)},O=(C,X,Q,ae,le)=>{if(Q&&Z(C,Q),ae)for(let Se=0;Se<ae.length;Se++)Z(C,ae[Se]);if(le){let Se=le.subTree;if(X===Se){const Oe=le.vnode;O(C,Oe,Oe.scopeId,Oe.slotScopeIds,le.parent)}}},V=(C,X,Q,ae,le,Se,Oe,l,v=0)=>{for(let re=v;re<C.length;re++){const ve=C[re]=l?pt(C[re]):at(C[re]);W(null,ve,X,Q,ae,le,Se,Oe,l)}},G=(C,X,Q,ae,le,Se,Oe)=>{const l=X.el=C.el;let{patchFlag:v,dynamicChildren:re,dirs:ve}=X;v|=C.patchFlag&16;const pe=C.props||Je,xe=X.props||Je;let be;Q&&Rt(Q,!1),(be=xe.onVnodeBeforeUpdate)&&tt(be,Q,X,C),ve&&yt(X,C,Q,"beforeUpdate"),Q&&Rt(Q,!0);const Me=le&&X.type!=="foreignObject";if(re?k(C.dynamicChildren,re,l,Q,ae,Me,Se):Oe||P(C,X,l,null,Q,ae,Me,Se,!1),v>0){if(v&16)$(l,X,pe,xe,Q,ae,le);else if(v&2&&pe.class!==xe.class&&i(l,"class",null,xe.class,le),v&4&&i(l,"style",pe.style,xe.style,le),v&8){const Fe=X.dynamicProps;for(let we=0;we<Fe.length;we++){const Te=Fe[we],Xe=pe[Te],Ze=xe[Te];(Ze!==Xe||Te==="value")&&i(l,Te,Xe,Ze,le,C.children,Q,ae,N)}}v&1&&C.children!==X.children&&d(l,X.children)}else!Oe&&re==null&&$(l,X,pe,xe,Q,ae,le);((be=xe.onVnodeUpdated)||ve)&&O0(()=>{be&&tt(be,Q,X,C),ve&&yt(X,C,Q,"updated")},ae)},k=(C,X,Q,ae,le,Se,Oe)=>{for(let l=0;l<X.length;l++){const v=C[l],re=X[l],ve=v.el&&(v.type===S0||!Nt(v,re)||v.shapeFlag&70)?o(v.el):Q;W(v,re,ve,null,ae,le,Se,Oe,!0)}},$=(C,X,Q,ae,le,Se,Oe)=>{if(Q!==ae){if(Q!==Je)for(const l in Q)!Yn(l)&&!(l in ae)&&i(C,l,Q[l],null,Oe,X.children,le,Se,N);for(const l in ae){if(Yn(l))continue;const v=ae[l],re=Q[l];v!==re&&l!=="value"&&i(C,l,re,v,Oe,X.children,le,Se,N)}"value"in ae&&i(C,"value",Q.value,ae.value)}},de=(C,X,Q,ae,le,Se,Oe,l,v)=>{const re=X.el=C?C.el:h(""),ve=X.anchor=C?C.anchor:h("");let{patchFlag:pe,dynamicChildren:xe,slotScopeIds:be}=X;be&&(l=l?l.concat(be):be),C==null?(a(re,Q,ae),a(ve,Q,ae),V(X.children,Q,ve,le,Se,Oe,l,v)):pe>0&&pe&64&&xe&&C.dynamicChildren?(k(C.dynamicChildren,xe,Q,le,Se,Oe,l),(X.key!=null||le&&X===le.subTree)&&D1(C,X,!0)):P(C,X,Q,ve,le,Se,Oe,l,v)},B=(C,X,Q,ae,le,Se,Oe,l,v)=>{X.slotScopeIds=l,C==null?X.shapeFlag&512?le.ctx.activate(X,Q,ae,Oe,v):_(X,Q,ae,le,Se,Oe,v):F(C,X,v)},_=(C,X,Q,ae,le,Se,Oe)=>{const l=C.component=mo(C,ae,le);if(_a(C)&&(l.ctx.renderer=z),bo(l),l.asyncDep){if(le&&le.registerDep(l,Y),!C.el){const v=l.subTree=c0(q0);R(null,v,X,Q)}return}Y(l,C,X,Q,le,Se,Oe)},F=(C,X,Q)=>{const ae=X.component=C.component;if(Sl(C,X,Q))if(ae.asyncDep&&!ae.asyncResolved){K(ae,X,Q);return}else ae.next=X,vl(ae.update),ae.update();else X.el=C.el,ae.vnode=X},Y=(C,X,Q,ae,le,Se,Oe)=>{const l=()=>{if(C.isMounted){let{next:ve,bu:pe,u:xe,parent:be,vnode:Me}=C,Fe=ve,we;Rt(C,!1),ve?(ve.el=Me.el,K(C,ve,Oe)):ve=Me,pe&&qn(pe),(we=ve.props&&ve.props.onVnodeBeforeUpdate)&&tt(we,be,ve,Me),Rt(C,!0);const Te=Ia(C),Xe=C.subTree;C.subTree=Te,W(Xe,Te,o(Xe.el),se(Xe),C,le,Se),ve.el=Te.el,Fe===null&&Ml(C,Te.el),xe&&O0(xe,le),(we=ve.props&&ve.props.onVnodeUpdated)&&O0(()=>tt(we,be,ve,Me),le)}else{let ve;const{el:pe,props:xe}=X,{bm:be,m:Me,parent:Fe}=C,we=vn(X);if(Rt(C,!1),be&&qn(be),!we&&(ve=xe&&xe.onVnodeBeforeMount)&&tt(ve,Fe,X),Rt(C,!0),pe&&me){const Te=()=>{C.subTree=Ia(C),me(pe,C.subTree,C,le,null)};we?X.type.__asyncLoader().then(()=>!C.isUnmounted&&Te()):Te()}else{const Te=C.subTree=Ia(C);W(null,Te,Q,ae,C,le,Se),X.el=Te.el}if(Me&&O0(Me,le),!we&&(ve=xe&&xe.onVnodeMounted)){const Te=X;O0(()=>tt(ve,Fe,Te),le)}(X.shapeFlag&256||Fe&&vn(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&C.a&&O0(C.a,le),C.isMounted=!0,X=Q=ae=null}},v=C.effect=new mr(l,()=>yr(re),C.scope),re=C.update=()=>v.run();re.id=C.uid,Rt(C,!0),re()},K=(C,X,Q)=>{X.component=C;const ae=C.vnode.props;C.vnode=X,C.next=null,Ql(C,X.props,ae,Q),to(C,X.children,Q),Jt(),Wr(),en()},P=(C,X,Q,ae,le,Se,Oe,l,v=!1)=>{const re=C&&C.children,ve=C?C.shapeFlag:0,pe=X.children,{patchFlag:xe,shapeFlag:be}=X;if(xe>0){if(xe&128){D(re,pe,Q,ae,le,Se,Oe,l,v);return}else if(xe&256){ne(re,pe,Q,ae,le,Se,Oe,l,v);return}}be&8?(ve&16&&N(re,le,Se),pe!==re&&d(Q,pe)):ve&16?be&16?D(re,pe,Q,ae,le,Se,Oe,l,v):N(re,le,Se,!0):(ve&8&&d(Q,""),be&16&&V(pe,Q,ae,le,Se,Oe,l,v))},ne=(C,X,Q,ae,le,Se,Oe,l,v)=>{C=C||Gt,X=X||Gt;const re=C.length,ve=X.length,pe=Math.min(re,ve);let xe;for(xe=0;xe<pe;xe++){const be=X[xe]=v?pt(X[xe]):at(X[xe]);W(C[xe],be,Q,null,le,Se,Oe,l,v)}re>ve?N(C,le,Se,!0,!1,pe):V(X,Q,ae,le,Se,Oe,l,v,pe)},D=(C,X,Q,ae,le,Se,Oe,l,v)=>{let re=0;const ve=X.length;let pe=C.length-1,xe=ve-1;for(;re<=pe&&re<=xe;){const be=C[re],Me=X[re]=v?pt(X[re]):at(X[re]);if(Nt(be,Me))W(be,Me,Q,null,le,Se,Oe,l,v);else break;re++}for(;re<=pe&&re<=xe;){const be=C[pe],Me=X[xe]=v?pt(X[xe]):at(X[xe]);if(Nt(be,Me))W(be,Me,Q,null,le,Se,Oe,l,v);else break;pe--,xe--}if(re>pe){if(re<=xe){const be=xe+1,Me=be<ve?X[be].el:ae;for(;re<=xe;)W(null,X[re]=v?pt(X[re]):at(X[re]),Q,Me,le,Se,Oe,l,v),re++}}else if(re>xe)for(;re<=pe;)c(C[re],le,Se,!0),re++;else{const be=re,Me=re,Fe=new Map;for(re=Me;re<=xe;re++){const H=X[re]=v?pt(X[re]):at(X[re]);H.key!=null&&Fe.set(H.key,re)}let we,Te=0;const Xe=xe-Me+1;let Ze=!1,Ue=0;const y=new Array(Xe);for(re=0;re<Xe;re++)y[re]=0;for(re=be;re<=pe;re++){const H=C[re];if(Te>=Xe){c(H,le,Se,!0);continue}let q;if(H.key!=null)q=Fe.get(H.key);else for(we=Me;we<=xe;we++)if(y[we-Me]===0&&Nt(H,X[we])){q=we;break}q===void 0?c(H,le,Se,!0):(y[q-Me]=re+1,q>=Ue?Ue=q:Ze=!0,W(H,X[q],Q,null,le,Se,Oe,l,v),Te++)}const T=Ze?io(y):Gt;for(we=T.length-1,re=Xe-1;re>=0;re--){const H=Me+re,q=X[H],J=H+1<ve?X[H+1].el:ae;y[re]===0?W(null,q,Q,J,le,Se,Oe,l,v):Ze&&(we<0||re!==T[we]?b(q,Q,J,2):we--)}}},b=(C,X,Q,ae,le=null)=>{const{el:Se,type:Oe,transition:l,children:v,shapeFlag:re}=C;if(re&6){b(C.component.subTree,X,Q,ae);return}if(re&128){C.suspense.move(X,Q,ae);return}if(re&64){Oe.move(C,X,Q,z);return}if(Oe===S0){a(Se,X,Q);for(let pe=0;pe<v.length;pe++)b(v[pe],X,Q,ae);a(C.anchor,X,Q);return}if(Oe===La){S(C,X,Q);return}if(ae!==2&&re&1&&l)if(ae===0)l.beforeEnter(Se),a(Se,X,Q),O0(()=>l.enter(Se),le);else{const{leave:pe,delayLeave:xe,afterLeave:be}=l,Me=()=>a(Se,X,Q),Fe=()=>{pe(Se,()=>{Me(),be&&be()})};xe?xe(Se,Me,Fe):Fe()}else a(Se,X,Q)},c=(C,X,Q,ae=!1,le=!1)=>{const{type:Se,props:Oe,ref:l,children:v,dynamicChildren:re,shapeFlag:ve,patchFlag:pe,dirs:xe}=C;if(l!=null&&lr(l,null,Q,C,!0),ve&256){X.ctx.deactivate(C);return}const be=ve&1&&xe,Me=!vn(C);let Fe;if(Me&&(Fe=Oe&&Oe.onVnodeBeforeUnmount)&&tt(Fe,X,C),ve&6)x(C.component,Q,ae);else{if(ve&128){C.suspense.unmount(Q,ae);return}be&&yt(C,null,X,"beforeUnmount"),ve&64?C.type.remove(C,X,Q,le,z,ae):re&&(Se!==S0||pe>0&&pe&64)?N(re,X,Q,!1,!0):(Se===S0&&pe&384||!le&&ve&16)&&N(v,X,Q),ae&&f(C)}(Me&&(Fe=Oe&&Oe.onVnodeUnmounted)||be)&&O0(()=>{Fe&&tt(Fe,X,C),be&&yt(C,null,X,"unmounted")},Q)},f=C=>{const{type:X,el:Q,anchor:ae,transition:le}=C;if(X===S0){E(Q,ae);return}if(X===La){w(C);return}const Se=()=>{s(Q),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(C.shapeFlag&1&&le&&!le.persisted){const{leave:Oe,delayLeave:l}=le,v=()=>Oe(Q,Se);l?l(C.el,Se,v):v()}else Se()},E=(C,X)=>{let Q;for(;C!==X;)Q=A(C),s(C),C=Q;s(X)},x=(C,X,Q)=>{const{bum:ae,scope:le,update:Se,subTree:Oe,um:l}=C;ae&&qn(ae),le.stop(),Se&&(Se.active=!1,c(Oe,C,X,Q)),l&&O0(l,X),O0(()=>{C.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},N=(C,X,Q,ae=!1,le=!1,Se=0)=>{for(let Oe=Se;Oe<C.length;Oe++)c(C[Oe],X,Q,ae,le)},se=C=>C.shapeFlag&6?se(C.component.subTree):C.shapeFlag&128?C.suspense.next():A(C.anchor||C.el),I=(C,X,Q)=>{C==null?X._vnode&&c(X._vnode,null,null,!0):W(X._vnode||null,C,X,null,null,null,Q),Wr(),x1(),X._vnode=C},z={p:W,um:c,m:b,r:f,mt:_,mc:V,pc:P,pbc:k,n:se,o:e};let _e,me;return t&&([_e,me]=t(z)),{render:I,hydrate:_e,createApp:ao(I,_e)}}function Rt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function D1(e,t,n=!1){const a=e.children,s=t.children;if(Ye(a)&&Ye(s))for(let i=0;i<a.length;i++){const u=a[i];let h=s[i];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=s[i]=pt(s[i]),h.el=u.el),n||D1(u,h)),h.type===ha&&(h.el=u.el)}}function io(e){const t=e.slice(),n=[0];let a,s,i,u,h;const p=e.length;for(a=0;a<p;a++){const g=e[a];if(g!==0){if(s=n[n.length-1],e[s]<g){t[a]=s,n.push(a);continue}for(i=0,u=n.length-1;i<u;)h=i+u>>1,e[n[h]]<g?i=h+1:u=h;g<e[n[i]]&&(i>0&&(t[a]=n[i-1]),n[i]=a)}}for(i=n.length,u=n[i-1];i-- >0;)n[i]=u,u=t[u];return n}const lo=e=>e.__isTeleport,S0=Symbol(void 0),ha=Symbol(void 0),q0=Symbol(void 0),La=Symbol(void 0),mn=[];let z0=null;function m0(e=!1){mn.push(z0=e?null:[])}function oo(){mn.pop(),z0=mn[mn.length-1]||null}let Mn=1;function ss(e){Mn+=e}function P1(e){return e.dynamicChildren=Mn>0?z0||Gt:null,oo(),Mn>0&&z0&&z0.push(e),e}function V0(e,t,n,a,s,i){return P1(Be(e,t,n,a,s,i,!0))}function Qn(e,t,n,a,s){return P1(c0(e,t,n,a,s,!0))}function X1(e){return e?e.__v_isVNode===!0:!1}function Nt(e,t){return e.type===t.type&&e.key===t.key}const va="__vInternal",$1=({key:e})=>e??null,Un=({ref:e,ref_key:t,ref_for:n})=>e!=null?h0(e)||f0(e)||ge(e)?{i:p0,r:e,k:t,f:!!n}:e:null;function Be(e,t=null,n=null,a=0,s=null,i=e===S0?0:1,u=!1,h=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$1(t),ref:t&&Un(t),scopeId:ia,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:a,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:p0};return h?(wr(p,n),i&128&&e.normalize(p)):n&&(p.shapeFlag|=h0(n)?8:16),Mn>0&&!u&&z0&&(p.patchFlag>0||i&6)&&p.patchFlag!==32&&z0.push(p),p}const c0=_o;function _o(e,t=null,n=null,a=0,s=null,i=!1){if((!e||e===$l)&&(e=q0),X1(e)){const h=Mt(e,t,!0);return n&&wr(h,n),Mn>0&&!i&&z0&&(h.shapeFlag&6?z0[z0.indexOf(e)]=h:z0.push(h)),h.patchFlag|=-2,h}if(Ao(e)&&(e=e.__vccOpts),t){t=uo(t);let{class:h,style:p}=t;h&&!h0(h)&&(t.class=Rn(h)),r0(p)&&(u1(p)&&!Ye(p)&&(p=E0({},p)),t.style=yn(p))}const u=h0(e)?1:El(e)?128:lo(e)?64:r0(e)?4:ge(e)?2:0;return Be(e,t,n,a,s,u,i,!0)}function uo(e){return e?u1(e)||va in e?E0({},e):e:null}function Mt(e,t,n=!1){const{props:a,ref:s,patchFlag:i,children:u}=e,h=t?fo(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&$1(h),ref:t&&t.ref?n&&s?Ye(s)?s.concat(Un(t)):[s,Un(t)]:Un(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==S0?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mt(e.ssContent),ssFallback:e.ssFallback&&Mt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function or(e=" ",t=0){return c0(ha,null,e,t)}function co(e="",t=!1){return t?(m0(),Qn(q0,null,e)):c0(q0,null,e)}function at(e){return e==null||typeof e=="boolean"?c0(q0):Ye(e)?c0(S0,null,e.slice()):typeof e=="object"?pt(e):c0(ha,null,String(e))}function pt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Mt(e)}function wr(e,t){let n=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Ye(t))n=16;else if(typeof t=="object")if(a&65){const s=t.default;s&&(s._c&&(s._d=!1),wr(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(va in t)?t._ctx=p0:s===3&&p0&&(p0.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ge(t)?(t={default:t,_ctx:p0},n=32):(t=String(t),a&64?(n=16,t=[or(t)]):n=8);e.children=t,e.shapeFlag|=n}function fo(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const s in a)if(s==="class")t.class!==a.class&&(t.class=Rn([t.class,a.class]));else if(s==="style")t.style=yn([t.style,a.style]);else if(Jn(s)){const i=t[s],u=a[s];u&&i!==u&&!(Ye(i)&&i.includes(u))&&(t[s]=i?[].concat(i,u):u)}else s!==""&&(t[s]=a[s])}return t}function tt(e,t,n,a=null){Y0(e,t,7,[n,a])}const ho=V1();let vo=0;function mo(e,t,n){const a=e.type,s=(t?t.appContext:e.appContext)||ho,i={uid:vo++,vnode:e,type:a,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Li(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:N1(a,s),emitsOptions:M1(a,s),emit:null,emitted:null,propsDefaults:Je,inheritAttrs:a.inheritAttrs,ctx:Je,data:Je,props:Je,attrs:Je,slots:Je,refs:Je,setupState:Je,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=pl.bind(null,i),e.ce&&e.ce(i),i}let _0=null;const po=()=>_0||p0,Zt=e=>{_0=e,e.scope.on()},Vt=()=>{_0&&_0.scope.off(),_0=null};function Y1(e){return e.vnode.shapeFlag&4}let En=!1;function bo(e,t=!1){En=t;const{props:n,children:a}=e.vnode,s=Y1(e);Zl(e,n,s,t),eo(e,a);const i=s?xo(e,t):void 0;return En=!1,i}function xo(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=c1(new Proxy(e.ctx,Ul));const{setup:a}=n;if(a){const s=e.setupContext=a.length>1?Mo(e):null;Zt(e),Jt();const i=xt(a,e,0,[e.props,s]);if(en(),Vt(),zs(i)){if(i.then(Vt,Vt),t)return i.then(u=>{is(e,u,t)}).catch(u=>{ra(u,e,0)});e.asyncDep=i}else is(e,i,t)}else q1(e,t)}function is(e,t,n){ge(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:r0(t)&&(e.setupState=d1(t)),q1(e,n)}let ls;function q1(e,t,n){const a=e.type;if(!e.render){if(!t&&ls&&!a.render){const s=a.template||Rr(e).template;if(s){const{isCustomElement:i,compilerOptions:u}=e.appContext.config,{delimiters:h,compilerOptions:p}=a,g=E0(E0({isCustomElement:i,delimiters:h},u),p);a.render=ls(s,g)}}e.render=a.render||Z0}Zt(e),Jt(),Gl(e),en(),Vt()}function So(e){return new Proxy(e.attrs,{get(t,n){return L0(e,"get","$attrs"),t[n]}})}function Mo(e){const t=a=>{e.exposed=a||{}};let n;return{get attrs(){return n||(n=So(e))},slots:e.slots,emit:e.emit,expose:t}}function da(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(d1(c1(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in dn)return dn[n](e)},has(t,n){return n in t||n in dn}}))}function Eo(e,t=!0){return ge(e)?e.displayName||e.name:e.name||t&&e.__name}function Ao(e){return ge(e)&&"__vccOpts"in e}const Pt=(e,t)=>cl(e,t,En),yo=Symbol(""),Ro=()=>gn(yo),To="3.2.47",wo="http://www.w3.org/2000/svg",Ft=typeof document<"u"?document:null,os=Ft&&Ft.createElement("template"),Bo={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const s=t?Ft.createElementNS(wo,e):Ft.createElement(e,n?{is:n}:void 0);return e==="select"&&a&&a.multiple!=null&&s.setAttribute("multiple",a.multiple),s},createText:e=>Ft.createTextNode(e),createComment:e=>Ft.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ft.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,s,i){const u=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{os.innerHTML=a?`<svg>${e}</svg>`:e;const h=os.content;if(a){const p=h.firstChild;for(;p.firstChild;)h.appendChild(p.firstChild);h.removeChild(p)}t.insertBefore(h,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Io(e,t,n){const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Co(e,t,n){const a=e.style,s=h0(n);if(n&&!s){if(t&&!h0(t))for(const i in t)n[i]==null&&_r(a,i,"");for(const i in n)_r(a,i,n[i])}else{const i=a.display;s?t!==n&&(a.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(a.display=i)}}const _s=/\s*!important$/;function _r(e,t,n){if(Ye(n))n.forEach(a=>_r(e,t,a));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const a=Oo(e,t);_s.test(n)?e.setProperty(Qt(a),n.replace(_s,""),"important"):e[a]=n}}const us=["Webkit","Moz","ms"],Na={};function Oo(e,t){const n=Na[t];if(n)return n;let a=st(t);if(a!=="filter"&&a in e)return Na[t]=a;a=na(a);for(let s=0;s<us.length;s++){const i=us[s]+a;if(i in e)return Na[t]=i}return t}const cs="http://www.w3.org/1999/xlink";function Lo(e,t,n,a,s){if(a&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(cs,t.slice(6,t.length)):e.setAttributeNS(cs,t,n);else{const i=yi(t);n==null||i&&!Ks(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function No(e,t,n,a,s,i,u){if(t==="innerHTML"||t==="textContent"){a&&u(a,s,i),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const p=n??"";(e.value!==p||e.tagName==="OPTION")&&(e.value=p),n==null&&e.removeAttribute(t);return}let h=!1;if(n===""||n==null){const p=typeof e[t];p==="boolean"?n=Ks(n):n==null&&p==="string"?(n="",h=!0):p==="number"&&(n=0,h=!0)}try{e[t]=n}catch{}h&&e.removeAttribute(t)}function Ut(e,t,n,a){e.addEventListener(t,n,a)}function Fo(e,t,n,a){e.removeEventListener(t,n,a)}function Ho(e,t,n,a,s=null){const i=e._vei||(e._vei={}),u=i[t];if(a&&u)u.value=a;else{const[h,p]=ko(t);if(a){const g=i[t]=Po(a,s);Ut(e,h,g,p)}else u&&(Fo(e,h,u,p),i[t]=void 0)}}const fs=/(?:Once|Passive|Capture)$/;function ko(e){let t;if(fs.test(e)){t={};let a;for(;a=e.match(fs);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qt(e.slice(2)),t]}let Fa=0;const Vo=Promise.resolve(),Do=()=>Fa||(Vo.then(()=>Fa=0),Fa=Date.now());function Po(e,t){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;Y0(Xo(a,n.value),t,5,[a])};return n.value=e,n.attached=Do(),n}function Xo(e,t){if(Ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(a=>s=>!s._stopped&&a&&a(s))}else return t}const hs=/^on[a-z]/,$o=(e,t,n,a,s=!1,i,u,h,p)=>{t==="class"?Io(e,a,s):t==="style"?Co(e,n,a):Jn(t)?cr(t)||Ho(e,t,n,a,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Yo(e,t,a,s))?No(e,t,a,i,u,h,p):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Lo(e,t,a,s))};function Yo(e,t,n,a){return a?!!(t==="innerHTML"||t==="textContent"||t in e&&hs.test(t)&&ge(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||hs.test(t)&&h0(n)?!1:t in e}const qo={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Bl.props;const vs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ye(t)?n=>qn(t,n):t};function go(e){e.target.composing=!0}function ds(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Uo={created(e,{modifiers:{lazy:t,trim:n,number:a}},s){e._assign=vs(s);const i=a||s.props&&s.props.type==="number";Ut(e,t?"change":"input",u=>{if(u.target.composing)return;let h=e.value;n&&(h=h.trim()),i&&(h=Wa(h)),e._assign(h)}),n&&Ut(e,"change",()=>{e.value=e.value.trim()}),t||(Ut(e,"compositionstart",go),Ut(e,"compositionend",ds),Ut(e,"change",ds))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:a,number:s}},i){if(e._assign=vs(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||a&&e.value.trim()===t||(s||e.type==="number")&&Wa(e.value)===t))return;const u=t??"";e.value!==u&&(e.value=u)}},Go=["ctrl","shift","alt","meta"],Ko={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Go.some(n=>e[`${n}Key`]&&!t.includes(n))},R0=(e,t)=>(n,...a)=>{for(let s=0;s<t.length;s++){const i=Ko[t[s]];if(i&&i(n,t))return}return e(n,...a)},ms={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):un(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(e),un(e,!0),a.enter(e)):a.leave(e,()=>{un(e,!1)}):un(e,t))},beforeUnmount(e,{value:t}){un(e,t)}};function un(e,t){e.style.display=t?e._vod:"none"}const jo=E0({patchProp:$o},Bo);let ps;function Wo(){return ps||(ps=ro(jo))}const zo=(...e)=>{const t=Wo().createApp(...e),{mount:n}=t;return t.mount=a=>{const s=Zo(a);if(!s)return;const i=t._component;!ge(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const u=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),u},t};function Zo(e){return h0(e)?document.querySelector(e):e}const tn=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n},Qo=e=>(la("data-v-2e1206cc"),e=e(),oa(),e),Jo=["onDrop"],e2=["innerHTML"],t2=Qo(()=>Be("div",{class:"drag-label"},"Drop files here",-1)),n2=["accept"],a2={__name:"DragDropInput",props:{label:String,allowDrop:{type:Boolean,default:!0},fullscreenDrop:Boolean,singleFile:{type:Boolean,default:!1},extensions:String},emits:["upload"],setup(e,{emit:t}){const n=e,a=d0(0),s=Pt(()=>n.allowDrop&&"draggable"in document.body&&"ondrag"in document.body&&"FileReader"in window),i=Pt(()=>n.label?n.label:s.value?n.singleFile?"<b>Click to select a file</b> or drag it here":"<b>Click to select files</b> or drag them here":n.singleFile?"<b>Click to select a file</b>":"<b>Click to select files</b>");function u(o){const A=o.target.querySelector("input");A&&(A.value=null,A.click())}function h(o){t("upload",o.target.files)}function p(o){if(!(o.dataTransfer&&!o.dataTransfer.types.includes("Files")))if(o.type==="blur")a.value=0;else if(o.type==="drop")console.log("drop",o);else{const A=/enter|start/.test(o.type)&&1||/leave|end/.test(o.type)&&-1||0;a.value+=A}}function g(o){if(!s.value||o.dataTransfer&&!o.dataTransfer.types.includes("Files"))return;a.value-=1;let A=Array.from(o.dataTransfer.files);if(n.extensions){const Z=n.extensions.split(",").map(W=>W.replace(/(^\.|\s+)/g,"")),j=new RegExp(`\\.(${Z.join("|")})$`,"i");A=A.filter(W=>j.test(W.name))}A.length>0&&h({target:{files:A}})}const d=["dragenter","dragleave","dragstart","dragend","drop","drag"];return ca(()=>{if(s.value){window.addEventListener("blur",p),window.addEventListener("drop",p);for(const o of d)document.addEventListener(o,p)}}),fa(()=>{window.removeEventListener("blur",p),window.removeEventListener("drop",p);for(const o of d)document.removeEventListener(o,p)}),(o,A)=>(m0(),V0("div",{class:Rn(["upload-area",{dragging:a.value>0,candrag:ze(s),fullscreen:e.fullscreenDrop}]),onClick:u,onDrop:R0(g,["prevent","stop"]),onDragover:A[0]||(A[0]=R0(()=>{},["prevent","stop"]))},[Be("span",{class:"upload-label",innerHTML:ze(i)},null,8,e2),t2,Be("input",{type:"file",accept:e.extensions,onInput:h},null,40,n2)],42,Jo))}},r2=tn(a2,[["__scopeId","data-v-2e1206cc"]]);const s2={__name:"SvgIcon",props:{name:String,size:{type:Number,default:16}},setup(e){const t=e,n=d0(null),a=Pt(()=>{const s=`url('./icons/${t.name}.svg')`;return{width:t.size+"px",height:t.size+"px",backgroundColor:"currentColor",maskImage:s,"-webkit-mask-image":s}});return(s,i)=>(m0(),V0("div",{class:"svg-icon",ref_key:"rootEl",ref:n,style:yn(ze(a))},null,4))}},mt=tn(s2,[["__scopeId","data-v-f53dc053"]]);function g1(e){const t="prefetch-icons-container";let n=document.getElementById(t);n||(n=document.createElement("div"),n.setAttribute("id",t),Object.assign(n.style,{position:"fixed",top:0,left:0,width:"50px",height:"50px",transform:"translateX(-100%)"}),document.body.append(n));for(const a of e){const s=`./icons/${a}.svg`,i=document.createElement("div");Object.assign(i.style,{background:`url(${s})`}),n.append(i)}}const i2=e=>(la("data-v-4bdc06ad"),e=e(),oa(),e),l2=i2(()=>Be("div",{class:"spacer"},null,-1)),o2={class:"slider__anim-container absolute"},_2=["onMousedown"],u2=["onMousedown"],c2={__name:"VolumeButton",props:{value:{type:Number,default:1},muted:{type:Boolean,default:!1},size:{type:Number,default:40}},emits:["update:value","update:muted"],setup(e,{emit:t}){const n=e,a=d0(null),s=d0(null),i=d0("volume-high"),u=d0(0),h=d0(!1);function p(o){if(!s.value)return n.value;const A=s.value.getBoundingClientRect(),Z=(o-A.x)/A.width,j=o<A.x||o>=A.x+A.width;return{pct:Math.max(0,Math.min(Z,1)),raw:Z,overflown:j}}function g(o){const A=p(o.clientX);if(o.target!==a.value&&A.overflown)return;t("update:value",A.pct);const Z=++u.value;h.value=!0;const j=R=>{const m=p(R.clientX);t("update:value",m.pct)},W=R=>{R.which===1&&U()},U=()=>{window.removeEventListener("mousemove",j,{capture:!0,passive:!0}),window.removeEventListener("blur",U),window.removeEventListener("mouseup",W),setTimeout(()=>{u.value===Z&&(h.value=!1)},1e3)};window.addEventListener("mousemove",j,{capture:!0,passive:!0}),window.addEventListener("blur",U,{once:!0}),window.addEventListener("mouseup",W)}const d=[{icon:"volume-high",level:.33},{icon:"volume-medium",level:Number.EPSILON},{icon:"volume-low",level:0},{icon:"volume-off",level:-1}];return k0(()=>[n.value,n.muted],()=>{if(n.muted)i.value="volume-off";else{const o=d.find(({level:A})=>A<=n.value);o&&(i.value=o.icon)}},{immediate:!0}),g1(d.map(({icon:o})=>o)),(o,A)=>(m0(),V0("div",{class:Rn(["root row relative",{sliding:h.value}])},[Be("button",{class:"icon",onClick:A[0]||(A[0]=Z=>o.$emit("update:muted",!n.muted))},[c0(mt,{name:i.value,size:e.size},null,8,["name","size"])]),l2,Be("div",o2,[Be("div",{class:"slider__container",style:yn({"--progress":e.value})},[Be("div",{class:"slider__track",ref_key:"sliderTrackEl",ref:s,onMousedown:R0(g,["left"])},null,40,_2),Be("div",{class:"slider__button",ref_key:"sliderButtonEl",ref:a,onMousedown:R0(g,["left"])},null,40,u2)],4)])],2))}},f2=tn(c2,[["__scopeId","data-v-4bdc06ad"]]);const it=e=>(la("data-v-b03ae491"),e=e(),oa(),e),h2={class:"column"},v2={class:"row items-center"},d2=it(()=>Be("span",null,":",-1)),m2=it(()=>Be("span",null,".",-1)),p2={class:"column m-l-1"},b2=it(()=>Be("div",{class:"arrow-up"},null,-1)),x2=[b2],S2=it(()=>Be("div",{class:"arrow-down"},null,-1)),M2=[S2],E2=it(()=>Be("span",{class:"font-12"},"Start",-1)),A2={class:"column m-l-3"},y2={class:"row items-center"},R2=it(()=>Be("span",null,":",-1)),T2=it(()=>Be("span",null,".",-1)),w2={class:"column m-l-1"},B2=it(()=>Be("div",{class:"arrow-up"},null,-1)),I2=[B2],C2=it(()=>Be("div",{class:"arrow-down"},null,-1)),O2=[C2],L2=it(()=>Be("span",{class:"font-12"},"End",-1)),N2={__name:"TimeTrimInput",props:{start:{type:Number,default:0},end:{type:Number,default:1/0},duration:{type:Number,default:0}},emits:["update:start","update:end"],setup(e,{emit:t}){const n=e,a=d0(null),s=d0(null);function i(d){if(typeof d=="number"){const o=["mm","ss","ms"][d%3],Z=`[trim-${d<=2?"start":"end"}][${o}]`,j=s.value.querySelector(Z);j&&(a.value=d,d=j)}if(d){if(window.getSelection&&document.createRange){const o=document.createRange();o.selectNodeContents(d);const A=window.getSelection();A.removeAllRanges(),A.addRange(o)}else if(document.selection&&document.body.createTextRange){const o=document.body.createTextRange();o.moveToElementText(d),o.select()}}}function u(d){const o=(d-Math.floor(d))*1e3,A=Math.floor(d%60),Z=Math.floor(d/60);return{ms:o,ss:A,mm:Z}}function h(d,o){d==="start"&&a.value>2?a.value=2:d==="end"&&a.value<=2&&(a.value=5);let A=a.value;(typeof A!="number"||Number.isNaN(A))&&(A=d==="start"&&2||d==="end"&&5);const Z=[60,1,.01][A%3]*o,j=A<=2?n.start:n.end,W=Math.min(n.duration,A<=2?n.end:n.duration),U=A<=2?0:n.start,R=Math.max(U,Math.min(j+Z,W));i(A),t(`update:${A<=2?"start":"end"}`,R),jn().then(()=>i(a.value))}function p(d,o){!o.ctrlKey&&!o.shiftKey&&!o.altKey&&Math.abs(o.deltaY)>.1&&(a.value=d,h(d<=2?"start":"end",o.deltaY>0?-1:1),o.preventDefault(),o.stopPropagation())}const g=Pt(()=>{const d=u(Math.max(0,n.start)),o=u(Math.min(n.duration,n.end));return[[d.mm,d.ss,Math.round(d.ms/10)],[o.mm,o.ss,Math.round(o.ms/10)]].map(A=>A.map(Z=>String(Z).padStart(2,"0")))});return k0(a,d=>{d!==null&&i(d)}),(d,o)=>(m0(),V0("div",{class:"row root items-center",ref_key:"rootEl",ref:s},[Be("div",h2,[Be("div",v2,[Be("span",{"trim-start":"",mm:"",onMousedown:o[0]||(o[0]=R0(A=>i(0),["left","prevent","stop"])),onWheel:o[1]||(o[1]=A=>p(0,A))},x0(ze(g)[0][0]),33),d2,Be("span",{"trim-start":"",ss:"",onMousedown:o[2]||(o[2]=R0(A=>i(1),["left","prevent","stop"])),onWheel:o[3]||(o[3]=A=>p(1,A))},x0(ze(g)[0][1]),33),m2,Be("span",{"trim-start":"",ms:"",onMousedown:o[4]||(o[4]=R0(A=>i(2),["left","prevent","stop"])),onWheel:o[5]||(o[5]=A=>p(2,A))},x0(ze(g)[0][2]),33),Be("div",p2,[Be("div",{class:"arrow-up__container",onClick:o[6]||(o[6]=R0(A=>h("start",1),["prevent","stop"]))},x2),Be("div",{class:"arrow-down__container",onClick:o[7]||(o[7]=R0(A=>h("start",-1),["prevent","stop"]))},M2)])]),E2]),Be("div",A2,[Be("div",y2,[Be("span",{"trim-end":"",mm:"",onMousedown:o[8]||(o[8]=R0(A=>i(3),["left","prevent","stop"])),onWheel:o[9]||(o[9]=A=>p(3,A))},x0(ze(g)[1][0]),33),R2,Be("span",{"trim-end":"",ss:"",onMousedown:o[10]||(o[10]=R0(A=>i(4),["left","prevent","stop"])),onWheel:o[11]||(o[11]=A=>p(4,A))},x0(ze(g)[1][1]),33),T2,Be("span",{"trim-end":"",ms:"",onMousedown:o[12]||(o[12]=R0(A=>i(5),["left","prevent","stop"])),onWheel:o[13]||(o[13]=A=>p(5,A))},x0(ze(g)[1][2]),33),Be("div",w2,[Be("div",{class:"arrow-up__container",onClick:o[14]||(o[14]=R0(A=>h("end",1),["prevent","stop"]))},I2),Be("div",{class:"arrow-down__container",onClick:o[15]||(o[15]=R0(A=>h("end",-1),["prevent","stop"]))},O2)])]),L2])],512))}},F2=tn(N2,[["__scopeId","data-v-b03ae491"]]);const H2={class:"options-selector font-12"},k2={class:"title__container"},V2={class:"column no-wrap items-stretch"},D2=["onClick"],P2={__name:"OptionsSelector",props:{open:Boolean,title:String,items:{type:Array,default:()=>[]}},emits:["update:open","item-click"],setup(e,{emit:t}){function n(a,s){t("item-click",a,s),t("update:open",!1)}return(a,s)=>{const i=I1("click-outside");return zn((m0(),V0("div",H2,[zn(Be("div",k2,[Be("span",null,x0(e.title),1)],512),[[ms,e.title]]),Be("div",V2,[(m0(!0),V0(S0,null,ql(e.items,(u,h)=>(m0(),V0("div",{class:"option__container",onClick:p=>n(u,h)},[gl(a.$slots,"default",{item:u},()=>[Be("span",null,x0(u.title||u),1)],!0)],8,D2))),256))])])),[[ms,e.open],[i,()=>t("update:open",!1)]])}}},X2=tn(P2,[["__scopeId","data-v-4e91ad30"]]);function Ha(e,t,n){if(!("localStorage"in globalThis))return d0(e);let a=e,s=localStorage.getItem(t);s!==null&&typeof n=="function"&&(s=n(s)),s!==null&&(a=s);const i=d0(a);return k0(()=>i.value,()=>{localStorage.setItem(t,i.value)}),i}var Br={};function $2(e){return new Int8Array(e)}function U1(e){return new Int16Array(e)}function G1(e){return new Int32Array(e)}function K1(e){return new Float32Array(e)}function Y2(e){return new Float64Array(e)}function j1(e){if(e.length==1)return K1(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(j1(e));return n}function W1(e){if(e.length==1)return G1(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(W1(e));return n}function z1(e){if(e.length==1)return U1(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(z1(e));return n}function Z1(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(Z1(e));return n}var Q1={};Q1.fill=function(e,t,n,a){if(arguments.length==2)for(var s=0;s<e.length;s++)e[s]=arguments[1];else for(var s=t;s<n;s++)e[s]=a};var Tn={};Tn.arraycopy=function(e,t,n,a,s){for(var i=t+s;t<i;)n[a++]=e[t++]};Tn.out={};Tn.out.println=function(e){console.log(e)};Tn.out.printf=function(){console.log.apply(console,arguments)};var ma={};ma.SQRT2=1.4142135623730951;ma.FAST_LOG10=function(e){return Math.log10(e)};ma.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function ut(e){this.ordinal=e}ut.short_block_allowed=new ut(0);ut.short_block_coupled=new ut(1);ut.short_block_dispensed=new ut(2);ut.short_block_forced=new ut(3);var J1={};J1.MAX_VALUE=34028235e31;function D0(e){this.ordinal=e}D0.vbr_off=new D0(0);D0.vbr_mt=new D0(1);D0.vbr_rh=new D0(2);D0.vbr_abr=new D0(3);D0.vbr_mtrh=new D0(4);D0.vbr_default=D0.vbr_mtrh;var q2=function(e){},a0={System:Tn,VbrMode:D0,Float:J1,ShortBlock:ut,Util:ma,Arrays:Q1,new_array_n:Z1,new_byte:$2,new_double:Y2,new_float:K1,new_float_n:j1,new_int:G1,new_int_n:W1,new_short:U1,new_short_n:z1,assert:q2},ka,bs;function g2(){if(bs)return ka;bs=1;var e=a0,t=e.System,n=e.Util,a=e.Arrays,s=e.new_float,i=A0();function u(){var h=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],p=12,g=36,d=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],o=d[i.SHORT_TYPE],A=d[i.SHORT_TYPE],Z=d[i.SHORT_TYPE],j=d[i.SHORT_TYPE],W=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function U(S,w,r){for(var M=10,O=w+238-14-286,V=-15;V<0;V++){var G,k,$;G=h[M+-10],k=S[O+-224]*G,$=S[w+224]*G,G=h[M+-9],k+=S[O+-160]*G,$+=S[w+160]*G,G=h[M+-8],k+=S[O+-96]*G,$+=S[w+96]*G,G=h[M+-7],k+=S[O+-32]*G,$+=S[w+32]*G,G=h[M+-6],k+=S[O+32]*G,$+=S[w+-32]*G,G=h[M+-5],k+=S[O+96]*G,$+=S[w+-96]*G,G=h[M+-4],k+=S[O+160]*G,$+=S[w+-160]*G,G=h[M+-3],k+=S[O+224]*G,$+=S[w+-224]*G,G=h[M+-2],k+=S[w+-256]*G,$-=S[O+256]*G,G=h[M+-1],k+=S[w+-192]*G,$-=S[O+192]*G,G=h[M+0],k+=S[w+-128]*G,$-=S[O+128]*G,G=h[M+1],k+=S[w+-64]*G,$-=S[O+64]*G,G=h[M+2],k+=S[w+0]*G,$-=S[O+0]*G,G=h[M+3],k+=S[w+64]*G,$-=S[O+-64]*G,G=h[M+4],k+=S[w+128]*G,$-=S[O+-128]*G,G=h[M+5],k+=S[w+192]*G,$-=S[O+-192]*G,k*=h[M+6],G=$-k,r[30+V*2]=$+k,r[31+V*2]=h[M+7]*G,M+=18,w--,O++}{var k,$,de,B;$=S[w+-16]*h[M+-10],k=S[w+-32]*h[M+-2],$+=(S[w+-48]-S[w+16])*h[M+-9],k+=S[w+-96]*h[M+-1],$+=(S[w+-80]+S[w+48])*h[M+-8],k+=S[w+-160]*h[M+0],$+=(S[w+-112]-S[w+80])*h[M+-7],k+=S[w+-224]*h[M+1],$+=(S[w+-144]+S[w+112])*h[M+-6],k-=S[w+32]*h[M+2],$+=(S[w+-176]-S[w+144])*h[M+-5],k-=S[w+96]*h[M+3],$+=(S[w+-208]+S[w+176])*h[M+-4],k-=S[w+160]*h[M+4],$+=(S[w+-240]-S[w+208])*h[M+-3],k-=S[w+224],de=k-$,B=k+$,$=r[14],k=r[15]-$,r[31]=B+$,r[30]=de+k,r[15]=de-k,r[14]=B-$}{var _;_=r[28]-r[0],r[0]+=r[28],r[28]=_*h[M+-2*18+7],_=r[29]-r[1],r[1]+=r[29],r[29]=_*h[M+-2*18+7],_=r[26]-r[2],r[2]+=r[26],r[26]=_*h[M+-4*18+7],_=r[27]-r[3],r[3]+=r[27],r[27]=_*h[M+-4*18+7],_=r[24]-r[4],r[4]+=r[24],r[24]=_*h[M+-6*18+7],_=r[25]-r[5],r[5]+=r[25],r[25]=_*h[M+-6*18+7],_=r[22]-r[6],r[6]+=r[22],r[22]=_*n.SQRT2,_=r[23]-r[7],r[7]+=r[23],r[23]=_*n.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],_=r[6],r[6]=r[31]-_,r[31]=r[31]+_,_=r[7],r[7]=r[30]-_,r[30]=r[30]+_,_=r[22],r[22]=r[15]-_,r[15]=r[15]+_,_=r[23],r[23]=r[14]-_,r[14]=r[14]+_,_=r[20]-r[8],r[8]+=r[20],r[20]=_*h[M+-10*18+7],_=r[21]-r[9],r[9]+=r[21],r[21]=_*h[M+-10*18+7],_=r[18]-r[10],r[10]+=r[18],r[18]=_*h[M+-12*18+7],_=r[19]-r[11],r[11]+=r[19],r[19]=_*h[M+-12*18+7],_=r[16]-r[12],r[12]+=r[16],r[16]=_*h[M+-14*18+7],_=r[17]-r[13],r[13]+=r[17],r[17]=_*h[M+-14*18+7],_=-r[20]+r[24],r[20]+=r[24],r[24]=_*h[M+-12*18+7],_=-r[21]+r[25],r[21]+=r[25],r[25]=_*h[M+-12*18+7],_=r[4]-r[8],r[4]+=r[8],r[8]=_*h[M+-12*18+7],_=r[5]-r[9],r[5]+=r[9],r[9]=_*h[M+-12*18+7],_=r[0]-r[12],r[0]+=r[12],r[12]=_*h[M+-4*18+7],_=r[1]-r[13],r[1]+=r[13],r[13]=_*h[M+-4*18+7],_=r[16]-r[28],r[16]+=r[28],r[28]=_*h[M+-4*18+7],_=-r[17]+r[29],r[17]+=r[29],r[29]=_*h[M+-4*18+7],_=n.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=_,_=n.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=_,_=n.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=_-r[18],_=n.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=_-r[19],_=r[2],r[19]-=r[3],r[3]-=_,r[2]=r[31]-_,r[31]+=_,_=r[3],r[11]-=r[19],r[18]-=_,r[3]=r[30]-_,r[30]+=_,_=r[18],r[27]-=r[11],r[19]-=_,r[18]=r[15]-_,r[15]+=_,_=r[19],r[10]-=_,r[19]=r[14]-_,r[14]+=_,_=r[10],r[11]-=_,r[10]=r[23]-_,r[23]+=_,_=r[11],r[26]-=_,r[11]=r[22]-_,r[22]+=_,_=r[26],r[27]-=_,r[26]=r[7]-_,r[7]+=_,_=r[27],r[27]=r[6]-_,r[6]+=_,_=n.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=_,_=n.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=_,_=n.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=_,_=n.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=_,_=-n.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=_-r[8],_=-n.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=_-r[9],_=-n.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=_-r[25],_=-n.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=_-r[24],_=r[24]-r[16],r[24]=_,_=r[20]-_,r[20]=_,_=r[28]-_,r[28]=_,_=r[25]-r[17],r[25]=_,_=r[21]-_,r[21]=_,_=r[29]-_,r[29]=_,_=r[17]-r[1],r[17]=_,_=r[9]-_,r[9]=_,_=r[25]-_,r[25]=_,_=r[5]-_,r[5]=_,_=r[21]-_,r[21]=_,_=r[13]-_,r[13]=_,_=r[29]-_,r[29]=_,_=r[1]-r[0],r[1]=_,_=r[16]-_,r[16]=_,_=r[17]-_,r[17]=_,_=r[8]-_,r[8]=_,_=r[9]-_,r[9]=_,_=r[24]-_,r[24]=_,_=r[25]-_,r[25]=_,_=r[4]-_,r[4]=_,_=r[5]-_,r[5]=_,_=r[20]-_,r[20]=_,_=r[21]-_,r[21]=_,_=r[12]-_,r[12]=_,_=r[13]-_,r[13]=_,_=r[28]-_,r[28]=_,_=r[29]-_,r[29]=_,_=r[0],r[0]+=r[31],r[31]-=_,_=r[1],r[1]+=r[30],r[30]-=_,_=r[16],r[16]+=r[15],r[15]-=_,_=r[17],r[17]+=r[14],r[14]-=_,_=r[8],r[8]+=r[23],r[23]-=_,_=r[9],r[9]+=r[22],r[22]-=_,_=r[24],r[24]+=r[7],r[7]-=_,_=r[25],r[25]+=r[6],r[6]-=_,_=r[4],r[4]+=r[27],r[27]-=_,_=r[5],r[5]+=r[26],r[26]-=_,_=r[20],r[20]+=r[11],r[11]-=_,_=r[21],r[21]+=r[10],r[10]-=_,_=r[12],r[12]+=r[19],r[19]-=_,_=r[13],r[13]+=r[18],r[18]-=_,_=r[28],r[28]+=r[3],r[3]-=_,_=r[29],r[29]+=r[2],r[2]-=_}}function R(S,w){for(var r=0;r<3;r++){var M,O,V,G,k,$;G=S[w+2*3]*d[i.SHORT_TYPE][0]-S[w+5*3],M=S[w+0*3]*d[i.SHORT_TYPE][2]-S[w+3*3],O=G+M,V=G-M,G=S[w+5*3]*d[i.SHORT_TYPE][0]+S[w+2*3],M=S[w+3*3]*d[i.SHORT_TYPE][2]+S[w+0*3],k=G+M,$=-G+M,M=(S[w+1*3]*d[i.SHORT_TYPE][1]-S[w+4*3])*2069978111953089e-26,G=(S[w+4*3]*d[i.SHORT_TYPE][1]+S[w+1*3])*2069978111953089e-26,S[w+3*0]=O*190752519173728e-25+M,S[w+3*5]=-k*190752519173728e-25+G,V=V*.8660254037844387*1907525191737281e-26,k=k*.5*1907525191737281e-26+G,S[w+3*1]=V-k,S[w+3*2]=V+k,O=O*.5*1907525191737281e-26-M,$=$*.8660254037844387*1907525191737281e-26,S[w+3*3]=O+$,S[w+3*4]=O-$,w++}}function m(S,w,r){var M,O;{var V,G,k,$,de,B,_,F;V=r[17]-r[9],k=r[15]-r[11],$=r[14]-r[12],de=r[0]+r[8],B=r[1]+r[7],_=r[2]+r[6],F=r[3]+r[5],S[w+17]=de+_-F-(B-r[4]),O=(de+_-F)*A[12+7]+(B-r[4]),M=(V-k-$)*A[12+6],S[w+5]=M+O,S[w+6]=M-O,G=(r[16]-r[10])*A[12+6],B=B*A[12+7]+r[4],M=V*A[12+0]+G+k*A[12+1]+$*A[12+2],O=-de*A[12+4]+B-_*A[12+5]+F*A[12+3],S[w+1]=M+O,S[w+2]=M-O,M=V*A[12+1]-G-k*A[12+2]+$*A[12+0],O=-de*A[12+5]+B-_*A[12+3]+F*A[12+4],S[w+9]=M+O,S[w+10]=M-O,M=V*A[12+2]-G+k*A[12+0]-$*A[12+1],O=de*A[12+3]-B+_*A[12+4]-F*A[12+5],S[w+13]=M+O,S[w+14]=M-O}{var Y,K,P,ne,D,b,c,f;Y=r[8]-r[0],P=r[6]-r[2],ne=r[5]-r[3],D=r[17]+r[9],b=r[16]+r[10],c=r[15]+r[11],f=r[14]+r[12],S[w+0]=D+c+f+(b+r[13]),M=(D+c+f)*A[12+7]-(b+r[13]),O=(Y-P+ne)*A[12+6],S[w+11]=M+O,S[w+12]=M-O,K=(r[7]-r[1])*A[12+6],b=r[13]-b*A[12+7],M=D*A[12+3]-b+c*A[12+4]+f*A[12+5],O=Y*A[12+2]+K+P*A[12+0]+ne*A[12+1],S[w+3]=M+O,S[w+4]=M-O,M=-D*A[12+5]+b-c*A[12+3]-f*A[12+4],O=Y*A[12+1]+K-P*A[12+2]-ne*A[12+0],S[w+7]=M+O,S[w+8]=M-O,M=-D*A[12+4]+b-c*A[12+5]-f*A[12+3],O=Y*A[12+0]-K+P*A[12+1]-ne*A[12+2],S[w+15]=M+O,S[w+16]=M-O}}this.mdct_sub48=function(S,w,r){for(var M=w,O=286,V=0;V<S.channels_out;V++){for(var G=0;G<S.mode_gr;G++){for(var k,$=S.l3_side.tt[G][V],de=$.xr,B=0,_=S.sb_sample[V][1-G],F=0,Y=0;Y<18/2;Y++)for(U(M,O,_[F]),U(M,O+32,_[F+1]),F+=2,O+=64,k=1;k<32;k+=2)_[F-1][k]*=-1;for(k=0;k<32;k++,B+=18){var K=$.block_type,P=S.sb_sample[V][G],ne=S.sb_sample[V][1-G];if($.mixed_block_flag!=0&&k<2&&(K=0),S.amp_filter[k]<1e-12)a.fill(de,B+0,B+18,0);else{if(S.amp_filter[k]<1)for(var Y=0;Y<18;Y++)ne[Y][W[k]]*=S.amp_filter[k];if(K==i.SHORT_TYPE){for(var Y=-p/4;Y<0;Y++){var D=d[i.SHORT_TYPE][Y+3];de[B+Y*3+9]=P[9+Y][W[k]]*D-P[8-Y][W[k]],de[B+Y*3+18]=P[14-Y][W[k]]*D+P[15+Y][W[k]],de[B+Y*3+10]=P[15+Y][W[k]]*D-P[14-Y][W[k]],de[B+Y*3+19]=ne[2-Y][W[k]]*D+ne[3+Y][W[k]],de[B+Y*3+11]=ne[3+Y][W[k]]*D-ne[2-Y][W[k]],de[B+Y*3+20]=ne[8-Y][W[k]]*D+ne[9+Y][W[k]]}R(de,B)}else{for(var b=s(18),Y=-g/4;Y<0;Y++){var c,f;c=d[K][Y+27]*ne[Y+9][W[k]]+d[K][Y+36]*ne[8-Y][W[k]],f=d[K][Y+9]*P[Y+9][W[k]]-d[K][Y+18]*P[8-Y][W[k]],b[Y+9]=c-f*o[3+Y+9],b[Y+18]=c*o[3+Y+9]+f}m(de,B,b)}}if(K!=i.SHORT_TYPE&&k!=0)for(var Y=7;Y>=0;--Y){var E,x;E=de[B+Y]*Z[20+Y]+de[B+-1-Y]*j[28+Y],x=de[B+Y]*j[28+Y]-de[B+-1-Y]*Z[20+Y],de[B+-1-Y]=E,de[B+Y]=x}}}if(M=r,O=286,S.mode_gr==1)for(var N=0;N<18;N++)t.arraycopy(S.sb_sample[V][1][N],0,S.sb_sample[V][0][N],0,32)}}}return ka=u,ka}var Va,xs;function ei(){if(xs)return Va;xs=1;var e=A0(),t=a0,n=t.System,a=t.new_float,s=t.new_float_n;function i(){this.l=a(e.SBMAX_l),this.s=s([e.SBMAX_s,3]);var u=this;this.assign=function(h){n.arraycopy(h.l,0,u.l,0,e.SBMAX_l);for(var p=0;p<e.SBMAX_s;p++)for(var g=0;g<3;g++)u.s[p][g]=h.s[p][g]}}return Va=i,Va}var Da,Ss;function U2(){if(Ss)return Da;Ss=1;var e=ei();function t(){this.thm=new e,this.en=new e}return Da=t,Da}function Q0(e){var t=e;this.ordinal=function(){return t}}Q0.STEREO=new Q0(0);Q0.JOINT_STEREO=new Q0(1);Q0.DUAL_CHANNEL=new Q0(2);Q0.MONO=new Q0(3);Q0.NOT_SET=new Q0(4);var wn=Q0,Pa,Ms;function A0(){if(Ms)return Pa;Ms=1;var e=a0,t=e.System,n=e.VbrMode,a=e.new_array_n,s=e.new_float,i=e.new_float_n,u=e.new_int,h=e.assert;p.ENCDELAY=576,p.POSTDELAY=1152,p.MDCTDELAY=48,p.FFTOFFSET=224+p.MDCTDELAY,p.DECDELAY=528,p.SBLIMIT=32,p.CBANDS=64,p.SBPSY_l=21,p.SBPSY_s=12,p.SBMAX_l=22,p.SBMAX_s=13,p.PSFB21=6,p.PSFB12=6,p.BLKSIZE=1024,p.HBLKSIZE=p.BLKSIZE/2+1,p.BLKSIZE_s=256,p.HBLKSIZE_s=p.BLKSIZE_s/2+1,p.NORM_TYPE=0,p.START_TYPE=1,p.SHORT_TYPE=2,p.STOP_TYPE=3,p.MPG_MD_LR_LR=0,p.MPG_MD_LR_I=1,p.MPG_MD_MS_LR=2,p.MPG_MD_MS_I=3,p.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function p(){var g=g2(),d=U2(),o=wn,A=p.FFTOFFSET,Z=p.MPG_MD_MS_LR,j=null;this.psy=null;var W=null,U=null,R=null;this.setModules=function(M,O,V,G){j=M,this.psy=O,W=O,U=G,R=V};var m=new g;function S(M){var O,V;if(M.ATH.useAdjust==0){M.ATH.adjust=1;return}if(V=M.loudness_sq[0][0],O=M.loudness_sq[1][0],M.channels_out==2?(V+=M.loudness_sq[0][1],O+=M.loudness_sq[1][1]):(V+=V,O+=O),M.mode_gr==2&&(V=Math.max(V,O)),V*=.5,V*=M.ATH.aaSensitivityP,V>.03125)M.ATH.adjust>=1?M.ATH.adjust=1:M.ATH.adjust<M.ATH.adjustLimit&&(M.ATH.adjust=M.ATH.adjustLimit),M.ATH.adjustLimit=1;else{var G=31.98*V+625e-6;M.ATH.adjust>=G?(M.ATH.adjust*=G*.075+.925,M.ATH.adjust<G&&(M.ATH.adjust=G)):M.ATH.adjustLimit>=G?M.ATH.adjust=G:M.ATH.adjust<M.ATH.adjustLimit&&(M.ATH.adjust=M.ATH.adjustLimit),M.ATH.adjustLimit=G}}function w(M){var O,V;for(h(0<=M.bitrate_index&&M.bitrate_index<16),h(0<=M.mode_ext&&M.mode_ext<4),M.bitrate_stereoMode_Hist[M.bitrate_index][4]++,M.bitrate_stereoMode_Hist[15][4]++,M.channels_out==2&&(M.bitrate_stereoMode_Hist[M.bitrate_index][M.mode_ext]++,M.bitrate_stereoMode_Hist[15][M.mode_ext]++),O=0;O<M.mode_gr;++O)for(V=0;V<M.channels_out;++V){var G=M.l3_side.tt[O][V].block_type|0;M.l3_side.tt[O][V].mixed_block_flag!=0&&(G=4),M.bitrate_blockType_Hist[M.bitrate_index][G]++,M.bitrate_blockType_Hist[M.bitrate_index][5]++,M.bitrate_blockType_Hist[15][G]++,M.bitrate_blockType_Hist[15][5]++}}function r(M,O){var V=M.internal_flags,G,k;if(V.lame_encode_frame_init==0){var $,de,B=s(2014),_=s(286+1152+576);for(V.lame_encode_frame_init=1,$=0,de=0;$<286+576*(1+V.mode_gr);++$)$<576*V.mode_gr?(B[$]=0,V.channels_out==2&&(_[$]=0)):(B[$]=O[0][de],V.channels_out==2&&(_[$]=O[1][de]),++de);for(k=0;k<V.mode_gr;k++)for(G=0;G<V.channels_out;G++)V.l3_side.tt[k][G].block_type=p.SHORT_TYPE;m.mdct_sub48(V,B,_),h(576>=p.FFTOFFSET),h(V.mf_size>=p.BLKSIZE+M.framesize-p.FFTOFFSET),h(V.mf_size>=512+M.framesize-32)}}this.lame_encode_mp3_frame=function(M,O,V,G,k,$){var de,B=a([2,2]);B[0][0]=new d,B[0][1]=new d,B[1][0]=new d,B[1][1]=new d;var _=a([2,2]);_[0][0]=new d,_[0][1]=new d,_[1][0]=new d,_[1][1]=new d;var F,Y=[null,null],K=M.internal_flags,P=i([2,4]),ne=[.5,.5],D=[[0,0],[0,0]],b=[[0,0],[0,0]],c,f,E;if(Y[0]=O,Y[1]=V,K.lame_encode_frame_init==0&&r(M,Y),K.padding=0,(K.slot_lag-=K.frac_SpF)<0&&(K.slot_lag+=M.out_samplerate,K.padding=1),K.psymodel!=0){var x,N=[null,null],se=0,I=u(2);for(E=0;E<K.mode_gr;E++){for(f=0;f<K.channels_out;f++)N[f]=Y[f],se=576+E*576-p.FFTOFFSET;if(M.VBR==n.vbr_mtrh||M.VBR==n.vbr_mt?x=W.L3psycho_anal_vbr(M,N,se,E,B,_,D[E],b[E],P[E],I):x=W.L3psycho_anal_ns(M,N,se,E,B,_,D[E],b[E],P[E],I),x!=0)return-4;for(M.mode==o.JOINT_STEREO&&(ne[E]=P[E][2]+P[E][3],ne[E]>0&&(ne[E]=P[E][3]/ne[E])),f=0;f<K.channels_out;f++){var z=K.l3_side.tt[E][f];z.block_type=I[f],z.mixed_block_flag=0}}}else for(E=0;E<K.mode_gr;E++)for(f=0;f<K.channels_out;f++)K.l3_side.tt[E][f].block_type=p.NORM_TYPE,K.l3_side.tt[E][f].mixed_block_flag=0,b[E][f]=D[E][f]=700;if(S(K),m.mdct_sub48(K,Y[0],Y[1]),K.mode_ext=p.MPG_MD_LR_LR,M.force_ms)K.mode_ext=p.MPG_MD_MS_LR;else if(M.mode==o.JOINT_STEREO){var _e=0,me=0;for(E=0;E<K.mode_gr;E++)for(f=0;f<K.channels_out;f++)_e+=b[E][f],me+=D[E][f];if(_e<=1*me){var C=K.l3_side.tt[0],X=K.l3_side.tt[K.mode_gr-1];C[0].block_type==C[1].block_type&&X[0].block_type==X[1].block_type&&(K.mode_ext=p.MPG_MD_MS_LR)}}if(K.mode_ext==Z?(F=_,c=b):(F=B,c=D),M.analysis&&K.pinfo!=null)for(E=0;E<K.mode_gr;E++)for(f=0;f<K.channels_out;f++)K.pinfo.ms_ratio[E]=K.ms_ratio[E],K.pinfo.ms_ener_ratio[E]=ne[E],K.pinfo.blocktype[E][f]=K.l3_side.tt[E][f].block_type,K.pinfo.pe[E][f]=c[E][f],t.arraycopy(K.l3_side.tt[E][f].xr,0,K.pinfo.xr[E][f],0,576),K.mode_ext==Z&&(K.pinfo.ers[E][f]=K.pinfo.ers[E][f+2],t.arraycopy(K.pinfo.energy[E][f+2],0,K.pinfo.energy[E][f],0,K.pinfo.energy[E][f].length));if(M.VBR==n.vbr_off||M.VBR==n.vbr_abr){var Q,ae;for(Q=0;Q<18;Q++)K.nsPsy.pefirbuf[Q]=K.nsPsy.pefirbuf[Q+1];for(ae=0,E=0;E<K.mode_gr;E++)for(f=0;f<K.channels_out;f++)ae+=c[E][f];for(K.nsPsy.pefirbuf[18]=ae,ae=K.nsPsy.pefirbuf[9],Q=0;Q<9;Q++)ae+=(K.nsPsy.pefirbuf[Q]+K.nsPsy.pefirbuf[18-Q])*p.fircoef[Q];for(ae=670*5*K.mode_gr*K.channels_out/ae,E=0;E<K.mode_gr;E++)for(f=0;f<K.channels_out;f++)c[E][f]*=ae}if(K.iteration_loop.iteration_loop(M,c,ne,F),j.format_bitstream(M),de=j.copy_buffer(K,G,k,$,1),M.bWriteVbrTag&&U.addVbrFrame(M),M.analysis&&K.pinfo!=null){for(f=0;f<K.channels_out;f++){var le;for(le=0;le<A;le++)K.pinfo.pcmdata[f][le]=K.pinfo.pcmdata[f][le+M.framesize];for(le=A;le<1600;le++)K.pinfo.pcmdata[f][le]=Y[f][le-A]}R.set_frame_pinfo(M,F)}return w(K),de}}return Pa=p,Pa}var ti=a0,Es=ti.Util,As=ti.new_float,o0=A0();function G2(){var e=As(o0.BLKSIZE),t=As(o0.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function a(i,u,h){var p=0,g,d,o;h<<=1;var A=u+h;g=4;do{var Z,j,W,U,R,m,S;S=g>>1,U=g,R=g<<1,m=R+U,g=R<<1,d=u,o=d+S;do{var w,r,M,O;r=i[d+0]-i[d+U],w=i[d+0]+i[d+U],O=i[d+R]-i[d+m],M=i[d+R]+i[d+m],i[d+R]=w-M,i[d+0]=w+M,i[d+m]=r-O,i[d+U]=r+O,r=i[o+0]-i[o+U],w=i[o+0]+i[o+U],O=Es.SQRT2*i[o+m],M=Es.SQRT2*i[o+R],i[o+R]=w-M,i[o+0]=w+M,i[o+m]=r-O,i[o+U]=r+O,o+=g,d+=g}while(d<A);for(j=n[p+0],Z=n[p+1],W=1;W<S;W++){var V,G;V=1-2*Z*Z,G=2*Z*j,d=u+W,o=u+U-W;do{var k,$,de,w,r,B,M,_,O,F;$=G*i[d+U]-V*i[o+U],k=V*i[d+U]+G*i[o+U],r=i[d+0]-k,w=i[d+0]+k,B=i[o+0]-$,de=i[o+0]+$,$=G*i[d+m]-V*i[o+m],k=V*i[d+m]+G*i[o+m],O=i[d+R]-k,M=i[d+R]+k,F=i[o+R]-$,_=i[o+R]+$,$=Z*M-j*F,k=j*M+Z*F,i[d+R]=w-k,i[d+0]=w+k,i[o+m]=B-$,i[o+U]=B+$,$=j*_-Z*O,k=Z*_+j*O,i[o+R]=de-k,i[o+0]=de+k,i[d+m]=r-$,i[d+U]=r+$,o+=g,d+=g}while(d<A);V=j,j=V*n[p+0]-Z*n[p+1],Z=V*n[p+1]+Z*n[p+0]}p+=2}while(g<h)}var s=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(i,u,h,p,g){for(var d=0;d<3;d++){var o=o0.BLKSIZE_s/2,A=65535&576/3*(d+1),Z=o0.BLKSIZE_s/8-1;do{var j,W,U,R,m,S=s[Z<<2]&255;j=t[S]*p[h][g+S+A],m=t[127-S]*p[h][g+S+A+128],W=j-m,j=j+m,U=t[S+64]*p[h][g+S+A+64],m=t[63-S]*p[h][g+S+A+192],R=U-m,U=U+m,o-=4,u[d][o+0]=j+U,u[d][o+2]=j-U,u[d][o+1]=W+R,u[d][o+3]=W-R,j=t[S+1]*p[h][g+S+A+1],m=t[126-S]*p[h][g+S+A+129],W=j-m,j=j+m,U=t[S+65]*p[h][g+S+A+65],m=t[62-S]*p[h][g+S+A+193],R=U-m,U=U+m,u[d][o+o0.BLKSIZE_s/2+0]=j+U,u[d][o+o0.BLKSIZE_s/2+2]=j-U,u[d][o+o0.BLKSIZE_s/2+1]=W+R,u[d][o+o0.BLKSIZE_s/2+3]=W-R}while(--Z>=0);a(u[d],o,o0.BLKSIZE_s/2)}},this.fft_long=function(i,u,h,p,g){var d=o0.BLKSIZE/8-1,o=o0.BLKSIZE/2;do{var A,Z,j,W,U,R=s[d]&255;A=e[R]*p[h][g+R],U=e[R+512]*p[h][g+R+512],Z=A-U,A=A+U,j=e[R+256]*p[h][g+R+256],U=e[R+768]*p[h][g+R+768],W=j-U,j=j+U,o-=4,u[o+0]=A+j,u[o+2]=A-j,u[o+1]=Z+W,u[o+3]=Z-W,A=e[R+1]*p[h][g+R+1],U=e[R+513]*p[h][g+R+513],Z=A-U,A=A+U,j=e[R+257]*p[h][g+R+257],U=e[R+769]*p[h][g+R+769],W=j-U,j=j+U,u[o+o0.BLKSIZE/2+0]=A+j,u[o+o0.BLKSIZE/2+2]=A-j,u[o+o0.BLKSIZE/2+1]=Z+W,u[o+o0.BLKSIZE/2+3]=Z-W}while(--d>=0);a(u,o,o0.BLKSIZE/2)},this.init_fft=function(i){for(var u=0;u<o0.BLKSIZE;u++)e[u]=.42-.5*Math.cos(2*Math.PI*(u+.5)/o0.BLKSIZE)+.08*Math.cos(4*Math.PI*(u+.5)/o0.BLKSIZE);for(var u=0;u<o0.BLKSIZE_s/2;u++)t[u]=.5*(1-Math.cos(2*Math.PI*(u+.5)/o0.BLKSIZE_s))}}var K2=G2,ft=a0,$t=ft.VbrMode,ys=ft.Float,Yt=ft.ShortBlock,B0=ft.Util,j2=ft.Arrays,u0=ft.new_float,X0=ft.new_float_n,Tt=ft.new_int,Pe=ft.assert,W2=K2,he=A0();function z2(){var e=wn,t=new W2,n=2.302585092994046,a=2,s=16,i=2,u=16,h=.34,p=1/(14752*14752)/(he.BLKSIZE/2),g=.01,d=.8,o=.6,A=.3,Z=3.5,j=21,W=.2302585093;function U(y){return y}function R(y,T){for(var H=0,q=0;q<he.BLKSIZE/2;++q)H+=y[q]*T.ATH.eql_w[q];return H*=p,H}function m(y,T,H,q,J,L,ee,ie,te,ce,oe){var fe=y.internal_flags;if(te<2)t.fft_long(fe,q[J],te,ce,oe),t.fft_short(fe,L[ee],te,ce,oe);else if(te==2){for(var Ie=he.BLKSIZE-1;Ie>=0;--Ie){var ke=q[J+0][Ie],Ee=q[J+1][Ie];q[J+0][Ie]=(ke+Ee)*B0.SQRT2*.5,q[J+1][Ie]=(ke-Ee)*B0.SQRT2*.5}for(var He=2;He>=0;--He)for(var Ie=he.BLKSIZE_s-1;Ie>=0;--Ie){var ke=L[ee+0][He][Ie],Ee=L[ee+1][He][Ie];L[ee+0][He][Ie]=(ke+Ee)*B0.SQRT2*.5,L[ee+1][He][Ie]=(ke-Ee)*B0.SQRT2*.5}}T[0]=q[J+0][0],T[0]*=T[0];for(var Ie=he.BLKSIZE/2-1;Ie>=0;--Ie){var ue=q[J+0][he.BLKSIZE/2-Ie],Le=q[J+0][he.BLKSIZE/2+Ie];T[he.BLKSIZE/2-Ie]=(ue*ue+Le*Le)*.5}for(var He=2;He>=0;--He){H[He][0]=L[ee+0][He][0],H[He][0]*=H[He][0];for(var Ie=he.BLKSIZE_s/2-1;Ie>=0;--Ie){var ue=L[ee+0][He][he.BLKSIZE_s/2-Ie],Le=L[ee+0][He][he.BLKSIZE_s/2+Ie];H[He][he.BLKSIZE_s/2-Ie]=(ue*ue+Le*Le)*.5}}{for(var $e=0,Ie=11;Ie<he.HBLKSIZE;Ie++)$e+=T[Ie];fe.tot_ener[te]=$e}if(y.analysis){for(var Ie=0;Ie<he.HBLKSIZE;Ie++)fe.pinfo.energy[ie][te][Ie]=fe.pinfo.energy_save[te][Ie],fe.pinfo.energy_save[te][Ie]=T[Ie];fe.pinfo.pe[ie][te]=fe.pe[te]}y.athaa_loudapprox==2&&te<2&&(fe.loudness_sq[ie][te]=fe.loudness_sq_save[te],fe.loudness_sq_save[te]=R(T,fe))}var S=8,w=23,r=15,M,O,V,G=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function k(){M=Math.pow(10,(S+1)/16),O=Math.pow(10,(w+1)/16),V=Math.pow(10,r/10)}var $=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],de=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],B=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function _(y,T,H,q,J,L){var ee;if(T>y)if(T<y*O)ee=T/y;else return y+T;else{if(y>=T*O)return y+T;ee=y/T}if(y+=T,q+3<=3+3){if(ee>=M)return y;var ie=0|B0.FAST_LOG10_X(ee,16);return y*de[ie]}var ie=0|B0.FAST_LOG10_X(ee,16);if(L!=0?T=J.ATH.cb_s[H]*J.ATH.adjust:T=J.ATH.cb_l[H]*J.ATH.adjust,y<V*T){if(y>T){var te,ce;return te=1,ie<=13&&(te=B[ie]),ce=B0.FAST_LOG10_X(y/T,10/15),y*(($[ie]-te)*ce+te)}return ie>13?y:y*B[ie]}return y*$[ie]}var F=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function Y(y,T,H){var q;if(y<0&&(y=0),T<0&&(T=0),y<=0)return T;if(T<=0)return y;if(T>y?q=T/y:q=y/T,-2<=H&&H<=2){if(q>=M)return y+T;var J=0|B0.FAST_LOG10_X(q,16);return(y+T)*F[J]}return q<O?y+T:(y<T&&(y=T),y)}function K(y,T){var H=y.internal_flags;if(H.channels_out>1){for(var q=0;q<he.SBMAX_l;q++){var J=H.thm[0].l[q],L=H.thm[1].l[q];H.thm[0].l[q]+=L*T,H.thm[1].l[q]+=J*T}for(var q=0;q<he.SBMAX_s;q++)for(var ee=0;ee<3;ee++){var J=H.thm[0].s[q][ee],L=H.thm[1].s[q][ee];H.thm[0].s[q][ee]+=L*T,H.thm[1].s[q][ee]+=J*T}}}function P(y){for(var T=0;T<he.SBMAX_l;T++)if(!(y.thm[0].l[T]>1.58*y.thm[1].l[T]||y.thm[1].l[T]>1.58*y.thm[0].l[T])){var H=y.mld_l[T]*y.en[3].l[T],q=Math.max(y.thm[2].l[T],Math.min(y.thm[3].l[T],H));H=y.mld_l[T]*y.en[2].l[T];var J=Math.max(y.thm[3].l[T],Math.min(y.thm[2].l[T],H));y.thm[2].l[T]=q,y.thm[3].l[T]=J}for(var T=0;T<he.SBMAX_s;T++)for(var L=0;L<3;L++)if(!(y.thm[0].s[T][L]>1.58*y.thm[1].s[T][L]||y.thm[1].s[T][L]>1.58*y.thm[0].s[T][L])){var H=y.mld_s[T]*y.en[3].s[T][L],q=Math.max(y.thm[2].s[T][L],Math.min(y.thm[3].s[T][L],H));H=y.mld_s[T]*y.en[2].s[T][L];var J=Math.max(y.thm[3].s[T][L],Math.min(y.thm[2].s[T][L],H));y.thm[2].s[T][L]=q,y.thm[3].s[T][L]=J}}function ne(y,T,H){var q=T,J=Math.pow(10,H);T*=2,q*=2;for(var L=0;L<he.SBMAX_l;L++){var ee,ie,te,ce;if(ce=y.ATH.cb_l[y.bm_l[L]]*J,ee=Math.min(Math.max(y.thm[0].l[L],ce),Math.max(y.thm[1].l[L],ce)),ie=Math.max(y.thm[2].l[L],ce),te=Math.max(y.thm[3].l[L],ce),ee*T<ie+te){var oe=ee*q/(ie+te);ie*=oe,te*=oe}y.thm[2].l[L]=Math.min(ie,y.thm[2].l[L]),y.thm[3].l[L]=Math.min(te,y.thm[3].l[L])}J*=he.BLKSIZE_s/he.BLKSIZE;for(var L=0;L<he.SBMAX_s;L++)for(var fe=0;fe<3;fe++){var ee,ie,te,ce;if(ce=y.ATH.cb_s[y.bm_s[L]]*J,ee=Math.min(Math.max(y.thm[0].s[L][fe],ce),Math.max(y.thm[1].s[L][fe],ce)),ie=Math.max(y.thm[2].s[L][fe],ce),te=Math.max(y.thm[3].s[L][fe],ce),ee*T<ie+te){var oe=ee*T/(ie+te);ie*=oe,te*=oe}y.thm[2].s[L][fe]=Math.min(y.thm[2].s[L][fe],ie),y.thm[3].s[L][fe]=Math.min(y.thm[3].s[L][fe],te)}}function D(y,T,H,q,J){var L,ee,ie=0,te=0;for(L=ee=0;L<he.SBMAX_s;++ee,++L){for(var ce=y.bo_s[L],oe=y.npart_s,fe=ce<oe?ce:oe;ee<fe;)Pe(T[ee]>=0),Pe(H[ee]>=0),ie+=T[ee],te+=H[ee],ee++;if(y.en[q].s[L][J]=ie,y.thm[q].s[L][J]=te,ee>=oe){++L;break}Pe(T[ee]>=0),Pe(H[ee]>=0);{var Ie=y.PSY.bo_s_weight[L],ke=1-Ie;ie=Ie*T[ee],te=Ie*H[ee],y.en[q].s[L][J]+=ie,y.thm[q].s[L][J]+=te,ie=ke*T[ee],te=ke*H[ee]}}for(;L<he.SBMAX_s;++L)y.en[q].s[L][J]=0,y.thm[q].s[L][J]=0}function b(y,T,H,q){var J,L,ee=0,ie=0;for(J=L=0;J<he.SBMAX_l;++L,++J){for(var te=y.bo_l[J],ce=y.npart_l,oe=te<ce?te:ce;L<oe;)Pe(T[L]>=0),Pe(H[L]>=0),ee+=T[L],ie+=H[L],L++;if(y.en[q].l[J]=ee,y.thm[q].l[J]=ie,L>=ce){++J;break}Pe(T[L]>=0),Pe(H[L]>=0);{var fe=y.PSY.bo_l_weight[J],Ie=1-fe;ee=fe*T[L],ie=fe*H[L],y.en[q].l[J]+=ee,y.thm[q].l[J]+=ie,ee=Ie*T[L],ie=Ie*H[L]}}for(;J<he.SBMAX_l;++J)y.en[q].l[J]=0,y.thm[q].l[J]=0}function c(y,T,H,q,J,L){var ee=y.internal_flags,ie,te;for(te=ie=0;te<ee.npart_s;++te){for(var ce=0,oe=ee.numlines_s[te],fe=0;fe<oe;++fe,++ie){var Ie=T[L][ie];ce+=Ie}H[te]=ce}for(Pe(te==ee.npart_s),ie=te=0;te<ee.npart_s;te++){var ke=ee.s3ind_s[te][0],Ee=ee.s3_ss[ie++]*H[ke];for(++ke;ke<=ee.s3ind_s[te][1];)Ee+=ee.s3_ss[ie]*H[ke],++ie,++ke;{var He=i*ee.nb_s1[J][te];q[te]=Math.min(Ee,He)}if(ee.blocktype_old[J&1]==he.SHORT_TYPE){var He=u*ee.nb_s2[J][te],ue=q[te];q[te]=Math.min(He,ue)}ee.nb_s2[J][te]=ee.nb_s1[J][te],ee.nb_s1[J][te]=Ee,Pe(q[te]>=0)}for(;te<=he.CBANDS;++te)H[te]=0,q[te]=0}function f(y,T,H,q){var J=y.internal_flags;y.short_blocks==Yt.short_block_coupled&&!(T[0]!=0&&T[1]!=0)&&(T[0]=T[1]=0);for(var L=0;L<J.channels_out;L++)q[L]=he.NORM_TYPE,y.short_blocks==Yt.short_block_dispensed&&(T[L]=1),y.short_blocks==Yt.short_block_forced&&(T[L]=0),T[L]!=0?(Pe(J.blocktype_old[L]!=he.START_TYPE),J.blocktype_old[L]==he.SHORT_TYPE&&(q[L]=he.STOP_TYPE)):(q[L]=he.SHORT_TYPE,J.blocktype_old[L]==he.NORM_TYPE&&(J.blocktype_old[L]=he.START_TYPE),J.blocktype_old[L]==he.STOP_TYPE&&(J.blocktype_old[L]=he.SHORT_TYPE)),H[L]=J.blocktype_old[L],J.blocktype_old[L]=q[L]}function E(y,T,H){return H>=1?y:H<=0?T:T>0?Math.pow(y/T,H)*T:0}var x=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function N(y,T){for(var H=309.07,q=0;q<he.SBMAX_s-1;q++)for(var J=0;J<3;J++){var L=y.thm.s[q][J];if(L>0){var ee=L*T,ie=y.en.s[q][J];ie>ee&&(ie>ee*1e10?H+=x[q]*(10*n):H+=x[q]*B0.FAST_LOG10(ie/ee))}}return H}var se=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function I(y,T){for(var H=281.0575,q=0;q<he.SBMAX_l-1;q++){var J=y.thm.l[q];if(J>0){var L=J*T,ee=y.en.l[q];ee>L&&(ee>L*1e10?H+=se[q]*(10*n):H+=se[q]*B0.FAST_LOG10(ee/L))}}return H}function z(y,T,H,q,J){var L,ee;for(L=ee=0;L<y.npart_l;++L){var ie=0,te=0,ce;for(ce=0;ce<y.numlines_l[L];++ce,++ee){var oe=T[ee];ie+=oe,te<oe&&(te=oe)}H[L]=ie,q[L]=te,J[L]=ie*y.rnumlines_l[L],Pe(y.rnumlines_l[L]>=0),Pe(H[L]>=0),Pe(q[L]>=0),Pe(J[L]>=0)}}function _e(y,T,H,q){var J=G.length-1,L=0,ee=H[L]+H[L+1];if(ee>0){var ie=T[L];ie<T[L+1]&&(ie=T[L+1]),Pe(y.numlines_l[L]+y.numlines_l[L+1]-1>0),ee=20*(ie*2-ee)/(ee*(y.numlines_l[L]+y.numlines_l[L+1]-1));var te=0|ee;te>J&&(te=J),q[L]=te}else q[L]=0;for(L=1;L<y.npart_l-1;L++)if(ee=H[L-1]+H[L]+H[L+1],ee>0){var ie=T[L-1];ie<T[L]&&(ie=T[L]),ie<T[L+1]&&(ie=T[L+1]),Pe(y.numlines_l[L-1]+y.numlines_l[L]+y.numlines_l[L+1]-1>0),ee=20*(ie*3-ee)/(ee*(y.numlines_l[L-1]+y.numlines_l[L]+y.numlines_l[L+1]-1));var te=0|ee;te>J&&(te=J),q[L]=te}else q[L]=0;if(Pe(L==y.npart_l-1),ee=H[L-1]+H[L],ee>0){var ie=T[L-1];ie<T[L]&&(ie=T[L]),Pe(y.numlines_l[L-1]+y.numlines_l[L]-1>0),ee=20*(ie*2-ee)/(ee*(y.numlines_l[L-1]+y.numlines_l[L]-1));var te=0|ee;te>J&&(te=J),q[L]=te}else q[L]=0;Pe(L==y.npart_l-1)}var me=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(y,T,H,q,J,L,ee,ie,te,ce){var oe=y.internal_flags,fe=X0([2,he.BLKSIZE]),Ie=X0([2,3,he.BLKSIZE_s]),ke=u0(he.CBANDS+1),Ee=u0(he.CBANDS+1),He=u0(he.CBANDS+2),ue=Tt(2),Le=Tt(2),$e,Ae,Ne,ye,Ve,Qe,Ce,De,qe=X0([2,576]),e0,N0=Tt(he.CBANDS+2),l0=Tt(he.CBANDS+2);for(j2.fill(l0,0),$e=oe.channels_out,y.mode==e.JOINT_STEREO&&($e=4),y.VBR==$t.vbr_off?e0=oe.ResvMax==0?0:oe.ResvSize/oe.ResvMax*.5:y.VBR==$t.vbr_rh||y.VBR==$t.vbr_mtrh||y.VBR==$t.vbr_mt?e0=.6:e0=1,Ae=0;Ae<oe.channels_out;Ae++){var t0=T[Ae],T0=H+576-350-j+192;for(ye=0;ye<576;ye++){var F0,H0;for(F0=t0[T0+ye+10],H0=0,Ve=0;Ve<(j-1)/2-1;Ve+=2)F0+=me[Ve]*(t0[T0+ye+Ve]+t0[T0+ye+j-Ve]),H0+=me[Ve+1]*(t0[T0+ye+Ve+1]+t0[T0+ye+j-Ve-1]);qe[Ae][ye]=F0+H0}J[q][Ae].en.assign(oe.en[Ae]),J[q][Ae].thm.assign(oe.thm[Ae]),$e>2&&(L[q][Ae].en.assign(oe.en[Ae+2]),L[q][Ae].thm.assign(oe.thm[Ae+2]))}for(Ae=0;Ae<$e;Ae++){var g0,U0,b0=u0(12),et=[0,0,0,0],Xt=u0(12),Sa=1,Hr,kr=u0(he.CBANDS),Vr=u0(he.CBANDS),n0=[0,0,0,0],Dr=u0(he.HBLKSIZE),Pr=X0([3,he.HBLKSIZE_s]);for(Pe(oe.npart_s<=he.CBANDS),Pe(oe.npart_l<=he.CBANDS),ye=0;ye<3;ye++)b0[ye]=oe.nsPsy.last_en_subshort[Ae][ye+6],Pe(oe.nsPsy.last_en_subshort[Ae][ye+4]>0),Xt[ye]=b0[ye]/oe.nsPsy.last_en_subshort[Ae][ye+4],et[0]+=b0[ye];if(Ae==2)for(ye=0;ye<576;ye++){var Ma,Ea;Ma=qe[0][ye],Ea=qe[1][ye],qe[0][ye]=Ma+Ea,qe[1][ye]=Ma-Ea}{var Xr=qe[Ae&1],sn=0;for(ye=0;ye<9;ye++){for(var bi=sn+64,v0=1;sn<bi;sn++)v0<Math.abs(Xr[sn])&&(v0=Math.abs(Xr[sn]));oe.nsPsy.last_en_subshort[Ae][ye]=b0[ye+3]=v0,et[1+ye/3]+=v0,v0>b0[ye+3-2]?(Pe(b0[ye+3-2]>0),v0=v0/b0[ye+3-2]):b0[ye+3-2]>v0*10?v0=b0[ye+3-2]/(v0*10):v0=0,Xt[ye+3]=v0}}if(y.analysis){var Aa=Xt[0];for(ye=1;ye<12;ye++)Aa<Xt[ye]&&(Aa=Xt[ye]);oe.pinfo.ers[q][Ae]=oe.pinfo.ers_save[Ae],oe.pinfo.ers_save[Ae]=Aa}for(Hr=Ae==3?oe.nsPsy.attackthre_s:oe.nsPsy.attackthre,ye=0;ye<12;ye++)n0[ye/3]==0&&Xt[ye]>Hr&&(n0[ye/3]=ye%3+1);for(ye=1;ye<4;ye++){var ya;et[ye-1]>et[ye]?(Pe(et[ye]>0),ya=et[ye-1]/et[ye]):(Pe(et[ye-1]>0),ya=et[ye]/et[ye-1]),ya<1.7&&(n0[ye]=0,ye==1&&(n0[0]=0))}for(n0[0]!=0&&oe.nsPsy.lastAttacks[Ae]!=0&&(n0[0]=0),(oe.nsPsy.lastAttacks[Ae]==3||n0[0]+n0[1]+n0[2]+n0[3]!=0)&&(Sa=0,n0[1]!=0&&n0[0]!=0&&(n0[1]=0),n0[2]!=0&&n0[1]!=0&&(n0[2]=0),n0[3]!=0&&n0[2]!=0&&(n0[3]=0)),Ae<2?Le[Ae]=Sa:Sa==0&&(Le[0]=Le[1]=0),te[Ae]=oe.tot_ener[Ae],U0=Ie,g0=fe,m(y,Dr,Pr,g0,Ae&1,U0,Ae&1,q,Ae,T,H),z(oe,Dr,ke,kr,Vr),_e(oe,kr,Vr,N0),De=0;De<3;De++){var Ra,w0;for(c(y,Pr,Ee,He,Ae,De),D(oe,Ee,He,Ae,De),Ce=0;Ce<he.SBMAX_s;Ce++){if(w0=oe.thm[Ae].s[Ce][De],w0*=d,n0[De]>=2||n0[De+1]==1){var ln=De!=0?De-1:2,v0=E(oe.thm[Ae].s[Ce][ln],w0,o*e0);w0=Math.min(w0,v0)}if(n0[De]==1){var ln=De!=0?De-1:2,v0=E(oe.thm[Ae].s[Ce][ln],w0,A*e0);w0=Math.min(w0,v0)}else if(De!=0&&n0[De-1]==3||De==0&&oe.nsPsy.lastAttacks[Ae]==3){var ln=De!=2?De+1:0,v0=E(oe.thm[Ae].s[Ce][ln],w0,A*e0);w0=Math.min(w0,v0)}Ra=b0[De*3+3]+b0[De*3+4]+b0[De*3+5],b0[De*3+5]*6<Ra&&(w0*=.5,b0[De*3+4]*6<Ra&&(w0*=.5)),oe.thm[Ae].s[Ce][De]=w0}}for(oe.nsPsy.lastAttacks[Ae]=n0[2],Qe=0,Ne=0;Ne<oe.npart_l;Ne++){for(var Et=oe.s3ind[Ne][0],Ta=ke[Et]*G[N0[Et]],At=oe.s3_ll[Qe++]*Ta;++Et<=oe.s3ind[Ne][1];)Ta=ke[Et]*G[N0[Et]],At=_(At,oe.s3_ll[Qe++]*Ta,Et,Et-Ne,oe,0);At*=.158489319246111,oe.blocktype_old[Ae&1]==he.SHORT_TYPE?He[Ne]=At:He[Ne]=E(Math.min(At,Math.min(a*oe.nb_1[Ae][Ne],s*oe.nb_2[Ae][Ne])),At,e0),oe.nb_2[Ae][Ne]=oe.nb_1[Ae][Ne],oe.nb_1[Ae][Ne]=At}for(;Ne<=he.CBANDS;++Ne)ke[Ne]=0,He[Ne]=0;b(oe,ke,He,Ae)}if((y.mode==e.STEREO||y.mode==e.JOINT_STEREO)&&y.interChRatio>0&&K(y,y.interChRatio),y.mode==e.JOINT_STEREO){var wa;P(oe),wa=y.msfix,Math.abs(wa)>0&&ne(oe,wa,y.ATHlower*oe.ATH.adjust)}for(f(y,Le,ce,ue),Ae=0;Ae<$e;Ae++){var on,_n=0,Bn,In;Ae>1?(on=ie,_n=-2,Bn=he.NORM_TYPE,(ce[0]==he.SHORT_TYPE||ce[1]==he.SHORT_TYPE)&&(Bn=he.SHORT_TYPE),In=L[q][Ae-2]):(on=ee,_n=0,Bn=ce[Ae],In=J[q][Ae]),Bn==he.SHORT_TYPE?on[_n+Ae]=N(In,oe.masking_lower):on[_n+Ae]=I(In,oe.masking_lower),y.analysis&&(oe.pinfo.pe[q][Ae]=on[_n+Ae])}return 0};function C(y,T,H,q,J,L,ee,ie){var te=y.internal_flags;if(q<2)t.fft_long(te,ee[ie],q,T,H);else if(q==2)for(var ce=he.BLKSIZE-1;ce>=0;--ce){var oe=ee[ie+0][ce],fe=ee[ie+1][ce];ee[ie+0][ce]=(oe+fe)*B0.SQRT2*.5,ee[ie+1][ce]=(oe-fe)*B0.SQRT2*.5}L[0]=ee[ie+0][0],L[0]*=L[0];for(var ce=he.BLKSIZE/2-1;ce>=0;--ce){var Ie=ee[ie+0][he.BLKSIZE/2-ce],ke=ee[ie+0][he.BLKSIZE/2+ce];L[he.BLKSIZE/2-ce]=(Ie*Ie+ke*ke)*.5}{for(var Ee=0,ce=11;ce<he.HBLKSIZE;ce++)Ee+=L[ce];te.tot_ener[q]=Ee}if(y.analysis){for(var ce=0;ce<he.HBLKSIZE;ce++)te.pinfo.energy[J][q][ce]=te.pinfo.energy_save[q][ce],te.pinfo.energy_save[q][ce]=L[ce];te.pinfo.pe[J][q]=te.pe[q]}}function X(y,T,H,q,J,L,ee,ie){var te=y.internal_flags;if(J==0&&q<2&&t.fft_short(te,ee[ie],q,T,H),q==2)for(var ce=he.BLKSIZE_s-1;ce>=0;--ce){var oe=ee[ie+0][J][ce],fe=ee[ie+1][J][ce];ee[ie+0][J][ce]=(oe+fe)*B0.SQRT2*.5,ee[ie+1][J][ce]=(oe-fe)*B0.SQRT2*.5}L[J][0]=ee[ie+0][J][0],L[J][0]*=L[J][0];for(var ce=he.BLKSIZE_s/2-1;ce>=0;--ce){var Ie=ee[ie+0][J][he.BLKSIZE_s/2-ce],ke=ee[ie+0][J][he.BLKSIZE_s/2+ce];L[J][he.BLKSIZE_s/2-ce]=(Ie*Ie+ke*ke)*.5}}function Q(y,T,H,q){var J=y.internal_flags;y.athaa_loudapprox==2&&H<2&&(J.loudness_sq[T][H]=J.loudness_sq_save[H],J.loudness_sq_save[H]=R(q,J))}var ae=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function le(y,T,H,q,J,L,ee,ie,te,ce){for(var oe=X0([2,576]),fe=y.internal_flags,Ie=fe.channels_out,ke=y.mode==e.JOINT_STEREO?4:Ie,Ee=0;Ee<Ie;Ee++){firbuf=T[Ee];for(var He=H+576-350-j+192,ue=0;ue<576;ue++){var Le,$e;Le=firbuf[He+ue+10],$e=0;for(var Ae=0;Ae<(j-1)/2-1;Ae+=2)Le+=ae[Ae]*(firbuf[He+ue+Ae]+firbuf[He+ue+j-Ae]),$e+=ae[Ae+1]*(firbuf[He+ue+Ae+1]+firbuf[He+ue+j-Ae-1]);oe[Ee][ue]=Le+$e}J[q][Ee].en.assign(fe.en[Ee]),J[q][Ee].thm.assign(fe.thm[Ee]),ke>2&&(L[q][Ee].en.assign(fe.en[Ee+2]),L[q][Ee].thm.assign(fe.thm[Ee+2]))}for(var Ee=0;Ee<ke;Ee++){var Ne=u0(12),ye=u0(12),Ve=[0,0,0,0],Qe=oe[Ee&1],Ce=0,De=Ee==3?fe.nsPsy.attackthre_s:fe.nsPsy.attackthre,qe=1;if(Ee==2)for(var ue=0,Ae=576;Ae>0;++ue,--Ae){var e0=oe[0][ue],N0=oe[1][ue];oe[0][ue]=e0+N0,oe[1][ue]=e0-N0}for(var ue=0;ue<3;ue++)ye[ue]=fe.nsPsy.last_en_subshort[Ee][ue+6],Pe(fe.nsPsy.last_en_subshort[Ee][ue+4]>0),Ne[ue]=ye[ue]/fe.nsPsy.last_en_subshort[Ee][ue+4],Ve[0]+=ye[ue];for(var ue=0;ue<9;ue++){for(var l0=Ce+64,t0=1;Ce<l0;Ce++)t0<Math.abs(Qe[Ce])&&(t0=Math.abs(Qe[Ce]));fe.nsPsy.last_en_subshort[Ee][ue]=ye[ue+3]=t0,Ve[1+ue/3]+=t0,t0>ye[ue+3-2]?(Pe(ye[ue+3-2]>0),t0=t0/ye[ue+3-2]):ye[ue+3-2]>t0*10?t0=ye[ue+3-2]/(t0*10):t0=0,Ne[ue+3]=t0}for(var ue=0;ue<3;++ue){var T0=ye[ue*3+3]+ye[ue*3+4]+ye[ue*3+5],F0=1;ye[ue*3+5]*6<T0&&(F0*=.5,ye[ue*3+4]*6<T0&&(F0*=.5)),ie[Ee][ue]=F0}if(y.analysis){for(var H0=Ne[0],ue=1;ue<12;ue++)H0<Ne[ue]&&(H0=Ne[ue]);fe.pinfo.ers[q][Ee]=fe.pinfo.ers_save[Ee],fe.pinfo.ers_save[Ee]=H0}for(var ue=0;ue<12;ue++)te[Ee][ue/3]==0&&Ne[ue]>De&&(te[Ee][ue/3]=ue%3+1);for(var ue=1;ue<4;ue++){var g0=Ve[ue-1],U0=Ve[ue],b0=Math.max(g0,U0);b0<4e4&&g0<1.7*U0&&U0<1.7*g0&&(ue==1&&te[Ee][0]<=te[Ee][ue]&&(te[Ee][0]=0),te[Ee][ue]=0)}te[Ee][0]<=fe.nsPsy.lastAttacks[Ee]&&(te[Ee][0]=0),(fe.nsPsy.lastAttacks[Ee]==3||te[Ee][0]+te[Ee][1]+te[Ee][2]+te[Ee][3]!=0)&&(qe=0,te[Ee][1]!=0&&te[Ee][0]!=0&&(te[Ee][1]=0),te[Ee][2]!=0&&te[Ee][1]!=0&&(te[Ee][2]=0),te[Ee][3]!=0&&te[Ee][2]!=0&&(te[Ee][3]=0)),Ee<2?ce[Ee]=qe:qe==0&&(ce[0]=ce[1]=0),ee[Ee]=fe.tot_ener[Ee]}}function Se(y,T,H){if(H==0)for(var q=0;q<y.npart_s;q++)y.nb_s2[T][q]=y.nb_s1[T][q],y.nb_s1[T][q]=0}function Oe(y,T){for(var H=0;H<y.npart_l;H++)y.nb_2[T][H]=y.nb_1[T][H],y.nb_1[T][H]=0}function l(y,T,H,q){var J=G.length-1,L=0,ee=H[L]+H[L+1];if(ee>0){var ie=T[L];ie<T[L+1]&&(ie=T[L+1]),Pe(y.numlines_s[L]+y.numlines_s[L+1]-1>0),ee=20*(ie*2-ee)/(ee*(y.numlines_s[L]+y.numlines_s[L+1]-1));var te=0|ee;te>J&&(te=J),q[L]=te}else q[L]=0;for(L=1;L<y.npart_s-1;L++)if(ee=H[L-1]+H[L]+H[L+1],Pe(L+1<y.npart_s),ee>0){var ie=T[L-1];ie<T[L]&&(ie=T[L]),ie<T[L+1]&&(ie=T[L+1]),Pe(y.numlines_s[L-1]+y.numlines_s[L]+y.numlines_s[L+1]-1>0),ee=20*(ie*3-ee)/(ee*(y.numlines_s[L-1]+y.numlines_s[L]+y.numlines_s[L+1]-1));var te=0|ee;te>J&&(te=J),q[L]=te}else q[L]=0;if(Pe(L==y.npart_s-1),ee=H[L-1]+H[L],ee>0){var ie=T[L-1];ie<T[L]&&(ie=T[L]),Pe(y.numlines_s[L-1]+y.numlines_s[L]-1>0),ee=20*(ie*2-ee)/(ee*(y.numlines_s[L-1]+y.numlines_s[L]-1));var te=0|ee;te>J&&(te=J),q[L]=te}else q[L]=0;Pe(L==y.npart_s-1)}function v(y,T,H,q,J,L){var ee=y.internal_flags,ie=new float[he.CBANDS],te=u0(he.CBANDS),ce,oe,fe,Ie=new int[he.CBANDS];for(fe=oe=0;fe<ee.npart_s;++fe){var ke=0,Ee=0,He=ee.numlines_s[fe];for(ce=0;ce<He;++ce,++oe){var ue=T[L][oe];ke+=ue,Ee<ue&&(Ee=ue)}H[fe]=ke,ie[fe]=Ee,te[fe]=ke/He,Pe(te[fe]>=0)}for(Pe(fe==ee.npart_s);fe<he.CBANDS;++fe)ie[fe]=0,te[fe]=0;for(l(ee,ie,te,Ie),oe=fe=0;fe<ee.npart_s;fe++){var Le=ee.s3ind_s[fe][0],$e=ee.s3ind_s[fe][1],Ae,Ne,ye,Ve,Qe;for(Ae=Ie[Le],Ne=1,Ve=ee.s3_ss[oe]*H[Le]*G[Ie[Le]],++oe,++Le;Le<=$e;)Ae+=Ie[Le],Ne+=1,ye=ee.s3_ss[oe]*H[Le]*G[Ie[Le]],Ve=Y(Ve,ye,Le-fe),++oe,++Le;Ae=(1+2*Ae)/(2*Ne),Qe=G[Ae]*.5,Ve*=Qe,q[fe]=Ve,ee.nb_s2[J][fe]=ee.nb_s1[J][fe],ee.nb_s1[J][fe]=Ve,ye=ie[fe],ye*=ee.minval_s[fe],ye*=Qe,q[fe]>ye&&(q[fe]=ye),ee.masking_lower>1&&(q[fe]*=ee.masking_lower),q[fe]>H[fe]&&(q[fe]=H[fe]),ee.masking_lower<1&&(q[fe]*=ee.masking_lower),Pe(q[fe]>=0)}for(;fe<he.CBANDS;++fe)H[fe]=0,q[fe]=0}function re(y,T,H,q,J){var L=u0(he.CBANDS),ee=u0(he.CBANDS),ie=Tt(he.CBANDS+2),te;z(y,T,H,L,ee),_e(y,L,ee,ie);var ce=0;for(te=0;te<y.npart_l;te++){var oe,fe,Ie,ke,Ee=y.s3ind[te][0],He=y.s3ind[te][1],ue=0,Le=0;for(ue=ie[Ee],Le+=1,fe=y.s3_ll[ce]*H[Ee]*G[ie[Ee]],++ce,++Ee;Ee<=He;)ue+=ie[Ee],Le+=1,oe=y.s3_ll[ce]*H[Ee]*G[ie[Ee]],ke=Y(fe,oe,Ee-te),fe=ke,++ce,++Ee;if(ue=(1+2*ue)/(2*Le),Ie=G[ue]*.5,fe*=Ie,y.blocktype_old[J&1]==he.SHORT_TYPE){var $e=a*y.nb_1[J][te];$e>0?q[te]=Math.min(fe,$e):q[te]=Math.min(fe,H[te]*A)}else{var Ae=s*y.nb_2[J][te],Ne=a*y.nb_1[J][te],$e;Ae<=0&&(Ae=fe),Ne<=0&&(Ne=fe),y.blocktype_old[J&1]==he.NORM_TYPE?$e=Math.min(Ne,Ae):$e=Ne,q[te]=Math.min(fe,$e)}y.nb_2[J][te]=y.nb_1[J][te],y.nb_1[J][te]=fe,oe=L[te],oe*=y.minval_l[te],oe*=Ie,q[te]>oe&&(q[te]=oe),y.masking_lower>1&&(q[te]*=y.masking_lower),q[te]>H[te]&&(q[te]=H[te]),y.masking_lower<1&&(q[te]*=y.masking_lower),Pe(q[te]>=0)}for(;te<he.CBANDS;++te)H[te]=0,q[te]=0}function ve(y,T){var H=y.internal_flags;y.short_blocks==Yt.short_block_coupled&&!(T[0]!=0&&T[1]!=0)&&(T[0]=T[1]=0);for(var q=0;q<H.channels_out;q++)y.short_blocks==Yt.short_block_dispensed&&(T[q]=1),y.short_blocks==Yt.short_block_forced&&(T[q]=0)}function pe(y,T,H){for(var q=y.internal_flags,J=0;J<q.channels_out;J++){var L=he.NORM_TYPE;T[J]!=0?(Pe(q.blocktype_old[J]!=he.START_TYPE),q.blocktype_old[J]==he.SHORT_TYPE&&(L=he.STOP_TYPE)):(L=he.SHORT_TYPE,q.blocktype_old[J]==he.NORM_TYPE&&(q.blocktype_old[J]=he.START_TYPE),q.blocktype_old[J]==he.STOP_TYPE&&(q.blocktype_old[J]=he.SHORT_TYPE)),H[J]=q.blocktype_old[J],q.blocktype_old[J]=L}}function xe(y,T,H,q,J,L,ee){for(var ie=L*2,te=L>0?Math.pow(10,J):1,ce,oe,fe=0;fe<ee;++fe){var Ie=y[2][fe],ke=y[3][fe],Ee=T[0][fe],He=T[1][fe],ue=T[2][fe],Le=T[3][fe];if(Ee<=1.58*He&&He<=1.58*Ee){var $e=H[fe]*ke,Ae=H[fe]*Ie;oe=Math.max(ue,Math.min(Le,$e)),ce=Math.max(Le,Math.min(ue,Ae))}else oe=ue,ce=Le;if(L>0){var Ne,ye,Ve=q[fe]*te;if(Ne=Math.min(Math.max(Ee,Ve),Math.max(He,Ve)),ue=Math.max(oe,Ve),Le=Math.max(ce,Ve),ye=ue+Le,ye>0&&Ne*ie<ye){var Qe=Ne*ie/ye;ue*=Qe,Le*=Qe}oe=Math.min(ue,oe),ce=Math.min(Le,ce)}oe>Ie&&(oe=Ie),ce>ke&&(ce=ke),T[2][fe]=oe,T[3][fe]=ce}}this.L3psycho_anal_vbr=function(y,T,H,q,J,L,ee,ie,te,ce){var oe=y.internal_flags,fe,Ie,ke=u0(he.HBLKSIZE),Ee=X0([3,he.HBLKSIZE_s]),He=X0([2,he.BLKSIZE]),ue=X0([2,3,he.BLKSIZE_s]),Le=X0([4,he.CBANDS]),$e=X0([4,he.CBANDS]),Ae=X0([4,3]),Ne=.6,ye=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Ve=Tt(2),Qe=y.mode==e.JOINT_STEREO?4:oe.channels_out;le(y,T,H,q,J,L,te,Ae,ye,Ve),ve(y,Ve);{for(var Ce=0;Ce<Qe;Ce++){var De=Ce&1;fe=He,C(y,T,H,Ce,q,ke,fe,De),Q(y,q,Ce,ke),Ve[De]!=0?re(oe,ke,Le[Ce],$e[Ce],Ce):Oe(oe,Ce)}Ve[0]+Ve[1]==2&&y.mode==e.JOINT_STEREO&&xe(Le,$e,oe.mld_cb_l,oe.ATH.cb_l,y.ATHlower*oe.ATH.adjust,y.msfix,oe.npart_l);for(var Ce=0;Ce<Qe;Ce++){var De=Ce&1;Ve[De]!=0&&b(oe,Le[Ce],$e[Ce],Ce)}}{for(var qe=0;qe<3;qe++){for(var Ce=0;Ce<Qe;++Ce){var De=Ce&1;Ve[De]!=0?Se(oe,Ce,qe):(Ie=ue,X(y,T,H,Ce,qe,Ee,Ie,De),v(y,Ee,Le[Ce],$e[Ce],Ce,qe))}Ve[0]+Ve[1]==0&&y.mode==e.JOINT_STEREO&&xe(Le,$e,oe.mld_cb_s,oe.ATH.cb_s,y.ATHlower*oe.ATH.adjust,y.msfix,oe.npart_s);for(var Ce=0;Ce<Qe;++Ce){var De=Ce&1;Ve[De]==0&&D(oe,Le[Ce],$e[Ce],Ce,qe)}}for(var Ce=0;Ce<Qe;Ce++){var De=Ce&1;if(Ve[De]==0)for(var e0=0;e0<he.SBMAX_s;e0++){for(var N0=u0(3),qe=0;qe<3;qe++){var l0=oe.thm[Ce].s[e0][qe];if(l0*=d,ye[Ce][qe]>=2||ye[Ce][qe+1]==1){var t0=qe!=0?qe-1:2,T0=E(oe.thm[Ce].s[e0][t0],l0,o*Ne);l0=Math.min(l0,T0)}else if(ye[Ce][qe]==1){var t0=qe!=0?qe-1:2,T0=E(oe.thm[Ce].s[e0][t0],l0,A*Ne);l0=Math.min(l0,T0)}else if(qe!=0&&ye[Ce][qe-1]==3||qe==0&&oe.nsPsy.lastAttacks[Ce]==3){var t0=qe!=2?qe+1:0,T0=E(oe.thm[Ce].s[e0][t0],l0,A*Ne);l0=Math.min(l0,T0)}l0*=Ae[Ce][qe],N0[qe]=l0}for(var qe=0;qe<3;qe++)oe.thm[Ce].s[e0][qe]=N0[qe]}}}for(var Ce=0;Ce<Qe;Ce++)oe.nsPsy.lastAttacks[Ce]=ye[Ce][2];pe(y,Ve,ce);for(var Ce=0;Ce<Qe;Ce++){var F0,H0,g0,U0;Ce>1?(F0=ie,H0=-2,g0=he.NORM_TYPE,(ce[0]==he.SHORT_TYPE||ce[1]==he.SHORT_TYPE)&&(g0=he.SHORT_TYPE),U0=L[q][Ce-2]):(F0=ee,H0=0,g0=ce[Ce],U0=J[q][Ce]),g0==he.SHORT_TYPE?F0[H0+Ce]=N(U0,oe.masking_lower):F0[H0+Ce]=I(U0,oe.masking_lower),y.analysis&&(oe.pinfo.pe[q][Ce]=F0[H0+Ce])}return 0};function be(y,T){var H=y,q;return H>=0?q=-H*27:q=H*T,q<=-72?0:Math.exp(q*W)}function Me(y){var T=0,H=0;{var q=0,J,L;for(q=0;be(q,y)>1e-20;q-=1);for(J=q,L=0;Math.abs(L-J)>1e-12;)q=(L+J)/2,be(q,y)>0?L=q:J=q;T=J}{var q=0,J,L;for(q=0;be(q,y)>1e-20;q+=1);for(J=0,L=q;Math.abs(L-J)>1e-12;)q=(L+J)/2,be(q,y)>0?J=q:L=q;H=L}{var ee=0,ie=1e3,te;for(te=0;te<=ie;++te){var q=T+te*(H-T)/ie,ce=be(q,y);ee+=ce}{var oe=(ie+1)/(ee*(H-T));return oe}}}function Fe(y){var T,H,q,J;return T=y,T>=0?T*=3:T*=1.5,T>=.5&&T<=2.5?(J=T-.5,H=8*(J*J-2*J)):H=0,T+=.474,q=15.811389+7.5*T-17.5*Math.sqrt(1+T*T),q<=-60?0:(T=Math.exp((H+q)*W),T/=.6609193,T)}function we(y){return y<0&&(y=0),y=y*.001,13*Math.atan(.76*y)+3.5*Math.atan(y*y/(7.5*7.5))}function Te(y,T,H,q,J,L,ee,ie,te,ce,oe,fe){var Ie=u0(he.CBANDS+1),ke=ie/(fe>15?2*576:2*192),Ee=Tt(he.HBLKSIZE),He;ie/=te;var ue=0,Le=0;for(He=0;He<he.CBANDS;He++){var $e,Ae;for($e=we(ie*ue),Ie[He]=ie*ue,Ae=ue;we(ie*Ae)-$e<h&&Ae<=te/2;Ae++);for(y[He]=Ae-ue,Le=He+1;ue<Ae;)Pe(ue<he.HBLKSIZE),Ee[ue++]=He;if(ue>te/2){ue=te/2,++He;break}}Pe(He<he.CBANDS),Ie[He]=ie*ue;for(var Ne=0;Ne<fe;Ne++){var ye,Ve,Qe,Ce,De;Qe=ce[Ne],Ce=ce[Ne+1],ye=0|Math.floor(.5+oe*(Qe-.5)),ye<0&&(ye=0),Ve=0|Math.floor(.5+oe*(Ce-.5)),Ve>te/2&&(Ve=te/2),H[Ne]=(Ee[ye]+Ee[Ve])/2,T[Ne]=Ee[Ve];var qe=ke*Ce;ee[Ne]=(qe-Ie[T[Ne]])/(Ie[T[Ne]+1]-Ie[T[Ne]]),ee[Ne]<0?ee[Ne]=0:ee[Ne]>1&&(ee[Ne]=1),De=we(ie*ce[Ne]*oe),De=Math.min(De,15.5)/15.5,L[Ne]=Math.pow(10,1.25*(1-Math.cos(Math.PI*De))-2.5)}ue=0;for(var e0=0;e0<Le;e0++){var N0=y[e0],$e,l0;$e=we(ie*ue),l0=we(ie*(ue+N0-1)),q[e0]=.5*($e+l0),$e=we(ie*(ue-.5)),l0=we(ie*(ue+N0-.5)),J[e0]=l0-$e,ue+=N0}return Le}function Xe(y,T,H,q,J,L){var ee=X0([he.CBANDS,he.CBANDS]),ie,te=0;if(L)for(var ce=0;ce<T;ce++)for(ie=0;ie<T;ie++){var oe=Fe(H[ce]-H[ie])*q[ie];ee[ce][ie]=oe*J[ce]}else for(ie=0;ie<T;ie++)for(var fe=15+Math.min(21/H[ie],12),Ie=Me(fe),ce=0;ce<T;ce++){var oe=Ie*be(H[ce]-H[ie],fe)*q[ie];ee[ce][ie]=oe*J[ce]}for(var ce=0;ce<T;ce++){for(ie=0;ie<T&&!(ee[ce][ie]>0);ie++);for(y[ce][0]=ie,ie=T-1;ie>0&&!(ee[ce][ie]>0);ie--);y[ce][1]=ie,te+=y[ce][1]-y[ce][0]+1}for(var ke=u0(te),Ee=0,ce=0;ce<T;ce++)for(ie=y[ce][0];ie<=y[ce][1];ie++)ke[Ee++]=ee[ce][ie];return ke}function Ze(y){var T=we(y);return T=Math.min(T,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*T))-2.5)}this.psymodel_init=function(y){var T=y.internal_flags,H,q=!0,J=13,L=24,ee=0,ie=0,te=-8.25,ce=-4.5,oe=u0(he.CBANDS),fe=u0(he.CBANDS),Ie=u0(he.CBANDS),ke=y.out_samplerate;switch(y.experimentalZ){default:case 0:q=!0;break;case 1:q=!(y.VBR==$t.vbr_mtrh||y.VBR==$t.vbr_mt);break;case 2:q=!1;break;case 3:J=8,ee=-1.75,ie=-.0125,te=-8.25,ce=-2.25;break}for(T.ms_ener_ratio_old=.25,T.blocktype_old[0]=T.blocktype_old[1]=he.NORM_TYPE,H=0;H<4;++H){for(var ue=0;ue<he.CBANDS;++ue)T.nb_1[H][ue]=1e20,T.nb_2[H][ue]=1e20,T.nb_s1[H][ue]=T.nb_s2[H][ue]=1;for(var Ee=0;Ee<he.SBMAX_l;Ee++)T.en[H].l[Ee]=1e20,T.thm[H].l[Ee]=1e20;for(var ue=0;ue<3;++ue){for(var Ee=0;Ee<he.SBMAX_s;Ee++)T.en[H].s[Ee][ue]=1e20,T.thm[H].s[Ee][ue]=1e20;T.nsPsy.lastAttacks[H]=0}for(var ue=0;ue<9;ue++)T.nsPsy.last_en_subshort[H][ue]=10}for(T.loudness_sq_save[0]=T.loudness_sq_save[1]=0,T.npart_l=Te(T.numlines_l,T.bo_l,T.bm_l,oe,fe,T.mld_l,T.PSY.bo_l_weight,ke,he.BLKSIZE,T.scalefac_band.l,he.BLKSIZE/(2*576),he.SBMAX_l),Pe(T.npart_l<he.CBANDS),H=0;H<T.npart_l;H++){var He=ee;oe[H]>=J&&(He=ie*(oe[H]-J)/(L-J)+ee*(L-oe[H])/(L-J)),Ie[H]=Math.pow(10,He/10),T.numlines_l[H]>0?T.rnumlines_l[H]=1/T.numlines_l[H]:T.rnumlines_l[H]=0}T.s3_ll=Xe(T.s3ind,T.npart_l,oe,fe,Ie,q);var ue=0;for(H=0;H<T.npart_l;H++){var Le;Le=ys.MAX_VALUE;for(var $e=0;$e<T.numlines_l[H];$e++,ue++){var Ae=ke*ue/(1e3*he.BLKSIZE),Ne;Ne=this.ATHformula(Ae*1e3,y)-20,Ne=Math.pow(10,.1*Ne),Ne*=T.numlines_l[H],Le>Ne&&(Le=Ne)}T.ATH.cb_l[H]=Le,Le=-20+oe[H]*20/10,Le>6&&(Le=100),Le<-15&&(Le=-15),Le-=8,T.minval_l[H]=Math.pow(10,Le/10)*T.numlines_l[H]}for(T.npart_s=Te(T.numlines_s,T.bo_s,T.bm_s,oe,fe,T.mld_s,T.PSY.bo_s_weight,ke,he.BLKSIZE_s,T.scalefac_band.s,he.BLKSIZE_s/(2*192),he.SBMAX_s),Pe(T.npart_s<he.CBANDS),ue=0,H=0;H<T.npart_s;H++){var Le,He=te;oe[H]>=J&&(He=ce*(oe[H]-J)/(L-J)+te*(L-oe[H])/(L-J)),Ie[H]=Math.pow(10,He/10),Le=ys.MAX_VALUE;for(var $e=0;$e<T.numlines_s[H];$e++,ue++){var Ae=ke*ue/(1e3*he.BLKSIZE_s),Ne;Ne=this.ATHformula(Ae*1e3,y)-20,Ne=Math.pow(10,.1*Ne),Ne*=T.numlines_s[H],Le>Ne&&(Le=Ne)}T.ATH.cb_s[H]=Le,Le=-7+oe[H]*7/12,oe[H]>12&&(Le*=1+Math.log(1+Le)*3.1),oe[H]<12&&(Le*=1+Math.log(1-Le)*2.3),Le<-15&&(Le=-15),Le-=8,T.minval_s[H]=Math.pow(10,Le/10)*T.numlines_s[H]}T.s3_ss=Xe(T.s3ind_s,T.npart_s,oe,fe,Ie,q),k(),t.init_fft(T),T.decay=Math.exp(-1*n/(g*ke/192));{var ye;ye=Z,y.exp_nspsytune&2&&(ye=1),Math.abs(y.msfix)>0&&(ye=y.msfix),y.msfix=ye;for(var Ve=0;Ve<T.npart_l;Ve++)T.s3ind[Ve][1]>T.npart_l-1&&(T.s3ind[Ve][1]=T.npart_l-1)}var Qe=576*T.mode_gr/ke;if(T.ATH.decay=Math.pow(10,-12/10*Qe),T.ATH.adjust=.01,T.ATH.adjustLimit=1,Pe(T.bo_l[he.SBMAX_l-1]<=T.npart_l),Pe(T.bo_s[he.SBMAX_s-1]<=T.npart_s),y.ATHtype!=-1){var Ae,Ce=y.out_samplerate/he.BLKSIZE,De=0;for(Ae=0,H=0;H<he.BLKSIZE/2;++H)Ae+=Ce,T.ATH.eql_w[H]=1/Math.pow(10,this.ATHformula(Ae,y)/10),De+=T.ATH.eql_w[H];for(De=1/De,H=he.BLKSIZE/2;--H>=0;)T.ATH.eql_w[H]*=De}{for(var Ve=ue=0;Ve<T.npart_s;++Ve)for(H=0;H<T.numlines_s[Ve];++H)++ue;for(var Ve=ue=0;Ve<T.npart_l;++Ve)for(H=0;H<T.numlines_l[Ve];++H)++ue}for(ue=0,H=0;H<T.npart_l;H++){var Ae=ke*(ue+T.numlines_l[H]/2)/(1*he.BLKSIZE);T.mld_cb_l[H]=Ze(Ae),ue+=T.numlines_l[H]}for(;H<he.CBANDS;++H)T.mld_cb_l[H]=1;for(ue=0,H=0;H<T.npart_s;H++){var Ae=ke*(ue+T.numlines_s[H]/2)/(1*he.BLKSIZE_s);T.mld_cb_s[H]=Ze(Ae),ue+=T.numlines_s[H]}for(;H<he.CBANDS;++H)T.mld_cb_s[H]=1;return 0};function Ue(y,T){y<-.3&&(y=3410),y/=1e3,y=Math.max(.1,y);var H=3.64*Math.pow(y,-.8)-6.8*Math.exp(-.6*Math.pow(y-3.4,2))+6*Math.exp(-.15*Math.pow(y-8.7,2))+(.6+.04*T)*.001*Math.pow(y,4);return H}this.ATHformula=function(y,T){var H;switch(T.ATHtype){case 0:H=Ue(y,9);break;case 1:H=Ue(y,-1);break;case 2:H=Ue(y,0);break;case 3:H=Ue(y,1)+6;break;case 4:H=Ue(y,T.ATHcurve);break;default:H=Ue(y,0);break}return H}}var Z2=z2,Q2=wn;function J2(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=Q2.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var e_=J2,t_=A0(),ni={};ni.SFBMAX=t_.SBMAX_s*3;var pa=ni,ai=a0,n_=ai.new_float,wt=ai.new_int,Xa=pa;function a_(){this.xr=n_(576),this.l3_enc=wt(576),this.scalefac=wt(Xa.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=wt(3),this.subblock_gain=wt(3+1),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=wt(Xa.SFBMAX),this.window=wt(Xa.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=wt(4),this.max_nonzero_coeff=0;var e=this;function t(a){return new Int32Array(a)}function n(a){return new Float32Array(a)}this.assign=function(a){e.xr=n(a.xr),e.l3_enc=t(a.l3_enc),e.scalefac=t(a.scalefac),e.xrpow_max=a.xrpow_max,e.part2_3_length=a.part2_3_length,e.big_values=a.big_values,e.count1=a.count1,e.global_gain=a.global_gain,e.scalefac_compress=a.scalefac_compress,e.block_type=a.block_type,e.mixed_block_flag=a.mixed_block_flag,e.table_select=t(a.table_select),e.subblock_gain=t(a.subblock_gain),e.region0_count=a.region0_count,e.region1_count=a.region1_count,e.preflag=a.preflag,e.scalefac_scale=a.scalefac_scale,e.count1table_select=a.count1table_select,e.part2_length=a.part2_length,e.sfb_lmax=a.sfb_lmax,e.sfb_smin=a.sfb_smin,e.psy_lmax=a.psy_lmax,e.sfbmax=a.sfbmax,e.psymax=a.psymax,e.sfbdivide=a.sfbdivide,e.width=t(a.width),e.window=t(a.window),e.count1bits=a.count1bits,e.sfb_partition_table=a.sfb_partition_table.slice(0),e.slen=t(a.slen),e.max_nonzero_coeff=a.max_nonzero_coeff}}var Ir=a_,r_=a0,Rs=r_.new_int,s_=Ir;function i_(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[Rs(4),Rs(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new s_}var l_=i_,ri=a0,kn=ri.System,Vn=ri.new_int,Dn=A0();function o_(e,t,n,a){this.l=Vn(1+Dn.SBMAX_l),this.s=Vn(1+Dn.SBMAX_s),this.psfb21=Vn(1+Dn.PSFB21),this.psfb12=Vn(1+Dn.PSFB12);var s=this.l,i=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],kn.arraycopy(this.arrL,0,s,0,Math.min(this.arrL.length,this.l.length)),kn.arraycopy(this.arrS,0,i,0,Math.min(this.arrS.length,this.s.length)),kn.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),kn.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var si=o_,Cr=a0,$a=Cr.new_float,__=Cr.new_float_n,u_=Cr.new_int,Ts=A0();function c_(){this.last_en_subshort=__([4,9]),this.lastAttacks=u_(4),this.pefirbuf=$a(19),this.longfact=$a(Ts.SBMAX_l),this.shortfact=$a(Ts.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var f_=c_;function h_(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var v_=h_,nn=a0,d_=nn.new_byte,m_=nn.new_double,$0=nn.new_float,Bt=nn.new_float_n,G0=nn.new_int,Pn=nn.new_int_n,p_=l_,b_=si,x_=f_,S_=v_,ws=ei(),s0=A0(),M_=pa;ot.MFSIZE=3*1152+s0.ENCDELAY-s0.MDCTDELAY;ot.MAX_HEADER_BUF=256;ot.MAX_BITS_PER_CHANNEL=4095;ot.MAX_BITS_PER_GRANULE=7680;ot.BPC=320;function ot(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=Bt([2,ot.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new p_,this.ms_ratio=$0(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=G0(2),this.CurrentStep=G0(2),this.masking_lower=0,this.bv_scf=G0(576),this.pseudohalf=G0(M_.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*ot.BPC+1),this.itime=m_(2),this.sideinfo_len=0,this.sb_sample=Bt([2,2,18,s0.SBLIMIT]),this.amp_filter=$0(32);function t(){this.write_timing=0,this.ptr=0,this.buf=d_(e)}this.header=new Array(ot.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new b_,this.minval_l=$0(s0.CBANDS),this.minval_s=$0(s0.CBANDS),this.nb_1=Bt([4,s0.CBANDS]),this.nb_2=Bt([4,s0.CBANDS]),this.nb_s1=Bt([4,s0.CBANDS]),this.nb_s2=Bt([4,s0.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=$0(4),this.loudness_sq=Bt([2,2]),this.loudness_sq_save=$0(2),this.mld_l=$0(s0.SBMAX_l),this.mld_s=$0(s0.SBMAX_s),this.bm_l=G0(s0.SBMAX_l),this.bo_l=G0(s0.SBMAX_l),this.bm_s=G0(s0.SBMAX_s),this.bo_s=G0(s0.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Pn([s0.CBANDS,2]),this.s3ind_s=Pn([s0.CBANDS,2]),this.numlines_s=G0(s0.CBANDS),this.numlines_l=G0(s0.CBANDS),this.rnumlines_l=$0(s0.CBANDS),this.mld_cb_l=$0(s0.CBANDS),this.mld_cb_s=$0(s0.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=$0(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=G0(2),this.nsPsy=new x_,this.VBR_seek_table=new S_,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Pn([16,4+1]),this.bitrate_blockType_Hist=Pn([16,4+1+1]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new ws;for(var n=0;n<this.thm.length;n++)this.thm[n]=new ws;for(var n=0;n<this.header.length;n++)this.header[n]=new t}var ba=ot,E_=a0,It=E_.new_float,Ct=A0();function A_(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=It(Ct.SBMAX_l),this.s=It(Ct.SBMAX_s),this.psfb21=It(Ct.PSFB21),this.psfb12=It(Ct.PSFB12),this.cb_l=It(Ct.CBANDS),this.cb_s=It(Ct.CBANDS),this.eql_w=It(Ct.BLKSIZE/2)}var y_=A_,ii=a0,I0=ii.System,Bs=ii.Arrays;i0.STEPS_per_dB=100;i0.MAX_dB=120;i0.GAIN_NOT_ENOUGH_SAMPLES=-24601;i0.GAIN_ANALYSIS_ERROR=0;i0.GAIN_ANALYSIS_OK=1;i0.INIT_GAIN_ANALYSIS_ERROR=0;i0.INIT_GAIN_ANALYSIS_OK=1;i0.YULE_ORDER=10;i0.MAX_ORDER=i0.YULE_ORDER;i0.MAX_SAMP_FREQ=48e3;i0.RMS_WINDOW_TIME_NUMERATOR=1;i0.RMS_WINDOW_TIME_DENOMINATOR=20;i0.MAX_SAMPLES_PER_WINDOW=i0.MAX_SAMP_FREQ*i0.RMS_WINDOW_TIME_NUMERATOR/i0.RMS_WINDOW_TIME_DENOMINATOR+1;function i0(){var e=64.82,t=.95,n=i0.RMS_WINDOW_TIME_NUMERATOR,a=i0.RMS_WINDOW_TIME_DENOMINATOR,s=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],i=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function u(o,A,Z,j,W,U){for(;W--!=0;)Z[j]=1e-10+o[A+0]*U[0]-Z[j-1]*U[1]+o[A-1]*U[2]-Z[j-2]*U[3]+o[A-2]*U[4]-Z[j-3]*U[5]+o[A-3]*U[6]-Z[j-4]*U[7]+o[A-4]*U[8]-Z[j-5]*U[9]+o[A-5]*U[10]-Z[j-6]*U[11]+o[A-6]*U[12]-Z[j-7]*U[13]+o[A-7]*U[14]-Z[j-8]*U[15]+o[A-8]*U[16]-Z[j-9]*U[17]+o[A-9]*U[18]-Z[j-10]*U[19]+o[A-10]*U[20],++j,++A}function h(o,A,Z,j,W,U){for(;W--!=0;)Z[j]=o[A+0]*U[0]-Z[j-1]*U[1]+o[A-1]*U[2]-Z[j-2]*U[3]+o[A-2]*U[4],++j,++A}function p(o,A){for(var Z=0;Z<MAX_ORDER;Z++)o.linprebuf[Z]=o.lstepbuf[Z]=o.loutbuf[Z]=o.rinprebuf[Z]=o.rstepbuf[Z]=o.routbuf[Z]=0;switch(0|A){case 48e3:o.reqindex=0;break;case 44100:o.reqindex=1;break;case 32e3:o.reqindex=2;break;case 24e3:o.reqindex=3;break;case 22050:o.reqindex=4;break;case 16e3:o.reqindex=5;break;case 12e3:o.reqindex=6;break;case 11025:o.reqindex=7;break;case 8e3:o.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return o.sampleWindow=0|(A*n+a-1)/a,o.lsum=0,o.rsum=0,o.totsamp=0,Bs.ill(o.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(o,A){return p(o,A)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(o.linpre=MAX_ORDER,o.rinpre=MAX_ORDER,o.lstep=MAX_ORDER,o.rstep=MAX_ORDER,o.lout=MAX_ORDER,o.rout=MAX_ORDER,Bs.fill(o.B,0),INIT_GAIN_ANALYSIS_OK)};function g(o){return o*o}this.AnalyzeSamples=function(o,A,Z,j,W,U,R){var m,S,w,r,M,O,V;if(U==0)return GAIN_ANALYSIS_OK;switch(V=0,M=U,R){case 1:j=A,W=Z;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(U<MAX_ORDER?(I0.arraycopy(A,Z,o.linprebuf,MAX_ORDER,U),I0.arraycopy(j,W,o.rinprebuf,MAX_ORDER,U)):(I0.arraycopy(A,Z,o.linprebuf,MAX_ORDER,MAX_ORDER),I0.arraycopy(j,W,o.rinprebuf,MAX_ORDER,MAX_ORDER));M>0;){O=M>o.sampleWindow-o.totsamp?o.sampleWindow-o.totsamp:M,V<MAX_ORDER?(m=o.linpre+V,S=o.linprebuf,w=o.rinpre+V,r=o.rinprebuf,O>MAX_ORDER-V&&(O=MAX_ORDER-V)):(m=Z+V,S=A,w=W+V,r=j),u(S,m,o.lstepbuf,o.lstep+o.totsamp,O,s[o.reqindex]),u(r,w,o.rstepbuf,o.rstep+o.totsamp,O,s[o.reqindex]),h(o.lstepbuf,o.lstep+o.totsamp,o.loutbuf,o.lout+o.totsamp,O,i[o.reqindex]),h(o.rstepbuf,o.rstep+o.totsamp,o.routbuf,o.rout+o.totsamp,O,i[o.reqindex]),m=o.lout+o.totsamp,S=o.loutbuf,w=o.rout+o.totsamp,r=o.routbuf;for(var G=O%8;G--!=0;)o.lsum+=g(S[m++]),o.rsum+=g(r[w++]);for(G=O/8;G--!=0;)o.lsum+=g(S[m+0])+g(S[m+1])+g(S[m+2])+g(S[m+3])+g(S[m+4])+g(S[m+5])+g(S[m+6])+g(S[m+7]),m+=8,o.rsum+=g(r[w+0])+g(r[w+1])+g(r[w+2])+g(r[w+3])+g(r[w+4])+g(r[w+5])+g(r[w+6])+g(r[w+7]),w+=8;if(M-=O,V+=O,o.totsamp+=O,o.totsamp==o.sampleWindow){var k=i0.STEPS_per_dB*10*Math.log10((o.lsum+o.rsum)/o.totsamp*.5+1e-37),$=k<=0?0:0|k;$>=o.A.length&&($=o.A.length-1),o.A[$]++,o.lsum=o.rsum=0,I0.arraycopy(o.loutbuf,o.totsamp,o.loutbuf,0,MAX_ORDER),I0.arraycopy(o.routbuf,o.totsamp,o.routbuf,0,MAX_ORDER),I0.arraycopy(o.lstepbuf,o.totsamp,o.lstepbuf,0,MAX_ORDER),I0.arraycopy(o.rstepbuf,o.totsamp,o.rstepbuf,0,MAX_ORDER),o.totsamp=0}if(o.totsamp>o.sampleWindow)return GAIN_ANALYSIS_ERROR}return U<MAX_ORDER?(I0.arraycopy(o.linprebuf,U,o.linprebuf,0,MAX_ORDER-U),I0.arraycopy(o.rinprebuf,U,o.rinprebuf,0,MAX_ORDER-U),I0.arraycopy(A,Z,o.linprebuf,MAX_ORDER-U,U),I0.arraycopy(j,W,o.rinprebuf,MAX_ORDER-U,U)):(I0.arraycopy(A,Z+U-MAX_ORDER,o.linprebuf,0,MAX_ORDER),I0.arraycopy(j,W+U-MAX_ORDER,o.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function d(o,A){var Z,j=0;for(Z=0;Z<A;Z++)j+=o[Z];if(j==0)return GAIN_NOT_ENOUGH_SAMPLES;var W=0|Math.ceil(j*(1-t));for(Z=A;Z-- >0&&!((W-=o[Z])<=0););return e-Z/i0.STEPS_per_dB}this.GetTitleGain=function(o){for(var A=d(o.A,o.A.length),Z=0;Z<o.A.length;Z++)o.B[Z]+=o.A[Z],o.A[Z]=0;for(var Z=0;Z<MAX_ORDER;Z++)o.linprebuf[Z]=o.lstepbuf[Z]=o.loutbuf[Z]=o.rinprebuf[Z]=o.rstepbuf[Z]=o.routbuf[Z]=0;return o.totsamp=0,o.lsum=o.rsum=0,A}}var li=i0,oi=a0,qt=oi.new_float,Is=oi.new_int,C0=li;function R_(){this.linprebuf=qt(C0.MAX_ORDER*2),this.linpre=0,this.lstepbuf=qt(C0.MAX_SAMPLES_PER_WINDOW+C0.MAX_ORDER),this.lstep=0,this.loutbuf=qt(C0.MAX_SAMPLES_PER_WINDOW+C0.MAX_ORDER),this.lout=0,this.rinprebuf=qt(C0.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=qt(C0.MAX_SAMPLES_PER_WINDOW+C0.MAX_ORDER),this.rstep=0,this.routbuf=qt(C0.MAX_SAMPLES_PER_WINDOW+C0.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=Is(0|C0.STEPS_per_dB*C0.MAX_dB),this.B=Is(0|C0.STEPS_per_dB*C0.MAX_dB)}var T_=R_;function w_(e){this.bits=e}var _i=w_,Or=a0,Cs=Or.new_float,B_=Or.new_int,Os=Or.assert,I_=_i,Ls=A0(),C_=pa,O_=ba;function L_(e){var t=e;this.quantize=t,this.iteration_loop=function(n,a,s,i){var u=n.internal_flags,h=Cs(C_.SFBMAX),p=Cs(576),g=B_(2),d=0,o,A=u.l3_side,Z=new I_(d);this.quantize.rv.ResvFrameBegin(n,Z),d=Z.bits;for(var j=0;j<u.mode_gr;j++){o=this.quantize.qupvt.on_pe(n,a,g,d,j,j),u.mode_ext==Ls.MPG_MD_MS_LR&&(this.quantize.ms_convert(u.l3_side,j),this.quantize.qupvt.reduce_side(g,s[j],d,o));for(var W=0;W<u.channels_out;W++){var U,R,m=A.tt[j][W];m.block_type!=Ls.SHORT_TYPE?(U=0,R=u.PSY.mask_adjust-U):(U=0,R=u.PSY.mask_adjust_short-U),u.masking_lower=Math.pow(10,R*.1),this.quantize.init_outer_loop(u,m),this.quantize.init_xrpow(u,m,p)&&(this.quantize.qupvt.calc_xmin(n,i[j][W],m,h),this.quantize.outer_loop(n,m,h,p,W,g[W])),this.quantize.iteration_finish_one(u,j,W),Os(m.part2_3_length<=O_.MAX_BITS_PER_CHANNEL),Os(m.part2_3_length<=g[W])}}this.quantize.rv.ResvFrameEnd(u,d)}}var N_=L_;function Ge(e,t,n,a){this.xlen=e,this.linmax=t,this.table=n,this.hlen=a}var Re={};Re.t1HB=[1,1,1,0];Re.t2HB=[1,2,1,3,1,1,3,2,0];Re.t3HB=[3,2,1,1,1,1,3,2,0];Re.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];Re.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];Re.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];Re.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];Re.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];Re.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];Re.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];Re.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];Re.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];Re.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];Re.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];Re.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];Re.t32HB=[1<<0,5<<1,4<<1,5<<2,6<<1,5<<2,4<<2,4<<3,7<<1,3<<2,6<<2,0<<3,7<<2,2<<3,3<<3,1<<4];Re.t33HB=[15<<0,14<<1,13<<1,12<<2,11<<1,10<<2,9<<2,8<<3,7<<1,6<<2,5<<2,4<<3,3<<2,2<<3,1<<3,0<<4];Re.t1l=[1,4,3,5];Re.t2l=[1,4,7,4,5,7,6,7,8];Re.t3l=[2,3,7,4,4,7,6,7,8];Re.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];Re.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];Re.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];Re.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];Re.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];Re.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];Re.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];Re.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];Re.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];Re.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];Re.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];Re.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];Re.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];Re.t32l=[1+0,4+1,4+1,5+2,4+1,6+2,5+2,6+3,4+1,5+2,5+2,6+3,5+2,6+3,6+3,6+4];Re.t33l=[4+0,4+1,4+1,4+2,4+1,4+2,4+2,4+3,4+1,4+2,4+2,4+3,4+2,4+3,4+3,4+4];Re.ht=[new Ge(0,0,null,null),new Ge(2,0,Re.t1HB,Re.t1l),new Ge(3,0,Re.t2HB,Re.t2l),new Ge(3,0,Re.t3HB,Re.t3l),new Ge(0,0,null,null),new Ge(4,0,Re.t5HB,Re.t5l),new Ge(4,0,Re.t6HB,Re.t6l),new Ge(6,0,Re.t7HB,Re.t7l),new Ge(6,0,Re.t8HB,Re.t8l),new Ge(6,0,Re.t9HB,Re.t9l),new Ge(8,0,Re.t10HB,Re.t10l),new Ge(8,0,Re.t11HB,Re.t11l),new Ge(8,0,Re.t12HB,Re.t12l),new Ge(16,0,Re.t13HB,Re.t13l),new Ge(0,0,null,Re.t16_5l),new Ge(16,0,Re.t15HB,Re.t15l),new Ge(1,1,Re.t16HB,Re.t16l),new Ge(2,3,Re.t16HB,Re.t16l),new Ge(3,7,Re.t16HB,Re.t16l),new Ge(4,15,Re.t16HB,Re.t16l),new Ge(6,63,Re.t16HB,Re.t16l),new Ge(8,255,Re.t16HB,Re.t16l),new Ge(10,1023,Re.t16HB,Re.t16l),new Ge(13,8191,Re.t16HB,Re.t16l),new Ge(4,15,Re.t24HB,Re.t24l),new Ge(5,31,Re.t24HB,Re.t24l),new Ge(6,63,Re.t24HB,Re.t24l),new Ge(7,127,Re.t24HB,Re.t24l),new Ge(8,255,Re.t24HB,Re.t24l),new Ge(9,511,Re.t24HB,Re.t24l),new Ge(11,2047,Re.t24HB,Re.t24l),new Ge(13,8191,Re.t24HB,Re.t24l),new Ge(0,0,Re.t32HB,Re.t32l),new Ge(0,0,Re.t33HB,Re.t33l)];Re.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];Re.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];Re.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];Re.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];Re.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];Re.scfsi_band=[0,6,11,16,21];var Lr=Re,Ya,Ns;function ui(){if(Ns)return Ya;Ns=1;var e=si,t=a0,n=t.VbrMode,a=t.Float,s=t.Util,i=t.new_float,u=t.new_int,h=t.assert,p=A0(),g=_i,d=ba;o.Q_MAX=256+1,o.Q_MAX2=116,o.LARGE_BITS=1e5,o.IXMAX_VAL=8206;function o(){var A=Nr(),Z=null,j=null,W=null;this.setModules=function(F,Y,K){Z=F,j=Y,W=K};function U(F){return h(0<=F+o.Q_MAX2&&F<o.Q_MAX),V[F+o.Q_MAX2]}this.IPOW20=function(F){return h(0<=F&&F<o.Q_MAX),G[F]};var R=2220446049250313e-31,m=o.IXMAX_VAL,S=m+2,w=o.Q_MAX,r=o.Q_MAX2;o.LARGE_BITS;var M=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var O=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=O,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var V=i(w+r+1),G=i(w),k=i(S),$=i(S);this.adj43=$;function de(F,Y){var K=W.ATHformula(Y,F);return K-=M,K=Math.pow(10,K/10+F.ATHlower),K}function B(F){for(var Y=F.internal_flags.ATH.l,K=F.internal_flags.ATH.psfb21,P=F.internal_flags.ATH.s,ne=F.internal_flags.ATH.psfb12,D=F.internal_flags,b=F.out_samplerate,c=0;c<p.SBMAX_l;c++){var f=D.scalefac_band.l[c],E=D.scalefac_band.l[c+1];Y[c]=a.MAX_VALUE;for(var x=f;x<E;x++){var N=x*b/1152,se=de(F,N);Y[c]=Math.min(Y[c],se)}}for(var c=0;c<p.PSFB21;c++){var f=D.scalefac_band.psfb21[c],E=D.scalefac_band.psfb21[c+1];K[c]=a.MAX_VALUE;for(var x=f;x<E;x++){var N=x*b/1152,se=de(F,N);K[c]=Math.min(K[c],se)}}for(var c=0;c<p.SBMAX_s;c++){var f=D.scalefac_band.s[c],E=D.scalefac_band.s[c+1];P[c]=a.MAX_VALUE;for(var x=f;x<E;x++){var N=x*b/384,se=de(F,N);P[c]=Math.min(P[c],se)}P[c]*=D.scalefac_band.s[c+1]-D.scalefac_band.s[c]}for(var c=0;c<p.PSFB12;c++){var f=D.scalefac_band.psfb12[c],E=D.scalefac_band.psfb12[c+1];ne[c]=a.MAX_VALUE;for(var x=f;x<E;x++){var N=x*b/384,se=de(F,N);ne[c]=Math.min(ne[c],se)}ne[c]*=D.scalefac_band.s[13]-D.scalefac_band.s[12]}if(F.noATH){for(var c=0;c<p.SBMAX_l;c++)Y[c]=1e-20;for(var c=0;c<p.PSFB21;c++)K[c]=1e-20;for(var c=0;c<p.SBMAX_s;c++)P[c]=1e-20;for(var c=0;c<p.PSFB12;c++)ne[c]=1e-20}D.ATH.floor=10*Math.log10(de(F,-1))}this.iteration_init=function(F){var Y=F.internal_flags,K=Y.l3_side,P;if(Y.iteration_init_init==0){for(Y.iteration_init_init=1,K.main_data_begin=0,B(F),k[0]=0,P=1;P<S;P++)k[P]=Math.pow(P,4/3);for(P=0;P<S-1;P++)$[P]=P+1-Math.pow(.5*(k[P]+k[P+1]),.75);for($[P]=.5,P=0;P<w;P++)G[P]=Math.pow(2,(P-210)*-.1875);for(P=0;P<=w+r;P++)V[P]=Math.pow(2,(P-210-r)*.25);Z.huffman_init(Y);{var ne,D,b,c;for(P=F.exp_nspsytune>>2&63,P>=32&&(P-=64),ne=Math.pow(10,P/4/10),P=F.exp_nspsytune>>8&63,P>=32&&(P-=64),D=Math.pow(10,P/4/10),P=F.exp_nspsytune>>14&63,P>=32&&(P-=64),b=Math.pow(10,P/4/10),P=F.exp_nspsytune>>20&63,P>=32&&(P-=64),c=b*Math.pow(10,P/4/10),P=0;P<p.SBMAX_l;P++){var f;P<=6?f=ne:P<=13?f=D:P<=20?f=b:f=c,Y.nsPsy.longfact[P]=f}for(P=0;P<p.SBMAX_s;P++){var f;P<=5?f=ne:P<=10?f=D:P<=11?f=b:f=c,Y.nsPsy.shortfact[P]=f}}}},this.on_pe=function(F,Y,K,P,ne,D){var b=F.internal_flags,c=0,f,E=u(2),x,N=new g(c),se=j.ResvMaxBits(F,P,N,D);c=N.bits;var I=c+se;for(I>d.MAX_BITS_PER_GRANULE&&(I=d.MAX_BITS_PER_GRANULE),f=0,x=0;x<b.channels_out;++x)K[x]=Math.min(d.MAX_BITS_PER_CHANNEL,c/b.channels_out),E[x]=0|K[x]*Y[ne][x]/700-K[x],E[x]>P*3/4&&(E[x]=P*3/4),E[x]<0&&(E[x]=0),E[x]+K[x]>d.MAX_BITS_PER_CHANNEL&&(E[x]=Math.max(0,d.MAX_BITS_PER_CHANNEL-K[x])),f+=E[x];if(f>se)for(x=0;x<b.channels_out;++x)E[x]=se*E[x]/f;for(x=0;x<b.channels_out;++x)K[x]+=E[x],se-=E[x];for(f=0,x=0;x<b.channels_out;++x)f+=K[x];if(f>d.MAX_BITS_PER_GRANULE){var z=0;for(x=0;x<b.channels_out;++x)K[x]*=d.MAX_BITS_PER_GRANULE,K[x]/=f,z+=K[x]}return I},this.reduce_side=function(F,Y,K,P){h(F[0]+F[1]<=d.MAX_BITS_PER_GRANULE);var ne=.33*(.5-Y)/.5;ne<0&&(ne=0),ne>.5&&(ne=.5);var D=0|ne*.5*(F[0]+F[1]);D>d.MAX_BITS_PER_CHANNEL-F[0]&&(D=d.MAX_BITS_PER_CHANNEL-F[0]),D<0&&(D=0),F[1]>=125&&(F[1]-D>125?(F[0]<K&&(F[0]+=D),F[1]-=D):(F[0]+=F[1]-125,F[1]=125)),D=F[0]+F[1],D>P&&(F[0]=P*F[0]/D,F[1]=P*F[1]/D),h(F[0]<=d.MAX_BITS_PER_CHANNEL),h(F[1]<=d.MAX_BITS_PER_CHANNEL),h(F[0]+F[1]<=d.MAX_BITS_PER_GRANULE)},this.athAdjust=function(F,Y,K){var P=90.30873362,ne=94.82444863,D=s.FAST_LOG10_X(Y,10),b=F*F,c=0;return D-=K,b>1e-20&&(c=1+s.FAST_LOG10_X(b,10/P)),c<0&&(c=0),D*=c,D+=K+P-ne,Math.pow(10,.1*D)},this.calc_xmin=function(F,Y,K,P){var ne=0,D=F.internal_flags,b,c=0,f=0,E=D.ATH,x=K.xr,N=F.VBR==n.vbr_mtrh?1:0,se=D.masking_lower;for((F.VBR==n.vbr_mtrh||F.VBR==n.vbr_mt)&&(se=1),b=0;b<K.psy_lmax;b++){var I,z,_e,me,C,X;F.VBR==n.vbr_rh||F.VBR==n.vbr_mtrh?z=athAdjust(E.adjust,E.l[b],E.floor):z=E.adjust*E.l[b],C=K.width[b],_e=z/C,me=R,X=C>>1,I=0;do{var Q,ae;Q=x[c]*x[c],I+=Q,me+=Q<_e?Q:_e,c++,ae=x[c]*x[c],I+=ae,me+=ae<_e?ae:_e,c++}while(--X>0);if(I>z&&f++,b==p.SBPSY_l){var le=z*D.nsPsy.longfact[b];me<le&&(me=le)}if(N!=0&&(z=me),!F.ATHonly){var Se=Y.en.l[b];if(Se>0){var le;le=I*Y.thm.l[b]*se/Se,N!=0&&(le*=D.nsPsy.longfact[b]),z<le&&(z=le)}}N!=0?P[ne++]=z:P[ne++]=z*D.nsPsy.longfact[b]}var Oe=575;if(K.block_type!=p.SHORT_TYPE)for(var l=576;l--!=0&&A.EQ(x[l],0);)Oe=l;K.max_nonzero_coeff=Oe;for(var v=K.sfb_smin;b<K.psymax;v++,b+=3){var C,re,ve;for(F.VBR==n.vbr_rh||F.VBR==n.vbr_mtrh?ve=athAdjust(E.adjust,E.s[v],E.floor):ve=E.adjust*E.s[v],C=K.width[b],re=0;re<3;re++){var I=0,z,_e,me,X=C>>1;_e=ve/C,me=R;do{var Q,ae;Q=x[c]*x[c],I+=Q,me+=Q<_e?Q:_e,c++,ae=x[c]*x[c],I+=ae,me+=ae<_e?ae:_e,c++}while(--X>0);if(I>ve&&f++,v==p.SBPSY_s){var le=ve*D.nsPsy.shortfact[v];me<le&&(me=le)}if(N!=0?z=me:z=ve,!F.ATHonly&&!F.ATHshort){var Se=Y.en.s[v][re];if(Se>0){var le;le=I*Y.thm.s[v][re]*se/Se,N!=0&&(le*=D.nsPsy.shortfact[v]),z<le&&(z=le)}}N!=0?P[ne++]=z:P[ne++]=z*D.nsPsy.shortfact[v]}F.useTemporal&&(P[ne-3]>P[ne-3+1]&&(P[ne-3+1]+=(P[ne-3]-P[ne-3+1])*D.decay),P[ne-3+1]>P[ne-3+2]&&(P[ne-3+2]+=(P[ne-3+1]-P[ne-3+2])*D.decay))}return f};function _(F){this.s=F}this.calc_noise_core=function(F,Y,K,P){var ne=0,D=Y.s,b=F.l3_enc;if(D>F.count1)for(;K--!=0;){var c;c=F.xr[D],D++,ne+=c*c,c=F.xr[D],D++,ne+=c*c}else if(D>F.big_values){var f=i(2);for(f[0]=0,f[1]=P;K--!=0;){var c;c=Math.abs(F.xr[D])-f[b[D]],D++,ne+=c*c,c=Math.abs(F.xr[D])-f[b[D]],D++,ne+=c*c}}else for(;K--!=0;){var c;c=Math.abs(F.xr[D])-k[b[D]]*P,D++,ne+=c*c,c=Math.abs(F.xr[D])-k[b[D]]*P,D++,ne+=c*c}return Y.s=D,ne},this.calc_noise=function(F,Y,K,P,ne){var D=0,b=0,c,f,E=0,x=0,N=0,se=-20,I=0,z=F.scalefac,_e=0;for(P.over_SSD=0,c=0;c<F.psymax;c++){var me=F.global_gain-(z[_e++]+(F.preflag!=0?O[c]:0)<<F.scalefac_scale+1)-F.subblock_gain[F.window[c]]*8,C=0;if(ne!=null&&ne.step[c]==me)C=ne.noise[c],I+=F.width[c],K[D++]=C/Y[b++],C=ne.noise_log[c];else{var X=U(me);if(f=F.width[c]>>1,I+F.width[c]>F.max_nonzero_coeff){var Q;Q=F.max_nonzero_coeff-I+1,Q>0?f=Q>>1:f=0}var ae=new _(I);C=this.calc_noise_core(F,ae,f,X),I=ae.s,ne!=null&&(ne.step[c]=me,ne.noise[c]=C),C=K[D++]=C/Y[b++],C=s.FAST_LOG10(Math.max(C,1e-20)),ne!=null&&(ne.noise_log[c]=C)}if(ne!=null&&(ne.global_gain=F.global_gain),N+=C,C>0){var le;le=Math.max(0|C*10+.5,1),P.over_SSD+=le*le,E++,x+=C}se=Math.max(se,C)}return P.over_count=E,P.tot_noise=N,P.over_noise=x,P.max_noise=se,E},this.set_pinfo=function(F,Y,K,P,ne){var D=F.internal_flags,b,c,f,E,x,N=Y.scalefac_scale==0?.5:1,se=Y.scalefac,I=i(L3Side.SFBMAX),z=i(L3Side.SFBMAX),_e=new CalcNoiseResult;calc_xmin(F,K,Y,I),calc_noise(Y,I,z,_e,null);var me=0;for(c=Y.sfb_lmax,Y.block_type!=p.SHORT_TYPE&&Y.mixed_block_flag==0&&(c=22),b=0;b<c;b++){var C=D.scalefac_band.l[b],X=D.scalefac_band.l[b+1],Q=X-C;for(E=0;me<X;me++)E+=Y.xr[me]*Y.xr[me];E/=Q,x=1e15,D.pinfo.en[P][ne][b]=x*E,D.pinfo.xfsf[P][ne][b]=x*I[b]*z[b]/Q,K.en.l[b]>0&&!F.ATHonly?E=E/K.en.l[b]:E=0,D.pinfo.thr[P][ne][b]=x*Math.max(E*K.thm.l[b],D.ATH.l[b]),D.pinfo.LAMEsfb[P][ne][b]=0,Y.preflag!=0&&b>=11&&(D.pinfo.LAMEsfb[P][ne][b]=-N*O[b]),b<p.SBPSY_l&&(h(se[b]>=0),D.pinfo.LAMEsfb[P][ne][b]-=N*se[b])}if(Y.block_type==p.SHORT_TYPE)for(c=b,b=Y.sfb_smin;b<p.SBMAX_s;b++)for(var C=D.scalefac_band.s[b],X=D.scalefac_band.s[b+1],Q=X-C,ae=0;ae<3;ae++){for(E=0,f=C;f<X;f++)E+=Y.xr[me]*Y.xr[me],me++;E=Math.max(E/Q,1e-20),x=1e15,D.pinfo.en_s[P][ne][3*b+ae]=x*E,D.pinfo.xfsf_s[P][ne][3*b+ae]=x*I[c]*z[c]/Q,K.en.s[b][ae]>0?E=E/K.en.s[b][ae]:E=0,(F.ATHonly||F.ATHshort)&&(E=0),D.pinfo.thr_s[P][ne][3*b+ae]=x*Math.max(E*K.thm.s[b][ae],D.ATH.s[b]),D.pinfo.LAMEsfb_s[P][ne][3*b+ae]=-2*Y.subblock_gain[ae],b<p.SBPSY_s&&(D.pinfo.LAMEsfb_s[P][ne][3*b+ae]-=N*se[c]),c++}D.pinfo.LAMEqss[P][ne]=Y.global_gain,D.pinfo.LAMEmainbits[P][ne]=Y.part2_3_length+Y.part2_length,D.pinfo.LAMEsfbits[P][ne]=Y.part2_length,D.pinfo.over[P][ne]=_e.over_count,D.pinfo.max_noise[P][ne]=_e.max_noise*10,D.pinfo.over_noise[P][ne]=_e.over_noise*10,D.pinfo.tot_noise[P][ne]=_e.tot_noise*10,D.pinfo.over_SSD[P][ne]=_e.over_SSD}}return Ya=o,Ya}var qa,Fs;function ci(){if(Fs)return qa;Fs=1;var e=a0,t=e.System,n=e.Arrays,a=e.new_int,s=e.assert,i=A0(),u=Lr,h=Ir,p=ui();function g(){var d=null;this.qupvt=null,this.setModules=function(D){this.qupvt=D,d=D};function o(D){this.bits=0|D}var A=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function Z(D,b,c,f,E,x){var N=.5946/b;for(D=D>>1;D--!=0;)E[x++]=N>c[f++]?0:1,E[x++]=N>c[f++]?0:1}function j(D,b,c,f,E,x){D=D>>1;var N=D%2;for(D=D>>1;D--!=0;){var se,I,z,_e,me,C,X,Q;se=c[f++]*b,I=c[f++]*b,me=0|se,z=c[f++]*b,C=0|I,_e=c[f++]*b,X=0|z,se+=d.adj43[me],Q=0|_e,I+=d.adj43[C],E[x++]=0|se,z+=d.adj43[X],E[x++]=0|I,_e+=d.adj43[Q],E[x++]=0|z,E[x++]=0|_e}if(N!=0){var se,I,me,C;se=c[f++]*b,I=c[f++]*b,me=0|se,C=0|I,se+=d.adj43[me],I+=d.adj43[C],E[x++]=0|se,E[x++]=0|I}}function W(D,b,c,f,E){var x,N,se=0,I,z=0,_e=0,me=0,C=b,X=0,Q=C,ae=0,le=D,Se=0;for(I=E!=null&&f.global_gain==E.global_gain,f.block_type==i.SHORT_TYPE?N=38:N=21,x=0;x<=N;x++){var Oe=-1;if((I||f.block_type==i.NORM_TYPE)&&(Oe=f.global_gain-(f.scalefac[x]+(f.preflag!=0?d.pretab[x]:0)<<f.scalefac_scale+1)-f.subblock_gain[f.window[x]]*8),s(f.width[x]>=0),I&&E.step[x]==Oe)z!=0&&(j(z,c,le,Se,Q,ae),z=0),_e!=0&&(Z(_e,c,le,Se,Q,ae),_e=0);else{var l=f.width[x];if(se+f.width[x]>f.max_nonzero_coeff){var v;v=f.max_nonzero_coeff-se+1,n.fill(b,f.max_nonzero_coeff,576,0),l=v,l<0&&(l=0),x=N+1}if(z==0&&_e==0&&(Q=C,ae=X,le=D,Se=me),E!=null&&E.sfb_count1>0&&x>=E.sfb_count1&&E.step[x]>0&&Oe>=E.step[x]?(z!=0&&(j(z,c,le,Se,Q,ae),z=0,Q=C,ae=X,le=D,Se=me),_e+=l):(_e!=0&&(Z(_e,c,le,Se,Q,ae),_e=0,Q=C,ae=X,le=D,Se=me),z+=l),l<=0){_e!=0&&(Z(_e,c,le,Se,Q,ae),_e=0),z!=0&&(j(z,c,le,Se,Q,ae),z=0);break}}x<=N&&(X+=f.width[x],me+=f.width[x],se+=f.width[x])}z!=0&&(j(z,c,le,Se,Q,ae),z=0),_e!=0&&(Z(_e,c,le,Se,Q,ae),_e=0)}function U(D,b,c){var f=0,E=0;do{var x=D[b++],N=D[b++];f<x&&(f=x),E<N&&(E=N)}while(b<c);return f<E&&(f=E),f}function R(D,b,c,f,E,x){var N=u.ht[f].xlen*65536+u.ht[E].xlen,se=0,I;do{var z=D[b++],_e=D[b++];z!=0&&(z>14&&(z=15,se+=N),z*=16),_e!=0&&(_e>14&&(_e=15,se+=N),z+=_e),se+=u.largetbl[z]}while(b<c);return I=se&65535,se>>=16,se>I&&(se=I,f=E),x.bits+=se,f}function m(D,b,c,f){var E=0,x=u.ht[1].hlen;do{var N=D[b+0]*2+D[b+1];b+=2,E+=x[N]}while(b<c);return f.bits+=E,1}function S(D,b,c,f,E){var x=0,N,se=u.ht[f].xlen,I;f==2?I=u.table23:I=u.table56;do{var z=D[b+0]*se+D[b+1];b+=2,x+=I[z]}while(b<c);return N=x&65535,x>>=16,x>N&&(x=N,f++),E.bits+=x,f}function w(D,b,c,f,E){var x=0,N=0,se=0,I=u.ht[f].xlen,z=u.ht[f].hlen,_e=u.ht[f+1].hlen,me=u.ht[f+2].hlen;do{var C=D[b+0]*I+D[b+1];b+=2,x+=z[C],N+=_e[C],se+=me[C]}while(b<c);var X=f;return x>N&&(x=N,X++),x>se&&(x=se,X=f+2),E.bits+=x,X}var r=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function M(D,b,c,f){var E=U(D,b,c);switch(E){case 0:return E;case 1:return m(D,b,c,f);case 2:case 3:return S(D,b,c,r[E-1],f);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return w(D,b,c,r[E-1],f);default:if(E>p.IXMAX_VAL)return f.bits=p.LARGE_BITS,-1;E-=15;var x;for(x=24;x<32&&!(u.ht[x].linmax>=E);x++);var N;for(N=x-8;N<24&&!(u.ht[N].linmax>=E);N++);return R(D,b,c,N,x,f)}}this.noquant_count_bits=function(D,b,c){var f=b.l3_enc,E=Math.min(576,b.max_nonzero_coeff+2>>1<<1);for(c!=null&&(c.sfb_count1=0);E>1&&!(f[E-1]|f[E-2]);E-=2);b.count1=E;for(var x=0,N=0;E>3;E-=4){var se;if(((f[E-1]|f[E-2]|f[E-3]|f[E-4])&2147483647)>1)break;se=((f[E-4]*2+f[E-3])*2+f[E-2])*2+f[E-1],x+=u.t32l[se],N+=u.t33l[se]}var I=x;if(b.count1table_select=0,x>N&&(I=N,b.count1table_select=1),b.count1bits=I,b.big_values=E,E==0)return I;if(b.block_type==i.SHORT_TYPE)x=3*D.scalefac_band.s[3],x>b.big_values&&(x=b.big_values),N=b.big_values;else if(b.block_type==i.NORM_TYPE){if(x=b.region0_count=D.bv_scf[E-2],N=b.region1_count=D.bv_scf[E-1],s(x+N+2<i.SBPSY_l),N=D.scalefac_band.l[x+N+2],x=D.scalefac_band.l[x+1],N<E){var z=new o(I);b.table_select[2]=M(f,N,E,z),I=z.bits}}else b.region0_count=7,b.region1_count=i.SBMAX_l-1-7-1,x=D.scalefac_band.l[7+1],N=E,x>N&&(x=N);if(x=Math.min(x,E),N=Math.min(N,E),0<x){var z=new o(I);b.table_select[0]=M(f,0,x,z),I=z.bits}if(x<N){var z=new o(I);b.table_select[1]=M(f,x,N,z),I=z.bits}if(D.use_best_huffman==2&&(b.part2_3_length=I,best_huffman_divide(D,b),I=b.part2_3_length),c!=null&&b.block_type==i.NORM_TYPE){for(var _e=0;D.scalefac_band.l[_e]<b.big_values;)_e++;c.sfb_count1=_e}return I},this.count_bits=function(D,b,c,f){var E=c.l3_enc,x=p.IXMAX_VAL/d.IPOW20(c.global_gain);if(c.xrpow_max>x)return p.LARGE_BITS;if(W(b,E,d.IPOW20(c.global_gain),c,f),D.substep_shaping&2)for(var N=0,se=c.global_gain+c.scalefac_scale,I=.634521682242439/d.IPOW20(se),z=0;z<c.sfbmax;z++){var _e=c.width[z];if(D.pseudohalf[z]==0)N+=_e;else{var me;for(me=N,N+=_e;me<N;++me)E[me]=b[me]>=I?E[me]:0}}return this.noquant_count_bits(D,c,f)};function O(D,b,c,f,E,x,N){for(var se=b.big_values,I=0;I<=7+15;I++)f[I]=p.LARGE_BITS;for(var I=0;I<16;I++){var z=D.scalefac_band.l[I+1];if(z>=se)break;var _e=0,me=new o(_e),C=M(c,0,z,me);_e=me.bits;for(var X=0;X<8;X++){var Q=D.scalefac_band.l[I+X+2];if(Q>=se)break;var ae=_e;me=new o(ae);var le=M(c,z,Q,me);ae=me.bits,f[I+X]>ae&&(f[I+X]=ae,E[I+X]=I,x[I+X]=C,N[I+X]=le)}}}function V(D,b,c,f,E,x,N,se){for(var I=b.big_values,z=2;z<i.SBMAX_l+1;z++){var _e=D.scalefac_band.l[z];if(_e>=I)break;var me=E[z-2]+b.count1bits;if(c.part2_3_length<=me)break;var C=new o(me),X=M(f,_e,I,C);me=C.bits,!(c.part2_3_length<=me)&&(c.assign(b),c.part2_3_length=me,c.region0_count=x[z-2],c.region1_count=z-2-x[z-2],c.table_select[0]=N[z-2],c.table_select[1]=se[z-2],c.table_select[2]=X)}}this.best_huffman_divide=function(D,b){var c=new h,f=b.l3_enc,E=a(7+15+1),x=a(7+15+1),N=a(7+15+1),se=a(7+15+1);if(!(b.block_type==i.SHORT_TYPE&&D.mode_gr==1)){c.assign(b),b.block_type==i.NORM_TYPE&&(O(D,b,f,E,x,N,se),V(D,c,b,f,E,x,N,se));var I=c.big_values;if(!(I==0||(f[I-2]|f[I-1])>1)&&(I=b.count1+2,!(I>576))){c.assign(b),c.count1=I;for(var z=0,_e=0;I>c.big_values;I-=4){var me=((f[I-4]*2+f[I-3])*2+f[I-2])*2+f[I-1];z+=u.t32l[me],_e+=u.t33l[me]}if(c.big_values=I,c.count1table_select=0,z>_e&&(z=_e,c.count1table_select=1),c.count1bits=z,c.block_type==i.NORM_TYPE)V(D,c,b,f,E,x,N,se);else{if(c.part2_3_length=z,z=D.scalefac_band.l[7+1],z>I&&(z=I),z>0){var C=new o(c.part2_3_length);c.table_select[0]=M(f,0,z,C),c.part2_3_length=C.bits}if(I>z){var C=new o(c.part2_3_length);c.table_select[1]=M(f,z,I,C),c.part2_3_length=C.bits}b.part2_3_length>c.part2_3_length&&b.assign(c)}}}};var G=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],k=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],$=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],de=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];g.slen1_tab=$,g.slen2_tab=de;function B(D,b){for(var c,f=b.tt[1][D],E=b.tt[0][D],x=0;x<u.scfsi_band.length-1;x++){for(c=u.scfsi_band[x];c<u.scfsi_band[x+1]&&!(E.scalefac[c]!=f.scalefac[c]&&f.scalefac[c]>=0);c++);if(c==u.scfsi_band[x+1]){for(c=u.scfsi_band[x];c<u.scfsi_band[x+1];c++)f.scalefac[c]=-1;b.scfsi[D][x]=1}}var N=0,se=0;for(c=0;c<11;c++)f.scalefac[c]!=-1&&(se++,N<f.scalefac[c]&&(N=f.scalefac[c]));for(var I=0,z=0;c<i.SBPSY_l;c++)f.scalefac[c]!=-1&&(z++,I<f.scalefac[c]&&(I=f.scalefac[c]));for(var x=0;x<16;x++)if(N<G[x]&&I<k[x]){var _e=$[x]*se+de[x]*z;f.part2_length>_e&&(f.part2_length=_e,f.scalefac_compress=x)}}this.best_scalefac_store=function(D,b,c,f){var E=f.tt[b][c],x,N,se,I,z=0;for(se=0,x=0;x<E.sfbmax;x++){var _e=E.width[x];for(se+=_e,I=-_e;I<0&&E.l3_enc[I+se]==0;I++);I==0&&(E.scalefac[x]=z=-2)}if(E.scalefac_scale==0&&E.preflag==0){var me=0;for(x=0;x<E.sfbmax;x++)E.scalefac[x]>0&&(me|=E.scalefac[x]);if(!(me&1)&&me!=0){for(x=0;x<E.sfbmax;x++)E.scalefac[x]>0&&(E.scalefac[x]>>=1);E.scalefac_scale=z=1}}if(E.preflag==0&&E.block_type!=i.SHORT_TYPE&&D.mode_gr==2){for(x=11;x<i.SBPSY_l&&!(E.scalefac[x]<d.pretab[x]&&E.scalefac[x]!=-2);x++);if(x==i.SBPSY_l){for(x=11;x<i.SBPSY_l;x++)E.scalefac[x]>0&&(E.scalefac[x]-=d.pretab[x]);E.preflag=z=1}}for(N=0;N<4;N++)f.scfsi[c][N]=0;for(D.mode_gr==2&&b==1&&f.tt[0][c].block_type!=i.SHORT_TYPE&&f.tt[1][c].block_type!=i.SHORT_TYPE&&(B(c,f),z=0),x=0;x<E.sfbmax;x++)E.scalefac[x]==-2&&(E.scalefac[x]=0);z!=0&&(D.mode_gr==2?this.scale_bitcount(E):this.scale_bitcount_lsf(D,E))};function _(D,b){for(var c=0;c<b;++c)if(D[c]<0)return!1;return!0}var F=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],Y=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],K=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(D){var b,c,f=0,E=0,x,N=D.scalefac;if(s(_(N,D.sfbmax)),D.block_type==i.SHORT_TYPE)x=F,D.mixed_block_flag!=0&&(x=Y);else if(x=K,D.preflag==0){for(c=11;c<i.SBPSY_l&&!(N[c]<d.pretab[c]);c++);if(c==i.SBPSY_l)for(D.preflag=1,c=11;c<i.SBPSY_l;c++)N[c]-=d.pretab[c]}for(c=0;c<D.sfbdivide;c++)f<N[c]&&(f=N[c]);for(;c<D.sfbmax;c++)E<N[c]&&(E=N[c]);for(D.part2_length=p.LARGE_BITS,b=0;b<16;b++)f<G[b]&&E<k[b]&&D.part2_length>x[b]&&(D.part2_length=x[b],D.scalefac_compress=b);return D.part2_length==p.LARGE_BITS};var P=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(D,b){var c,f,E,x,N,se,I,z,_e=a(4),me=b.scalefac;for(b.preflag!=0?c=2:c=0,I=0;I<4;I++)_e[I]=0;if(b.block_type==i.SHORT_TYPE){f=1;var C=d.nr_of_sfb_block[c][f];for(z=0,E=0;E<4;E++)for(x=C[E]/3,I=0;I<x;I++,z++)for(N=0;N<3;N++)me[z*3+N]>_e[E]&&(_e[E]=me[z*3+N])}else{f=0;var C=d.nr_of_sfb_block[c][f];for(z=0,E=0;E<4;E++)for(x=C[E],I=0;I<x;I++,z++)me[z]>_e[E]&&(_e[E]=me[z])}for(se=!1,E=0;E<4;E++)_e[E]>P[c][E]&&(se=!0);if(!se){var X,Q,ae,le;for(b.sfb_partition_table=d.nr_of_sfb_block[c][f],E=0;E<4;E++)b.slen[E]=ne[_e[E]];switch(X=b.slen[0],Q=b.slen[1],ae=b.slen[2],le=b.slen[3],c){case 0:b.scalefac_compress=(X*5+Q<<4)+(ae<<2)+le;break;case 1:b.scalefac_compress=400+(X*5+Q<<2)+ae;break;case 2:b.scalefac_compress=500+X*3+Q;break;default:t.err.printf(`intensity stereo not implemented yet
`);break}}if(!se)for(s(b.sfb_partition_table!=null),b.part2_length=0,E=0;E<4;E++)b.part2_length+=b.slen[E]*b.sfb_partition_table[E];return se};var ne=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(D){for(var b=2;b<=576;b+=2){for(var c=0,f;D.scalefac_band.l[++c]<b;);for(f=A[c][0];D.scalefac_band.l[f+1]>b;)f--;for(f<0&&(f=A[c][0]),D.bv_scf[b-2]=f,f=A[c][1];D.scalefac_band.l[f+D.bv_scf[b-2]+2]>b;)f--;f<0&&(f=A[c][1]),D.bv_scf[b-1]=f}}}return qa=g,qa}var ga,Hs;function Nr(){if(Hs)return ga;Hs=1;var e=a0,t=e.System,n=e.Arrays,a=e.new_byte,s=e.new_float_n,i=e.new_int,u=e.assert,h=ci(),p=Lr,g=A0(),d=ba;o.EQ=function(A,Z){return Math.abs(A)>Math.abs(Z)?Math.abs(A-Z)<=Math.abs(A)*1e-6:Math.abs(A-Z)<=Math.abs(Z)*1e-6},o.NEQ=function(A,Z){return!o.EQ(A,Z)};function o(){var A=Fr(),Z=this,j=32773,W=null,U=null,R=null,m=null;this.setModules=function(b,c,f,E){W=b,U=c,R=f,m=E};var S=null,w=0,r=0,M=0;this.getframebits=function(b){var c=b.internal_flags,f;c.bitrate_index!=0?f=p.bitrate_table[b.version][c.bitrate_index]:f=b.brate;var E=0|(b.version+1)*72e3*f/b.out_samplerate+c.padding;return 8*E};function O(b){t.arraycopy(b.header[b.w_ptr].buf,0,S,r,b.sideinfo_len),r+=b.sideinfo_len,w+=b.sideinfo_len*8,b.w_ptr=b.w_ptr+1&d.MAX_HEADER_BUF-1}function V(b,c,f){for(;f>0;){var E;M==0&&(M=8,r++,u(r<A.LAME_MAXMP3BUFFER),u(b.header[b.w_ptr].write_timing>=w),b.header[b.w_ptr].write_timing==w&&O(b),S[r]=0),E=Math.min(f,M),f-=E,M-=E,S[r]|=c>>f<<M,w+=E}}function G(b,c,f){for(;f>0;){var E;M==0&&(M=8,r++,u(r<A.LAME_MAXMP3BUFFER),S[r]=0),E=Math.min(f,M),f-=E,M-=E,S[r]|=c>>f<<M,w+=E}}function k(b,c){var f=b.internal_flags,E;if(c>=8&&(V(f,76,8),c-=8),c>=8&&(V(f,65,8),c-=8),c>=8&&(V(f,77,8),c-=8),c>=8&&(V(f,69,8),c-=8),c>=32){var x=R.getLameShortVersion();if(c>=32)for(E=0;E<x.length&&c>=8;++E)c-=8,V(f,x.charAt(E),8)}for(;c>=1;c-=1)V(f,f.ancillary_flag,1),f.ancillary_flag^=b.disable_reservoir?0:1}function $(b,c,f){for(var E=b.header[b.h_ptr].ptr;f>0;){var x=Math.min(f,8-(E&7));f-=x,b.header[b.h_ptr].buf[E>>3]|=c>>f<<8-(E&7)-x,E+=x}b.header[b.h_ptr].ptr=E}function de(b,c){b<<=8;for(var f=0;f<8;f++)b<<=1,c<<=1,(c^b)&65536&&(c^=j);return c}this.CRC_writeheader=function(b,c){var f=65535;f=de(c[2]&255,f),f=de(c[3]&255,f);for(var E=6;E<b.sideinfo_len;E++)f=de(c[E]&255,f);c[4]=byte(f>>8),c[5]=byte(f&255)};function B(b,c){var f=b.internal_flags,E,x,N;if(E=f.l3_side,f.header[f.h_ptr].ptr=0,n.fill(f.header[f.h_ptr].buf,0,f.sideinfo_len,0),b.out_samplerate<16e3?$(f,4094,12):$(f,4095,12),$(f,b.version,1),$(f,4-3,2),$(f,b.error_protection?0:1,1),$(f,f.bitrate_index,4),$(f,f.samplerate_index,2),$(f,f.padding,1),$(f,b.extension,1),$(f,b.mode.ordinal(),2),$(f,f.mode_ext,2),$(f,b.copyright,1),$(f,b.original,1),$(f,b.emphasis,2),b.error_protection&&$(f,0,16),b.version==1){for(u(E.main_data_begin>=0),$(f,E.main_data_begin,9),f.channels_out==2?$(f,E.private_bits,3):$(f,E.private_bits,5),N=0;N<f.channels_out;N++){var se;for(se=0;se<4;se++)$(f,E.scfsi[N][se],1)}for(x=0;x<2;x++)for(N=0;N<f.channels_out;N++){var I=E.tt[x][N];$(f,I.part2_3_length+I.part2_length,12),$(f,I.big_values/2,9),$(f,I.global_gain,8),$(f,I.scalefac_compress,4),I.block_type!=g.NORM_TYPE?($(f,1,1),$(f,I.block_type,2),$(f,I.mixed_block_flag,1),I.table_select[0]==14&&(I.table_select[0]=16),$(f,I.table_select[0],5),I.table_select[1]==14&&(I.table_select[1]=16),$(f,I.table_select[1],5),$(f,I.subblock_gain[0],3),$(f,I.subblock_gain[1],3),$(f,I.subblock_gain[2],3)):($(f,0,1),I.table_select[0]==14&&(I.table_select[0]=16),$(f,I.table_select[0],5),I.table_select[1]==14&&(I.table_select[1]=16),$(f,I.table_select[1],5),I.table_select[2]==14&&(I.table_select[2]=16),$(f,I.table_select[2],5),u(0<=I.region0_count&&I.region0_count<16),u(0<=I.region1_count&&I.region1_count<8),$(f,I.region0_count,4),$(f,I.region1_count,3)),$(f,I.preflag,1),$(f,I.scalefac_scale,1),$(f,I.count1table_select,1)}}else for(u(E.main_data_begin>=0),$(f,E.main_data_begin,8),$(f,E.private_bits,f.channels_out),x=0,N=0;N<f.channels_out;N++){var I=E.tt[x][N];$(f,I.part2_3_length+I.part2_length,12),$(f,I.big_values/2,9),$(f,I.global_gain,8),$(f,I.scalefac_compress,9),I.block_type!=g.NORM_TYPE?($(f,1,1),$(f,I.block_type,2),$(f,I.mixed_block_flag,1),I.table_select[0]==14&&(I.table_select[0]=16),$(f,I.table_select[0],5),I.table_select[1]==14&&(I.table_select[1]=16),$(f,I.table_select[1],5),$(f,I.subblock_gain[0],3),$(f,I.subblock_gain[1],3),$(f,I.subblock_gain[2],3)):($(f,0,1),I.table_select[0]==14&&(I.table_select[0]=16),$(f,I.table_select[0],5),I.table_select[1]==14&&(I.table_select[1]=16),$(f,I.table_select[1],5),I.table_select[2]==14&&(I.table_select[2]=16),$(f,I.table_select[2],5),u(0<=I.region0_count&&I.region0_count<16),u(0<=I.region1_count&&I.region1_count<8),$(f,I.region0_count,4),$(f,I.region1_count,3)),$(f,I.scalefac_scale,1),$(f,I.count1table_select,1)}b.error_protection&&CRC_writeheader(f,f.header[f.h_ptr].buf);{var z=f.h_ptr;u(f.header[z].ptr==f.sideinfo_len*8),f.h_ptr=z+1&d.MAX_HEADER_BUF-1,f.header[f.h_ptr].write_timing=f.header[z].write_timing+c,f.h_ptr==f.w_ptr&&t.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function _(b,c){var f=p.ht[c.count1table_select+32],E,x=0,N=c.big_values,se=c.big_values;for(u(c.count1table_select<2),E=(c.count1-c.big_values)/4;E>0;--E){var I=0,z=0,_e;_e=c.l3_enc[N+0],_e!=0&&(z+=8,c.xr[se+0]<0&&I++),_e=c.l3_enc[N+1],_e!=0&&(z+=4,I*=2,c.xr[se+1]<0&&I++),_e=c.l3_enc[N+2],_e!=0&&(z+=2,I*=2,c.xr[se+2]<0&&I++),_e=c.l3_enc[N+3],_e!=0&&(z++,I*=2,c.xr[se+3]<0&&I++),N+=4,se+=4,V(b,I+f.table[z],f.hlen[z]),x+=f.hlen[z]}return x}function F(b,c,f,E,x){var N=p.ht[c],se=0;if(c==0)return se;for(var I=f;I<E;I+=2){var z=0,_e=0,me=N.xlen,C=N.xlen,X=0,Q=x.l3_enc[I],ae=x.l3_enc[I+1];if(Q!=0&&(x.xr[I]<0&&X++,z--),c>15){if(Q>14){var le=Q-15;u(le<=N.linmax),X|=le<<1,_e=me,Q=15}if(ae>14){var Se=ae-15;u(Se<=N.linmax),X<<=me,X|=Se,_e+=me,ae=15}C=16}ae!=0&&(X<<=1,x.xr[I+1]<0&&X++,z--),Q=Q*C+ae,_e-=z,z+=N.hlen[Q],V(b,N.table[Q],z),V(b,X,_e),se+=z+_e}return se}function Y(b,c){var f=3*b.scalefac_band.s[3];f>c.big_values&&(f=c.big_values);var E=F(b,c.table_select[0],0,f,c);return E+=F(b,c.table_select[1],f,c.big_values,c),E}function K(b,c){var f,E,x,N;f=c.big_values;var se=c.region0_count+1;return u(se<b.scalefac_band.l.length),x=b.scalefac_band.l[se],se+=c.region1_count+1,u(se<b.scalefac_band.l.length),N=b.scalefac_band.l[se],x>f&&(x=f),N>f&&(N=f),E=F(b,c.table_select[0],0,x,c),E+=F(b,c.table_select[1],x,N,c),E+=F(b,c.table_select[2],N,f,c),E}function P(b){var c,f,E,x,N=0,se=b.internal_flags,I=se.l3_side;if(b.version==1)for(c=0;c<2;c++)for(f=0;f<se.channels_out;f++){var z=I.tt[c][f],_e=h.slen1_tab[z.scalefac_compress],me=h.slen2_tab[z.scalefac_compress];for(x=0,E=0;E<z.sfbdivide;E++)z.scalefac[E]!=-1&&(V(se,z.scalefac[E],_e),x+=_e);for(;E<z.sfbmax;E++)z.scalefac[E]!=-1&&(V(se,z.scalefac[E],me),x+=me);u(x==z.part2_length),z.block_type==g.SHORT_TYPE?x+=Y(se,z):x+=K(se,z),x+=_(se,z),u(x==z.part2_3_length+z.part2_length),N+=x}else for(c=0,f=0;f<se.channels_out;f++){var z=I.tt[c][f],C,X,Q=0;if(u(z.sfb_partition_table!=null),x=0,E=0,X=0,z.block_type==g.SHORT_TYPE){for(;X<4;X++){var ae=z.sfb_partition_table[X]/3,le=z.slen[X];for(C=0;C<ae;C++,E++)V(se,Math.max(z.scalefac[E*3+0],0),le),V(se,Math.max(z.scalefac[E*3+1],0),le),V(se,Math.max(z.scalefac[E*3+2],0),le),Q+=3*le}x+=Y(se,z)}else{for(;X<4;X++){var ae=z.sfb_partition_table[X],le=z.slen[X];for(C=0;C<ae;C++,E++)V(se,Math.max(z.scalefac[E],0),le),Q+=le}x+=K(se,z)}x+=_(se,z),u(x==z.part2_3_length),u(Q==z.part2_length),N+=Q+x}return N}function ne(){this.total=0}function D(b,c){var f=b.internal_flags,E,x,N,se,I;return I=f.w_ptr,se=f.h_ptr-1,se==-1&&(se=d.MAX_HEADER_BUF-1),E=f.header[se].write_timing-w,c.total=E,E>=0&&(x=1+se-I,se<I&&(x=1+se-I+d.MAX_HEADER_BUF),E-=x*8*f.sideinfo_len),N=Z.getframebits(b),E+=N,c.total+=N,c.total%8!=0?c.total=1+c.total/8:c.total=c.total/8,c.total+=r+1,E<0&&t.err.println(`strange error flushing buffer ... 
`),E}this.flush_bitstream=function(b){var c=b.internal_flags,f,E,x=c.h_ptr-1;if(x==-1&&(x=d.MAX_HEADER_BUF-1),f=c.l3_side,!((E=D(b,new ne))<0)){if(k(b,E),u(c.header[x].write_timing+this.getframebits(b)==w),c.ResvSize=0,f.main_data_begin=0,c.findReplayGain){var N=W.GetTitleGain(c.rgdata);u(NEQ(N,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),c.RadioGain=Math.floor(N*10+.5)|0}c.findPeakSample&&(c.noclipGainChange=Math.ceil(Math.log10(c.PeakSample/32767)*20*10)|0,c.noclipGainChange>0&&(EQ(b.scale,1)||EQ(b.scale,0))?c.noclipScale=Math.floor(32767/c.PeakSample*100)/100:c.noclipScale=-1)}},this.add_dummy_byte=function(b,c,f){for(var E=b.internal_flags,x;f-- >0;)for(G(E,c,8),x=0;x<d.MAX_HEADER_BUF;++x)E.header[x].write_timing+=8},this.format_bitstream=function(b){var c=b.internal_flags,f;f=c.l3_side;var E=this.getframebits(b);k(b,f.resvDrain_pre),B(b,E);var x=8*c.sideinfo_len;if(x+=P(b),k(b,f.resvDrain_post),x+=f.resvDrain_post,f.main_data_begin+=(E-x)/8,D(b,new ne)!=c.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),f.main_data_begin*8!=c.ResvSize&&(t.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*f.main_data_begin,c.ResvSize,f.resvDrain_post,f.resvDrain_pre,8*c.sideinfo_len,x-f.resvDrain_post-8*c.sideinfo_len,x,x%8,E),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),c.ResvSize=f.main_data_begin*8),w>1e9){var N;for(N=0;N<d.MAX_HEADER_BUF;++N)c.header[N].write_timing-=w;w=0}return 0},this.copy_buffer=function(b,c,f,E,x){var N=r+1;if(N<=0)return 0;if(E!=0&&N>E)return-1;if(t.arraycopy(S,0,c,f,N),r=-1,M=0,x!=0){var se=i(1);if(se[0]=b.nMusicCRC,m.updateMusicCRC(se,c,f,N),b.nMusicCRC=se[0],N>0&&(b.VBR_seek_table.nBytesWritten+=N),b.decode_on_the_fly){for(var I=s([2,1152]),z=N,_e=-1,me;_e!=0;)if(_e=U.hip_decode1_unclipped(b.hip,c,f,z,I[0],I[1]),z=0,_e==-1&&(_e=0),_e>0){if(b.findPeakSample){for(me=0;me<_e;me++)I[0][me]>b.PeakSample?b.PeakSample=I[0][me]:-I[0][me]>b.PeakSample&&(b.PeakSample=-I[0][me]);if(b.channels_out>1)for(me=0;me<_e;me++)I[1][me]>b.PeakSample?b.PeakSample=I[1][me]:-I[1][me]>b.PeakSample&&(b.PeakSample=-I[1][me])}if(b.findReplayGain&&W.AnalyzeSamples(b.rgdata,I[0],0,I[1],0,_e,b.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return N},this.init_bit_stream_w=function(b){S=a(A.LAME_MAXMP3BUFFER),b.h_ptr=b.w_ptr=0,b.header[b.h_ptr].write_timing=0,r=-1,M=0,w=0}}return ga=o,ga}var Ua,ks;function Fr(){if(ks)return Ua;ks=1;var e=a0,t=e.System,n=e.VbrMode,a=e.ShortBlock,s=e.new_float,i=e.new_int_n,u=e.new_short_n,h=e.assert,p=Z2,g=e_,d=ba,o=y_,A=T_,Z=N_,j=Nr(),W=Lr,U=A0();function R(){var m=wn,S=this,w=128*1024;R.V9=410,R.V8=420,R.V7=430,R.V6=440,R.V5=450,R.V4=460,R.V3=470,R.V2=480,R.V1=490,R.V0=500,R.R3MIX=1e3,R.STANDARD=1001,R.EXTREME=1002,R.INSANE=1003,R.STANDARD_FAST=1004,R.EXTREME_FAST=1005,R.MEDIUM=1006,R.MEDIUM_FAST=1007;var r=16384+w;R.LAME_MAXMP3BUFFER=r;var M,O,V,G,k,$=new p,de,B,_;this.enc=new U,this.setModules=function(l,v,re,ve,pe,xe,be,Me,Fe){M=l,O=v,V=re,G=ve,k=pe,de=xe,B=Me,_=Fe,this.enc.setModules(O,$,G,de)};function F(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=s(U.SBMAX_l),this.bo_s_weight=s(U.SBMAX_s)}function Y(){this.lowerlimit=0}function K(l,v){this.lowpass=v}var P=4294479419;function ne(l){var v;return l.class_id=P,v=l.internal_flags=new d,l.mode=m.NOT_SET,l.original=1,l.in_samplerate=44100,l.num_channels=2,l.num_samples=-1,l.bWriteVbrTag=!0,l.quality=-1,l.short_blocks=null,v.subblock_gain=-1,l.lowpassfreq=0,l.highpassfreq=0,l.lowpasswidth=-1,l.highpasswidth=-1,l.VBR=n.vbr_off,l.VBR_q=4,l.ATHcurve=-1,l.VBR_mean_bitrate_kbps=128,l.VBR_min_bitrate_kbps=0,l.VBR_max_bitrate_kbps=0,l.VBR_hard_min=0,v.VBR_min_bitrate=1,v.VBR_max_bitrate=13,l.quant_comp=-1,l.quant_comp_short=-1,l.msfix=-1,v.resample_ratio=1,v.OldValue[0]=180,v.OldValue[1]=180,v.CurrentStep[0]=4,v.CurrentStep[1]=4,v.masking_lower=1,v.nsPsy.attackthre=-1,v.nsPsy.attackthre_s=-1,l.scale=-1,l.athaa_type=-1,l.ATHtype=-1,l.athaa_loudapprox=-1,l.athaa_sensitivity=0,l.useTemporal=null,l.interChRatio=-1,v.mf_samples_to_encode=U.ENCDELAY+U.POSTDELAY,l.encoder_padding=0,v.mf_size=U.ENCDELAY-U.MDCTDELAY,l.findReplayGain=!1,l.decode_on_the_fly=!1,v.decode_on_the_fly=!1,v.findReplayGain=!1,v.findPeakSample=!1,v.RadioGain=0,v.AudiophileGain=0,v.noclipGainChange=0,v.noclipScale=-1,l.preset=0,l.write_id3tag_automatic=!0,0}this.lame_init=function(){var l=new g;return ne(l),l.lame_allocated_gfp=1,l};function D(l){return l>1?0:l<=0?1:Math.cos(Math.PI/2*l)}this.nearestBitrateFullIndex=function(l){var v=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],re=0,ve=0,pe=0,xe=0;xe=v[16],pe=16,ve=v[16],re=16;for(var be=0;be<16;be++)if(Math.max(l,v[be+1])!=l){xe=v[be+1],pe=be+1,ve=v[be],re=be;break}return xe-l>l-ve?re:pe};function b(l,v){var re=44100;return v>=48e3?re=48e3:v>=44100?re=44100:v>=32e3?re=32e3:v>=24e3?re=24e3:v>=22050?re=22050:v>=16e3?re=16e3:v>=12e3?re=12e3:v>=11025?re=11025:v>=8e3&&(re=8e3),l==-1?re:(l<=15960&&(re=44100),l<=15250&&(re=32e3),l<=11220&&(re=24e3),l<=9970&&(re=22050),l<=7230&&(re=16e3),l<=5420&&(re=12e3),l<=4510&&(re=11025),l<=3970&&(re=8e3),v<re?v>44100?48e3:v>32e3?44100:v>24e3?32e3:v>22050?24e3:v>16e3?22050:v>12e3?16e3:v>11025?12e3:v>8e3?11025:8e3:re)}function c(l,v){switch(l){case 44100:return v.version=1,0;case 48e3:return v.version=1,1;case 32e3:return v.version=1,2;case 22050:return v.version=0,0;case 24e3:return v.version=0,1;case 16e3:return v.version=0,2;case 11025:return v.version=0,0;case 12e3:return v.version=0,1;case 8e3:return v.version=0,2;default:return v.version=0,-1}}function f(l,v,re){re<16e3&&(v=2);for(var ve=W.bitrate_table[v][1],pe=2;pe<=14;pe++)W.bitrate_table[v][pe]>0&&Math.abs(W.bitrate_table[v][pe]-l)<Math.abs(ve-l)&&(ve=W.bitrate_table[v][pe]);return ve}function E(l,v,re){re<16e3&&(v=2);for(var ve=0;ve<=14;ve++)if(W.bitrate_table[v][ve]>0&&W.bitrate_table[v][ve]==l)return ve;return-1}function x(l,v){var re=[new K(8,2e3),new K(16,3700),new K(24,3900),new K(32,5500),new K(40,7e3),new K(48,7500),new K(56,1e4),new K(64,11e3),new K(80,13500),new K(96,15100),new K(112,15600),new K(128,17e3),new K(160,17500),new K(192,18600),new K(224,19400),new K(256,19700),new K(320,20500)],ve=S.nearestBitrateFullIndex(v);l.lowerlimit=re[ve].lowpass}function N(l){var v=l.internal_flags,re=32,ve=-1;if(v.lowpass1>0){for(var pe=999,xe=0;xe<=31;xe++){var be=xe/31;be>=v.lowpass2&&(re=Math.min(re,xe)),v.lowpass1<be&&be<v.lowpass2&&(pe=Math.min(pe,xe))}pe==999?v.lowpass1=(re-.75)/31:v.lowpass1=(pe-.75)/31,v.lowpass2=re/31}if(v.highpass2>0&&v.highpass2<.9*(.75/31)&&(v.highpass1=0,v.highpass2=0,t.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),v.highpass2>0){for(var Me=-1,xe=0;xe<=31;xe++){var be=xe/31;be<=v.highpass1&&(ve=Math.max(ve,xe)),v.highpass1<be&&be<v.highpass2&&(Me=Math.max(Me,xe))}v.highpass1=ve/31,Me==-1?v.highpass2=(ve+.75)/31:v.highpass2=(Me+.75)/31}for(var xe=0;xe<32;xe++){var Fe,we,be=xe/31;v.highpass2>v.highpass1?Fe=D((v.highpass2-be)/(v.highpass2-v.highpass1+1e-20)):Fe=1,v.lowpass2>v.lowpass1?we=D((be-v.lowpass1)/(v.lowpass2-v.lowpass1+1e-20)):we=1,v.amp_filter[xe]=Fe*we}}function se(l){var v=l.internal_flags;switch(l.quality){default:case 9:v.psymodel=0,v.noise_shaping=0,v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.use_best_huffman=0,v.full_outer_loop=0;break;case 8:l.quality=7;case 7:v.psymodel=1,v.noise_shaping=0,v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.use_best_huffman=0,v.full_outer_loop=0;break;case 6:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=0,v.full_outer_loop=0;break;case 5:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=0,v.full_outer_loop=0;break;case 4:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 3:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=1,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 2:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.substep_shaping==0&&(v.substep_shaping=2),v.noise_shaping_amp=1,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 1:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.substep_shaping==0&&(v.substep_shaping=2),v.noise_shaping_amp=2,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 0:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.substep_shaping==0&&(v.substep_shaping=2),v.noise_shaping_amp=2,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break}}function I(l){var v=l.internal_flags;l.frameNum=0,l.write_id3tag_automatic&&B.id3tag_write_v2(l),v.bitrate_stereoMode_Hist=i([16,4+1]),v.bitrate_blockType_Hist=i([16,4+1+1]),v.PeakSample=0,l.bWriteVbrTag&&de.InitVbrTag(l)}this.lame_init_params=function(l){var v=l.internal_flags;if(v.Class_ID=0,v.ATH==null&&(v.ATH=new o),v.PSY==null&&(v.PSY=new F),v.rgdata==null&&(v.rgdata=new A),v.channels_in=l.num_channels,v.channels_in==1&&(l.mode=m.MONO),v.channels_out=l.mode==m.MONO?1:2,v.mode_ext=U.MPG_MD_MS_LR,l.mode==m.MONO&&(l.force_ms=!1),l.VBR==n.vbr_off&&l.VBR_mean_bitrate_kbps!=128&&l.brate==0&&(l.brate=l.VBR_mean_bitrate_kbps),l.VBR==n.vbr_off||l.VBR==n.vbr_mtrh||l.VBR==n.vbr_mt||(l.free_format=!1),l.VBR==n.vbr_off&&l.brate==0&&j.EQ(l.compression_ratio,0)&&(l.compression_ratio=11.025),l.VBR==n.vbr_off&&l.compression_ratio>0&&(l.out_samplerate==0&&(l.out_samplerate=map2MP3Frequency(int(.97*l.in_samplerate))),l.brate=0|l.out_samplerate*16*v.channels_out/(1e3*l.compression_ratio),v.samplerate_index=c(l.out_samplerate,l),l.free_format||(l.brate=f(l.brate,l.version,l.out_samplerate))),l.out_samplerate!=0&&(l.out_samplerate<16e3?(l.VBR_mean_bitrate_kbps=Math.max(l.VBR_mean_bitrate_kbps,8),l.VBR_mean_bitrate_kbps=Math.min(l.VBR_mean_bitrate_kbps,64)):l.out_samplerate<32e3?(l.VBR_mean_bitrate_kbps=Math.max(l.VBR_mean_bitrate_kbps,8),l.VBR_mean_bitrate_kbps=Math.min(l.VBR_mean_bitrate_kbps,160)):(l.VBR_mean_bitrate_kbps=Math.max(l.VBR_mean_bitrate_kbps,32),l.VBR_mean_bitrate_kbps=Math.min(l.VBR_mean_bitrate_kbps,320))),l.lowpassfreq==0){var re=16e3;switch(l.VBR){case n.vbr_off:{var ve=new Y;x(ve,l.brate),re=ve.lowerlimit;break}case n.vbr_abr:{var ve=new Y;x(ve,l.VBR_mean_bitrate_kbps),re=ve.lowerlimit;break}case n.vbr_rh:{var pe=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=l.VBR_q&&l.VBR_q<=9){var xe=pe[l.VBR_q],be=pe[l.VBR_q+1],Me=l.VBR_q_frac;re=linear_int(xe,be,Me)}else re=19500;break}default:{var pe=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=l.VBR_q&&l.VBR_q<=9){var xe=pe[l.VBR_q],be=pe[l.VBR_q+1],Me=l.VBR_q_frac;re=linear_int(xe,be,Me)}else re=19500}}l.mode==m.MONO&&(l.VBR==n.vbr_off||l.VBR==n.vbr_abr)&&(re*=1.5),l.lowpassfreq=re|0}if(l.out_samplerate==0&&(2*l.lowpassfreq>l.in_samplerate&&(l.lowpassfreq=l.in_samplerate/2),l.out_samplerate=b(l.lowpassfreq|0,l.in_samplerate)),l.lowpassfreq=Math.min(20500,l.lowpassfreq),l.lowpassfreq=Math.min(l.out_samplerate/2,l.lowpassfreq),l.VBR==n.vbr_off&&(l.compression_ratio=l.out_samplerate*16*v.channels_out/(1e3*l.brate)),l.VBR==n.vbr_abr&&(l.compression_ratio=l.out_samplerate*16*v.channels_out/(1e3*l.VBR_mean_bitrate_kbps)),l.bWriteVbrTag||(l.findReplayGain=!1,l.decode_on_the_fly=!1,v.findPeakSample=!1),v.findReplayGain=l.findReplayGain,v.decode_on_the_fly=l.decode_on_the_fly,v.decode_on_the_fly&&(v.findPeakSample=!0),v.findReplayGain&&M.InitGainAnalysis(v.rgdata,l.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return l.internal_flags=null,-6;switch(v.decode_on_the_fly&&!l.decode_only&&(v.hip!=null&&_.hip_decode_exit(v.hip),v.hip=_.hip_decode_init()),v.mode_gr=l.out_samplerate<=24e3?1:2,l.framesize=576*v.mode_gr,l.encoder_delay=U.ENCDELAY,v.resample_ratio=l.in_samplerate/l.out_samplerate,l.VBR){case n.vbr_mt:case n.vbr_rh:case n.vbr_mtrh:{var Fe=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];l.compression_ratio=Fe[l.VBR_q]}break;case n.vbr_abr:l.compression_ratio=l.out_samplerate*16*v.channels_out/(1e3*l.VBR_mean_bitrate_kbps);break;default:l.compression_ratio=l.out_samplerate*16*v.channels_out/(1e3*l.brate);break}if(l.mode==m.NOT_SET&&(l.mode=m.JOINT_STEREO),l.highpassfreq>0?(v.highpass1=2*l.highpassfreq,l.highpasswidth>=0?v.highpass2=2*(l.highpassfreq+l.highpasswidth):v.highpass2=(1+0)*2*l.highpassfreq,v.highpass1/=l.out_samplerate,v.highpass2/=l.out_samplerate):(v.highpass1=0,v.highpass2=0),l.lowpassfreq>0?(v.lowpass2=2*l.lowpassfreq,l.lowpasswidth>=0?(v.lowpass1=2*(l.lowpassfreq-l.lowpasswidth),v.lowpass1<0&&(v.lowpass1=0)):v.lowpass1=(1-0)*2*l.lowpassfreq,v.lowpass1/=l.out_samplerate,v.lowpass2/=l.out_samplerate):(v.lowpass1=0,v.lowpass2=0),N(l),v.samplerate_index=c(l.out_samplerate,l),v.samplerate_index<0)return l.internal_flags=null,-1;if(l.VBR==n.vbr_off){if(l.free_format)v.bitrate_index=0;else if(l.brate=f(l.brate,l.version,l.out_samplerate),v.bitrate_index=E(l.brate,l.version,l.out_samplerate),v.bitrate_index<=0)return l.internal_flags=null,-1}else v.bitrate_index=1;l.analysis&&(l.bWriteVbrTag=!1),v.pinfo!=null&&(l.bWriteVbrTag=!1),O.init_bit_stream_w(v);for(var we=v.samplerate_index+3*l.version+6*(l.out_samplerate<16e3?1:0),Te=0;Te<U.SBMAX_l+1;Te++)v.scalefac_band.l[Te]=G.sfBandIndex[we].l[Te];for(var Te=0;Te<U.PSFB21+1;Te++){var Xe=(v.scalefac_band.l[22]-v.scalefac_band.l[21])/U.PSFB21,Ze=v.scalefac_band.l[21]+Te*Xe;v.scalefac_band.psfb21[Te]=Ze}v.scalefac_band.psfb21[U.PSFB21]=576;for(var Te=0;Te<U.SBMAX_s+1;Te++)v.scalefac_band.s[Te]=G.sfBandIndex[we].s[Te];for(var Te=0;Te<U.PSFB12+1;Te++){var Xe=(v.scalefac_band.s[13]-v.scalefac_band.s[12])/U.PSFB12,Ze=v.scalefac_band.s[12]+Te*Xe;v.scalefac_band.psfb12[Te]=Ze}v.scalefac_band.psfb12[U.PSFB12]=192,l.version==1?v.sideinfo_len=v.channels_out==1?4+17:4+32:v.sideinfo_len=v.channels_out==1?4+9:4+17,l.error_protection&&(v.sideinfo_len+=2),I(l),v.Class_ID=P;{var Ue;for(Ue=0;Ue<19;Ue++)v.nsPsy.pefirbuf[Ue]=700*v.mode_gr*v.channels_out;l.ATHtype==-1&&(l.ATHtype=4)}switch(h(l.VBR_q<=9),h(l.VBR_q>=0),l.VBR){case n.vbr_mt:l.VBR=n.vbr_mtrh;case n.vbr_mtrh:{l.useTemporal==null&&(l.useTemporal=!1),V.apply_preset(l,500-l.VBR_q*10,0),l.quality<0&&(l.quality=LAME_DEFAULT_QUALITY),l.quality<5&&(l.quality=0),l.quality>5&&(l.quality=5),v.PSY.mask_adjust=l.maskingadjust,v.PSY.mask_adjust_short=l.maskingadjust_short,l.experimentalY?v.sfb21_extra=!1:v.sfb21_extra=l.out_samplerate>44e3,v.iteration_loop=new VBRNewIterationLoop(k);break}case n.vbr_rh:{V.apply_preset(l,500-l.VBR_q*10,0),v.PSY.mask_adjust=l.maskingadjust,v.PSY.mask_adjust_short=l.maskingadjust_short,l.experimentalY?v.sfb21_extra=!1:v.sfb21_extra=l.out_samplerate>44e3,l.quality>6&&(l.quality=6),l.quality<0&&(l.quality=LAME_DEFAULT_QUALITY),v.iteration_loop=new VBROldIterationLoop(k);break}default:{var y;v.sfb21_extra=!1,l.quality<0&&(l.quality=LAME_DEFAULT_QUALITY),y=l.VBR,y==n.vbr_off&&(l.VBR_mean_bitrate_kbps=l.brate),V.apply_preset(l,l.VBR_mean_bitrate_kbps,0),l.VBR=y,v.PSY.mask_adjust=l.maskingadjust,v.PSY.mask_adjust_short=l.maskingadjust_short,y==n.vbr_off?v.iteration_loop=new Z(k):v.iteration_loop=new ABRIterationLoop(k);break}}if(h(l.scale>=0),l.VBR!=n.vbr_off){if(v.VBR_min_bitrate=1,v.VBR_max_bitrate=14,l.out_samplerate<16e3&&(v.VBR_max_bitrate=8),l.VBR_min_bitrate_kbps!=0&&(l.VBR_min_bitrate_kbps=f(l.VBR_min_bitrate_kbps,l.version,l.out_samplerate),v.VBR_min_bitrate=E(l.VBR_min_bitrate_kbps,l.version,l.out_samplerate),v.VBR_min_bitrate<0)||l.VBR_max_bitrate_kbps!=0&&(l.VBR_max_bitrate_kbps=f(l.VBR_max_bitrate_kbps,l.version,l.out_samplerate),v.VBR_max_bitrate=E(l.VBR_max_bitrate_kbps,l.version,l.out_samplerate),v.VBR_max_bitrate<0))return-1;l.VBR_min_bitrate_kbps=W.bitrate_table[l.version][v.VBR_min_bitrate],l.VBR_max_bitrate_kbps=W.bitrate_table[l.version][v.VBR_max_bitrate],l.VBR_mean_bitrate_kbps=Math.min(W.bitrate_table[l.version][v.VBR_max_bitrate],l.VBR_mean_bitrate_kbps),l.VBR_mean_bitrate_kbps=Math.max(W.bitrate_table[l.version][v.VBR_min_bitrate],l.VBR_mean_bitrate_kbps)}return l.tune&&(v.PSY.mask_adjust+=l.tune_value_a,v.PSY.mask_adjust_short+=l.tune_value_a),se(l),h(l.scale>=0),l.athaa_type<0?v.ATH.useAdjust=3:v.ATH.useAdjust=l.athaa_type,v.ATH.aaSensitivityP=Math.pow(10,l.athaa_sensitivity/-10),l.short_blocks==null&&(l.short_blocks=a.short_block_allowed),l.short_blocks==a.short_block_allowed&&(l.mode==m.JOINT_STEREO||l.mode==m.STEREO)&&(l.short_blocks=a.short_block_coupled),l.quant_comp<0&&(l.quant_comp=1),l.quant_comp_short<0&&(l.quant_comp_short=0),l.msfix<0&&(l.msfix=0),l.exp_nspsytune=l.exp_nspsytune|1,l.internal_flags.nsPsy.attackthre<0&&(l.internal_flags.nsPsy.attackthre=p.NSATTACKTHRE),l.internal_flags.nsPsy.attackthre_s<0&&(l.internal_flags.nsPsy.attackthre_s=p.NSATTACKTHRE_S),h(l.scale>=0),l.scale<0&&(l.scale=1),l.ATHtype<0&&(l.ATHtype=4),l.ATHcurve<0&&(l.ATHcurve=4),l.athaa_loudapprox<0&&(l.athaa_loudapprox=2),l.interChRatio<0&&(l.interChRatio=0),l.useTemporal==null&&(l.useTemporal=!0),v.slot_lag=v.frac_SpF=0,l.VBR==n.vbr_off&&(v.slot_lag=v.frac_SpF=(l.version+1)*72e3*l.brate%l.out_samplerate|0),G.iteration_init(l),$.psymodel_init(l),h(l.scale>=0),0};function z(l,v){(l.in_buffer_0==null||l.in_buffer_nsamples<v)&&(l.in_buffer_0=s(v),l.in_buffer_1=s(v),l.in_buffer_nsamples=v)}this.lame_encode_flush=function(l,v,re,ve){var pe=l.internal_flags,xe=u([2,1152]),be=0,Me,Fe,we,Te,Xe=pe.mf_samples_to_encode-U.POSTDELAY,Ze=_e(l);if(pe.mf_samples_to_encode<1)return 0;for(Me=0,l.in_samplerate!=l.out_samplerate&&(Xe+=16*l.out_samplerate/l.in_samplerate),we=l.framesize-Xe%l.framesize,we<576&&(we+=l.framesize),l.encoder_padding=we,Te=(Xe+we)/l.framesize;Te>0&&be>=0;){var Ue=Ze-pe.mf_size,y=l.frameNum;Ue*=l.in_samplerate,Ue/=l.out_samplerate,Ue>1152&&(Ue=1152),Ue<1&&(Ue=1),Fe=ve-Me,ve==0&&(Fe=0),be=this.lame_encode_buffer(l,xe[0],xe[1],Ue,v,re,Fe),re+=be,Me+=be,Te-=y!=l.frameNum?1:0}if(pe.mf_samples_to_encode=0,be<0||(Fe=ve-Me,ve==0&&(Fe=0),O.flush_bitstream(l),be=O.copy_buffer(pe,v,re,Fe,1),be<0))return be;if(re+=be,Me+=be,Fe=ve-Me,ve==0&&(Fe=0),l.write_id3tag_automatic){if(B.id3tag_write_v1(l),be=O.copy_buffer(pe,v,re,Fe,0),be<0)return be;Me+=be}return Me},this.lame_encode_buffer=function(l,v,re,ve,pe,xe,be){var Me=l.internal_flags,Fe=[null,null];if(Me.Class_ID!=P)return-3;if(ve==0)return 0;z(Me,ve),Fe[0]=Me.in_buffer_0,Fe[1]=Me.in_buffer_1;for(var we=0;we<ve;we++)Fe[0][we]=v[we],Me.channels_in>1&&(Fe[1][we]=re[we]);return me(l,Fe[0],Fe[1],ve,pe,xe,be)};function _e(l){var v=U.BLKSIZE+l.framesize-U.FFTOFFSET;return v=Math.max(v,512+l.framesize-32),v}function me(l,v,re,ve,pe,xe,be){var Me=l.internal_flags,Fe=0,we,Te,Xe,Ze,Ue,y=[null,null],T=[null,null];if(Me.Class_ID!=P)return-3;if(ve==0)return 0;if(Ue=O.copy_buffer(Me,pe,xe,be,0),Ue<0)return Ue;if(xe+=Ue,Fe+=Ue,T[0]=v,T[1]=re,j.NEQ(l.scale,0)&&j.NEQ(l.scale,1))for(Te=0;Te<ve;++Te)T[0][Te]*=l.scale,Me.channels_out==2&&(T[1][Te]*=l.scale);if(j.NEQ(l.scale_left,0)&&j.NEQ(l.scale_left,1))for(Te=0;Te<ve;++Te)T[0][Te]*=l.scale_left;if(j.NEQ(l.scale_right,0)&&j.NEQ(l.scale_right,1))for(Te=0;Te<ve;++Te)T[1][Te]*=l.scale_right;if(l.num_channels==2&&Me.channels_out==1)for(Te=0;Te<ve;++Te)T[0][Te]=.5*(T[0][Te]+T[1][Te]),T[1][Te]=0;Ze=_e(l),y[0]=Me.mfbuf[0],y[1]=Me.mfbuf[1];for(var H=0;ve>0;){var q=[null,null],J=0,L=0;q[0]=T[0],q[1]=T[1];var ee=new X;if(Oe(l,y,q,H,ve,ee),J=ee.n_in,L=ee.n_out,Me.findReplayGain&&!Me.decode_on_the_fly&&M.AnalyzeSamples(Me.rgdata,y[0],Me.mf_size,y[1],Me.mf_size,L,Me.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(ve-=J,H+=J,Me.channels_out==2,Me.mf_size+=L,h(Me.mf_size<=d.MFSIZE),Me.mf_samples_to_encode<1&&(Me.mf_samples_to_encode=U.ENCDELAY+U.POSTDELAY),Me.mf_samples_to_encode+=L,Me.mf_size>=Ze){var ie=be-Fe;if(be==0&&(ie=0),we=C(l,y[0],y[1],pe,xe,ie),we<0)return we;for(xe+=we,Fe+=we,Me.mf_size-=l.framesize,Me.mf_samples_to_encode-=l.framesize,Xe=0;Xe<Me.channels_out;Xe++)for(Te=0;Te<Me.mf_size;Te++)y[Xe][Te]=y[Xe][Te+l.framesize]}}return Fe}function C(l,v,re,ve,pe,xe){var be=S.enc.lame_encode_mp3_frame(l,v,re,ve,pe,xe);return l.frameNum++,be}function X(){this.n_in=0,this.n_out=0}function Q(){this.num_used=0}function ae(l,v){return v!=0?ae(v,l%v):l}function le(l,v,re){var ve=Math.PI*v;l/=re,l<0&&(l=0),l>1&&(l=1);var pe=l-.5,xe=.42-.5*Math.cos(2*l*Math.PI)+.08*Math.cos(4*l*Math.PI);return Math.abs(pe)<1e-9?ve/Math.PI:xe*Math.sin(re*ve*pe)/(Math.PI*re*pe)}function Se(l,v,re,ve,pe,xe,be,Me,Fe){var we=l.internal_flags,Te,Xe=0,Ze,Ue=l.out_samplerate/ae(l.out_samplerate,l.in_samplerate);Ue>d.BPC&&(Ue=d.BPC);var y=Math.abs(we.resample_ratio-Math.floor(.5+we.resample_ratio))<1e-4?1:0,T=1/we.resample_ratio;T>1&&(T=1);var H=31;H%2==0&&--H,H+=y;var q=H+1;if(we.fill_buffer_resample_init==0){for(we.inbuf_old[0]=s(q),we.inbuf_old[1]=s(q),Te=0;Te<=2*Ue;++Te)we.blackfilt[Te]=s(q);for(we.itime[0]=0,we.itime[1]=0,Xe=0;Xe<=2*Ue;Xe++){var J=0,L=(Xe-Ue)/(2*Ue);for(Te=0;Te<=H;Te++)J+=we.blackfilt[Xe][Te]=le(Te-L,T,H);for(Te=0;Te<=H;Te++)we.blackfilt[Xe][Te]/=J}we.fill_buffer_resample_init=1}var ee=we.inbuf_old[Fe];for(Ze=0;Ze<ve;Ze++){var ie,te;if(ie=Ze*we.resample_ratio,Xe=0|Math.floor(ie-we.itime[Fe]),H+Xe-H/2>=be)break;var L=ie-we.itime[Fe]-(Xe+.5*(H%2));te=0|Math.floor(L*2*Ue+Ue+.5);var ce=0;for(Te=0;Te<=H;++Te){var oe=0|Te+Xe-H/2,fe;fe=oe<0?ee[q+oe]:pe[xe+oe],ce+=fe*we.blackfilt[te][Te]}v[re+Ze]=ce}if(Me.num_used=Math.min(be,H+Xe-H/2),we.itime[Fe]+=Me.num_used-Ze*we.resample_ratio,Me.num_used>=q)for(Te=0;Te<q;Te++)ee[Te]=pe[xe+Me.num_used+Te-q];else{var Ie=q-Me.num_used;for(Te=0;Te<Ie;++Te)ee[Te]=ee[Te+Me.num_used];for(Xe=0;Te<q;++Te,++Xe)ee[Te]=pe[xe+Xe];h(Xe==Me.num_used)}return Ze}function Oe(l,v,re,ve,pe,xe){var be=l.internal_flags;if(be.resample_ratio<.9999||be.resample_ratio>1.0001)for(var Me=0;Me<be.channels_out;Me++){var Fe=new Q;xe.n_out=Se(l,v[Me],be.mf_size,l.framesize,re[Me],ve,pe,Fe,Me),xe.n_in=Fe.num_used}else{xe.n_out=Math.min(l.framesize,pe),xe.n_in=xe.n_out;for(var we=0;we<xe.n_out;++we)v[0][be.mf_size+we]=re[0][ve+we],be.channels_out==2&&(v[1][be.mf_size+we]=re[1][ve+we])}}}return Ua=R,Ua}var F_=a0,nt=F_.VbrMode;function H_(){var e=Fr();function t(d,o,A,Z,j,W,U,R,m,S,w,r,M,O,V){this.vbr_q=d,this.quant_comp=o,this.quant_comp_s=A,this.expY=Z,this.st_lrm=j,this.st_s=W,this.masking_adj=U,this.masking_adj_short=R,this.ath_lower=m,this.ath_curve=S,this.ath_sensitivity=w,this.interch=r,this.safejoint=M,this.sfb21mod=O,this.msfix=V}function n(d,o,A,Z,j,W,U,R,m,S,w,r,M,O){this.quant_comp=o,this.quant_comp_s=A,this.safejoint=Z,this.nsmsfix=j,this.st_lrm=W,this.st_s=U,this.nsbass=R,this.scale=m,this.masking_adj=S,this.ath_lower=w,this.ath_curve=r,this.interch=M,this.sfscale=O}var a;this.setModules=function(d){a=d};var s=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],i=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function u(d,o,A){var Z=d.VBR==nt.vbr_rh?s:i,j=d.VBR_q_frac,W=Z[o],U=Z[o+1],R=W;W.st_lrm=W.st_lrm+j*(U.st_lrm-W.st_lrm),W.st_s=W.st_s+j*(U.st_s-W.st_s),W.masking_adj=W.masking_adj+j*(U.masking_adj-W.masking_adj),W.masking_adj_short=W.masking_adj_short+j*(U.masking_adj_short-W.masking_adj_short),W.ath_lower=W.ath_lower+j*(U.ath_lower-W.ath_lower),W.ath_curve=W.ath_curve+j*(U.ath_curve-W.ath_curve),W.ath_sensitivity=W.ath_sensitivity+j*(U.ath_sensitivity-W.ath_sensitivity),W.interch=W.interch+j*(U.interch-W.interch),W.msfix=W.msfix+j*(U.msfix-W.msfix),g(d,R.vbr_q),A!=0?d.quant_comp=R.quant_comp:Math.abs(d.quant_comp- -1)>0||(d.quant_comp=R.quant_comp),A!=0?d.quant_comp_short=R.quant_comp_s:Math.abs(d.quant_comp_short- -1)>0||(d.quant_comp_short=R.quant_comp_s),R.expY!=0&&(d.experimentalY=R.expY!=0),A!=0?d.internal_flags.nsPsy.attackthre=R.st_lrm:Math.abs(d.internal_flags.nsPsy.attackthre- -1)>0||(d.internal_flags.nsPsy.attackthre=R.st_lrm),A!=0?d.internal_flags.nsPsy.attackthre_s=R.st_s:Math.abs(d.internal_flags.nsPsy.attackthre_s- -1)>0||(d.internal_flags.nsPsy.attackthre_s=R.st_s),A!=0?d.maskingadjust=R.masking_adj:Math.abs(d.maskingadjust-0)>0||(d.maskingadjust=R.masking_adj),A!=0?d.maskingadjust_short=R.masking_adj_short:Math.abs(d.maskingadjust_short-0)>0||(d.maskingadjust_short=R.masking_adj_short),A!=0?d.ATHlower=-R.ath_lower/10:Math.abs(-d.ATHlower*10-0)>0||(d.ATHlower=-R.ath_lower/10),A!=0?d.ATHcurve=R.ath_curve:Math.abs(d.ATHcurve- -1)>0||(d.ATHcurve=R.ath_curve),A!=0?d.athaa_sensitivity=R.ath_sensitivity:Math.abs(d.athaa_sensitivity- -1)>0||(d.athaa_sensitivity=R.ath_sensitivity),R.interch>0&&(A!=0?d.interChRatio=R.interch:Math.abs(d.interChRatio- -1)>0||(d.interChRatio=R.interch)),R.safejoint>0&&(d.exp_nspsytune=d.exp_nspsytune|R.safejoint),R.sfb21mod>0&&(d.exp_nspsytune=d.exp_nspsytune|R.sfb21mod<<20),A!=0?d.msfix=R.msfix:Math.abs(d.msfix- -1)>0||(d.msfix=R.msfix),A==0&&(d.VBR_q=o,d.VBR_q_frac=j)}var h=[new n(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new n(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new n(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new n(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new n(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new n(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new n(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new n(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new n(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new n(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new n(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new n(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new n(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new n(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new n(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function p(d,o,A){var Z=o,j=a.nearestBitrateFullIndex(o);if(d.VBR=nt.vbr_abr,d.VBR_mean_bitrate_kbps=Z,d.VBR_mean_bitrate_kbps=Math.min(d.VBR_mean_bitrate_kbps,320),d.VBR_mean_bitrate_kbps=Math.max(d.VBR_mean_bitrate_kbps,8),d.brate=d.VBR_mean_bitrate_kbps,d.VBR_mean_bitrate_kbps>320&&(d.disable_reservoir=!0),h[j].safejoint>0&&(d.exp_nspsytune=d.exp_nspsytune|2),h[j].sfscale>0&&(d.internal_flags.noise_shaping=2),Math.abs(h[j].nsbass)>0){var W=int(h[j].nsbass*4);W<0&&(W+=64),d.exp_nspsytune=d.exp_nspsytune|W<<2}return A!=0?d.quant_comp=h[j].quant_comp:Math.abs(d.quant_comp- -1)>0||(d.quant_comp=h[j].quant_comp),A!=0?d.quant_comp_short=h[j].quant_comp_s:Math.abs(d.quant_comp_short- -1)>0||(d.quant_comp_short=h[j].quant_comp_s),A!=0?d.msfix=h[j].nsmsfix:Math.abs(d.msfix- -1)>0||(d.msfix=h[j].nsmsfix),A!=0?d.internal_flags.nsPsy.attackthre=h[j].st_lrm:Math.abs(d.internal_flags.nsPsy.attackthre- -1)>0||(d.internal_flags.nsPsy.attackthre=h[j].st_lrm),A!=0?d.internal_flags.nsPsy.attackthre_s=h[j].st_s:Math.abs(d.internal_flags.nsPsy.attackthre_s- -1)>0||(d.internal_flags.nsPsy.attackthre_s=h[j].st_s),A!=0?d.scale=h[j].scale:Math.abs(d.scale- -1)>0||(d.scale=h[j].scale),A!=0?d.maskingadjust=h[j].masking_adj:Math.abs(d.maskingadjust-0)>0||(d.maskingadjust=h[j].masking_adj),h[j].masking_adj>0?A!=0?d.maskingadjust_short=h[j].masking_adj*.9:Math.abs(d.maskingadjust_short-0)>0||(d.maskingadjust_short=h[j].masking_adj*.9):A!=0?d.maskingadjust_short=h[j].masking_adj*1.1:Math.abs(d.maskingadjust_short-0)>0||(d.maskingadjust_short=h[j].masking_adj*1.1),A!=0?d.ATHlower=-h[j].ath_lower/10:Math.abs(-d.ATHlower*10-0)>0||(d.ATHlower=-h[j].ath_lower/10),A!=0?d.ATHcurve=h[j].ath_curve:Math.abs(d.ATHcurve- -1)>0||(d.ATHcurve=h[j].ath_curve),A!=0?d.interChRatio=h[j].interch:Math.abs(d.interChRatio- -1)>0||(d.interChRatio=h[j].interch),o}this.apply_preset=function(d,o,A){switch(o){case e.R3MIX:{o=e.V3,d.VBR=nt.vbr_mtrh;break}case e.MEDIUM:{o=e.V4,d.VBR=nt.vbr_rh;break}case e.MEDIUM_FAST:{o=e.V4,d.VBR=nt.vbr_mtrh;break}case e.STANDARD:{o=e.V2,d.VBR=nt.vbr_rh;break}case e.STANDARD_FAST:{o=e.V2,d.VBR=nt.vbr_mtrh;break}case e.EXTREME:{o=e.V0,d.VBR=nt.vbr_rh;break}case e.EXTREME_FAST:{o=e.V0,d.VBR=nt.vbr_mtrh;break}case e.INSANE:return o=320,d.preset=o,p(d,o,A),d.VBR=nt.vbr_off,o}switch(d.preset=o,o){case e.V9:return u(d,9,A),o;case e.V8:return u(d,8,A),o;case e.V7:return u(d,7,A),o;case e.V6:return u(d,6,A),o;case e.V5:return u(d,5,A),o;case e.V4:return u(d,4,A),o;case e.V3:return u(d,3,A),o;case e.V2:return u(d,2,A),o;case e.V1:return u(d,1,A),o;case e.V0:return u(d,0,A),o}return 8<=o&&o<=320?p(d,o,A):(d.preset=0,o)};function g(d,o){var A=0;return 0>o&&(A=-1,o=0),9<o&&(A=-1,o=9),d.VBR_q=o,d.VBR_q_frac=0,A}}var k_=H_;function V_(){this.setModules=function(e,t){}}var D_=V_;function P_(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var X_=P_,fi=a0,Vs=fi.new_float,$_=fi.new_int;function Y_(){this.global_gain=0,this.sfb_count1=0,this.step=$_(39),this.noise=Vs(39),this.noise_log=Vs(39)}var q_=Y_,an=a0,dt=an.System,Ds=an.VbrMode,Ga=an.Util,gt=an.Arrays,cn=an.new_float,fn=an.assert,g_=D_,Ka=X_,U_=q_,Ke=A0(),Ps=Ir,Xs=pa;function G_(){var e;this.rv=null;var t;this.qupvt=null;var n,a=new g_,s;this.setModules=function(R,m,S,w){e=R,t=m,this.rv=m,n=S,this.qupvt=S,s=w,a.setModules(n,s)},this.ms_convert=function(R,m){for(var S=0;S<576;++S){var w=R.tt[m][0].xr[S],r=R.tt[m][1].xr[S];R.tt[m][0].xr[S]=(w+r)*(Ga.SQRT2*.5),R.tt[m][1].xr[S]=(w-r)*(Ga.SQRT2*.5)}};function i(R,m,S,w){w=0;for(var r=0;r<=S;++r){var M=Math.abs(R.xr[r]);w+=M,m[r]=Math.sqrt(M*Math.sqrt(M)),m[r]>R.xrpow_max&&(R.xrpow_max=m[r])}return w}this.init_xrpow=function(R,m,S){var w=0,r=0|m.max_nonzero_coeff;if(m.xrpow_max=0,gt.fill(S,r,576,0),w=i(m,S,r,w),w>1e-20){var M=0;R.substep_shaping&2&&(M=1);for(var O=0;O<m.psymax;O++)R.pseudohalf[O]=M;return!0}return gt.fill(m.l3_enc,0,576,0),!1};function u(R,m){var S=R.ATH,w=m.xr;if(m.block_type!=Ke.SHORT_TYPE)for(var r=!1,M=Ke.PSFB21-1;M>=0&&!r;M--){var O=R.scalefac_band.psfb21[M],V=R.scalefac_band.psfb21[M+1],G=n.athAdjust(S.adjust,S.psfb21[M],S.floor);R.nsPsy.longfact[21]>1e-12&&(G*=R.nsPsy.longfact[21]);for(var k=V-1;k>=O;k--)if(Math.abs(w[k])<G)w[k]=0;else{r=!0;break}}else for(var $=0;$<3;$++)for(var r=!1,M=Ke.PSFB12-1;M>=0&&!r;M--){var O=R.scalefac_band.s[12]*3+(R.scalefac_band.s[13]-R.scalefac_band.s[12])*$+(R.scalefac_band.psfb12[M]-R.scalefac_band.psfb12[0]),V=O+(R.scalefac_band.psfb12[M+1]-R.scalefac_band.psfb12[M]),de=n.athAdjust(S.adjust,S.psfb12[M],S.floor);R.nsPsy.shortfact[12]>1e-12&&(de*=R.nsPsy.shortfact[12]);for(var k=V-1;k>=O;k--)if(Math.abs(w[k])<de)w[k]=0;else{r=!0;break}}}this.init_outer_loop=function(R,m){m.part2_3_length=0,m.big_values=0,m.count1=0,m.global_gain=210,m.scalefac_compress=0,m.table_select[0]=0,m.table_select[1]=0,m.table_select[2]=0,m.subblock_gain[0]=0,m.subblock_gain[1]=0,m.subblock_gain[2]=0,m.subblock_gain[3]=0,m.region0_count=0,m.region1_count=0,m.preflag=0,m.scalefac_scale=0,m.count1table_select=0,m.part2_length=0,m.sfb_lmax=Ke.SBPSY_l,m.sfb_smin=Ke.SBPSY_s,m.psy_lmax=R.sfb21_extra?Ke.SBMAX_l:Ke.SBPSY_l,m.psymax=m.psy_lmax,m.sfbmax=m.sfb_lmax,m.sfbdivide=11;for(var S=0;S<Ke.SBMAX_l;S++)m.width[S]=R.scalefac_band.l[S+1]-R.scalefac_band.l[S],m.window[S]=3;if(m.block_type==Ke.SHORT_TYPE){var w=cn(576);m.sfb_smin=0,m.sfb_lmax=0,m.mixed_block_flag!=0&&(m.sfb_smin=3,m.sfb_lmax=R.mode_gr*2+4),m.psymax=m.sfb_lmax+3*((R.sfb21_extra?Ke.SBMAX_s:Ke.SBPSY_s)-m.sfb_smin),m.sfbmax=m.sfb_lmax+3*(Ke.SBPSY_s-m.sfb_smin),m.sfbdivide=m.sfbmax-18,m.psy_lmax=m.sfb_lmax;var r=R.scalefac_band.l[m.sfb_lmax];dt.arraycopy(m.xr,0,w,0,576);for(var S=m.sfb_smin;S<Ke.SBMAX_s;S++)for(var M=R.scalefac_band.s[S],O=R.scalefac_band.s[S+1],V=0;V<3;V++)for(var G=M;G<O;G++)m.xr[r++]=w[3*G+V];for(var k=m.sfb_lmax,S=m.sfb_smin;S<Ke.SBMAX_s;S++)m.width[k]=m.width[k+1]=m.width[k+2]=R.scalefac_band.s[S+1]-R.scalefac_band.s[S],m.window[k]=0,m.window[k+1]=1,m.window[k+2]=2,k+=3}m.count1bits=0,m.sfb_partition_table=n.nr_of_sfb_block[0][0],m.slen[0]=0,m.slen[1]=0,m.slen[2]=0,m.slen[3]=0,m.max_nonzero_coeff=575,gt.fill(m.scalefac,0),u(R,m)};function h(R){this.ordinal=R}h.BINSEARCH_NONE=new h(0),h.BINSEARCH_UP=new h(1),h.BINSEARCH_DOWN=new h(2);function p(R,m,S,w,r){var M,O=R.CurrentStep[w],V=!1,G=R.OldValue[w],k=h.BINSEARCH_NONE;for(m.global_gain=G,S-=m.part2_length;;){var $;if(M=s.count_bits(R,r,m,null),O==1||M==S)break;M>S?(k==h.BINSEARCH_DOWN&&(V=!0),V&&(O/=2),k=h.BINSEARCH_UP,$=O):(k==h.BINSEARCH_UP&&(V=!0),V&&(O/=2),k=h.BINSEARCH_DOWN,$=-O),m.global_gain+=$,m.global_gain<0&&(m.global_gain=0,V=!0),m.global_gain>255&&(m.global_gain=255,V=!0)}for(fn(m.global_gain>=0),fn(m.global_gain<256);M>S&&m.global_gain<255;)m.global_gain++,M=s.count_bits(R,r,m,null);return R.CurrentStep[w]=G-m.global_gain>=4?4:2,R.OldValue[w]=m.global_gain,m.part2_3_length=M,M}this.trancate_smallspectrums=function(R,m,S,w){var r=cn(Xs.SFBMAX);if(!(!(R.substep_shaping&4)&&m.block_type==Ke.SHORT_TYPE||R.substep_shaping&128)){n.calc_noise(m,S,r,new Ka,null);for(var O=0;O<576;O++){var M=0;m.l3_enc[O]!=0&&(M=Math.abs(m.xr[O])),w[O]=M}var O=0,V=8;m.block_type==Ke.SHORT_TYPE&&(V=6);do{var G,k,$,de,B=m.width[V];if(O+=B,!(r[V]>=1)&&(gt.sort(w,O-B,B),!BitStream.EQ(w[O-1],0))){G=(1-r[V])*S[V],k=0,de=0;do{var _;for($=1;de+$<B&&!BitStream.NEQ(w[de+O-B],w[de+O+$-B]);$++);if(_=w[de+O-B]*w[de+O-B]*$,G<_){de!=0&&(k=w[de+O-B-1]);break}G-=_,de+=$}while(de<B);if(!BitStream.EQ(k,0))do Math.abs(m.xr[O-B])<=k&&(m.l3_enc[O-B]=0);while(--B>0)}}while(++V<m.psymax);m.part2_3_length=s.noquant_count_bits(R,m,null)}};function g(R){for(var m=0;m<R.sfbmax;m++)if(R.scalefac[m]+R.subblock_gain[R.window[m]]==0)return!1;return!0}function d(R){return Ga.FAST_LOG10(.368+.632*R*R*R)}function o(R,m){for(var S=1e-37,w=0;w<m.psymax;w++)S+=d(R[w]);return Math.max(1e-20,S)}function A(R,m,S,w,r){var M;switch(R){default:case 9:{m.over_count>0?(M=S.over_SSD<=m.over_SSD,S.over_SSD==m.over_SSD&&(M=S.bits<m.bits)):M=S.max_noise<0&&S.max_noise*10+S.bits<=m.max_noise*10+m.bits;break}case 0:M=S.over_count<m.over_count||S.over_count==m.over_count&&S.over_noise<m.over_noise||S.over_count==m.over_count&&BitStream.EQ(S.over_noise,m.over_noise)&&S.tot_noise<m.tot_noise;break;case 8:S.max_noise=o(r,w);case 1:M=S.max_noise<m.max_noise;break;case 2:M=S.tot_noise<m.tot_noise;break;case 3:M=S.tot_noise<m.tot_noise&&S.max_noise<m.max_noise;break;case 4:M=S.max_noise<=0&&m.max_noise>.2||S.max_noise<=0&&m.max_noise<0&&m.max_noise>S.max_noise-.2&&S.tot_noise<m.tot_noise||S.max_noise<=0&&m.max_noise>0&&m.max_noise>S.max_noise-.2&&S.tot_noise<m.tot_noise+m.over_noise||S.max_noise>0&&m.max_noise>-.05&&m.max_noise>S.max_noise-.1&&S.tot_noise+S.over_noise<m.tot_noise+m.over_noise||S.max_noise>0&&m.max_noise>-.1&&m.max_noise>S.max_noise-.15&&S.tot_noise+S.over_noise+S.over_noise<m.tot_noise+m.over_noise+m.over_noise;break;case 5:M=S.over_noise<m.over_noise||BitStream.EQ(S.over_noise,m.over_noise)&&S.tot_noise<m.tot_noise;break;case 6:M=S.over_noise<m.over_noise||BitStream.EQ(S.over_noise,m.over_noise)&&(S.max_noise<m.max_noise||BitStream.EQ(S.max_noise,m.max_noise)&&S.tot_noise<=m.tot_noise);break;case 7:M=S.over_count<m.over_count||S.over_noise<m.over_noise;break}return m.over_count==0&&(M=M&&S.bits<m.bits),M}function Z(R,m,S,w,r){var M=R.internal_flags,O;m.scalefac_scale==0?O=1.2968395546510096:O=1.6817928305074292;for(var V=0,G=0;G<m.sfbmax;G++)V<S[G]&&(V=S[G]);var k=M.noise_shaping_amp;switch(k==3&&(r?k=2:k=1),k){case 2:break;case 1:V>1?V=Math.pow(V,.5):V*=.95;break;case 0:default:V>1?V=1:V*=.95;break}for(var $=0,G=0;G<m.sfbmax;G++){var de=m.width[G],B;if($+=de,!(S[G]<V)){if(M.substep_shaping&2&&(M.pseudohalf[G]=M.pseudohalf[G]==0?1:0,M.pseudohalf[G]==0&&M.noise_shaping_amp==2))return;for(m.scalefac[G]++,B=-de;B<0;B++)w[$+B]*=O,w[$+B]>m.xrpow_max&&(m.xrpow_max=w[$+B]);if(M.noise_shaping_amp==2)return}}}function j(R,m){for(var S=1.2968395546510096,w=0,r=0;r<R.sfbmax;r++){var M=R.width[r],O=R.scalefac[r];if(R.preflag!=0&&(O+=n.pretab[r]),w+=M,O&1){O++;for(var V=-M;V<0;V++)m[w+V]*=S,m[w+V]>R.xrpow_max&&(R.xrpow_max=m[w+V])}R.scalefac[r]=O>>1}R.preflag=0,R.scalefac_scale=1}function W(R,m,S){var w,r=m.scalefac;for(w=0;w<m.sfb_lmax;w++)if(r[w]>=16)return!0;for(var M=0;M<3;M++){var O=0,V=0;for(w=m.sfb_lmax+M;w<m.sfbdivide;w+=3)O<r[w]&&(O=r[w]);for(;w<m.sfbmax;w+=3)V<r[w]&&(V=r[w]);if(!(O<16&&V<8)){if(m.subblock_gain[M]>=7)return!0;m.subblock_gain[M]++;var G=R.scalefac_band.l[m.sfb_lmax];for(w=m.sfb_lmax+M;w<m.sfbmax;w+=3){var k,$=m.width[w],de=r[w];if(de=de-(4>>m.scalefac_scale),de>=0){r[w]=de,G+=$*3;continue}r[w]=0;{var B=210+(de<<m.scalefac_scale+1);k=n.IPOW20(B)}G+=$*(M+1);for(var _=-$;_<0;_++)S[G+_]*=k,S[G+_]>m.xrpow_max&&(m.xrpow_max=S[G+_]);G+=$*(3-M-1)}{var k=n.IPOW20(202);G+=m.width[w]*(M+1);for(var _=-m.width[w];_<0;_++)S[G+_]*=k,S[G+_]>m.xrpow_max&&(m.xrpow_max=S[G+_])}}}return!1}function U(R,m,S,w,r){var M=R.internal_flags;Z(R,m,S,w,r);var O=g(m);return O?!1:(M.mode_gr==2?O=s.scale_bitcount(m):O=s.scale_bitcount_lsf(M,m),O?(M.noise_shaping>1&&(gt.fill(M.pseudohalf,0),m.scalefac_scale==0?(j(m,w),O=!1):m.block_type==Ke.SHORT_TYPE&&M.subblock_gain>0&&(O=W(M,m,w)||g(m))),O||(M.mode_gr==2?O=s.scale_bitcount(m):O=s.scale_bitcount_lsf(M,m)),!O):!0)}this.outer_loop=function(R,m,S,w,r,M){var O=R.internal_flags,V=new Ps,G=cn(576),k=cn(Xs.SFBMAX),$=new Ka,de,B=new U_,_=9999999,F=!1,Y=!1,K=0;if(p(O,m,M,r,w),O.noise_shaping==0)return 100;n.calc_noise(m,S,k,$,B),$.bits=m.part2_3_length,V.assign(m);var P=0;for(dt.arraycopy(w,0,G,0,576);!F;){do{var ne=new Ka,D,b=255;if(O.substep_shaping&2?D=20:D=3,O.sfb21_extra&&(k[V.sfbmax]>1||V.block_type==Ke.SHORT_TYPE&&(k[V.sfbmax+1]>1||k[V.sfbmax+2]>1))||!U(R,V,k,w,Y))break;V.scalefac_scale!=0&&(b=254);var c=M-V.part2_length;if(c<=0)break;for(;(V.part2_3_length=s.count_bits(O,w,V,B))>c&&V.global_gain<=b;)V.global_gain++;if(V.global_gain>b)break;if($.over_count==0){for(;(V.part2_3_length=s.count_bits(O,w,V,B))>_&&V.global_gain<=b;)V.global_gain++;if(V.global_gain>b)break}if(n.calc_noise(V,S,k,ne,B),ne.bits=V.part2_3_length,m.block_type!=Ke.SHORT_TYPE?de=R.quant_comp:de=R.quant_comp_short,de=A(de,$,ne,V,k)?1:0,de!=0)_=m.part2_3_length,$=ne,m.assign(V),P=0,dt.arraycopy(w,0,G,0,576);else if(O.full_outer_loop==0&&(++P>D&&$.over_count==0||O.noise_shaping_amp==3&&Y&&P>30||O.noise_shaping_amp==3&&Y&&V.global_gain-K>15))break}while(V.global_gain+V.scalefac_scale<255);O.noise_shaping_amp==3?Y?F=!0:(V.assign(m),dt.arraycopy(G,0,w,0,576),P=0,K=V.global_gain,Y=!0):F=!0}return fn(m.global_gain+m.scalefac_scale<=255),R.VBR==Ds.vbr_rh||R.VBR==Ds.vbr_mtrh?dt.arraycopy(G,0,w,0,576):O.substep_shaping&1&&trancate_smallspectrums(O,m,S,w),$.over_count},this.iteration_finish_one=function(R,m,S){var w=R.l3_side,r=w.tt[m][S];s.best_scalefac_store(R,m,S,w),R.use_best_huffman==1&&s.best_huffman_divide(R,r),t.ResvAdjust(R,r)},this.VBR_encode_granule=function(R,m,S,w,r,M,O){var V=R.internal_flags,G=new Ps,k=cn(576),$=O,de=O+1,B=(O+M)/2,_,F,Y=0,K=V.sfb21_extra;fn($<=LameInternalFlags.MAX_BITS_PER_CHANNEL),gt.fill(G.l3_enc,0);do B>$-42?V.sfb21_extra=!1:V.sfb21_extra=K,F=outer_loop(R,m,S,w,r,B),F<=0?(Y=1,de=m.part2_3_length,G.assign(m),dt.arraycopy(w,0,k,0,576),O=de-32,_=O-M,B=(O+M)/2):(M=B+32,_=O-M,B=(O+M)/2,Y!=0&&(Y=2,m.assign(G),dt.arraycopy(k,0,w,0,576)));while(_>12);V.sfb21_extra=K,Y==2&&dt.arraycopy(G.l3_enc,0,m.l3_enc,0,576),fn(m.part2_3_length<=$)},this.get_framebits=function(R,m){var S=R.internal_flags;S.bitrate_index=S.VBR_min_bitrate;var w=e.getframebits(R);S.bitrate_index=1,w=e.getframebits(R);for(var r=1;r<=S.VBR_max_bitrate;r++){S.bitrate_index=r;var M=new MeanBits(w);m[r]=t.ResvFrameBegin(R,M),w=M.bits}},this.VBR_old_prepare=function(R,m,S,w,r,M,O,V,G){var k=R.internal_flags,$,de=0,B=1,_=0;k.bitrate_index=k.VBR_max_bitrate;var F=t.ResvFrameBegin(R,new MeanBits(0))/k.mode_gr;get_framebits(R,M);for(var Y=0;Y<k.mode_gr;Y++){var K=n.on_pe(R,m,V[Y],F,Y,0);k.mode_ext==Ke.MPG_MD_MS_LR&&(ms_convert(k.l3_side,Y),n.reduce_side(V[Y],S[Y],F,K));for(var P=0;P<k.channels_out;++P){var ne=k.l3_side.tt[Y][P];ne.block_type!=Ke.SHORT_TYPE?(de=1.28/(1+Math.exp(3.5-m[Y][P]/300))-.05,$=k.PSY.mask_adjust-de):(de=2.56/(1+Math.exp(3.5-m[Y][P]/300))-.14,$=k.PSY.mask_adjust_short-de),k.masking_lower=Math.pow(10,$*.1),init_outer_loop(k,ne),G[Y][P]=n.calc_xmin(R,w[Y][P],ne,r[Y][P]),G[Y][P]!=0&&(B=0),O[Y][P]=126,_+=V[Y][P]}}for(var Y=0;Y<k.mode_gr;Y++)for(var P=0;P<k.channels_out;P++)_>M[k.VBR_max_bitrate]&&(V[Y][P]*=M[k.VBR_max_bitrate],V[Y][P]/=_),O[Y][P]>V[Y][P]&&(O[Y][P]=V[Y][P]);return B},this.bitpressure_strategy=function(R,m,S,w){for(var r=0;r<R.mode_gr;r++)for(var M=0;M<R.channels_out;M++){for(var O=R.l3_side.tt[r][M],V=m[r][M],G=0,k=0;k<O.psy_lmax;k++)V[G++]*=1+.029*k*k/Ke.SBMAX_l/Ke.SBMAX_l;if(O.block_type==Ke.SHORT_TYPE)for(var k=O.sfb_smin;k<Ke.SBMAX_s;k++)V[G++]*=1+.029*k*k/Ke.SBMAX_s/Ke.SBMAX_s,V[G++]*=1+.029*k*k/Ke.SBMAX_s/Ke.SBMAX_s,V[G++]*=1+.029*k*k/Ke.SBMAX_s/Ke.SBMAX_s;w[r][M]=0|Math.max(S[r][M],.9*w[r][M])}},this.VBR_new_prepare=function(R,m,S,w,r,M){var O=R.internal_flags,V=1,G=0,k=0,$;if(R.free_format){O.bitrate_index=0;var de=new MeanBits(G);$=t.ResvFrameBegin(R,de),G=de.bits,r[0]=$}else{O.bitrate_index=O.VBR_max_bitrate;var de=new MeanBits(G);t.ResvFrameBegin(R,de),G=de.bits,get_framebits(R,r),$=r[O.VBR_max_bitrate]}for(var B=0;B<O.mode_gr;B++){n.on_pe(R,m,M[B],G,B,0),O.mode_ext==Ke.MPG_MD_MS_LR&&ms_convert(O.l3_side,B);for(var _=0;_<O.channels_out;++_){var F=O.l3_side.tt[B][_];O.masking_lower=Math.pow(10,O.PSY.mask_adjust*.1),init_outer_loop(O,F),n.calc_xmin(R,S[B][_],F,w[B][_])!=0&&(V=0),k+=M[B][_]}}for(var B=0;B<O.mode_gr;B++)for(var _=0;_<O.channels_out;_++)k>$&&(M[B][_]*=$,M[B][_]/=k);return V},this.calc_target_bits=function(R,m,S,w,r,M){var O=R.internal_flags,V=O.l3_side,G,k,$,de,B=0;O.bitrate_index=O.VBR_max_bitrate;var _=new MeanBits(B);for(M[0]=t.ResvFrameBegin(R,_),B=_.bits,O.bitrate_index=1,B=e.getframebits(R)-O.sideinfo_len*8,r[0]=B/(O.mode_gr*O.channels_out),B=R.VBR_mean_bitrate_kbps*R.framesize*1e3,O.substep_shaping&1&&(B*=1.09),B/=R.out_samplerate,B-=O.sideinfo_len*8,B/=O.mode_gr*O.channels_out,G=.93+.07*(11-R.compression_ratio)/(11-5.5),G<.9&&(G=.9),G>1&&(G=1),k=0;k<O.mode_gr;k++){var F=0;for($=0;$<O.channels_out;$++){if(w[k][$]=int(G*B),m[k][$]>700){var Y=int((m[k][$]-700)/1.4),K=V.tt[k][$];w[k][$]=int(G*B),K.block_type==Ke.SHORT_TYPE&&Y<B/2&&(Y=B/2),Y>B*3/2?Y=B*3/2:Y<0&&(Y=0),w[k][$]+=Y}w[k][$]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(w[k][$]=LameInternalFlags.MAX_BITS_PER_CHANNEL),F+=w[k][$]}if(F>LameInternalFlags.MAX_BITS_PER_GRANULE)for($=0;$<O.channels_out;++$)w[k][$]*=LameInternalFlags.MAX_BITS_PER_GRANULE,w[k][$]/=F}if(O.mode_ext==Ke.MPG_MD_MS_LR)for(k=0;k<O.mode_gr;k++)n.reduce_side(w[k],S[k],B*O.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(de=0,k=0;k<O.mode_gr;k++)for($=0;$<O.channels_out;$++)w[k][$]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(w[k][$]=LameInternalFlags.MAX_BITS_PER_CHANNEL),de+=w[k][$];if(de>M[0])for(k=0;k<O.mode_gr;k++)for($=0;$<O.channels_out;$++)w[k][$]*=M[0],w[k][$]/=de}}var K_=G_,j_=a0,$s=j_.assert;function W_(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var a=t.internal_flags,s,i=a.l3_side,u=e.getframebits(t);n.bits=(u-a.sideinfo_len*8)/a.mode_gr;var h=8*256*a.mode_gr-8;t.brate>320?s=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(s=8*1440,t.strict_ISO&&(s=8*int(32e4/(t.out_samplerate/1152)/8+.5))),a.ResvMax=s-u,a.ResvMax>h&&(a.ResvMax=h),(a.ResvMax<0||t.disable_reservoir)&&(a.ResvMax=0);var p=n.bits*a.mode_gr+Math.min(a.ResvSize,a.ResvMax);return p>s&&(p=s),$s(a.ResvMax%8==0),$s(a.ResvMax>=0),i.resvDrain_pre=0,a.pinfo!=null&&(a.pinfo.mean_bits=n.bits/2,a.pinfo.resvsize=a.ResvSize),p},this.ResvMaxBits=function(t,n,a,s){var i=t.internal_flags,u,h=i.ResvSize,p=i.ResvMax;s!=0&&(h+=n),i.substep_shaping&1&&(p*=.9),a.bits=n,h*10>p*9?(u=h-p*9/10,a.bits+=u,i.substep_shaping|=128):(u=0,i.substep_shaping&=127,!t.disable_reservoir&&!(i.substep_shaping&1)&&(a.bits-=.1*n));var g=h<i.ResvMax*6/10?h:i.ResvMax*6/10;return g-=u,g<0&&(g=0),g},this.ResvAdjust=function(t,n){t.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(t,n){var a,s=t.l3_side;t.ResvSize+=n*t.mode_gr;var i=0;s.resvDrain_post=0,s.resvDrain_pre=0,(a=t.ResvSize%8)!=0&&(i+=a),a=t.ResvSize-i-t.ResvMax,a>0&&(i+=a);{var u=Math.min(s.main_data_begin*8,i)/8;s.resvDrain_pre+=8*u,i-=8*u,t.ResvSize-=8*u,s.main_data_begin-=u}s.resvDrain_post+=i,t.ResvSize-=i}}var z_=W_;function Z_(){var e="http://www.mp3dev.org/",t=3,n=98,a=4,s=0,i=93;this.getLameVersion=function(){return t+"."+n+"."+a},this.getLameShortVersion=function(){return t+"."+n+"."+a},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return s+"."+i},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var Q_=Z_,rn=a0,J_=rn.System,ja=rn.VbrMode,Ys=rn.ShortBlock,eu=rn.Arrays,Xn=rn.new_byte,tu=rn.assert;An.NUMTOCENTRIES=100;An.MAXFRAMESIZE=2880;function An(){var e,t,n;this.setModules=function(B,_,F){e=B,t=_,n=F};var a=1,s=2,i=4,u=8,h=An.NUMTOCENTRIES,p=An.MAXFRAMESIZE,g=h+4+4+4+4+4,d=g+9+1+1+8+1+1+3+1+1+2+4+2+2,o=128,A=64,Z=32,j=null,W="Xing",U="Info",R=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function m(B,_){if(B.nVbrNumFrames++,B.sum+=_,B.seen++,!(B.seen<B.want)&&(B.pos<B.size&&(B.bag[B.pos]=B.sum,B.pos++,B.seen=0),B.pos==B.size)){for(var F=1;F<B.size;F+=2)B.bag[F/2]=B.bag[F];B.want*=2,B.pos/=2}}function S(B,_){if(!(B.pos<=0))for(var F=1;F<h;++F){var Y=F/h,K,P,ne=0|Math.floor(Y*B.pos);ne>B.pos-1&&(ne=B.pos-1),K=B.bag[ne],P=B.sum;var D=0|256*K/P;D>255&&(D=255),_[F]=255&D}}this.addVbrFrame=function(B){var _=B.internal_flags,F=Tables.bitrate_table[B.version][_.bitrate_index];tu(_.VBR_seek_table.bag!=null),m(_.VBR_seek_table,F)};function w(B,_){var F=B[_+0]&255;return F<<=8,F|=B[_+1]&255,F<<=8,F|=B[_+2]&255,F<<=8,F|=B[_+3]&255,F}function r(B,_,F){B[_+0]=255&(F>>24&255),B[_+1]=255&(F>>16&255),B[_+2]=255&(F>>8&255),B[_+3]=255&(F&255)}function M(B,_,F){B[_+0]=255&(F>>8&255),B[_+1]=255&(F&255)}function O(B,_){return new String(B,_,W.length(),j).equals(W)||new String(B,_,U.length(),j).equals(U)}function V(B,_,F){return 255&(B<<_|F&~(-1<<_))}function G(B,_){var F=B.internal_flags;_[0]=V(_[0],8,255),_[1]=V(_[1],3,7),_[1]=V(_[1],1,B.out_samplerate<16e3?0:1),_[1]=V(_[1],1,B.version),_[1]=V(_[1],2,4-3),_[1]=V(_[1],1,B.error_protection?0:1),_[2]=V(_[2],4,F.bitrate_index),_[2]=V(_[2],2,F.samplerate_index),_[2]=V(_[2],1,0),_[2]=V(_[2],1,B.extension),_[3]=V(_[3],2,B.mode.ordinal()),_[3]=V(_[3],2,F.mode_ext),_[3]=V(_[3],1,B.copyright),_[3]=V(_[3],1,B.original),_[3]=V(_[3],2,B.emphasis),_[0]=255;var Y=255&(_[1]&241),K;B.version==1?K=o:B.out_samplerate<16e3?K=Z:K=A,B.VBR==ja.vbr_off&&(K=B.brate);var P;B.free_format?P=0:P=255&16*e.BitrateIndex(K,B.version,B.out_samplerate),B.version==1?(_[1]=255&(Y|10),Y=255&(_[2]&13),_[2]=255&(P|Y)):(_[1]=255&(Y|2),Y=255&(_[2]&13),_[2]=255&(P|Y))}this.getVbrTag=function(B){var _=new VBRTagData,F=0;_.flags=0;var Y=B[F+1]>>3&1,K=B[F+2]>>2&3,P=B[F+3]>>6&3,ne=B[F+2]>>4&15;if(ne=Tables.bitrate_table[Y][ne],B[F+1]>>4==14?_.samprate=Tables.samplerate_table[2][K]:_.samprate=Tables.samplerate_table[Y][K],Y!=0?P!=3?F+=32+4:F+=17+4:P!=3?F+=17+4:F+=9+4,!O(B,F))return null;F+=4,_.hId=Y;var D=_.flags=w(B,F);if(F+=4,D&a&&(_.frames=w(B,F),F+=4),D&s&&(_.bytes=w(B,F),F+=4),D&i){if(_.toc!=null)for(var b=0;b<h;b++)_.toc[b]=B[F+b];F+=h}_.vbrScale=-1,D&u&&(_.vbrScale=w(B,F),F+=4),_.headersize=(Y+1)*72e3*ne/_.samprate,F+=21;var c=B[F+0]<<4;c+=B[F+1]>>4;var f=(B[F+1]&15)<<8;return f+=B[F+2]&255,(c<0||c>3e3)&&(c=-1),(f<0||f>3e3)&&(f=-1),_.encDelay=c,_.encPadding=f,_},this.InitVbrTag=function(B){var _=B.internal_flags,F;B.version==1?F=o:B.out_samplerate<16e3?F=Z:F=A,B.VBR==ja.vbr_off&&(F=B.brate);var Y=(B.version+1)*72e3*F/B.out_samplerate,K=_.sideinfo_len+d;if(_.VBR_seek_table.TotalFrameSize=Y,Y<K||Y>p){B.bWriteVbrTag=!1;return}_.VBR_seek_table.nVbrNumFrames=0,_.VBR_seek_table.nBytesWritten=0,_.VBR_seek_table.sum=0,_.VBR_seek_table.seen=0,_.VBR_seek_table.want=1,_.VBR_seek_table.pos=0,_.VBR_seek_table.bag==null&&(_.VBR_seek_table.bag=new int[400],_.VBR_seek_table.size=400);var P=Xn(p);G(B,P);for(var ne=_.VBR_seek_table.TotalFrameSize,D=0;D<ne;++D)t.add_dummy_byte(B,P[D]&255,1)};function k(B,_){var F=_^B;return _=_>>8^R[F&255],_}this.updateMusicCRC=function(B,_,F,Y){for(var K=0;K<Y;++K)B[0]=k(_[F+K],B[0])};function $(B,_,F,Y,K){var P=B.internal_flags,ne=0,D=B.encoder_delay,b=B.encoder_padding,c=100-10*B.VBR_q-B.quality,f=n.getLameVeryShortVersion(),E,x=0,N,se=[1,5,3,2,4,0,3],I=0|(B.lowpassfreq/100+.5>255?255:B.lowpassfreq/100+.5),z=0,_e=0,me=0,C=B.internal_flags.noise_shaping,X=0,Q=0,ae=0,le=0,Se=0,Oe=(B.exp_nspsytune&1)!=0,l=(B.exp_nspsytune&2)!=0,v=!1,re=!1,ve=B.internal_flags.nogap_total,pe=B.internal_flags.nogap_current,xe=B.ATHtype,be=0,Me;switch(B.VBR){case vbr_abr:Me=B.VBR_mean_bitrate_kbps;break;case vbr_off:Me=B.brate;break;default:Me=B.VBR_min_bitrate_kbps}switch(B.VBR.ordinal()<se.length?E=se[B.VBR.ordinal()]:E=0,N=16*x+E,P.findReplayGain&&(P.RadioGain>510&&(P.RadioGain=510),P.RadioGain<-510&&(P.RadioGain=-510),_e=8192,_e|=3072,P.RadioGain>=0?_e|=P.RadioGain:(_e|=512,_e|=-P.RadioGain)),P.findPeakSample&&(z=Math.abs(0|P.PeakSample/32767*Math.pow(2,23)+.5)),ve!=-1&&(pe>0&&(re=!0),pe<ve-1&&(v=!0)),be=xe+((Oe?1:0)<<4)+((l?1:0)<<5)+((v?1:0)<<6)+((re?1:0)<<7),c<0&&(c=0),B.mode){case MONO:X=0;break;case STEREO:X=1;break;case DUAL_CHANNEL:X=2;break;case JOINT_STEREO:B.force_ms?X=4:X=3;break;case NOT_SET:default:X=7;break}B.in_samplerate<=32e3?ae=0:B.in_samplerate==48e3?ae=2:B.in_samplerate>48e3?ae=3:ae=1,(B.short_blocks==Ys.short_block_forced||B.short_blocks==Ys.short_block_dispensed||B.lowpassfreq==-1&&B.highpassfreq==-1||B.scale_left<B.scale_right||B.scale_left>B.scale_right||B.disable_reservoir&&B.brate<320||B.noATH||B.ATHonly||xe==0||B.in_samplerate<=32e3)&&(Q=1),le=C+(X<<2)+(Q<<5)+(ae<<6),Se=P.nMusicCRC,r(F,Y+ne,c),ne+=4;for(var Fe=0;Fe<9;Fe++)F[Y+ne+Fe]=255&f.charAt(Fe);ne+=9,F[Y+ne]=255&N,ne++,F[Y+ne]=255&I,ne++,r(F,Y+ne,z),ne+=4,M(F,Y+ne,_e),ne+=2,M(F,Y+ne,me),ne+=2,F[Y+ne]=255&be,ne++,Me>=255?F[Y+ne]=255:F[Y+ne]=255&Me,ne++,F[Y+ne]=255&D>>4,F[Y+ne+1]=255&(D<<4)+(b>>8),F[Y+ne+2]=255&b,ne+=3,F[Y+ne]=255&le,ne++,F[Y+ne++]=0,M(F,Y+ne,B.preset),ne+=2,r(F,Y+ne,_),ne+=4,M(F,Y+ne,Se),ne+=2;for(var we=0;we<ne;we++)K=k(F[Y+we],K);return M(F,Y+ne,K),ne+=2,ne}function de(B){B.seek(0);var _=Xn(10);B.readFully(_);var F;return new String(_,"ISO-8859-1").startsWith("ID3")?F=0:F=((_[6]&127)<<21|(_[7]&127)<<14|(_[8]&127)<<7|_[9]&127)+_.length,F}this.getLameTagFrame=function(B,_){var F=B.internal_flags;if(!B.bWriteVbrTag||F.Class_ID!=Lame.LAME_ID||F.VBR_seek_table.pos<=0)return 0;if(_.length<F.VBR_seek_table.TotalFrameSize)return F.VBR_seek_table.TotalFrameSize;eu.fill(_,0,F.VBR_seek_table.TotalFrameSize,0),G(B,_);var Y=Xn(h);if(B.free_format)for(var K=1;K<h;++K)Y[K]=255&255*K/100;else S(F.VBR_seek_table,Y);var P=F.sideinfo_len;B.error_protection&&(P-=2),B.VBR==ja.vbr_off?(_[P++]=255&U.charAt(0),_[P++]=255&U.charAt(1),_[P++]=255&U.charAt(2),_[P++]=255&U.charAt(3)):(_[P++]=255&W.charAt(0),_[P++]=255&W.charAt(1),_[P++]=255&W.charAt(2),_[P++]=255&W.charAt(3)),r(_,P,a+s+i+u),P+=4,r(_,P,F.VBR_seek_table.nVbrNumFrames),P+=4;var ne=F.VBR_seek_table.nBytesWritten+F.VBR_seek_table.TotalFrameSize;r(_,P,0|ne),P+=4,J_.arraycopy(Y,0,_,P,Y.length),P+=Y.length,B.error_protection&&t.CRC_writeheader(F,_);for(var D=0,K=0;K<P;K++)D=k(_[K],D);return P+=$(B,ne,_,P,D),F.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(B,_){var F=B.internal_flags;if(F.VBR_seek_table.pos<=0||(_.seek(_.length()),_.length()==0))return-1;var Y=de(_);_.seek(Y);var K=Xn(p),P=getLameTagFrame(B,K);return P>K.length?-1:(P<1||_.write(K,0,P),0)}}var nu=An,hi=a0,qs=hi.new_byte,au=hi.assert,ru=Fr(),su=k_,iu=li,lu=ui(),ou=K_,_u=ci(),uu=z_,cu=wn,fu=Nr();A0();var hu=Q_,vu=nu;function du(){this.setModules=function(e,t){}}function mu(){this.setModules=function(e,t,n){}}function pu(){}function bu(){this.setModules=function(e,t){}}function xu(e,t,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var a=new ru,s=new du,i=new iu,u=new fu,h=new su,p=new lu,g=new ou,d=new vu,o=new hu,A=new bu,Z=new uu,j=new _u,W=new mu,U=new pu;a.setModules(i,u,h,p,g,d,o,A,U),u.setModules(i,U,o,d),A.setModules(u,o),h.setModules(a),g.setModules(u,Z,p,j),p.setModules(j,Z,a.enc.psy),Z.setModules(u),j.setModules(p),d.setModules(a,u,o),s.setModules(W,U),W.setModules(o,A,h);var R=a.lame_init();R.num_channels=e,R.in_samplerate=t,R.brate=n,R.mode=cu.STEREO,R.quality=3,R.bWriteVbrTag=!1,R.disable_reservoir=!0,R.write_id3tag_automatic=!1,a.lame_init_params(R);var m=1152,S=0|1.25*m+7200,w=qs(S);this.encodeBuffer=function(r,M){e==1&&(M=r),au(r.length==M.length),r.length>m&&(m=r.length,S=0|1.25*m+7200,w=qs(S));var O=a.lame_encode_buffer(R,r,M,r.length,w,0,S);return new Int8Array(w.subarray(0,O))},this.flush=function(){var r=a.lame_encode_flush(R,w,0,S);return new Int8Array(w.subarray(0,r))}}function j0(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function xa(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}j0.RIFF=xa("RIFF");j0.WAVE=xa("WAVE");j0.fmt_=xa("fmt ");j0.data=xa("data");j0.readHeader=function(e){var t=new j0,n=e.getUint32(0,!1);if(j0.RIFF==n&&(e.getUint32(4,!0),j0.WAVE==e.getUint32(8,!1)&&j0.fmt_==e.getUint32(12,!1))){var a=e.getUint32(16,!0),s=16+4;switch(a){case 16:case 18:t.channels=e.getUint16(s+2,!0),t.sampleRate=e.getUint32(s+4,!0);break;default:throw"extended fmt chunk not implemented"}s+=a;for(var i=j0.data,u=0;i!=n&&(n=e.getUint32(s,!1),u=e.getUint32(s+4,!0),i!=n);)s+=u+8;return t.dataLen=u,t.dataOffset=s+8,t}};Br.Mp3Encoder=xu;Br.WavHeader=j0;class Dt{static applyExponentialGainToChannels(t,n={}){const{timeStart:a,duration:s=6,rising:i=!0,easingFunction:u=U=>U}=n;if(s<=0)return;const{src:h,dst:p,totalDuration:g}=t,d=a+s,o=Math.max(0,Math.min(a/g,1)),A=Math.max(0,Math.min(d/g,1)),Z=Math.min(h.length,p.length),j=Math.min(h[0].length,p[0].length),W=new Array(1e4).fill().map((U,R,m)=>u(R/(m.length-1)));for(let U=0;U<Z;U++){const R=h[U],m=p[U],S=Math.floor(j*o),w=Math.floor(j*A);for(let r=S;r<=w;r++){const M=(r-S)/(w-S),O=Math.floor(M*W.length),V=W[O];m[r]=R[r]*(i?V:1-V)}}}static cloneAudioBuffer(t){const n=new AudioBuffer({length:t.length,numberOfChannels:t.numberOfChannels,sampleRate:t.sampleRate});for(let a=0;a<t.numberOfChannels;a++){const s=t.getChannelData(a);n.copyToChannel(s,a)}return n}static getAudioBufferChannelsSamples(t){return new Array(t.numberOfChannels).fill(0).map((a,s)=>t.getChannelData(s).slice())}static renderAudioBufferToCanvas(t,n,a={}){const{plotColor:s="#3d5",paddingX:i=0,amplitudeFactor:u=.5,trimTimeStart:h=0,trimTimeEnd:p=1/0,forceWaveFormRender:g=!1,scaleY:d=1}=a,o=t.width-2*i,A=t.height,Z=A>>1,j=Math.max(Math.floor(A*u),20);let W=t._cachedWaveFormImage,U=g;if(W||(W=document.createElement("canvas"),t._cachedWaveFormImage=W,W.width=t.width,W.height=t.height,U=!0),U){const k=W.getContext("2d");k.clearRect(0,0,t.width,t.height),k.lineWidth=1,k.strokeStyle="white";const $=n.getChannelData(0),de=1,B=Math.min(75,(n.length/o>>2)-1);for(let _=0;_<o;_++){const F=_/o,Y=Math.floor(F*n.length),K=Math.max(0,Y-B),P=Math.min(n.length-1,Y+B);let ne=0;for(let b=K;b<=P;b++)ne+=Math.abs($[b]);ne/=P-K+1;const D=Math.max(1,Math.floor(ne/de*j));k.beginPath(),k.moveTo(_+i,Z+D),k.lineTo(_+i,Z-D),k.stroke()}}const R=t.getContext("2d"),m=t.height*d,S=t.height-m>>1;R.clearRect(0,0,t.width,t.height),R.drawImage(W,0,S,t.width,m);const w=R.globalCompositeOperation;R.globalCompositeOperation="source-atop";const r=typeof s=="function"?s(R,t,{trimmed:!0}):s,M=typeof s=="function"?s(R,t,{trimmed:!1}):s,{duration:O}=n,V=Math.floor(h/O*o),G=Math.ceil(Math.min(p,O)/O*o);R.fillStyle=r,R.fillRect(0,0,t.width,t.height),R.fillStyle=M,R.fillRect(i+V,0,G-V,t.height),R.globalCompositeOperation=w}static audioBufferToMp3Chunks(t,n={}){const{kbps:a=256,onProgress:s,timeFrom:i=0,timeTo:u=1/0,amplitudeFactor:h=1}=n,p=new Br.Mp3Encoder(t.numberOfChannels,t.sampleRate,a),g=[t.getChannelData(0),t.numberOfChannels>1?t.getChannelData(1):[]].map(R=>{const m=Math.max(0,Math.floor(i/t.duration*R.length)),S=Math.min(R.length,Math.ceil(u/t.duration*R.length));return R.slice(m,S)}),d=g[0].length,o=576*2,A=[],Z=new Int16Array(o),j=t.numberOfChannels>1?new Int16Array(o):void 0,W=Math.ceil(d/o);let U=0;for(let R=0;R<d;R+=o){const m=Math.min(d-R,o);for(let w=0;w<m;w++){const r=w+R;let M=g[0][r]*h,O=Math.max(-1,Math.min(M,1)),V=Math.floor(O>=0?O*32767:O*32768);Z[w]=V,t.numberOfChannels>1&&(M=g[1][r]*h,O=Math.max(-1,Math.min(M,1)),V=Math.floor(O>=0?O*32767:O*32768),j[w]=V)}const S=m!==o?p.encodeBuffer(Z.slice(0,m),j&&j.slice(0,m)):p.encodeBuffer(Z,j);A.push(S),U++,typeof s=="function"&&s(U,W)}return A.push(p.flush()),A}constructor(){this.context=null,this.audioBuffer=null,this.channelsData=null,this.gain=null,this.volume=1,this.volumeGain=0,this.isMute=!1,this.hasStarted=!1,this.isPlaying=!1,this.lastPlayTimestamp=void 0,this.seekTimestamp=0,this.easingFunction=t=>t,this.effects=[],this.onEndCallbacks=[],this.initContext()}initContext(){this.context&&this.close(),this.context=new AudioContext,this.gain=new GainNode(this.context),this.gain.connect(this.context.destination),this.updateGainNodeValue()}decodeBuffer(t){return new Promise((n,a)=>{try{this.context.decodeAudioData(t,s=>{this.audioBuffer=s,this.channelsDataOriginal=Dt.getAudioBufferChannelsSamples(s),this.channelsData=Dt.getAudioBufferChannelsSamples(s),n(s)},a)}catch(s){a(s)}})}addEffect(t){let n=this.effects.find(a=>a.type===t.type);if(n){let a=!1;for(const s in n)if(n[s]!==t[s]){a=!0;break}if(!a)return!1;Object.assign(n,t)}else n=t,this.effects.push(t);return this.applyEffects(),this.start(this.getCurrentTime(),this.isPlaying),!0}applyEffects(){for(let t=0;t<this.channelsData.length;t++){const n=this.channelsDataOriginal[t];this.channelsData[t].set(n)}for(const t of this.effects)/^fade(In|Out)$/.test(t.type)&&Dt.applyExponentialGainToChannels({dst:this.channelsData,src:this.channelsDataOriginal,totalDuration:this.audioBuffer.duration},{timeStart:t.timeStart,duration:t.duration,rising:t.type==="fadeIn",easingFunction:this.easingFunction});for(let t=0;t<this.channelsData.length;t++)this.audioBuffer.copyToChannel(this.channelsData[t],t)}addOnEndCallback(t){if(typeof t=="function")return this.onEndCallbacks.push(t),!0}setEasingFunction(t){this.easingFunction=t}setMute(t=!0){this.isMute=t,this.updateGainNodeValue()}setVolume(t){t=Math.max(0,Math.min(t,5)),this.volume=t,this.updateGainNodeValue()}setVolumeGain(t){this.volumeGain=Math.max(-1,Math.min(t,2)),this.updateGainNodeValue()}getVolumeGainMultiplier(){return 1+this.volumeGain}updateGainNodeValue(){const t=(this.isMute?0:this.volume)*this.getVolumeGainMultiplier();this.gain.gain.value=t}getGain(){return this.isMute?0:this.gain.gain.value}getVolume(){return this.volume}getCurrentTime(){let t=this.seekTimestamp;return this.lastPlayTimestamp!==void 0&&(t+=this.context.currentTime-this.lastPlayTimestamp),t}start(t=0,n=!0){if(!this.audioBuffer)return;this.source&&(this.source.stop(),this.source.disconnect());const a=this.context.createBufferSource();a.buffer=this.audioBuffer,a.connect(this.gain),a.start(0,t>this.audioBuffer.duration?this.audioBuffer.duration:t),a.onended=()=>{this.source===a&&(this.seekTimestamp+=this.context.currentTime-this.lastPlayTimestamp,this.lastPlayTimestamp=void 0,this.isPlaying=!1,this.hasStarted=!1,this.onEndCallbacks.forEach(s=>s()))},this.source=a,this.hasStarted=!0,this.seekTimestamp=0,this.lastPlayTimestamp=this.context.currentTime-t,this.isPlaying=!0,n?this.context.resume():this.pause()}resume(){this.hasStarted?this.isPlaying||(this.context.resume(),this.isPlaying=!0,this.lastPlayTimestamp=this.context.currentTime):this.start()}pause(){this.isPlaying&&(this.context.suspend(),this.isPlaying=!1,this.seekTimestamp+=this.context.currentTime-this.lastPlayTimestamp,this.lastPlayTimestamp=void 0)}close(){this.gain.disconnect(),this.context.suspend(),this.context.close()}}class Su{constructor(t){this.duration=t.duration,this.length=t.length,this.numberOfChannels=t.numberOfChannels,this.sampleRate=t.sampleRate,this.isAudioBufferClone=!0,this.channels=t.channels||[new Float32Array(t.getChannelData(0)),new Float32Array(t.numberOfChannels>1?t.getChannelData(1):[])]}getChannelData(t){return this.channels[t]}getTransferable(){return{data:{...this},buffers:this.channels.map(t=>t.buffer).filter(t=>t)}}}function Mu(e,t){return new Promise((n,a)=>{const s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("target","_blank"),t&&s.setAttribute("download",t),s.style.display="none",document.body.appendChild(s),s.click(),setTimeout(()=>{s.remove(),n()},100)})}function gs(e,t={}){const{clickTriggerDistance:n=3,buttonWhich:a=1,onDrag:s,onDragStart:i,onDragStop:u,onClick:h}=t;let p,g,d;const o=["touchstart","mousedown"],A=["blur","mouseup","mousemove","touchmove","touchend","touchcancel"],Z=(U=!0)=>{A.forEach(R=>{U?window.addEventListener(R,j,{capture:!0}):window.removeEventListener(R,j,{capture:!0})})},j=U=>{let{clientX:R,clientY:m}=U;if(!(/mouse/.test(U.type)&&U.which!==a)){if(/touch/.test(U.type)){if(!/touch(end|cancel)/.test(U.type)&&U.targetTouches.length!==1)return;const S=U.targetTouches[0];S&&(R=S.clientX,m=S.clientY)}if(/(touch|mouse)move/.test(U.type)){const S=R,w=m,r=Math.abs(S-p),M=Math.abs(w-g),O=Math.sqrt(r*r+M*M);O>=n&&(d=!1),typeof s=="function"&&s({x:S,y:w,dragDistance:O,dragDistanceX:r,dragDistanceY:M,dragStartX:p,dragStartY:g})}else o.includes(U.type)?(p=R,g=m,d=!0,Z(),typeof i=="function"&&i({dragStartX:p,dragStartY:g})):/(touch(end|cancel)|mouseup)/.test(U.type)?(typeof u=="function"&&u({x:R,y:m}),d&&typeof h=="function"&&h(),W()):U.type==="blur"&&U.target===window&&(typeof u=="function"&&u({}),W())}},W=U=>{U&&o.forEach(R=>{U.removeEventListener(R,j)}),Z(!1)};k0(e,(U,R)=>{R&&W(R),U&&o.forEach(m=>{U.addEventListener(m,j)})}),fa(()=>W(e.value))}function Eu(e,t={}){let n;const a=typeof t=="number"?t:t.delay,{triggerCallLimit:s=1/0}=t,i=function(...u){if(n!==void 0&&(clearTimeout(n),n=void 0),i.callCount=(i.callCount||0)+1,i.callCount>s)i.dispatch(...u);else{const h=setTimeout(()=>{n===h&&(n=void 0,i.dispatch(...u))},a);n=h}};return i.dispatch=function(...u){return i.callCount=0,e.apply(this,u)},i}function Au(e){return Math.sin(e*Math.PI/2)}function yu(e){return Math.sqrt(1-(e-1)**2)}function Ru(e){return e===1?1:1-2**(e*-10)}function Tu(e){return e}function wu(){return new Worker(""+new URL("encoder.worker-852f2e8d.js",import.meta.url).href)}const J0=e=>(la("data-v-93f5d242"),e=e(),oa(),e),Bu=J0(()=>Be("header",null,[Be("div",null,"MP3 Tool")],-1)),Iu={class:"column p-y-3 items-center"},Cu=J0(()=>Be("div",{class:"flex-1"},null,-1)),Ou={key:0,class:"m-t-5 text-white font-24 text-bold p-b-3 loading"},Lu={key:2,class:"column items-center full-width flex-1 relative"},Nu={class:"file__label column items-center m-b-2"},Fu={class:"m-b-1"},Hu=J0(()=>Be("span",null,"File: ",-1)),ku=J0(()=>Be("span",null,null,-1)),Vu=[ku],Du={class:"time-label"},Pu={class:"actions__container m-x-6"},Xu={class:"tools__container column"},$u={class:"column items-start"},Yu=J0(()=>Be("span",{class:"white weight-600 font-14 m-b-1"},"Trim options",-1)),qu={class:"effects__container column m-t-4"},gu={class:"row items-center full-width m-b-2"},Uu=J0(()=>Be("span",{class:"white weight-600 font-14"},"Effects",-1)),Gu={class:"row items-center"},Ku={class:"column"},ju=J0(()=>Be("span",{class:"white weight-600 font-12"},"Fade in",-1)),Wu={class:"row items-center m-t-1"},zu={class:"fade-duration-label white weight-600"},Zu={class:"column m-l-6"},Qu=J0(()=>Be("span",{class:"white weight-600 font-12"},"Fade out",-1)),Ju={class:"row items-center m-t-1"},e3={class:"fade-duration-label white weight-600"},t3={class:"row items-center m-t-4"},n3=J0(()=>Be("span",{class:"white weight-600 font-14"},"Volume gain",-1)),a3={class:"volume-gain-input__container m-l-2"},r3={class:"column items-center"},s3={class:"row"},i3={class:"encode__container column items-center"},l3=["disabled"],o3=J0(()=>Be("div",null,null,-1)),_3=J0(()=>Be("div",{class:"flex-8"},null,-1)),u3={__name:"App",setup(e){function t(x){return new Promise((N,se)=>{try{const I=new FileReader;I.onload=z=>{N(z.target.result)},I.onerror=se,I.readAsArrayBuffer(x)}catch(I){se(I)}})}const n=[{title:"Sine",function:Au},{title:"Circular",function:yu},{title:"Exponential",function:Ru},{title:"Linear",function:Tu}],a=d0(null),s=d0(null),i=d0(null),u=d0(null),h=d0(null),p=vt(null),g=vt(null),d=vt(null),o=vt(!1),A=vt(0),Z=Ha("","ease-func"),j=vt(!1),W=vt(!1),U=Ha(0,"volume",x=>Number(x)||0),R=Ha(!1,"muted",x=>/true/.test(x)),m=d0({start:0,end:1/0}),S=d0({start:0,end:0}),w=vt(-1),r=Pt(()=>p.value&&p.value.audioBuffer&&p.value.audioBuffer.duration),M=Pt(()=>n.find(({title:N})=>N===Z.value)),O={paddingX:16,trimTimeStart:void 0,trimTimeEnd:void 0,scaleY:1,plotColor:(x,N,se={})=>{if(!N.sampleColorGradient){const z=Math.floor(N.height*.5),_e=x.createLinearGradient(0,z-40,0,z+40),me=["#7320d2","#5f1fa8"];_e.addColorStop(0,me[0]),_e.addColorStop(.5,me[1]),_e.addColorStop(1,me[0]),N.sampleColorGradient=_e}return se.trimmed?"#fcedff":N.sampleColorGradient}};function V(x){return[Math.floor(x/60)%60,":",Math.floor(x%60),".",Math.floor((x-Math.floor(x))*100)].map(N=>typeof N=="number"?String(N).padStart(2,"0"):N).join("")}function G(x){if(!p.value||!p.value.audioBuffer||!s.value)return;const N=O.paddingX*(s.value.clientWidth/s.value.width),se=i.value.parentElement,I=se.getBoundingClientRect(),z=x-N-I.x,_e=Math.min(1,Math.max(0,z)/(I.width-2*N)),me=i.value.getBoundingClientRect(),C=N-me.width*.5+_e*(I.width-2*N),X=p.value&&p.value.audioBuffer&&p.value.audioBuffer.duration,Q=10,ae=z<Q||z>I.width-2*N-Q?_e:.5;return{time:(X||0)*_e,pct:_e,parent:se,baseX:z,seekContainerLeft:C,spanPosPct:ae}}function k(x){if(!p.value||!p.value.audioBuffer||!s.value)return;const{parent:N,time:se,seekContainerLeft:I,spanPosPct:z}=G(x),_e=i.value.firstElementChild;Number.isNaN(se)?N.style.setProperty("--pos","-100px"):(_e.textContent=V(se),_e.style.setProperty("--pos-pct",z.toFixed(2)),N.style.setProperty("--pos",Math.round(I)+"px"))}function $(){if(!p.value||!p.value.audioBuffer||!u.value||!h.value||!s.value)return;const x=O.paddingX*(s.value.clientWidth/s.value.width),N=u.value.clientWidth,{duration:se}=p.value.audioBuffer,{start:I,end:z}=m.value,_e=I/se,me=Math.min(z,se)/se,C=x-N+_e*(s.value.clientWidth-2*x)+1,X=x+me*(s.value.clientWidth-2*x)-1;u.value.style.left=`${Math.ceil(C)}px`,h.value.style.left=`${Math.floor(X)}px`,w.value<I?B(null,I):w.value>z&&B(null,z)}function de(){if(!s.value)return;const x=s.value.parentElement,N=s.value.clientWidth,se=N/s.value.width,I=O.paddingX*se;if(!p.value||!p.value.audioBuffer)return x.style.setProperty("--progress",`${I}px`);const z=w.value,_e=p.value.audioBuffer.duration,me=_e?z/_e:0,C=Math.floor(I+me*(N-2*I));x.style.setProperty("--progress",`${C}px`)}function B(x,N){N||(N=G(x).time),N=Math.max(m.value.start,Math.min(N,m.value.end)),N=Math.max(0,Math.min(N,r.value)),p.value.start(N,p.value.isPlaying)}function _(x,N){S.value[x]=Math.max(0,S.value[x]+N)}gs(u,{onDrag({x}){const N=G(x);m.value.start=Math.min(N.time,m.value.end)},onClick(){B(0)}}),gs(h,{onDrag({x}){const N=G(x);m.value.end=Math.max(N.time,m.value.start)},onClick(){B(1/0)}});async function F(x){a.value=x[0],o.value=!0;const N=new Dt;try{await jn();const I=await t(x[0]);await N.decodeBuffer(I)}finally{o.value=!1}window.manager=N,W.value=N.isPlaying,m.value={start:0,end:1/0},w.value=0,S.value={start:0,end:0},A.value=0,d.value&&(URL.revokeObjectURL(d.value),d.value=null),N.setVolume(U.value),N.setMute(R.value),N.addOnEndCallback(()=>{ne()}),p.value=N,await jn(),Dt.renderAudioBufferToCanvas(s.value,p.value.audioBuffer,O);const se=setInterval(()=>{if(p.value!==N)return clearInterval(se);const I=p.value.getCurrentTime();I>=m.value.end&&W.value?ne():I!==w.value&&(w.value=I,de())},25);$()}function Y(){j.value=!j.value}function K(x,N){Z.value=x}function P(){W.value?p.value.pause():p.value.resume(),W.value=!W.value}function ne(){p.value.initContext(),p.value.start(m.value.start,!1),W.value=!1}function D(){const x=new wu;x.onerror=se=>console.error(se),x.onmessage=se=>{const{data:I}=se;if(I&&("progress"in I&&(g.value=I.progress),"encodedBuffer"in I)){d.value&&URL.revokeObjectURL(d.value);const z=new Blob([I.encodedBuffer],{type:"audio/mp3"}),_e=URL.createObjectURL(z);d.value=_e,g.value=null,x.terminate()}};const N=new Su(p.value.audioBuffer).getTransferable();x.postMessage({audioBuffer:N.data,options:{timeFrom:m.value.start,timeTo:m.value.end,amplitudeFactor:p.value.getVolumeGainMultiplier()}},N.buffers)}function b(){if(d.value){const x=a.value.name;Mu(d.value,x)}}function c(){p.value.close(),p.value=null}function f(){de(),k(),$()}k0(U,()=>{p.value&&p.value.setVolume(U.value)}),k0(R,()=>{p.value&&p.value.setMute(R.value)},{immediate:!0}),k0(m,()=>{if(w.value<m.value.start||w.value>m.value.end){const x=Math.max(m.value.start,Math.min(w.value,m.value.end));w.value=x,B(void 0,x)}$(),de(),O.trimTimeStart=m.value.start,O.trimTimeEnd=m.value.end},{deep:!0,flush:"pre"});const E=Eu(x=>{s.value&&p.value&&Dt.renderAudioBufferToCanvas(s.value,p.value.audioBuffer,{...O,forceWaveFormRender:x})},{delay:20,triggerCallLimit:3});return k0([m,S],()=>{p.value&&(p.value.addEffect({type:"fadeIn",duration:S.value.start,timeStart:m.value.start}),p.value.addEffect({type:"fadeOut",duration:S.value.end,timeStart:Math.min(p.value.audioBuffer.duration,m.value.end)-S.value.end}),E(!0))},{deep:!0}),k0([p,Z],x=>{const N=M.value||n[0];p.value&&(p.value.setEasingFunction(N.function),p.value.applyEffects(),E(!0))},{immediate:!0}),k0(A,()=>{if(p.value){const x=Math.max(-1,Math.min((Number(A.value)||0)/100,2));p.value.setVolumeGain(x),O.scaleY=x+1,E()}}),ca(()=>{g1(["play","pause","plus-circle","minus-circle"]),window.addEventListener("resize",f),window.addEventListener("keydown",x=>{if(!(x.altKey||x.ctrlKey||x.shiftKey)){if(x.code==="Space")P();else if(/Arrow(Up|Down)/.test(x.code)){const N=.05*(x.code==="ArrowUp"?1:-1);U.value=Math.max(0,Math.min(U.value+N,1))}else if(/Arrow(Right|Left)/.test(x.code)){const N=5*(x.code==="ArrowRight"?1:-1);B(void 0,w.value+N)}else if(x.code==="KeyM")R.value=!R.value;else return;x.preventDefault(),x.stopPropagation()}})}),(x,N)=>{const se=I1("float");return m0(),V0(S0,null,[Bu,Be("main",Iu,[Cu,ze(o)?(m0(),V0("div",Ou,"Decoding file...")):ze(p)?(m0(),V0("div",Lu,[Be("div",Nu,[Be("div",Fu,[Hu,Be("b",null,x0(a.value.name),1)]),Be("span",null,"Length: "+x0(V(ze(r)).slice(0,-3)),1)]),Be("button",{class:"flat icon round absolute close-button white",onClick:c},[c0(mt,{name:"close-circle-outline",size:32})]),Be("div",{class:"canvas__container full-width",onMousemove:N[1]||(N[1]=I=>k(I.clientX))},[Be("div",{class:"absolute seek-hint",ref_key:"seekHintEl",ref:i},Vu,512),Be("div",{class:"absolute trim-start",ref_key:"trimStartEl",ref:u},null,512),Be("div",{class:"absolute trim-end",ref_key:"trimEndEl",ref:h},null,512),Be("canvas",{class:"full-width",ref_key:"canvasEl",ref:s,width:"1600",height:"260",onMousedown:N[0]||(N[0]=R0(I=>B(I.clientX),["left"]))},null,544),Be("span",Du,x0(V(ze(w))),1)],32),Be("div",Pu,[Be("div",Xu,[Be("div",$u,[Yu,c0(F2,{start:m.value.start,"onUpdate:start":N[2]||(N[2]=I=>m.value.start=I),end:m.value.end,"onUpdate:end":N[3]||(N[3]=I=>m.value.end=I),duration:ze(p).audioBuffer?ze(p).audioBuffer.duration:0},null,8,["start","end","duration"])]),Be("div",qu,[Be("div",gu,[Uu,Be("button",{class:"button-easing-function white outline font-11 m-l-2 weight-600 flex-1",onClick:Y},x0(ze(M)?`Easing: ${ze(M).title}`:"Pick easing function"),1),zn((m0(),Qn(X2,{open:ze(j),"onUpdate:open":N[4]||(N[4]=I=>f0(j)?j.value=I:null),items:n.map(({title:I})=>I),title:"Select easing function",onItemClick:K},{default:E1(I=>[Be("span",null,x0(I.item),1)]),_:1},8,["open","items"])),[[se,{offset:16}]])]),Be("div",Gu,[Be("div",Ku,[ju,Be("div",Wu,[Be("span",zu,x0(S.value.start)+"s",1),Be("button",{class:"m-l-1 mini-icon round flat white",onClick:N[5]||(N[5]=I=>_("start",1))},[c0(mt,{name:"plus-circle",size:19})]),Be("button",{class:"m-l-1 mini-icon round flat white",onClick:N[6]||(N[6]=I=>_("start",-1))},[c0(mt,{name:"minus-circle",size:19})])])]),Be("div",Zu,[Qu,Be("div",Ju,[Be("span",e3,x0(S.value.end)+"s",1),Be("button",{class:"m-l-1 mini-icon round flat white",onClick:N[7]||(N[7]=I=>_("end",1))},[c0(mt,{name:"plus-circle",size:19})]),Be("button",{class:"m-l-1 mini-icon round flat white",onClick:N[8]||(N[8]=I=>_("end",-1))},[c0(mt,{name:"minus-circle",size:19})])])])])]),Be("div",t3,[n3,Be("div",a3,[zn(Be("input",{"onUpdate:modelValue":N[9]||(N[9]=I=>f0(A)?A.value=I:null),type:"number",min:"-100",max:"200"},null,512),[[Uo,ze(A)]])])])]),Be("div",r3,[Be("div",s3,[Be("button",{class:"icon m-1",onClick:P},[c0(mt,{name:ze(W)?"pause":"play",size:40},null,8,["name"])]),Be("button",{class:"icon m-1",onClick:ne},[c0(mt,{name:"stop",size:40})]),c0(f2,{class:"m-1",value:ze(U),"onUpdate:value":N[10]||(N[10]=I=>f0(U)?U.value=I:null),muted:ze(R),"onUpdate:muted":N[11]||(N[11]=I=>f0(R)?R.value=I:null)},null,8,["value","muted"])]),Be("div",i3,[Be("button",{class:"m-1",onClick:D,disabled:!!ze(g)},[ze(g)===null?(m0(),V0(S0,{key:0},[or("Encode")],64)):(m0(),V0(S0,{key:1},[or("Encoding... ("+x0(ze(g))+"%)",1)],64))],8,l3),ze(d)?(m0(),V0("button",{key:0,class:"m-t-3",onClick:b},"Download encoded mp3")):co("",!0)])]),o3])])):(m0(),Qn(r2,{key:1,class:"drag-drop p-y-5",onUpload:F,extensions:".mp3,.wav","fullscreen-drop":""})),_3])],64)}}},c3=tn(u3,[["__scopeId","data-v-93f5d242"]]);function f3(e,t="parentElement"){if(typeof t=="function"&&(t=t()),typeof t=="string"&&(t in e?t=e[t]:t=document.querySelector(t)),t&&"getBoundingClientRect"in t)return t}function $n(e,t=1){const n={top:0,bottom:0,left:0,right:1,center:.5}[e]||0;return t*n}function Us(e,t){const{value:n}=t;let{target:a=e&&e.parentElement,anchor:s=["center right","center left"],offset:i=8,zIndex:u=200}=n;const h=f3(e,a);if(h){const p=e.getBoundingClientRect(),g=h.getBoundingClientRect(),d=s[0].split(" "),o=s[1].split(" "),A=$n(d[0]),Z=$n(d[1]),j=g.y+A*g.height,W=g.x+Z*g.width,U=$n(o[0]),R=$n(o[1]),m=p.height*U,S=p.width*R,w=i*2*(Z-.5),r=i*2*(A-.5),M=W+w-S,O=j+r-m;Object.assign(e.style,{visibility:"",zIndex:u,left:`${M}px`,top:`${O}px`})}}const h3={created(e){Object.assign(e.style,{position:"fixed",visibility:"hidden"})},mounted(e,t,n,a){Us(e,t)},updated(e,t,n,a){Us(e,t)}},vi=["mousedown","touchstart"],di={capture:!0};function v3(e,t){for(;e;){if(e===t)return!0;e=e.parentElement}return!1}function mi(e){e.__clickOutsideHandler&&vi.forEach(t=>window.removeEventListener(t,e.__clickOutsideHandler,di))}function d3(e,t){mi(e),e.__clickOutsideHandler=n=>{!v3(n.target||n.srcElement,e)&&typeof t=="function"&&t()},vi.forEach(n=>window.addEventListener(n,e.__clickOutsideHandler,di))}const m3={created(e,t){d3(e,t.value)},unmounted(e){mi(e)}},Gs={float:h3,clickOutside:m3};function p3(e){for(const t in Gs)e.directive(t,Gs[t])}const pi=zo(c3);p3(pi);pi.mount("#app");
