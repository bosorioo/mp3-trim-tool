(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function er(e,t){const n=Object.create(null),a=e.split(",");for(let s=0;s<a.length;s++)n[a[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function Sn(e){if(qe(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],s=d0(a)?ai(a):Sn(a);if(s)for(const i in s)t[i]=s[i]}return t}else{if(d0(e))return e;if(i0(e))return e}}const ei=/;(?![^(]*\))/g,ti=/:([^]+)/,ni=/\/\*.*?\*\//gs;function ai(e){const t={};return e.replace(ni,"").split(ei).forEach(n=>{if(n){const a=n.split(ti);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Mn(e){let t="";if(d0(e))t=e;else if(qe(e))for(let n=0;n<e.length;n++){const a=Mn(e[n]);a&&(t+=a+" ")}else if(i0(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ri="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",si=er(ri);function F1(e){return!!e||e===""}const V0=e=>d0(e)?e:e==null?"":qe(e)||i0(e)&&(e.toString===D1||!Ue(e.toString))?JSON.stringify(e,H1,2):String(e),H1=(e,t)=>t&&t.__v_isRef?H1(e,t.value):qt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[a,s])=>(n[`${a} =>`]=s,n),{})}:k1(t)?{[`Set(${t.size})`]:[...t.values()]}:i0(t)&&!qe(t)&&!P1(t)?String(t):t,t0={},Yt=[],z0=()=>{},ii=()=>!1,li=/^on[^a-z]/,Gn=e=>li.test(e),tr=e=>e.startsWith("onUpdate:"),p0=Object.assign,nr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},oi=Object.prototype.hasOwnProperty,We=(e,t)=>oi.call(e,t),qe=Array.isArray,qt=e=>jn(e)==="[object Map]",k1=e=>jn(e)==="[object Set]",Ue=e=>typeof e=="function",d0=e=>typeof e=="string",ar=e=>typeof e=="symbol",i0=e=>e!==null&&typeof e=="object",V1=e=>i0(e)&&Ue(e.then)&&Ue(e.catch),D1=Object.prototype.toString,jn=e=>D1.call(e),_i=e=>jn(e).slice(8,-1),P1=e=>jn(e)==="[object Object]",rr=e=>d0(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Dn=er(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ui=/-(\w)/g,Gt=Wn(e=>e.replace(ui,(t,n)=>n?n.toUpperCase():"")),fi=/\B([A-Z])/g,Zt=Wn(e=>e.replace(fi,"-$1").toLowerCase()),X1=Wn(e=>e.charAt(0).toUpperCase()+e.slice(1)),xa=Wn(e=>e?`on${X1(e)}`:""),vn=(e,t)=>!Object.is(e,t),Sa=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Yn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ci=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Nr;const vi=()=>Nr||(Nr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Y0;class hi{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Y0,!t&&Y0&&(this.index=(Y0.scopes||(Y0.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Y0;try{return Y0=this,t()}finally{Y0=n}}}on(){Y0=this}off(){Y0=this.parent}stop(t){if(this._active){let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function di(e,t=Y0){t&&t.active&&t.effects.push(e)}function mi(){return Y0}const sr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},$1=e=>(e.w&pt)>0,Y1=e=>(e.n&pt)>0,bi=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=pt},pi=e=>{const{deps:t}=e;if(t.length){let n=0;for(let a=0;a<t.length;a++){const s=t[a];$1(s)&&!Y1(s)?s.delete(e):t[n++]=s,s.w&=~pt,s.n&=~pt}t.length=n}},Xa=new WeakMap;let un=0,pt=1;const $a=30;let K0;const Nt=Symbol(""),Ya=Symbol("");class ir{constructor(t,n=null,a){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,di(this,a)}run(){if(!this.active)return this.fn();let t=K0,n=mt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=K0,K0=this,mt=!0,pt=1<<++un,un<=$a?bi(this):Fr(this),this.fn()}finally{un<=$a&&pi(this),pt=1<<--un,K0=this.parent,mt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){K0===this?this.deferStop=!0:this.active&&(Fr(this),this.onStop&&this.onStop(),this.active=!1)}}function Fr(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let mt=!0;const q1=[];function gt(){q1.push(mt),mt=!1}function Qt(){const e=q1.pop();mt=e===void 0?!0:e}function B0(e,t,n){if(mt&&K0){let a=Xa.get(e);a||Xa.set(e,a=new Map);let s=a.get(n);s||a.set(n,s=sr()),U1(s)}}function U1(e,t){let n=!1;un<=$a?Y1(e)||(e.n|=pt,n=!$1(e)):n=!e.has(K0),n&&(e.add(K0),K0.deps.push(e))}function ot(e,t,n,a,s,i){const d=Xa.get(e);if(!d)return;let c=[];if(t==="clear")c=[...d.values()];else if(n==="length"&&qe(e)){const E=Number(a);d.forEach((U,h)=>{(h==="length"||h>=E)&&c.push(U)})}else switch(n!==void 0&&c.push(d.get(n)),t){case"add":qe(e)?rr(n)&&c.push(d.get("length")):(c.push(d.get(Nt)),qt(e)&&c.push(d.get(Ya)));break;case"delete":qe(e)||(c.push(d.get(Nt)),qt(e)&&c.push(d.get(Ya)));break;case"set":qt(e)&&c.push(d.get(Nt));break}if(c.length===1)c[0]&&qa(c[0]);else{const E=[];for(const U of c)U&&E.push(...U);qa(sr(E))}}function qa(e,t){const n=qe(e)?e:[...e];for(const a of n)a.computed&&Hr(a);for(const a of n)a.computed||Hr(a)}function Hr(e,t){(e!==K0||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const xi=er("__proto__,__v_isRef,__isVue"),K1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ar)),Si=lr(),Mi=lr(!1,!0),Ai=lr(!0),kr=Ei();function Ei(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const a=ze(this);for(let i=0,d=this.length;i<d;i++)B0(a,"get",i+"");const s=a[t](...n);return s===-1||s===!1?a[t](...n.map(ze)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){gt();const a=ze(this)[t].apply(this,n);return Qt(),a}}),e}function Ri(e){const t=ze(this);return B0(t,"has",e),t.hasOwnProperty(e)}function lr(e=!1,t=!1){return function(a,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?Xi:Z1:t?z1:W1).get(a))return a;const d=qe(a);if(!e){if(d&&We(kr,s))return Reflect.get(kr,s,i);if(s==="hasOwnProperty")return Ri}const c=Reflect.get(a,s,i);return(ar(s)?K1.has(s):xi(s))||(e||B0(a,"get",s),t)?c:h0(c)?d&&rr(s)?c:c.value:i0(c)?e?g1(c):ur(c):c}}const yi=G1(),Ti=G1(!0);function G1(e=!1){return function(n,a,s,i){let d=n[a];if(jt(d)&&h0(d)&&!h0(s))return!1;if(!e&&(!qn(s)&&!jt(s)&&(d=ze(d),s=ze(s)),!qe(n)&&h0(d)&&!h0(s)))return d.value=s,!0;const c=qe(n)&&rr(a)?Number(a)<n.length:We(n,a),E=Reflect.set(n,a,s,i);return n===ze(i)&&(c?vn(s,d)&&ot(n,"set",a,s):ot(n,"add",a,s)),E}}function wi(e,t){const n=We(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&n&&ot(e,"delete",t,void 0),a}function Bi(e,t){const n=Reflect.has(e,t);return(!ar(t)||!K1.has(t))&&B0(e,"has",t),n}function Ii(e){return B0(e,"iterate",qe(e)?"length":Nt),Reflect.ownKeys(e)}const j1={get:Si,set:yi,deleteProperty:wi,has:Bi,ownKeys:Ii},Ci={get:Ai,set(e,t){return!0},deleteProperty(e,t){return!0}},Li=p0({},j1,{get:Mi,set:Ti}),or=e=>e,zn=e=>Reflect.getPrototypeOf(e);function wn(e,t,n=!1,a=!1){e=e.__v_raw;const s=ze(e),i=ze(t);n||(t!==i&&B0(s,"get",t),B0(s,"get",i));const{has:d}=zn(s),c=a?or:n?cr:hn;if(d.call(s,t))return c(e.get(t));if(d.call(s,i))return c(e.get(i));e!==s&&e.get(t)}function Bn(e,t=!1){const n=this.__v_raw,a=ze(n),s=ze(e);return t||(e!==s&&B0(a,"has",e),B0(a,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function In(e,t=!1){return e=e.__v_raw,!t&&B0(ze(e),"iterate",Nt),Reflect.get(e,"size",e)}function Vr(e){e=ze(e);const t=ze(this);return zn(t).has.call(t,e)||(t.add(e),ot(t,"add",e,e)),this}function Dr(e,t){t=ze(t);const n=ze(this),{has:a,get:s}=zn(n);let i=a.call(n,e);i||(e=ze(e),i=a.call(n,e));const d=s.call(n,e);return n.set(e,t),i?vn(t,d)&&ot(n,"set",e,t):ot(n,"add",e,t),this}function Pr(e){const t=ze(this),{has:n,get:a}=zn(t);let s=n.call(t,e);s||(e=ze(e),s=n.call(t,e)),a&&a.call(t,e);const i=t.delete(e);return s&&ot(t,"delete",e,void 0),i}function Xr(){const e=ze(this),t=e.size!==0,n=e.clear();return t&&ot(e,"clear",void 0,void 0),n}function Cn(e,t){return function(a,s){const i=this,d=i.__v_raw,c=ze(d),E=t?or:e?cr:hn;return!e&&B0(c,"iterate",Nt),d.forEach((U,h)=>a.call(s,E(U),E(h),i))}}function Ln(e,t,n){return function(...a){const s=this.__v_raw,i=ze(s),d=qt(i),c=e==="entries"||e===Symbol.iterator&&d,E=e==="keys"&&d,U=s[e](...a),h=n?or:t?cr:hn;return!t&&B0(i,"iterate",E?Ya:Nt),{next(){const{value:o,done:M}=U.next();return M?{value:o,done:M}:{value:c?[h(o[0]),h(o[1])]:h(o),done:M}},[Symbol.iterator](){return this}}}}function ct(e){return function(...t){return e==="delete"?!1:this}}function Oi(){const e={get(i){return wn(this,i)},get size(){return In(this)},has:Bn,add:Vr,set:Dr,delete:Pr,clear:Xr,forEach:Cn(!1,!1)},t={get(i){return wn(this,i,!1,!0)},get size(){return In(this)},has:Bn,add:Vr,set:Dr,delete:Pr,clear:Xr,forEach:Cn(!1,!0)},n={get(i){return wn(this,i,!0)},get size(){return In(this,!0)},has(i){return Bn.call(this,i,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:Cn(!0,!1)},a={get(i){return wn(this,i,!0,!0)},get size(){return In(this,!0)},has(i){return Bn.call(this,i,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:Cn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Ln(i,!1,!1),n[i]=Ln(i,!0,!1),t[i]=Ln(i,!1,!0),a[i]=Ln(i,!0,!0)}),[e,n,t,a]}const[Ni,Fi,Hi,ki]=Oi();function _r(e,t){const n=t?e?ki:Hi:e?Fi:Ni;return(a,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?a:Reflect.get(We(n,s)&&s in a?n:a,s,i)}const Vi={get:_r(!1,!1)},Di={get:_r(!1,!0)},Pi={get:_r(!0,!1)},W1=new WeakMap,z1=new WeakMap,Z1=new WeakMap,Xi=new WeakMap;function $i(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yi(e){return e.__v_skip||!Object.isExtensible(e)?0:$i(_i(e))}function ur(e){return jt(e)?e:fr(e,!1,j1,Vi,W1)}function qi(e){return fr(e,!1,Li,Di,z1)}function g1(e){return fr(e,!0,Ci,Pi,Z1)}function fr(e,t,n,a,s){if(!i0(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const d=Yi(e);if(d===0)return e;const c=new Proxy(e,d===2?a:n);return s.set(e,c),c}function Ut(e){return jt(e)?Ut(e.__v_raw):!!(e&&e.__v_isReactive)}function jt(e){return!!(e&&e.__v_isReadonly)}function qn(e){return!!(e&&e.__v_isShallow)}function Q1(e){return Ut(e)||jt(e)}function ze(e){const t=e&&e.__v_raw;return t?ze(t):e}function J1(e){return Yn(e,"__v_skip",!0),e}const hn=e=>i0(e)?ur(e):e,cr=e=>i0(e)?g1(e):e;function es(e){mt&&K0&&(e=ze(e),U1(e.dep||(e.dep=sr())))}function ts(e,t){e=ze(e);const n=e.dep;n&&qa(n)}function h0(e){return!!(e&&e.__v_isRef===!0)}function v0(e){return ns(e,!1)}function ln(e){return ns(e,!0)}function ns(e,t){return h0(e)?e:new Ui(e,t)}class Ui{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ze(t),this._value=n?t:hn(t)}get value(){return es(this),this._value}set value(t){const n=this.__v_isShallow||qn(t)||jt(t);t=n?t:ze(t),vn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:hn(t),ts(this))}}function r0(e){return h0(e)?e.value:e}const Ki={get:(e,t,n)=>r0(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const s=e[t];return h0(s)&&!h0(n)?(s.value=n,!0):Reflect.set(e,t,n,a)}};function as(e){return Ut(e)?e:new Proxy(e,Ki)}var rs;class Gi{constructor(t,n,a,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[rs]=!1,this._dirty=!0,this.effect=new ir(t,()=>{this._dirty||(this._dirty=!0,ts(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=a}get value(){const t=ze(this);return es(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}rs="__v_isReadonly";function ji(e,t,n=!1){let a,s;const i=Ue(e);return i?(a=e,s=z0):(a=e.get,s=e.set),new Gi(a,s,i||!s,n)}function bt(e,t,n,a){let s;try{s=a?e(...a):e()}catch(i){Zn(i,t,n)}return s}function D0(e,t,n,a){if(Ue(e)){const i=bt(e,t,n,a);return i&&V1(i)&&i.catch(d=>{Zn(d,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(D0(e[i],t,n,a));return s}function Zn(e,t,n,a=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const d=t.proxy,c=n;for(;i;){const U=i.ec;if(U){for(let h=0;h<U.length;h++)if(U[h](e,d,c)===!1)return}i=i.parent}const E=t.appContext.config.errorHandler;if(E){bt(E,null,10,[e,d,c]);return}}Wi(e,n,s,a)}function Wi(e,t,n,a=!0){console.error(e)}let dn=!1,Ua=!1;const b0=[];let nt=0;const Kt=[];let st=null,Ct=0;const ss=Promise.resolve();let vr=null;function hr(e){const t=vr||ss;return e?t.then(this?e.bind(this):e):t}function zi(e){let t=nt+1,n=b0.length;for(;t<n;){const a=t+n>>>1;mn(b0[a])<e?t=a+1:n=a}return t}function dr(e){(!b0.length||!b0.includes(e,dn&&e.allowRecurse?nt+1:nt))&&(e.id==null?b0.push(e):b0.splice(zi(e.id),0,e),is())}function is(){!dn&&!Ua&&(Ua=!0,vr=ss.then(os))}function Zi(e){const t=b0.indexOf(e);t>nt&&b0.splice(t,1)}function gi(e){qe(e)?Kt.push(...e):(!st||!st.includes(e,e.allowRecurse?Ct+1:Ct))&&Kt.push(e),is()}function $r(e,t=dn?nt+1:0){for(;t<b0.length;t++){const n=b0[t];n&&n.pre&&(b0.splice(t,1),t--,n())}}function ls(e){if(Kt.length){const t=[...new Set(Kt)];if(Kt.length=0,st){st.push(...t);return}for(st=t,st.sort((n,a)=>mn(n)-mn(a)),Ct=0;Ct<st.length;Ct++)st[Ct]();st=null,Ct=0}}const mn=e=>e.id==null?1/0:e.id,Qi=(e,t)=>{const n=mn(e)-mn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function os(e){Ua=!1,dn=!0,b0.sort(Qi);const t=z0;try{for(nt=0;nt<b0.length;nt++){const n=b0[nt];n&&n.active!==!1&&bt(n,null,14)}}finally{nt=0,b0.length=0,ls(),dn=!1,vr=null,(b0.length||Kt.length)&&os()}}function Ji(e,t,...n){if(e.isUnmounted)return;const a=e.vnode.props||t0;let s=n;const i=t.startsWith("update:"),d=i&&t.slice(7);if(d&&d in a){const h=`${d==="modelValue"?"model":d}Modifiers`,{number:o,trim:M}=a[h]||t0;M&&(s=n.map(j=>d0(j)?j.trim():j)),o&&(s=n.map(ci))}let c,E=a[c=xa(t)]||a[c=xa(Gt(t))];!E&&i&&(E=a[c=xa(Zt(t))]),E&&D0(E,e,6,s);const U=a[c+"Once"];if(U){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,D0(U,e,6,s)}}function _s(e,t,n=!1){const a=t.emitsCache,s=a.get(e);if(s!==void 0)return s;const i=e.emits;let d={},c=!1;if(!Ue(e)){const E=U=>{const h=_s(U,t,!0);h&&(c=!0,p0(d,h))};!n&&t.mixins.length&&t.mixins.forEach(E),e.extends&&E(e.extends),e.mixins&&e.mixins.forEach(E)}return!i&&!c?(i0(e)&&a.set(e,null),null):(qe(i)?i.forEach(E=>d[E]=null):p0(d,i),i0(e)&&a.set(e,d),d)}function gn(e,t){return!e||!Gn(t)?!1:(t=t.slice(2).replace(/Once$/,""),We(e,t[0].toLowerCase()+t.slice(1))||We(e,Zt(t))||We(e,t))}let G0=null,Qn=null;function Un(e){const t=G0;return G0=e,Qn=e&&e.type.__scopeId||null,t}function Jn(e){Qn=e}function ea(){Qn=null}function el(e,t=G0,n){if(!t||e._n)return e;const a=(...s)=>{a._d&&Zr(-1);const i=Un(t);let d;try{d=e(...s)}finally{Un(i),a._d&&Zr(1)}return d};return a._n=!0,a._c=!0,a._d=!0,a}function Ma(e){const{type:t,vnode:n,proxy:a,withProxy:s,props:i,propsOptions:[d],slots:c,attrs:E,emit:U,render:h,renderCache:o,data:M,setupState:j,ctx:G,inheritAttrs:Z}=e;let K,y;const x=Un(e);try{if(n.shapeFlag&4){const B=s||a;K=tt(h.call(B,B,o,i,j,M,G)),y=E}else{const B=t;K=tt(B.length>1?B(i,{attrs:E,slots:c,emit:U}):B(i,null)),y=t.props?E:tl(E)}}catch(B){cn.length=0,Zn(B,e,1),K=f0(Z0)}let p=K;if(y&&Z!==!1){const B=Object.keys(y),{shapeFlag:r}=p;B.length&&r&7&&(d&&B.some(tr)&&(y=nl(y,d)),p=xt(p,y))}return n.dirs&&(p=xt(p),p.dirs=p.dirs?p.dirs.concat(n.dirs):n.dirs),n.transition&&(p.transition=n.transition),K=p,Un(x),K}const tl=e=>{let t;for(const n in e)(n==="class"||n==="style"||Gn(n))&&((t||(t={}))[n]=e[n]);return t},nl=(e,t)=>{const n={};for(const a in e)(!tr(a)||!(a.slice(9)in t))&&(n[a]=e[a]);return n};function al(e,t,n){const{props:a,children:s,component:i}=e,{props:d,children:c,patchFlag:E}=t,U=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&E>=0){if(E&1024)return!0;if(E&16)return a?Yr(a,d,U):!!d;if(E&8){const h=t.dynamicProps;for(let o=0;o<h.length;o++){const M=h[o];if(d[M]!==a[M]&&!gn(U,M))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:a===d?!1:a?d?Yr(a,d,U):!0:!!d;return!1}function Yr(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let s=0;s<a.length;s++){const i=a[s];if(t[i]!==e[i]&&!gn(n,i))return!0}return!1}function rl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const sl=e=>e.__isSuspense;function il(e,t){t&&t.pendingBranch?qe(e)?t.effects.push(...e):t.effects.push(e):gi(e)}function ll(e,t){if(u0){let n=u0.provides;const a=u0.parent&&u0.parent.provides;a===n&&(n=u0.provides=Object.create(a)),n[e]=t}}function Pn(e,t,n=!1){const a=u0||G0;if(a){const s=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Ue(t)?t.call(a.proxy):t}}const On={};function j0(e,t,n){return us(e,t,n)}function us(e,t,{immediate:n,deep:a,flush:s,onTrack:i,onTrigger:d}=t0){const c=mi()===(u0==null?void 0:u0.scope)?u0:null;let E,U=!1,h=!1;if(h0(e)?(E=()=>e.value,U=qn(e)):Ut(e)?(E=()=>e,a=!0):qe(e)?(h=!0,U=e.some(p=>Ut(p)||qn(p)),E=()=>e.map(p=>{if(h0(p))return p.value;if(Ut(p))return $t(p);if(Ue(p))return bt(p,c,2)})):Ue(e)?t?E=()=>bt(e,c,2):E=()=>{if(!(c&&c.isUnmounted))return o&&o(),D0(e,c,3,[M])}:E=z0,t&&a){const p=E;E=()=>$t(p())}let o,M=p=>{o=y.onStop=()=>{bt(p,c,4)}},j;if(pn)if(M=z0,t?n&&D0(t,c,3,[E(),h?[]:void 0,M]):E(),s==="sync"){const p=no();j=p.__watcherHandles||(p.__watcherHandles=[])}else return z0;let G=h?new Array(e.length).fill(On):On;const Z=()=>{if(y.active)if(t){const p=y.run();(a||U||(h?p.some((B,r)=>vn(B,G[r])):vn(p,G)))&&(o&&o(),D0(t,c,3,[p,G===On?void 0:h&&G[0]===On?[]:G,M]),G=p)}else y.run()};Z.allowRecurse=!!t;let K;s==="sync"?K=Z:s==="post"?K=()=>w0(Z,c&&c.suspense):(Z.pre=!0,c&&(Z.id=c.uid),K=()=>dr(Z));const y=new ir(E,K);t?n?Z():G=y.run():s==="post"?w0(y.run.bind(y),c&&c.suspense):y.run();const x=()=>{y.stop(),c&&c.scope&&nr(c.scope.effects,y)};return j&&j.push(x),x}function ol(e,t,n){const a=this.proxy,s=d0(e)?e.includes(".")?fs(a,e):()=>a[e]:e.bind(a,a);let i;Ue(t)?i=t:(i=t.handler,n=t);const d=u0;Wt(this);const c=us(s,i.bind(a),n);return d?Wt(d):Ft(),c}function fs(e,t){const n=t.split(".");return()=>{let a=e;for(let s=0;s<n.length&&a;s++)a=a[n[s]];return a}}function $t(e,t){if(!i0(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),h0(e))$t(e.value,t);else if(qe(e))for(let n=0;n<e.length;n++)$t(e[n],t);else if(k1(e)||qt(e))e.forEach(n=>{$t(n,t)});else if(P1(e))for(const n in e)$t(e[n],t);return e}function _l(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return aa(()=>{e.isMounted=!0}),ra(()=>{e.isUnmounting=!0}),e}const F0=[Function,Array],ul={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:F0,onEnter:F0,onAfterEnter:F0,onEnterCancelled:F0,onBeforeLeave:F0,onLeave:F0,onAfterLeave:F0,onLeaveCancelled:F0,onBeforeAppear:F0,onAppear:F0,onAfterAppear:F0,onAppearCancelled:F0},setup(e,{slots:t}){const n=zl(),a=_l();let s;return()=>{const i=t.default&&vs(t.default(),!0);if(!i||!i.length)return;let d=i[0];if(i.length>1){for(const Z of i)if(Z.type!==Z0){d=Z;break}}const c=ze(e),{mode:E}=c;if(a.isLeaving)return Aa(d);const U=qr(d);if(!U)return Aa(d);const h=Ka(U,c,a,n);Ga(U,h);const o=n.subTree,M=o&&qr(o);let j=!1;const{getTransitionKey:G}=U.type;if(G){const Z=G();s===void 0?s=Z:Z!==s&&(s=Z,j=!0)}if(M&&M.type!==Z0&&(!Lt(U,M)||j)){const Z=Ka(M,c,a,n);if(Ga(M,Z),E==="out-in")return a.isLeaving=!0,Z.afterLeave=()=>{a.isLeaving=!1,n.update.active!==!1&&n.update()},Aa(d);E==="in-out"&&U.type!==Z0&&(Z.delayLeave=(K,y,x)=>{const p=cs(a,M);p[String(M.key)]=M,K._leaveCb=()=>{y(),K._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=x})}return d}}},fl=ul;function cs(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function Ka(e,t,n,a){const{appear:s,mode:i,persisted:d=!1,onBeforeEnter:c,onEnter:E,onAfterEnter:U,onEnterCancelled:h,onBeforeLeave:o,onLeave:M,onAfterLeave:j,onLeaveCancelled:G,onBeforeAppear:Z,onAppear:K,onAfterAppear:y,onAppearCancelled:x}=t,p=String(e.key),B=cs(n,e),r=(D,W)=>{D&&D0(D,a,9,W)},S=(D,W)=>{const V=W[1];r(D,W),qe(D)?D.every(P=>P.length<=1)&&V():D.length<=1&&V()},F={mode:i,persisted:d,beforeEnter(D){let W=c;if(!n.isMounted)if(s)W=Z||c;else return;D._leaveCb&&D._leaveCb(!0);const V=B[p];V&&Lt(e,V)&&V.el._leaveCb&&V.el._leaveCb(),r(W,[D])},enter(D){let W=E,V=U,P=h;if(!n.isMounted)if(s)W=K||E,V=y||U,P=x||h;else return;let de=!1;const I=D._enterCb=f=>{de||(de=!0,f?r(P,[D]):r(V,[D]),F.delayedLeave&&F.delayedLeave(),D._enterCb=void 0)};W?S(W,[D,I]):I()},leave(D,W){const V=String(e.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return W();r(o,[D]);let P=!1;const de=D._leaveCb=I=>{P||(P=!0,W(),I?r(G,[D]):r(j,[D]),D._leaveCb=void 0,B[V]===e&&delete B[V])};B[V]=e,M?S(M,[D,de]):de()},clone(D){return Ka(D,t,n,a)}};return F}function Aa(e){if(ta(e))return e=xt(e),e.children=null,e}function qr(e){return ta(e)?e.children?e.children[0]:void 0:e}function Ga(e,t){e.shapeFlag&6&&e.component?Ga(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vs(e,t=!1,n){let a=[],s=0;for(let i=0;i<e.length;i++){let d=e[i];const c=n==null?d.key:String(n)+String(d.key!=null?d.key:i);d.type===O0?(d.patchFlag&128&&s++,a=a.concat(vs(d.children,t,c))):(t||d.type!==Z0)&&a.push(c!=null?xt(d,{key:c}):d)}if(s>1)for(let i=0;i<a.length;i++)a[i].patchFlag=-2;return a}const Xn=e=>!!e.type.__asyncLoader,ta=e=>e.type.__isKeepAlive;function cl(e,t){hs(e,"a",t)}function vl(e,t){hs(e,"da",t)}function hs(e,t,n=u0){const a=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(na(t,a,n),n){let s=n.parent;for(;s&&s.parent;)ta(s.parent.vnode)&&hl(a,t,n,s),s=s.parent}}function hl(e,t,n,a){const s=na(t,e,a,!0);ds(()=>{nr(a[t],s)},n)}function na(e,t,n=u0,a=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...d)=>{if(n.isUnmounted)return;gt(),Wt(n);const c=D0(t,n,e,d);return Ft(),Qt(),c});return a?s.unshift(i):s.push(i),i}}const ut=e=>(t,n=u0)=>(!pn||e==="sp")&&na(e,(...a)=>t(...a),n),dl=ut("bm"),aa=ut("m"),ml=ut("bu"),bl=ut("u"),ra=ut("bum"),ds=ut("um"),pl=ut("sp"),xl=ut("rtg"),Sl=ut("rtc");function Ml(e,t=u0){na("ec",e,t)}function At(e,t,n,a){const s=e.dirs,i=t&&t.dirs;for(let d=0;d<s.length;d++){const c=s[d];i&&(c.oldValue=i[d].value);let E=c.dir[a];E&&(gt(),D0(E,n,8,[e.el,c,e,t]),Qt())}}const Al=Symbol(),ja=e=>e?ws(e)?xr(e)||e.proxy:ja(e.parent):null,fn=p0(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ja(e.parent),$root:e=>ja(e.root),$emit:e=>e.emit,$options:e=>mr(e),$forceUpdate:e=>e.f||(e.f=()=>dr(e.update)),$nextTick:e=>e.n||(e.n=hr.bind(e.proxy)),$watch:e=>ol.bind(e)}),Ea=(e,t)=>e!==t0&&!e.__isScriptSetup&&We(e,t),El={get({_:e},t){const{ctx:n,setupState:a,data:s,props:i,accessCache:d,type:c,appContext:E}=e;let U;if(t[0]!=="$"){const j=d[t];if(j!==void 0)switch(j){case 1:return a[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Ea(a,t))return d[t]=1,a[t];if(s!==t0&&We(s,t))return d[t]=2,s[t];if((U=e.propsOptions[0])&&We(U,t))return d[t]=3,i[t];if(n!==t0&&We(n,t))return d[t]=4,n[t];Wa&&(d[t]=0)}}const h=fn[t];let o,M;if(h)return t==="$attrs"&&B0(e,"get",t),h(e);if((o=c.__cssModules)&&(o=o[t]))return o;if(n!==t0&&We(n,t))return d[t]=4,n[t];if(M=E.config.globalProperties,We(M,t))return M[t]},set({_:e},t,n){const{data:a,setupState:s,ctx:i}=e;return Ea(s,t)?(s[t]=n,!0):a!==t0&&We(a,t)?(a[t]=n,!0):We(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:s,propsOptions:i}},d){let c;return!!n[d]||e!==t0&&We(e,d)||Ea(t,d)||(c=i[0])&&We(c,d)||We(a,d)||We(fn,d)||We(s.config.globalProperties,d)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:We(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Wa=!0;function Rl(e){const t=mr(e),n=e.proxy,a=e.ctx;Wa=!1,t.beforeCreate&&Ur(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:d,watch:c,provide:E,inject:U,created:h,beforeMount:o,mounted:M,beforeUpdate:j,updated:G,activated:Z,deactivated:K,beforeDestroy:y,beforeUnmount:x,destroyed:p,unmounted:B,render:r,renderTracked:S,renderTriggered:F,errorCaptured:D,serverPrefetch:W,expose:V,inheritAttrs:P,components:de,directives:I,filters:f}=t;if(U&&yl(U,a,null,e.appContext.config.unwrapInjectedRef),d)for(const L in d){const T=d[L];Ue(T)&&(a[L]=T.bind(n))}if(s){const L=s.call(n,n);i0(L)&&(e.data=ur(L))}if(Wa=!0,i)for(const L in i){const T=i[L],z=Ue(T)?T.bind(n,n):Ue(T.get)?T.get.bind(n,n):z0,O=!Ue(T)&&Ue(T.set)?T.set.bind(n):z0,m=zt({get:z,set:O});Object.defineProperty(a,L,{enumerable:!0,configurable:!0,get:()=>m.value,set:_=>m.value=_})}if(c)for(const L in c)ms(c[L],a,n,L);if(E){const L=Ue(E)?E.call(n):E;Reflect.ownKeys(L).forEach(T=>{ll(T,L[T])})}h&&Ur(h,e,"c");function $(L,T){qe(T)?T.forEach(z=>L(z.bind(n))):T&&L(T.bind(n))}if($(dl,o),$(aa,M),$(ml,j),$(bl,G),$(cl,Z),$(vl,K),$(Ml,D),$(Sl,S),$(xl,F),$(ra,x),$(ds,B),$(pl,W),qe(V))if(V.length){const L=e.exposed||(e.exposed={});V.forEach(T=>{Object.defineProperty(L,T,{get:()=>n[T],set:z=>n[T]=z})})}else e.exposed||(e.exposed={});r&&e.render===z0&&(e.render=r),P!=null&&(e.inheritAttrs=P),de&&(e.components=de),I&&(e.directives=I)}function yl(e,t,n=z0,a=!1){qe(e)&&(e=za(e));for(const s in e){const i=e[s];let d;i0(i)?"default"in i?d=Pn(i.from||s,i.default,!0):d=Pn(i.from||s):d=Pn(i),h0(d)&&a?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>d.value,set:c=>d.value=c}):t[s]=d}}function Ur(e,t,n){D0(qe(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,n)}function ms(e,t,n,a){const s=a.includes(".")?fs(n,a):()=>n[a];if(d0(e)){const i=t[e];Ue(i)&&j0(s,i)}else if(Ue(e))j0(s,e.bind(n));else if(i0(e))if(qe(e))e.forEach(i=>ms(i,t,n,a));else{const i=Ue(e.handler)?e.handler.bind(n):t[e.handler];Ue(i)&&j0(s,i,e)}}function mr(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:d}}=e.appContext,c=i.get(t);let E;return c?E=c:!s.length&&!n&&!a?E=t:(E={},s.length&&s.forEach(U=>Kn(E,U,d,!0)),Kn(E,t,d)),i0(t)&&i.set(t,E),E}function Kn(e,t,n,a=!1){const{mixins:s,extends:i}=t;i&&Kn(e,i,n,!0),s&&s.forEach(d=>Kn(e,d,n,!0));for(const d in t)if(!(a&&d==="expose")){const c=Tl[d]||n&&n[d];e[d]=c?c(e[d],t[d]):t[d]}return e}const Tl={data:Kr,props:It,emits:It,methods:It,computed:It,beforeCreate:S0,created:S0,beforeMount:S0,mounted:S0,beforeUpdate:S0,updated:S0,beforeDestroy:S0,beforeUnmount:S0,destroyed:S0,unmounted:S0,activated:S0,deactivated:S0,errorCaptured:S0,serverPrefetch:S0,components:It,directives:It,watch:Bl,provide:Kr,inject:wl};function Kr(e,t){return t?e?function(){return p0(Ue(e)?e.call(this,this):e,Ue(t)?t.call(this,this):t)}:t:e}function wl(e,t){return It(za(e),za(t))}function za(e){if(qe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function S0(e,t){return e?[...new Set([].concat(e,t))]:t}function It(e,t){return e?p0(p0(Object.create(null),e),t):t}function Bl(e,t){if(!e)return t;if(!t)return e;const n=p0(Object.create(null),e);for(const a in t)n[a]=S0(e[a],t[a]);return n}function Il(e,t,n,a=!1){const s={},i={};Yn(i,ia,1),e.propsDefaults=Object.create(null),bs(e,t,s,i);for(const d in e.propsOptions[0])d in s||(s[d]=void 0);n?e.props=a?s:qi(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Cl(e,t,n,a){const{props:s,attrs:i,vnode:{patchFlag:d}}=e,c=ze(s),[E]=e.propsOptions;let U=!1;if((a||d>0)&&!(d&16)){if(d&8){const h=e.vnode.dynamicProps;for(let o=0;o<h.length;o++){let M=h[o];if(gn(e.emitsOptions,M))continue;const j=t[M];if(E)if(We(i,M))j!==i[M]&&(i[M]=j,U=!0);else{const G=Gt(M);s[G]=Za(E,c,G,j,e,!1)}else j!==i[M]&&(i[M]=j,U=!0)}}}else{bs(e,t,s,i)&&(U=!0);let h;for(const o in c)(!t||!We(t,o)&&((h=Zt(o))===o||!We(t,h)))&&(E?n&&(n[o]!==void 0||n[h]!==void 0)&&(s[o]=Za(E,c,o,void 0,e,!0)):delete s[o]);if(i!==c)for(const o in i)(!t||!We(t,o))&&(delete i[o],U=!0)}U&&ot(e,"set","$attrs")}function bs(e,t,n,a){const[s,i]=e.propsOptions;let d=!1,c;if(t)for(let E in t){if(Dn(E))continue;const U=t[E];let h;s&&We(s,h=Gt(E))?!i||!i.includes(h)?n[h]=U:(c||(c={}))[h]=U:gn(e.emitsOptions,E)||(!(E in a)||U!==a[E])&&(a[E]=U,d=!0)}if(i){const E=ze(n),U=c||t0;for(let h=0;h<i.length;h++){const o=i[h];n[o]=Za(s,E,o,U[o],e,!We(U,o))}}return d}function Za(e,t,n,a,s,i){const d=e[n];if(d!=null){const c=We(d,"default");if(c&&a===void 0){const E=d.default;if(d.type!==Function&&Ue(E)){const{propsDefaults:U}=s;n in U?a=U[n]:(Wt(s),a=U[n]=E.call(null,t),Ft())}else a=E}d[0]&&(i&&!c?a=!1:d[1]&&(a===""||a===Zt(n))&&(a=!0))}return a}function ps(e,t,n=!1){const a=t.propsCache,s=a.get(e);if(s)return s;const i=e.props,d={},c=[];let E=!1;if(!Ue(e)){const h=o=>{E=!0;const[M,j]=ps(o,t,!0);p0(d,M),j&&c.push(...j)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!E)return i0(e)&&a.set(e,Yt),Yt;if(qe(i))for(let h=0;h<i.length;h++){const o=Gt(i[h]);Gr(o)&&(d[o]=t0)}else if(i)for(const h in i){const o=Gt(h);if(Gr(o)){const M=i[h],j=d[o]=qe(M)||Ue(M)?{type:M}:Object.assign({},M);if(j){const G=zr(Boolean,j.type),Z=zr(String,j.type);j[0]=G>-1,j[1]=Z<0||G<Z,(G>-1||We(j,"default"))&&c.push(o)}}}const U=[d,c];return i0(e)&&a.set(e,U),U}function Gr(e){return e[0]!=="$"}function jr(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Wr(e,t){return jr(e)===jr(t)}function zr(e,t){return qe(t)?t.findIndex(n=>Wr(n,e)):Ue(t)&&Wr(t,e)?0:-1}const xs=e=>e[0]==="_"||e==="$stable",br=e=>qe(e)?e.map(tt):[tt(e)],Ll=(e,t,n)=>{if(t._n)return t;const a=el((...s)=>br(t(...s)),n);return a._c=!1,a},Ss=(e,t,n)=>{const a=e._ctx;for(const s in e){if(xs(s))continue;const i=e[s];if(Ue(i))t[s]=Ll(s,i,a);else if(i!=null){const d=br(i);t[s]=()=>d}}},Ms=(e,t)=>{const n=br(t);e.slots.default=()=>n},Ol=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ze(t),Yn(t,"_",n)):Ss(t,e.slots={})}else e.slots={},t&&Ms(e,t);Yn(e.slots,ia,1)},Nl=(e,t,n)=>{const{vnode:a,slots:s}=e;let i=!0,d=t0;if(a.shapeFlag&32){const c=t._;c?n&&c===1?i=!1:(p0(s,t),!n&&c===1&&delete s._):(i=!t.$stable,Ss(t,s)),d=t}else t&&(Ms(e,t),d={default:1});if(i)for(const c in s)!xs(c)&&!(c in d)&&delete s[c]};function As(){return{app:null,config:{isNativeTag:ii,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fl=0;function Hl(e,t){return function(a,s=null){Ue(a)||(a=Object.assign({},a)),s!=null&&!i0(s)&&(s=null);const i=As(),d=new Set;let c=!1;const E=i.app={_uid:Fl++,_component:a,_props:s,_container:null,_context:i,_instance:null,version:ao,get config(){return i.config},set config(U){},use(U,...h){return d.has(U)||(U&&Ue(U.install)?(d.add(U),U.install(E,...h)):Ue(U)&&(d.add(U),U(E,...h))),E},mixin(U){return i.mixins.includes(U)||i.mixins.push(U),E},component(U,h){return h?(i.components[U]=h,E):i.components[U]},directive(U,h){return h?(i.directives[U]=h,E):i.directives[U]},mount(U,h,o){if(!c){const M=f0(a,s);return M.appContext=i,h&&t?t(M,U):e(M,U,o),c=!0,E._container=U,U.__vue_app__=E,xr(M.component)||M.component.proxy}},unmount(){c&&(e(null,E._container),delete E._container.__vue_app__)},provide(U,h){return i.provides[U]=h,E}};return E}}function ga(e,t,n,a,s=!1){if(qe(e)){e.forEach((M,j)=>ga(M,t&&(qe(t)?t[j]:t),n,a,s));return}if(Xn(a)&&!s)return;const i=a.shapeFlag&4?xr(a.component)||a.component.proxy:a.el,d=s?null:i,{i:c,r:E}=e,U=t&&t.r,h=c.refs===t0?c.refs={}:c.refs,o=c.setupState;if(U!=null&&U!==E&&(d0(U)?(h[U]=null,We(o,U)&&(o[U]=null)):h0(U)&&(U.value=null)),Ue(E))bt(E,c,12,[d,h]);else{const M=d0(E),j=h0(E);if(M||j){const G=()=>{if(e.f){const Z=M?We(o,E)?o[E]:h[E]:E.value;s?qe(Z)&&nr(Z,i):qe(Z)?Z.includes(i)||Z.push(i):M?(h[E]=[i],We(o,E)&&(o[E]=h[E])):(E.value=[i],e.k&&(h[e.k]=E.value))}else M?(h[E]=d,We(o,E)&&(o[E]=d)):j&&(E.value=d,e.k&&(h[e.k]=d))};d?(G.id=-1,w0(G,n)):G()}}}const w0=il;function kl(e){return Vl(e)}function Vl(e,t){const n=vi();n.__VUE__=!0;const{insert:a,remove:s,patchProp:i,createElement:d,createText:c,createComment:E,setText:U,setElementText:h,parentNode:o,nextSibling:M,setScopeId:j=z0,insertStaticContent:G}=e,Z=(C,X,Q,ae=null,ie=null,xe=null,Ce=!1,l=null,v=!!X.dynamicChildren)=>{if(C===X)return;C&&!Lt(C,X)&&(ae=oe(C),_(C,ie,xe,!0),C=null),X.patchFlag===-2&&(v=!1,X.dynamicChildren=null);const{type:re,ref:he,shapeFlag:me}=X;switch(re){case sa:K(C,X,Q,ae);break;case Z0:y(C,X,Q,ae);break;case Ra:C==null&&x(X,Q,ae,Ce);break;case O0:de(C,X,Q,ae,ie,xe,Ce,l,v);break;default:me&1?r(C,X,Q,ae,ie,xe,Ce,l,v):me&6?I(C,X,Q,ae,ie,xe,Ce,l,v):(me&64||me&128)&&re.process(C,X,Q,ae,ie,xe,Ce,l,v,ne)}he!=null&&ie&&ga(he,C&&C.ref,xe,X||C,!X)},K=(C,X,Q,ae)=>{if(C==null)a(X.el=c(X.children),Q,ae);else{const ie=X.el=C.el;X.children!==C.children&&U(ie,X.children)}},y=(C,X,Q,ae)=>{C==null?a(X.el=E(X.children||""),Q,ae):X.el=C.el},x=(C,X,Q,ae)=>{[C.el,C.anchor]=G(C.children,X,Q,ae,C.el,C.anchor)},p=({el:C,anchor:X},Q,ae)=>{let ie;for(;C&&C!==X;)ie=M(C),a(C,Q,ae),C=ie;a(X,Q,ae)},B=({el:C,anchor:X})=>{let Q;for(;C&&C!==X;)Q=M(C),s(C),C=Q;s(X)},r=(C,X,Q,ae,ie,xe,Ce,l,v)=>{Ce=Ce||X.type==="svg",C==null?S(X,Q,ae,ie,xe,Ce,l,v):W(C,X,ie,xe,Ce,l,v)},S=(C,X,Q,ae,ie,xe,Ce,l)=>{let v,re;const{type:he,props:me,shapeFlag:pe,transition:be,dirs:Se}=C;if(v=C.el=d(C.type,xe,me&&me.is,me),pe&8?h(v,C.children):pe&16&&D(C.children,v,null,ae,ie,xe&&he!=="foreignObject",Ce,l),Se&&At(C,null,ae,"created"),F(v,C,C.scopeId,Ce,ae),me){for(const we in me)we!=="value"&&!Dn(we)&&i(v,we,null,me[we],xe,C.children,ae,ie,g);"value"in me&&i(v,"value",null,me.value),(re=me.onVnodeBeforeMount)&&J0(re,ae,C)}Se&&At(C,null,ae,"beforeMount");const Fe=(!ie||ie&&!ie.pendingBranch)&&be&&!be.persisted;Fe&&be.beforeEnter(v),a(v,X,Q),((re=me&&me.onVnodeMounted)||Fe||Se)&&w0(()=>{re&&J0(re,ae,C),Fe&&be.enter(v),Se&&At(C,null,ae,"mounted")},ie)},F=(C,X,Q,ae,ie)=>{if(Q&&j(C,Q),ae)for(let xe=0;xe<ae.length;xe++)j(C,ae[xe]);if(ie){let xe=ie.subTree;if(X===xe){const Ce=ie.vnode;F(C,Ce,Ce.scopeId,Ce.slotScopeIds,ie.parent)}}},D=(C,X,Q,ae,ie,xe,Ce,l,v=0)=>{for(let re=v;re<C.length;re++){const he=C[re]=l?dt(C[re]):tt(C[re]);Z(null,he,X,Q,ae,ie,xe,Ce,l)}},W=(C,X,Q,ae,ie,xe,Ce)=>{const l=X.el=C.el;let{patchFlag:v,dynamicChildren:re,dirs:he}=X;v|=C.patchFlag&16;const me=C.props||t0,pe=X.props||t0;let be;Q&&Et(Q,!1),(be=pe.onVnodeBeforeUpdate)&&J0(be,Q,X,C),he&&At(X,C,Q,"beforeUpdate"),Q&&Et(Q,!0);const Se=ie&&X.type!=="foreignObject";if(re?V(C.dynamicChildren,re,l,Q,ae,Se,xe):Ce||T(C,X,l,null,Q,ae,Se,xe,!1),v>0){if(v&16)P(l,X,me,pe,Q,ae,ie);else if(v&2&&me.class!==pe.class&&i(l,"class",null,pe.class,ie),v&4&&i(l,"style",me.style,pe.style,ie),v&8){const Fe=X.dynamicProps;for(let we=0;we<Fe.length;we++){const Te=Fe[we],Xe=me[Te],Ze=pe[Te];(Ze!==Xe||Te==="value")&&i(l,Te,Xe,Ze,ie,C.children,Q,ae,g)}}v&1&&C.children!==X.children&&h(l,X.children)}else!Ce&&re==null&&P(l,X,me,pe,Q,ae,ie);((be=pe.onVnodeUpdated)||he)&&w0(()=>{be&&J0(be,Q,X,C),he&&At(X,C,Q,"updated")},ae)},V=(C,X,Q,ae,ie,xe,Ce)=>{for(let l=0;l<X.length;l++){const v=C[l],re=X[l],he=v.el&&(v.type===O0||!Lt(v,re)||v.shapeFlag&70)?o(v.el):Q;Z(v,re,he,null,ae,ie,xe,Ce,!0)}},P=(C,X,Q,ae,ie,xe,Ce)=>{if(Q!==ae){if(Q!==t0)for(const l in Q)!Dn(l)&&!(l in ae)&&i(C,l,Q[l],null,Ce,X.children,ie,xe,g);for(const l in ae){if(Dn(l))continue;const v=ae[l],re=Q[l];v!==re&&l!=="value"&&i(C,l,re,v,Ce,X.children,ie,xe,g)}"value"in ae&&i(C,"value",Q.value,ae.value)}},de=(C,X,Q,ae,ie,xe,Ce,l,v)=>{const re=X.el=C?C.el:c(""),he=X.anchor=C?C.anchor:c("");let{patchFlag:me,dynamicChildren:pe,slotScopeIds:be}=X;be&&(l=l?l.concat(be):be),C==null?(a(re,Q,ae),a(he,Q,ae),D(X.children,Q,he,ie,xe,Ce,l,v)):me>0&&me&64&&pe&&C.dynamicChildren?(V(C.dynamicChildren,pe,Q,ie,xe,Ce,l),(X.key!=null||ie&&X===ie.subTree)&&Es(C,X,!0)):T(C,X,Q,he,ie,xe,Ce,l,v)},I=(C,X,Q,ae,ie,xe,Ce,l,v)=>{X.slotScopeIds=l,C==null?X.shapeFlag&512?ie.ctx.activate(X,Q,ae,Ce,v):f(X,Q,ae,ie,xe,Ce,v):H(C,X,v)},f=(C,X,Q,ae,ie,xe,Ce)=>{const l=C.component=Wl(C,ae,ie);if(ta(C)&&(l.ctx.renderer=ne),Zl(l),l.asyncDep){if(ie&&ie.registerDep(l,$),!C.el){const v=l.subTree=f0(Z0);y(null,v,X,Q)}return}$(l,C,X,Q,ie,xe,Ce)},H=(C,X,Q)=>{const ae=X.component=C.component;if(al(C,X,Q))if(ae.asyncDep&&!ae.asyncResolved){L(ae,X,Q);return}else ae.next=X,Zi(ae.update),ae.update();else X.el=C.el,ae.vnode=X},$=(C,X,Q,ae,ie,xe,Ce)=>{const l=()=>{if(C.isMounted){let{next:he,bu:me,u:pe,parent:be,vnode:Se}=C,Fe=he,we;Et(C,!1),he?(he.el=Se.el,L(C,he,Ce)):he=Se,me&&Sa(me),(we=he.props&&he.props.onVnodeBeforeUpdate)&&J0(we,be,he,Se),Et(C,!0);const Te=Ma(C),Xe=C.subTree;C.subTree=Te,Z(Xe,Te,o(Xe.el),oe(Xe),C,ie,xe),he.el=Te.el,Fe===null&&rl(C,Te.el),pe&&w0(pe,ie),(we=he.props&&he.props.onVnodeUpdated)&&w0(()=>J0(we,be,he,Se),ie)}else{let he;const{el:me,props:pe}=X,{bm:be,m:Se,parent:Fe}=C,we=Xn(X);if(Et(C,!1),be&&Sa(be),!we&&(he=pe&&pe.onVnodeBeforeMount)&&J0(he,Fe,X),Et(C,!0),me&&ye){const Te=()=>{C.subTree=Ma(C),ye(me,C.subTree,C,ie,null)};we?X.type.__asyncLoader().then(()=>!C.isUnmounted&&Te()):Te()}else{const Te=C.subTree=Ma(C);Z(null,Te,Q,ae,C,ie,xe),X.el=Te.el}if(Se&&w0(Se,ie),!we&&(he=pe&&pe.onVnodeMounted)){const Te=X;w0(()=>J0(he,Fe,Te),ie)}(X.shapeFlag&256||Fe&&Xn(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&C.a&&w0(C.a,ie),C.isMounted=!0,X=Q=ae=null}},v=C.effect=new ir(l,()=>dr(re),C.scope),re=C.update=()=>v.run();re.id=C.uid,Et(C,!0),re()},L=(C,X,Q)=>{X.component=C;const ae=C.vnode.props;C.vnode=X,C.next=null,Cl(C,X.props,ae,Q),Nl(C,X.children,Q),gt(),$r(),Qt()},T=(C,X,Q,ae,ie,xe,Ce,l,v=!1)=>{const re=C&&C.children,he=C?C.shapeFlag:0,me=X.children,{patchFlag:pe,shapeFlag:be}=X;if(pe>0){if(pe&128){O(re,me,Q,ae,ie,xe,Ce,l,v);return}else if(pe&256){z(re,me,Q,ae,ie,xe,Ce,l,v);return}}be&8?(he&16&&g(re,ie,xe),me!==re&&h(Q,me)):he&16?be&16?O(re,me,Q,ae,ie,xe,Ce,l,v):g(re,ie,xe,!0):(he&8&&h(Q,""),be&16&&D(me,Q,ae,ie,xe,Ce,l,v))},z=(C,X,Q,ae,ie,xe,Ce,l,v)=>{C=C||Yt,X=X||Yt;const re=C.length,he=X.length,me=Math.min(re,he);let pe;for(pe=0;pe<me;pe++){const be=X[pe]=v?dt(X[pe]):tt(X[pe]);Z(C[pe],be,Q,null,ie,xe,Ce,l,v)}re>he?g(C,ie,xe,!0,!1,me):D(X,Q,ae,ie,xe,Ce,l,v,me)},O=(C,X,Q,ae,ie,xe,Ce,l,v)=>{let re=0;const he=X.length;let me=C.length-1,pe=he-1;for(;re<=me&&re<=pe;){const be=C[re],Se=X[re]=v?dt(X[re]):tt(X[re]);if(Lt(be,Se))Z(be,Se,Q,null,ie,xe,Ce,l,v);else break;re++}for(;re<=me&&re<=pe;){const be=C[me],Se=X[pe]=v?dt(X[pe]):tt(X[pe]);if(Lt(be,Se))Z(be,Se,Q,null,ie,xe,Ce,l,v);else break;me--,pe--}if(re>me){if(re<=pe){const be=pe+1,Se=be<he?X[be].el:ae;for(;re<=pe;)Z(null,X[re]=v?dt(X[re]):tt(X[re]),Q,Se,ie,xe,Ce,l,v),re++}}else if(re>pe)for(;re<=me;)_(C[re],ie,xe,!0),re++;else{const be=re,Se=re,Fe=new Map;for(re=Se;re<=pe;re++){const k=X[re]=v?dt(X[re]):tt(X[re]);k.key!=null&&Fe.set(k.key,re)}let we,Te=0;const Xe=pe-Se+1;let Ze=!1,Ke=0;const A=new Array(Xe);for(re=0;re<Xe;re++)A[re]=0;for(re=be;re<=me;re++){const k=C[re];if(Te>=Xe){_(k,ie,xe,!0);continue}let Y;if(k.key!=null)Y=Fe.get(k.key);else for(we=Se;we<=pe;we++)if(A[we-Se]===0&&Lt(k,X[we])){Y=we;break}Y===void 0?_(k,ie,xe,!0):(A[Y-Se]=re+1,Y>=Ke?Ke=Y:Ze=!0,Z(k,X[Y],Q,null,ie,xe,Ce,l,v),Te++)}const R=Ze?Dl(A):Yt;for(we=R.length-1,re=Xe-1;re>=0;re--){const k=Se+re,Y=X[k],J=k+1<he?X[k+1].el:ae;A[re]===0?Z(null,Y,Q,J,ie,xe,Ce,l,v):Ze&&(we<0||re!==R[we]?m(Y,Q,J,2):we--)}}},m=(C,X,Q,ae,ie=null)=>{const{el:xe,type:Ce,transition:l,children:v,shapeFlag:re}=C;if(re&6){m(C.component.subTree,X,Q,ae);return}if(re&128){C.suspense.move(X,Q,ae);return}if(re&64){Ce.move(C,X,Q,ne);return}if(Ce===O0){a(xe,X,Q);for(let me=0;me<v.length;me++)m(v[me],X,Q,ae);a(C.anchor,X,Q);return}if(Ce===Ra){p(C,X,Q);return}if(ae!==2&&re&1&&l)if(ae===0)l.beforeEnter(xe),a(xe,X,Q),w0(()=>l.enter(xe),ie);else{const{leave:me,delayLeave:pe,afterLeave:be}=l,Se=()=>a(xe,X,Q),Fe=()=>{me(xe,()=>{Se(),be&&be()})};pe?pe(xe,Se,Fe):Fe()}else a(xe,X,Q)},_=(C,X,Q,ae=!1,ie=!1)=>{const{type:xe,props:Ce,ref:l,children:v,dynamicChildren:re,shapeFlag:he,patchFlag:me,dirs:pe}=C;if(l!=null&&ga(l,null,Q,C,!0),he&256){X.ctx.deactivate(C);return}const be=he&1&&pe,Se=!Xn(C);let Fe;if(Se&&(Fe=Ce&&Ce.onVnodeBeforeUnmount)&&J0(Fe,X,C),he&6)w(C.component,Q,ae);else{if(he&128){C.suspense.unmount(Q,ae);return}be&&At(C,null,X,"beforeUnmount"),he&64?C.type.remove(C,X,Q,ie,ne,ae):re&&(xe!==O0||me>0&&me&64)?g(re,X,Q,!1,!0):(xe===O0&&me&384||!ie&&he&16)&&g(v,X,Q),ae&&u(C)}(Se&&(Fe=Ce&&Ce.onVnodeUnmounted)||be)&&w0(()=>{Fe&&J0(Fe,X,C),be&&At(C,null,X,"unmounted")},Q)},u=C=>{const{type:X,el:Q,anchor:ae,transition:ie}=C;if(X===O0){b(Q,ae);return}if(X===Ra){B(C);return}const xe=()=>{s(Q),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(C.shapeFlag&1&&ie&&!ie.persisted){const{leave:Ce,delayLeave:l}=ie,v=()=>Ce(Q,xe);l?l(C.el,xe,v):v()}else xe()},b=(C,X)=>{let Q;for(;C!==X;)Q=M(C),s(C),C=Q;s(X)},w=(C,X,Q)=>{const{bum:ae,scope:ie,update:xe,subTree:Ce,um:l}=C;ae&&Sa(ae),ie.stop(),xe&&(xe.active=!1,_(Ce,C,X,Q)),l&&w0(l,X),w0(()=>{C.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},g=(C,X,Q,ae=!1,ie=!1,xe=0)=>{for(let Ce=xe;Ce<C.length;Ce++)_(C[Ce],X,Q,ae,ie)},oe=C=>C.shapeFlag&6?oe(C.component.subTree):C.shapeFlag&128?C.suspense.next():M(C.anchor||C.el),q=(C,X,Q)=>{C==null?X._vnode&&_(X._vnode,null,null,!0):Z(X._vnode||null,C,X,null,null,null,Q),$r(),ls(),X._vnode=C},ne={p:Z,um:_,m,r:u,mt:f,mc:D,pc:T,pbc:V,n:oe,o:e};let ve,ye;return t&&([ve,ye]=t(ne)),{render:q,hydrate:ve,createApp:Hl(q,ve)}}function Et({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Es(e,t,n=!1){const a=e.children,s=t.children;if(qe(a)&&qe(s))for(let i=0;i<a.length;i++){const d=a[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=dt(s[i]),c.el=d.el),n||Es(d,c)),c.type===sa&&(c.el=d.el)}}function Dl(e){const t=e.slice(),n=[0];let a,s,i,d,c;const E=e.length;for(a=0;a<E;a++){const U=e[a];if(U!==0){if(s=n[n.length-1],e[s]<U){t[a]=s,n.push(a);continue}for(i=0,d=n.length-1;i<d;)c=i+d>>1,e[n[c]]<U?i=c+1:d=c;U<e[n[i]]&&(i>0&&(t[a]=n[i-1]),n[i]=a)}}for(i=n.length,d=n[i-1];i-- >0;)n[i]=d,d=t[d];return n}const Pl=e=>e.__isTeleport,O0=Symbol(void 0),sa=Symbol(void 0),Z0=Symbol(void 0),Ra=Symbol(void 0),cn=[];let W0=null;function q0(e=!1){cn.push(W0=e?null:[])}function Xl(){cn.pop(),W0=cn[cn.length-1]||null}let bn=1;function Zr(e){bn+=e}function Rs(e){return e.dynamicChildren=bn>0?W0||Yt:null,Xl(),bn>0&&W0&&W0.push(e),e}function it(e,t,n,a,s,i){return Rs(Le(e,t,n,a,s,i,!0))}function ys(e,t,n,a,s){return Rs(f0(e,t,n,a,s,!0))}function $l(e){return e?e.__v_isVNode===!0:!1}function Lt(e,t){return e.type===t.type&&e.key===t.key}const ia="__vInternal",Ts=({key:e})=>e??null,$n=({ref:e,ref_key:t,ref_for:n})=>e!=null?d0(e)||h0(e)||Ue(e)?{i:G0,r:e,k:t,f:!!n}:e:null;function Le(e,t=null,n=null,a=0,s=null,i=e===O0?0:1,d=!1,c=!1){const E={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ts(t),ref:t&&$n(t),scopeId:Qn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:a,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:G0};return c?(pr(E,n),i&128&&e.normalize(E)):n&&(E.shapeFlag|=d0(n)?8:16),bn>0&&!d&&W0&&(E.patchFlag>0||i&6)&&E.patchFlag!==32&&W0.push(E),E}const f0=Yl;function Yl(e,t=null,n=null,a=0,s=null,i=!1){if((!e||e===Al)&&(e=Z0),$l(e)){const c=xt(e,t,!0);return n&&pr(c,n),bn>0&&!i&&W0&&(c.shapeFlag&6?W0[W0.indexOf(e)]=c:W0.push(c)),c.patchFlag|=-2,c}if(eo(e)&&(e=e.__vccOpts),t){t=ql(t);let{class:c,style:E}=t;c&&!d0(c)&&(t.class=Mn(c)),i0(E)&&(Q1(E)&&!qe(E)&&(E=p0({},E)),t.style=Sn(E))}const d=d0(e)?1:sl(e)?128:Pl(e)?64:i0(e)?4:Ue(e)?2:0;return Le(e,t,n,a,s,d,i,!0)}function ql(e){return e?Q1(e)||ia in e?p0({},e):e:null}function xt(e,t,n=!1){const{props:a,ref:s,patchFlag:i,children:d}=e,c=t?Kl(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ts(c),ref:t&&t.ref?n&&s?qe(s)?s.concat($n(t)):[s,$n(t)]:$n(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==O0?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xt(e.ssContent),ssFallback:e.ssFallback&&xt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Qa(e=" ",t=0){return f0(sa,null,e,t)}function Ul(e="",t=!1){return t?(q0(),ys(Z0,null,e)):f0(Z0,null,e)}function tt(e){return e==null||typeof e=="boolean"?f0(Z0):qe(e)?f0(O0,null,e.slice()):typeof e=="object"?dt(e):f0(sa,null,String(e))}function dt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:xt(e)}function pr(e,t){let n=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(qe(t))n=16;else if(typeof t=="object")if(a&65){const s=t.default;s&&(s._c&&(s._d=!1),pr(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(ia in t)?t._ctx=G0:s===3&&G0&&(G0.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ue(t)?(t={default:t,_ctx:G0},n=32):(t=String(t),a&64?(n=16,t=[Qa(t)]):n=8);e.children=t,e.shapeFlag|=n}function Kl(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const s in a)if(s==="class")t.class!==a.class&&(t.class=Mn([t.class,a.class]));else if(s==="style")t.style=Sn([t.style,a.style]);else if(Gn(s)){const i=t[s],d=a[s];d&&i!==d&&!(qe(i)&&i.includes(d))&&(t[s]=i?[].concat(i,d):d)}else s!==""&&(t[s]=a[s])}return t}function J0(e,t,n,a=null){D0(e,t,7,[n,a])}const Gl=As();let jl=0;function Wl(e,t,n){const a=e.type,s=(t?t.appContext:e.appContext)||Gl,i={uid:jl++,vnode:e,type:a,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new hi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ps(a,s),emitsOptions:_s(a,s),emit:null,emitted:null,propsDefaults:t0,inheritAttrs:a.inheritAttrs,ctx:t0,data:t0,props:t0,attrs:t0,slots:t0,refs:t0,setupState:t0,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Ji.bind(null,i),e.ce&&e.ce(i),i}let u0=null;const zl=()=>u0||G0,Wt=e=>{u0=e,e.scope.on()},Ft=()=>{u0&&u0.scope.off(),u0=null};function ws(e){return e.vnode.shapeFlag&4}let pn=!1;function Zl(e,t=!1){pn=t;const{props:n,children:a}=e.vnode,s=ws(e);Il(e,n,s,t),Ol(e,a);const i=s?gl(e,t):void 0;return pn=!1,i}function gl(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=J1(new Proxy(e.ctx,El));const{setup:a}=n;if(a){const s=e.setupContext=a.length>1?Jl(e):null;Wt(e),gt();const i=bt(a,e,0,[e.props,s]);if(Qt(),Ft(),V1(i)){if(i.then(Ft,Ft),t)return i.then(d=>{gr(e,d,t)}).catch(d=>{Zn(d,e,0)});e.asyncDep=i}else gr(e,i,t)}else Bs(e,t)}function gr(e,t,n){Ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:i0(t)&&(e.setupState=as(t)),Bs(e,n)}let Qr;function Bs(e,t,n){const a=e.type;if(!e.render){if(!t&&Qr&&!a.render){const s=a.template||mr(e).template;if(s){const{isCustomElement:i,compilerOptions:d}=e.appContext.config,{delimiters:c,compilerOptions:E}=a,U=p0(p0({isCustomElement:i,delimiters:c},d),E);a.render=Qr(s,U)}}e.render=a.render||z0}Wt(e),gt(),Rl(e),Qt(),Ft()}function Ql(e){return new Proxy(e.attrs,{get(t,n){return B0(e,"get","$attrs"),t[n]}})}function Jl(e){const t=a=>{e.exposed=a||{}};let n;return{get attrs(){return n||(n=Ql(e))},slots:e.slots,emit:e.emit,expose:t}}function xr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(as(J1(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in fn)return fn[n](e)},has(t,n){return n in t||n in fn}}))}function eo(e){return Ue(e)&&"__vccOpts"in e}const zt=(e,t)=>ji(e,t,pn),to=Symbol(""),no=()=>Pn(to),ao="3.2.47",ro="http://www.w3.org/2000/svg",Ot=typeof document<"u"?document:null,Jr=Ot&&Ot.createElement("template"),so={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const s=t?Ot.createElementNS(ro,e):Ot.createElement(e,n?{is:n}:void 0);return e==="select"&&a&&a.multiple!=null&&s.setAttribute("multiple",a.multiple),s},createText:e=>Ot.createTextNode(e),createComment:e=>Ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,s,i){const d=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Jr.innerHTML=a?`<svg>${e}</svg>`:e;const c=Jr.content;if(a){const E=c.firstChild;for(;E.firstChild;)c.appendChild(E.firstChild);c.removeChild(E)}t.insertBefore(c,n)}return[d?d.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function io(e,t,n){const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function lo(e,t,n){const a=e.style,s=d0(n);if(n&&!s){if(t&&!d0(t))for(const i in t)n[i]==null&&Ja(a,i,"");for(const i in n)Ja(a,i,n[i])}else{const i=a.display;s?t!==n&&(a.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(a.display=i)}}const e1=/\s*!important$/;function Ja(e,t,n){if(qe(n))n.forEach(a=>Ja(e,t,a));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const a=oo(e,t);e1.test(n)?e.setProperty(Zt(a),n.replace(e1,""),"important"):e[a]=n}}const t1=["Webkit","Moz","ms"],ya={};function oo(e,t){const n=ya[t];if(n)return n;let a=Gt(t);if(a!=="filter"&&a in e)return ya[t]=a;a=X1(a);for(let s=0;s<t1.length;s++){const i=t1[s]+a;if(i in e)return ya[t]=i}return t}const n1="http://www.w3.org/1999/xlink";function _o(e,t,n,a,s){if(a&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(n1,t.slice(6,t.length)):e.setAttributeNS(n1,t,n);else{const i=si(t);n==null||i&&!F1(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function uo(e,t,n,a,s,i,d){if(t==="innerHTML"||t==="textContent"){a&&d(a,s,i),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const E=n??"";(e.value!==E||e.tagName==="OPTION")&&(e.value=E),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const E=typeof e[t];E==="boolean"?n=F1(n):n==null&&E==="string"?(n="",c=!0):E==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function fo(e,t,n,a){e.addEventListener(t,n,a)}function co(e,t,n,a){e.removeEventListener(t,n,a)}function vo(e,t,n,a,s=null){const i=e._vei||(e._vei={}),d=i[t];if(a&&d)d.value=a;else{const[c,E]=ho(t);if(a){const U=i[t]=po(a,s);fo(e,c,U,E)}else d&&(co(e,c,d,E),i[t]=void 0)}}const a1=/(?:Once|Passive|Capture)$/;function ho(e){let t;if(a1.test(e)){t={};let a;for(;a=e.match(a1);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Zt(e.slice(2)),t]}let Ta=0;const mo=Promise.resolve(),bo=()=>Ta||(mo.then(()=>Ta=0),Ta=Date.now());function po(e,t){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;D0(xo(a,n.value),t,5,[a])};return n.value=e,n.attached=bo(),n}function xo(e,t){if(qe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(a=>s=>!s._stopped&&a&&a(s))}else return t}const r1=/^on[a-z]/,So=(e,t,n,a,s=!1,i,d,c,E)=>{t==="class"?io(e,a,s):t==="style"?lo(e,n,a):Gn(t)?tr(t)||vo(e,t,n,a,d):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Mo(e,t,a,s))?uo(e,t,a,i,d,c,E):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),_o(e,t,a,s))};function Mo(e,t,n,a){return a?!!(t==="innerHTML"||t==="textContent"||t in e&&r1.test(t)&&Ue(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||r1.test(t)&&d0(n)?!1:t in e}const Ao={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};fl.props;const Eo=["ctrl","shift","alt","meta"],Ro={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Eo.some(n=>e[`${n}Key`]&&!t.includes(n))},M0=(e,t)=>(n,...a)=>{for(let s=0;s<t.length;s++){const i=Ro[t[s]];if(i&&i(n,t))return}return e(n,...a)},yo=p0({patchProp:So},so);let s1;function To(){return s1||(s1=kl(yo))}const wo=(...e)=>{const t=To().createApp(...e),{mount:n}=t;return t.mount=a=>{const s=Bo(a);if(!s)return;const i=t._component;!Ue(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const d=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),d},t};function Bo(e){return d0(e)?document.querySelector(e):e}const An=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n},Io=e=>(Jn("data-v-14334210"),e=e(),ea(),e),Co=["onDrop"],Lo=["innerHTML"],Oo=Io(()=>Le("div",{class:"drag-label"},"Drop files here",-1)),No=["accept"],Fo={__name:"DragDropInput",props:{label:String,allowDrop:{type:Boolean,default:!0},singleFile:{type:Boolean,default:!1},extensions:String},emits:["upload"],setup(e,{emit:t}){const n=e,a=v0(0),s=zt(()=>n.allowDrop&&"draggable"in document.body&&"ondrag"in document.body&&"FileReader"in window),i=zt(()=>n.label?n.label:s.value?n.singleFile?"<b>Click to select a file</b> or drag it here":"<b>Click to select files</b> or drag them here":n.singleFile?"<b>Click to select a file</b>":"<b>Click to select files</b>");function d(o){const M=o.target.querySelector("input");M&&(M.value=null,M.click())}function c(o){t("upload",o.target.files)}function E(o){if(!(o.dataTransfer&&!o.dataTransfer.types.includes("Files")))if(o.type==="blur")a.value=0;else if(o.type==="drop")console.log("drop",o);else{const M=/enter|start/.test(o.type)&&1||/leave|end/.test(o.type)&&-1||0;a.value+=M}}function U(o){if(!s.value||o.dataTransfer&&!o.dataTransfer.types.includes("Files"))return;a.value-=1;let M=Array.from(o.dataTransfer.files);if(n.extensions){const j=n.extensions.split(",").map(Z=>Z.replace(/(^\.|\s+)/g,"")),G=new RegExp(`\\.(${j.join("|")})$`,"i");M=M.filter(Z=>G.test(Z.name))}M.length>0&&c({target:{files:M}})}const h=["dragenter","dragleave","dragstart","dragend","drop","drag"];return aa(()=>{if(s.value){window.addEventListener("blur",E),window.addEventListener("drop",E);for(const o of h)document.addEventListener(o,E)}}),ra(()=>{window.removeEventListener("blur",E),window.removeEventListener("drop",E);for(const o of h)document.removeEventListener(o,E)}),(o,M)=>(q0(),it("div",{class:Mn(["upload-area",{dragging:a.value>0,candrag:r0(s)}]),onClick:d,onDrop:M0(U,["prevent","stop"]),onDragover:M[0]||(M[0]=M0(()=>{},["prevent","stop"]))},[Le("span",{class:"upload-label",innerHTML:r0(i)},null,8,Lo),Oo,Le("input",{type:"file",accept:e.extensions,onInput:c},null,40,No)],42,Co))}},Ho=An(Fo,[["__scopeId","data-v-14334210"]]);const ko={__name:"SvgIcon",props:{name:String,size:{type:Number,default:16}},setup(e){const t=e,n=v0(null),a=zt(()=>{const s=`url('./icons/${t.name}.svg')`;return{width:t.size+"px",height:t.size+"px",backgroundColor:"currentColor",maskImage:s,"-webkit-mask-image":s}});return(s,i)=>(q0(),it("div",{class:"svg-icon",ref_key:"rootEl",ref:n,style:Sn(r0(a))},null,4))}},ht=An(ko,[["__scopeId","data-v-f53dc053"]]);function Is(e){for(const t of e){const n=`./icons/${t}.svg`,a=document.createElement("div");Object.assign(a.style,{position:"fixed",top:0,left:0,width:"50px",height:"50px",transform:"translateX(-100%)",background:`url(${n})`}),document.body.append(a)}}const Vo=e=>(Jn("data-v-4bdc06ad"),e=e(),ea(),e),Do=Vo(()=>Le("div",{class:"spacer"},null,-1)),Po={class:"slider__anim-container absolute"},Xo=["onMousedown"],$o=["onMousedown"],Yo={__name:"VolumeButton",props:{value:{type:Number,default:1},muted:{type:Boolean,default:!1},size:{type:Number,default:40}},emits:["update:value","update:muted"],setup(e,{emit:t}){const n=e,a=v0(null),s=v0(null),i=v0("volume-high"),d=v0(0),c=v0(!1);function E(o){if(!s.value)return n.value;const M=s.value.getBoundingClientRect(),j=(o-M.x)/M.width,G=o<M.x||o>=M.x+M.width;return{pct:Math.max(0,Math.min(j,1)),raw:j,overflown:G}}function U(o){const M=E(o.clientX);if(o.target!==a.value&&M.overflown)return;t("update:value",M.pct);const j=++d.value;c.value=!0;const G=y=>{const x=E(y.clientX);t("update:value",x.pct)},Z=y=>{y.which===1&&K()},K=()=>{window.removeEventListener("mousemove",G,{capture:!0,passive:!0}),window.removeEventListener("blur",K),window.removeEventListener("mouseup",Z),setTimeout(()=>{d.value===j&&(c.value=!1)},1e3)};window.addEventListener("mousemove",G,{capture:!0,passive:!0}),window.addEventListener("blur",K,{once:!0}),window.addEventListener("mouseup",Z)}const h=[{icon:"volume-high",level:.33},{icon:"volume-medium",level:Number.EPSILON},{icon:"volume-low",level:0},{icon:"volume-off",level:-1}];return j0(()=>[n.value,n.muted],()=>{if(n.muted)i.value="volume-off";else{const o=h.find(({level:M})=>M<=n.value);o&&(i.value=o.icon)}},{immediate:!0}),Is(h.map(({icon:o})=>o)),(o,M)=>(q0(),it("div",{class:Mn(["root row relative",{sliding:c.value}])},[Le("button",{class:"icon",onClick:M[0]||(M[0]=j=>o.$emit("update:muted",!n.muted))},[f0(ht,{name:i.value,size:e.size},null,8,["name","size"])]),Do,Le("div",Po,[Le("div",{class:"slider__container",style:Sn({"--progress":e.value})},[Le("div",{class:"slider__track",ref_key:"sliderTrackEl",ref:s,onMousedown:M0(U,["left"])},null,40,Xo),Le("div",{class:"slider__button",ref_key:"sliderButtonEl",ref:a,onMousedown:M0(U,["left"])},null,40,$o)],4)])],2))}},qo=An(Yo,[["__scopeId","data-v-4bdc06ad"]]);const at=e=>(Jn("data-v-b03ae491"),e=e(),ea(),e),Uo={class:"column"},Ko={class:"row items-center"},Go=at(()=>Le("span",null,":",-1)),jo=at(()=>Le("span",null,".",-1)),Wo={class:"column m-l-1"},zo=at(()=>Le("div",{class:"arrow-up"},null,-1)),Zo=[zo],go=at(()=>Le("div",{class:"arrow-down"},null,-1)),Qo=[go],Jo=at(()=>Le("span",{class:"font-12"},"Start",-1)),e2={class:"column m-l-3"},t2={class:"row items-center"},n2=at(()=>Le("span",null,":",-1)),a2=at(()=>Le("span",null,".",-1)),r2={class:"column m-l-1"},s2=at(()=>Le("div",{class:"arrow-up"},null,-1)),i2=[s2],l2=at(()=>Le("div",{class:"arrow-down"},null,-1)),o2=[l2],_2=at(()=>Le("span",{class:"font-12"},"End",-1)),u2={__name:"TimeTrimInput",props:{start:{type:Number,default:0},end:{type:Number,default:1/0},duration:{type:Number,default:0}},emits:["update:start","update:end"],setup(e,{emit:t}){const n=e,a=v0(null),s=v0(null);function i(h){if(typeof h=="number"){const o=["mm","ss","ms"][h%3],j=`[trim-${h<=2?"start":"end"}][${o}]`,G=s.value.querySelector(j);G&&(a.value=h,h=G)}if(h){if(window.getSelection&&document.createRange){const o=document.createRange();o.selectNodeContents(h);const M=window.getSelection();M.removeAllRanges(),M.addRange(o)}else if(document.selection&&document.body.createTextRange){const o=document.body.createTextRange();o.moveToElementText(h),o.select()}}}function d(h){const o=(h-Math.floor(h))*1e3,M=Math.floor(h%60),j=Math.floor(h/60);return{ms:o,ss:M,mm:j}}function c(h,o){h==="start"&&a.value>2?a.value=2:h==="end"&&a.value<=2&&(a.value=5);let M=a.value;(typeof M!="number"||Number.isNaN(M))&&(M=h==="start"&&2||h==="end"&&5);const j=[60,1,.01][M%3]*o,G=M<=2?n.start:n.end,Z=Math.min(n.duration,M<=2?n.end:n.duration),K=M<=2?0:n.start,y=Math.max(K,Math.min(G+j,Z));i(M),t(`update:${M<=2?"start":"end"}`,y),hr().then(()=>i(a.value))}function E(h,o){!o.ctrlKey&&!o.shiftKey&&!o.altKey&&Math.abs(o.deltaY)>.1&&(a.value=h,c(h<=2?"start":"end",o.deltaY>0?-1:1),o.preventDefault(),o.stopPropagation())}const U=zt(()=>{const h=d(Math.max(0,n.start)),o=d(Math.min(n.duration,n.end));return[[h.mm,h.ss,Math.round(h.ms/10)],[o.mm,o.ss,Math.round(o.ms/10)]].map(M=>M.map(j=>String(j).padStart(2,"0")))});return j0(a,h=>{h!==null&&i(h)}),(h,o)=>(q0(),it("div",{class:"row root items-center",ref_key:"rootEl",ref:s},[Le("div",Uo,[Le("div",Ko,[Le("span",{"trim-start":"",mm:"",onMousedown:o[0]||(o[0]=M0(M=>i(0),["left","prevent","stop"])),onWheel:o[1]||(o[1]=M=>E(0,M))},V0(r0(U)[0][0]),33),Go,Le("span",{"trim-start":"",ss:"",onMousedown:o[2]||(o[2]=M0(M=>i(1),["left","prevent","stop"])),onWheel:o[3]||(o[3]=M=>E(1,M))},V0(r0(U)[0][1]),33),jo,Le("span",{"trim-start":"",ms:"",onMousedown:o[4]||(o[4]=M0(M=>i(2),["left","prevent","stop"])),onWheel:o[5]||(o[5]=M=>E(2,M))},V0(r0(U)[0][2]),33),Le("div",Wo,[Le("div",{class:"arrow-up__container",onClick:o[6]||(o[6]=M0(M=>c("start",1),["prevent","stop"]))},Zo),Le("div",{class:"arrow-down__container",onClick:o[7]||(o[7]=M0(M=>c("start",-1),["prevent","stop"]))},Qo)])]),Jo]),Le("div",e2,[Le("div",t2,[Le("span",{"trim-end":"",mm:"",onMousedown:o[8]||(o[8]=M0(M=>i(3),["left","prevent","stop"])),onWheel:o[9]||(o[9]=M=>E(3,M))},V0(r0(U)[1][0]),33),n2,Le("span",{"trim-end":"",ss:"",onMousedown:o[10]||(o[10]=M0(M=>i(4),["left","prevent","stop"])),onWheel:o[11]||(o[11]=M=>E(4,M))},V0(r0(U)[1][1]),33),a2,Le("span",{"trim-end":"",ms:"",onMousedown:o[12]||(o[12]=M0(M=>i(5),["left","prevent","stop"])),onWheel:o[13]||(o[13]=M=>E(5,M))},V0(r0(U)[1][2]),33),Le("div",r2,[Le("div",{class:"arrow-up__container",onClick:o[14]||(o[14]=M0(M=>c("end",1),["prevent","stop"]))},i2),Le("div",{class:"arrow-down__container",onClick:o[15]||(o[15]=M0(M=>c("end",-1),["prevent","stop"]))},o2)])]),_2])],512))}},f2=An(u2,[["__scopeId","data-v-b03ae491"]]);function i1(e,t,n){if(!("localStorage"in globalThis))return v0(e);let a=e,s=localStorage.getItem(t);s!==null&&typeof n=="function"&&(s=n(s)),s!==null&&(a=s);const i=v0(a);return j0(()=>i.value,()=>{localStorage.setItem(t,i.value)}),i}var Sr={};function c2(e){return new Int8Array(e)}function Cs(e){return new Int16Array(e)}function Ls(e){return new Int32Array(e)}function Os(e){return new Float32Array(e)}function v2(e){return new Float64Array(e)}function Ns(e){if(e.length==1)return Os(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(Ns(e));return n}function Fs(e){if(e.length==1)return Ls(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(Fs(e));return n}function Hs(e){if(e.length==1)return Cs(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(Hs(e));return n}function ks(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],a=0;a<t;a++)n.push(ks(e));return n}var Vs={};Vs.fill=function(e,t,n,a){if(arguments.length==2)for(var s=0;s<e.length;s++)e[s]=arguments[1];else for(var s=t;s<n;s++)e[s]=a};var En={};En.arraycopy=function(e,t,n,a,s){for(var i=t+s;t<i;)n[a++]=e[t++]};En.out={};En.out.println=function(e){console.log(e)};En.out.printf=function(){console.log.apply(console,arguments)};var la={};la.SQRT2=1.4142135623730951;la.FAST_LOG10=function(e){return Math.log10(e)};la.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function _t(e){this.ordinal=e}_t.short_block_allowed=new _t(0);_t.short_block_coupled=new _t(1);_t.short_block_dispensed=new _t(2);_t.short_block_forced=new _t(3);var Ds={};Ds.MAX_VALUE=34028235e31;function N0(e){this.ordinal=e}N0.vbr_off=new N0(0);N0.vbr_mt=new N0(1);N0.vbr_rh=new N0(2);N0.vbr_abr=new N0(3);N0.vbr_mtrh=new N0(4);N0.vbr_default=N0.vbr_mtrh;var h2=function(e){},n0={System:En,VbrMode:N0,Float:Ds,ShortBlock:_t,Util:la,Arrays:Vs,new_array_n:ks,new_byte:c2,new_double:v2,new_float:Os,new_float_n:Ns,new_int:Ls,new_int_n:Fs,new_short:Cs,new_short_n:Hs,assert:h2},wa,l1;function d2(){if(l1)return wa;l1=1;var e=n0,t=e.System,n=e.Util,a=e.Arrays,s=e.new_float,i=x0();function d(){var c=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*n.SQRT2*.5/2384e-9,.017876148*n.SQRT2*.5/2384e-9,.003134727*n.SQRT2*.5/2384e-9,.002457142*n.SQRT2*.5/2384e-9,971317e-9*n.SQRT2*.5/2384e-9,218868e-9*n.SQRT2*.5/2384e-9,101566e-9*n.SQRT2*.5/2384e-9,13828e-9*n.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],E=12,U=36,h=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],o=h[i.SHORT_TYPE],M=h[i.SHORT_TYPE],j=h[i.SHORT_TYPE],G=h[i.SHORT_TYPE],Z=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function K(p,B,r){for(var S=10,F=B+238-14-286,D=-15;D<0;D++){var W,V,P;W=c[S+-10],V=p[F+-224]*W,P=p[B+224]*W,W=c[S+-9],V+=p[F+-160]*W,P+=p[B+160]*W,W=c[S+-8],V+=p[F+-96]*W,P+=p[B+96]*W,W=c[S+-7],V+=p[F+-32]*W,P+=p[B+32]*W,W=c[S+-6],V+=p[F+32]*W,P+=p[B+-32]*W,W=c[S+-5],V+=p[F+96]*W,P+=p[B+-96]*W,W=c[S+-4],V+=p[F+160]*W,P+=p[B+-160]*W,W=c[S+-3],V+=p[F+224]*W,P+=p[B+-224]*W,W=c[S+-2],V+=p[B+-256]*W,P-=p[F+256]*W,W=c[S+-1],V+=p[B+-192]*W,P-=p[F+192]*W,W=c[S+0],V+=p[B+-128]*W,P-=p[F+128]*W,W=c[S+1],V+=p[B+-64]*W,P-=p[F+64]*W,W=c[S+2],V+=p[B+0]*W,P-=p[F+0]*W,W=c[S+3],V+=p[B+64]*W,P-=p[F+-64]*W,W=c[S+4],V+=p[B+128]*W,P-=p[F+-128]*W,W=c[S+5],V+=p[B+192]*W,P-=p[F+-192]*W,V*=c[S+6],W=P-V,r[30+D*2]=P+V,r[31+D*2]=c[S+7]*W,S+=18,B--,F++}{var V,P,de,I;P=p[B+-16]*c[S+-10],V=p[B+-32]*c[S+-2],P+=(p[B+-48]-p[B+16])*c[S+-9],V+=p[B+-96]*c[S+-1],P+=(p[B+-80]+p[B+48])*c[S+-8],V+=p[B+-160]*c[S+0],P+=(p[B+-112]-p[B+80])*c[S+-7],V+=p[B+-224]*c[S+1],P+=(p[B+-144]+p[B+112])*c[S+-6],V-=p[B+32]*c[S+2],P+=(p[B+-176]-p[B+144])*c[S+-5],V-=p[B+96]*c[S+3],P+=(p[B+-208]+p[B+176])*c[S+-4],V-=p[B+160]*c[S+4],P+=(p[B+-240]-p[B+208])*c[S+-3],V-=p[B+224],de=V-P,I=V+P,P=r[14],V=r[15]-P,r[31]=I+P,r[30]=de+V,r[15]=de-V,r[14]=I-P}{var f;f=r[28]-r[0],r[0]+=r[28],r[28]=f*c[S+-2*18+7],f=r[29]-r[1],r[1]+=r[29],r[29]=f*c[S+-2*18+7],f=r[26]-r[2],r[2]+=r[26],r[26]=f*c[S+-4*18+7],f=r[27]-r[3],r[3]+=r[27],r[27]=f*c[S+-4*18+7],f=r[24]-r[4],r[4]+=r[24],r[24]=f*c[S+-6*18+7],f=r[25]-r[5],r[5]+=r[25],r[25]=f*c[S+-6*18+7],f=r[22]-r[6],r[6]+=r[22],r[22]=f*n.SQRT2,f=r[23]-r[7],r[7]+=r[23],r[23]=f*n.SQRT2-r[7],r[7]-=r[6],r[22]-=r[7],r[23]-=r[22],f=r[6],r[6]=r[31]-f,r[31]=r[31]+f,f=r[7],r[7]=r[30]-f,r[30]=r[30]+f,f=r[22],r[22]=r[15]-f,r[15]=r[15]+f,f=r[23],r[23]=r[14]-f,r[14]=r[14]+f,f=r[20]-r[8],r[8]+=r[20],r[20]=f*c[S+-10*18+7],f=r[21]-r[9],r[9]+=r[21],r[21]=f*c[S+-10*18+7],f=r[18]-r[10],r[10]+=r[18],r[18]=f*c[S+-12*18+7],f=r[19]-r[11],r[11]+=r[19],r[19]=f*c[S+-12*18+7],f=r[16]-r[12],r[12]+=r[16],r[16]=f*c[S+-14*18+7],f=r[17]-r[13],r[13]+=r[17],r[17]=f*c[S+-14*18+7],f=-r[20]+r[24],r[20]+=r[24],r[24]=f*c[S+-12*18+7],f=-r[21]+r[25],r[21]+=r[25],r[25]=f*c[S+-12*18+7],f=r[4]-r[8],r[4]+=r[8],r[8]=f*c[S+-12*18+7],f=r[5]-r[9],r[5]+=r[9],r[9]=f*c[S+-12*18+7],f=r[0]-r[12],r[0]+=r[12],r[12]=f*c[S+-4*18+7],f=r[1]-r[13],r[1]+=r[13],r[13]=f*c[S+-4*18+7],f=r[16]-r[28],r[16]+=r[28],r[28]=f*c[S+-4*18+7],f=-r[17]+r[29],r[17]+=r[29],r[29]=f*c[S+-4*18+7],f=n.SQRT2*(r[2]-r[10]),r[2]+=r[10],r[10]=f,f=n.SQRT2*(r[3]-r[11]),r[3]+=r[11],r[11]=f,f=n.SQRT2*(-r[18]+r[26]),r[18]+=r[26],r[26]=f-r[18],f=n.SQRT2*(-r[19]+r[27]),r[19]+=r[27],r[27]=f-r[19],f=r[2],r[19]-=r[3],r[3]-=f,r[2]=r[31]-f,r[31]+=f,f=r[3],r[11]-=r[19],r[18]-=f,r[3]=r[30]-f,r[30]+=f,f=r[18],r[27]-=r[11],r[19]-=f,r[18]=r[15]-f,r[15]+=f,f=r[19],r[10]-=f,r[19]=r[14]-f,r[14]+=f,f=r[10],r[11]-=f,r[10]=r[23]-f,r[23]+=f,f=r[11],r[26]-=f,r[11]=r[22]-f,r[22]+=f,f=r[26],r[27]-=f,r[26]=r[7]-f,r[7]+=f,f=r[27],r[27]=r[6]-f,r[6]+=f,f=n.SQRT2*(r[0]-r[4]),r[0]+=r[4],r[4]=f,f=n.SQRT2*(r[1]-r[5]),r[1]+=r[5],r[5]=f,f=n.SQRT2*(r[16]-r[20]),r[16]+=r[20],r[20]=f,f=n.SQRT2*(r[17]-r[21]),r[17]+=r[21],r[21]=f,f=-n.SQRT2*(r[8]-r[12]),r[8]+=r[12],r[12]=f-r[8],f=-n.SQRT2*(r[9]-r[13]),r[9]+=r[13],r[13]=f-r[9],f=-n.SQRT2*(r[25]-r[29]),r[25]+=r[29],r[29]=f-r[25],f=-n.SQRT2*(r[24]+r[28]),r[24]-=r[28],r[28]=f-r[24],f=r[24]-r[16],r[24]=f,f=r[20]-f,r[20]=f,f=r[28]-f,r[28]=f,f=r[25]-r[17],r[25]=f,f=r[21]-f,r[21]=f,f=r[29]-f,r[29]=f,f=r[17]-r[1],r[17]=f,f=r[9]-f,r[9]=f,f=r[25]-f,r[25]=f,f=r[5]-f,r[5]=f,f=r[21]-f,r[21]=f,f=r[13]-f,r[13]=f,f=r[29]-f,r[29]=f,f=r[1]-r[0],r[1]=f,f=r[16]-f,r[16]=f,f=r[17]-f,r[17]=f,f=r[8]-f,r[8]=f,f=r[9]-f,r[9]=f,f=r[24]-f,r[24]=f,f=r[25]-f,r[25]=f,f=r[4]-f,r[4]=f,f=r[5]-f,r[5]=f,f=r[20]-f,r[20]=f,f=r[21]-f,r[21]=f,f=r[12]-f,r[12]=f,f=r[13]-f,r[13]=f,f=r[28]-f,r[28]=f,f=r[29]-f,r[29]=f,f=r[0],r[0]+=r[31],r[31]-=f,f=r[1],r[1]+=r[30],r[30]-=f,f=r[16],r[16]+=r[15],r[15]-=f,f=r[17],r[17]+=r[14],r[14]-=f,f=r[8],r[8]+=r[23],r[23]-=f,f=r[9],r[9]+=r[22],r[22]-=f,f=r[24],r[24]+=r[7],r[7]-=f,f=r[25],r[25]+=r[6],r[6]-=f,f=r[4],r[4]+=r[27],r[27]-=f,f=r[5],r[5]+=r[26],r[26]-=f,f=r[20],r[20]+=r[11],r[11]-=f,f=r[21],r[21]+=r[10],r[10]-=f,f=r[12],r[12]+=r[19],r[19]-=f,f=r[13],r[13]+=r[18],r[18]-=f,f=r[28],r[28]+=r[3],r[3]-=f,f=r[29],r[29]+=r[2],r[2]-=f}}function y(p,B){for(var r=0;r<3;r++){var S,F,D,W,V,P;W=p[B+2*3]*h[i.SHORT_TYPE][0]-p[B+5*3],S=p[B+0*3]*h[i.SHORT_TYPE][2]-p[B+3*3],F=W+S,D=W-S,W=p[B+5*3]*h[i.SHORT_TYPE][0]+p[B+2*3],S=p[B+3*3]*h[i.SHORT_TYPE][2]+p[B+0*3],V=W+S,P=-W+S,S=(p[B+1*3]*h[i.SHORT_TYPE][1]-p[B+4*3])*2069978111953089e-26,W=(p[B+4*3]*h[i.SHORT_TYPE][1]+p[B+1*3])*2069978111953089e-26,p[B+3*0]=F*190752519173728e-25+S,p[B+3*5]=-V*190752519173728e-25+W,D=D*.8660254037844387*1907525191737281e-26,V=V*.5*1907525191737281e-26+W,p[B+3*1]=D-V,p[B+3*2]=D+V,F=F*.5*1907525191737281e-26-S,P=P*.8660254037844387*1907525191737281e-26,p[B+3*3]=F+P,p[B+3*4]=F-P,B++}}function x(p,B,r){var S,F;{var D,W,V,P,de,I,f,H;D=r[17]-r[9],V=r[15]-r[11],P=r[14]-r[12],de=r[0]+r[8],I=r[1]+r[7],f=r[2]+r[6],H=r[3]+r[5],p[B+17]=de+f-H-(I-r[4]),F=(de+f-H)*M[12+7]+(I-r[4]),S=(D-V-P)*M[12+6],p[B+5]=S+F,p[B+6]=S-F,W=(r[16]-r[10])*M[12+6],I=I*M[12+7]+r[4],S=D*M[12+0]+W+V*M[12+1]+P*M[12+2],F=-de*M[12+4]+I-f*M[12+5]+H*M[12+3],p[B+1]=S+F,p[B+2]=S-F,S=D*M[12+1]-W-V*M[12+2]+P*M[12+0],F=-de*M[12+5]+I-f*M[12+3]+H*M[12+4],p[B+9]=S+F,p[B+10]=S-F,S=D*M[12+2]-W+V*M[12+0]-P*M[12+1],F=de*M[12+3]-I+f*M[12+4]-H*M[12+5],p[B+13]=S+F,p[B+14]=S-F}{var $,L,T,z,O,m,_,u;$=r[8]-r[0],T=r[6]-r[2],z=r[5]-r[3],O=r[17]+r[9],m=r[16]+r[10],_=r[15]+r[11],u=r[14]+r[12],p[B+0]=O+_+u+(m+r[13]),S=(O+_+u)*M[12+7]-(m+r[13]),F=($-T+z)*M[12+6],p[B+11]=S+F,p[B+12]=S-F,L=(r[7]-r[1])*M[12+6],m=r[13]-m*M[12+7],S=O*M[12+3]-m+_*M[12+4]+u*M[12+5],F=$*M[12+2]+L+T*M[12+0]+z*M[12+1],p[B+3]=S+F,p[B+4]=S-F,S=-O*M[12+5]+m-_*M[12+3]-u*M[12+4],F=$*M[12+1]+L-T*M[12+2]-z*M[12+0],p[B+7]=S+F,p[B+8]=S-F,S=-O*M[12+4]+m-_*M[12+5]-u*M[12+3],F=$*M[12+0]-L+T*M[12+1]-z*M[12+2],p[B+15]=S+F,p[B+16]=S-F}}this.mdct_sub48=function(p,B,r){for(var S=B,F=286,D=0;D<p.channels_out;D++){for(var W=0;W<p.mode_gr;W++){for(var V,P=p.l3_side.tt[W][D],de=P.xr,I=0,f=p.sb_sample[D][1-W],H=0,$=0;$<18/2;$++)for(K(S,F,f[H]),K(S,F+32,f[H+1]),H+=2,F+=64,V=1;V<32;V+=2)f[H-1][V]*=-1;for(V=0;V<32;V++,I+=18){var L=P.block_type,T=p.sb_sample[D][W],z=p.sb_sample[D][1-W];if(P.mixed_block_flag!=0&&V<2&&(L=0),p.amp_filter[V]<1e-12)a.fill(de,I+0,I+18,0);else{if(p.amp_filter[V]<1)for(var $=0;$<18;$++)z[$][Z[V]]*=p.amp_filter[V];if(L==i.SHORT_TYPE){for(var $=-E/4;$<0;$++){var O=h[i.SHORT_TYPE][$+3];de[I+$*3+9]=T[9+$][Z[V]]*O-T[8-$][Z[V]],de[I+$*3+18]=T[14-$][Z[V]]*O+T[15+$][Z[V]],de[I+$*3+10]=T[15+$][Z[V]]*O-T[14-$][Z[V]],de[I+$*3+19]=z[2-$][Z[V]]*O+z[3+$][Z[V]],de[I+$*3+11]=z[3+$][Z[V]]*O-z[2-$][Z[V]],de[I+$*3+20]=z[8-$][Z[V]]*O+z[9+$][Z[V]]}y(de,I)}else{for(var m=s(18),$=-U/4;$<0;$++){var _,u;_=h[L][$+27]*z[$+9][Z[V]]+h[L][$+36]*z[8-$][Z[V]],u=h[L][$+9]*T[$+9][Z[V]]-h[L][$+18]*T[8-$][Z[V]],m[$+9]=_-u*o[3+$+9],m[$+18]=_*o[3+$+9]+u}x(de,I,m)}}if(L!=i.SHORT_TYPE&&V!=0)for(var $=7;$>=0;--$){var b,w;b=de[I+$]*j[20+$]+de[I+-1-$]*G[28+$],w=de[I+$]*G[28+$]-de[I+-1-$]*j[20+$],de[I+-1-$]=b,de[I+$]=w}}}if(S=r,F=286,p.mode_gr==1)for(var g=0;g<18;g++)t.arraycopy(p.sb_sample[D][1][g],0,p.sb_sample[D][0][g],0,32)}}}return wa=d,wa}var Ba,o1;function Ps(){if(o1)return Ba;o1=1;var e=x0(),t=n0,n=t.System,a=t.new_float,s=t.new_float_n;function i(){this.l=a(e.SBMAX_l),this.s=s([e.SBMAX_s,3]);var d=this;this.assign=function(c){n.arraycopy(c.l,0,d.l,0,e.SBMAX_l);for(var E=0;E<e.SBMAX_s;E++)for(var U=0;U<3;U++)d.s[E][U]=c.s[E][U]}}return Ba=i,Ba}var Ia,_1;function m2(){if(_1)return Ia;_1=1;var e=Ps();function t(){this.thm=new e,this.en=new e}return Ia=t,Ia}function g0(e){var t=e;this.ordinal=function(){return t}}g0.STEREO=new g0(0);g0.JOINT_STEREO=new g0(1);g0.DUAL_CHANNEL=new g0(2);g0.MONO=new g0(3);g0.NOT_SET=new g0(4);var Rn=g0,Ca,u1;function x0(){if(u1)return Ca;u1=1;var e=n0,t=e.System,n=e.VbrMode,a=e.new_array_n,s=e.new_float,i=e.new_float_n,d=e.new_int,c=e.assert;E.ENCDELAY=576,E.POSTDELAY=1152,E.MDCTDELAY=48,E.FFTOFFSET=224+E.MDCTDELAY,E.DECDELAY=528,E.SBLIMIT=32,E.CBANDS=64,E.SBPSY_l=21,E.SBPSY_s=12,E.SBMAX_l=22,E.SBMAX_s=13,E.PSFB21=6,E.PSFB12=6,E.BLKSIZE=1024,E.HBLKSIZE=E.BLKSIZE/2+1,E.BLKSIZE_s=256,E.HBLKSIZE_s=E.BLKSIZE_s/2+1,E.NORM_TYPE=0,E.START_TYPE=1,E.SHORT_TYPE=2,E.STOP_TYPE=3,E.MPG_MD_LR_LR=0,E.MPG_MD_LR_I=1,E.MPG_MD_MS_LR=2,E.MPG_MD_MS_I=3,E.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function E(){var U=d2(),h=m2(),o=Rn,M=E.FFTOFFSET,j=E.MPG_MD_MS_LR,G=null;this.psy=null;var Z=null,K=null,y=null;this.setModules=function(S,F,D,W){G=S,this.psy=F,Z=F,K=W,y=D};var x=new U;function p(S){var F,D;if(S.ATH.useAdjust==0){S.ATH.adjust=1;return}if(D=S.loudness_sq[0][0],F=S.loudness_sq[1][0],S.channels_out==2?(D+=S.loudness_sq[0][1],F+=S.loudness_sq[1][1]):(D+=D,F+=F),S.mode_gr==2&&(D=Math.max(D,F)),D*=.5,D*=S.ATH.aaSensitivityP,D>.03125)S.ATH.adjust>=1?S.ATH.adjust=1:S.ATH.adjust<S.ATH.adjustLimit&&(S.ATH.adjust=S.ATH.adjustLimit),S.ATH.adjustLimit=1;else{var W=31.98*D+625e-6;S.ATH.adjust>=W?(S.ATH.adjust*=W*.075+.925,S.ATH.adjust<W&&(S.ATH.adjust=W)):S.ATH.adjustLimit>=W?S.ATH.adjust=W:S.ATH.adjust<S.ATH.adjustLimit&&(S.ATH.adjust=S.ATH.adjustLimit),S.ATH.adjustLimit=W}}function B(S){var F,D;for(c(0<=S.bitrate_index&&S.bitrate_index<16),c(0<=S.mode_ext&&S.mode_ext<4),S.bitrate_stereoMode_Hist[S.bitrate_index][4]++,S.bitrate_stereoMode_Hist[15][4]++,S.channels_out==2&&(S.bitrate_stereoMode_Hist[S.bitrate_index][S.mode_ext]++,S.bitrate_stereoMode_Hist[15][S.mode_ext]++),F=0;F<S.mode_gr;++F)for(D=0;D<S.channels_out;++D){var W=S.l3_side.tt[F][D].block_type|0;S.l3_side.tt[F][D].mixed_block_flag!=0&&(W=4),S.bitrate_blockType_Hist[S.bitrate_index][W]++,S.bitrate_blockType_Hist[S.bitrate_index][5]++,S.bitrate_blockType_Hist[15][W]++,S.bitrate_blockType_Hist[15][5]++}}function r(S,F){var D=S.internal_flags,W,V;if(D.lame_encode_frame_init==0){var P,de,I=s(2014),f=s(286+1152+576);for(D.lame_encode_frame_init=1,P=0,de=0;P<286+576*(1+D.mode_gr);++P)P<576*D.mode_gr?(I[P]=0,D.channels_out==2&&(f[P]=0)):(I[P]=F[0][de],D.channels_out==2&&(f[P]=F[1][de]),++de);for(V=0;V<D.mode_gr;V++)for(W=0;W<D.channels_out;W++)D.l3_side.tt[V][W].block_type=E.SHORT_TYPE;x.mdct_sub48(D,I,f),c(576>=E.FFTOFFSET),c(D.mf_size>=E.BLKSIZE+S.framesize-E.FFTOFFSET),c(D.mf_size>=512+S.framesize-32)}}this.lame_encode_mp3_frame=function(S,F,D,W,V,P){var de,I=a([2,2]);I[0][0]=new h,I[0][1]=new h,I[1][0]=new h,I[1][1]=new h;var f=a([2,2]);f[0][0]=new h,f[0][1]=new h,f[1][0]=new h,f[1][1]=new h;var H,$=[null,null],L=S.internal_flags,T=i([2,4]),z=[.5,.5],O=[[0,0],[0,0]],m=[[0,0],[0,0]],_,u,b;if($[0]=F,$[1]=D,L.lame_encode_frame_init==0&&r(S,$),L.padding=0,(L.slot_lag-=L.frac_SpF)<0&&(L.slot_lag+=S.out_samplerate,L.padding=1),L.psymodel!=0){var w,g=[null,null],oe=0,q=d(2);for(b=0;b<L.mode_gr;b++){for(u=0;u<L.channels_out;u++)g[u]=$[u],oe=576+b*576-E.FFTOFFSET;if(S.VBR==n.vbr_mtrh||S.VBR==n.vbr_mt?w=Z.L3psycho_anal_vbr(S,g,oe,b,I,f,O[b],m[b],T[b],q):w=Z.L3psycho_anal_ns(S,g,oe,b,I,f,O[b],m[b],T[b],q),w!=0)return-4;for(S.mode==o.JOINT_STEREO&&(z[b]=T[b][2]+T[b][3],z[b]>0&&(z[b]=T[b][3]/z[b])),u=0;u<L.channels_out;u++){var ne=L.l3_side.tt[b][u];ne.block_type=q[u],ne.mixed_block_flag=0}}}else for(b=0;b<L.mode_gr;b++)for(u=0;u<L.channels_out;u++)L.l3_side.tt[b][u].block_type=E.NORM_TYPE,L.l3_side.tt[b][u].mixed_block_flag=0,m[b][u]=O[b][u]=700;if(p(L),x.mdct_sub48(L,$[0],$[1]),L.mode_ext=E.MPG_MD_LR_LR,S.force_ms)L.mode_ext=E.MPG_MD_MS_LR;else if(S.mode==o.JOINT_STEREO){var ve=0,ye=0;for(b=0;b<L.mode_gr;b++)for(u=0;u<L.channels_out;u++)ve+=m[b][u],ye+=O[b][u];if(ve<=1*ye){var C=L.l3_side.tt[0],X=L.l3_side.tt[L.mode_gr-1];C[0].block_type==C[1].block_type&&X[0].block_type==X[1].block_type&&(L.mode_ext=E.MPG_MD_MS_LR)}}if(L.mode_ext==j?(H=f,_=m):(H=I,_=O),S.analysis&&L.pinfo!=null)for(b=0;b<L.mode_gr;b++)for(u=0;u<L.channels_out;u++)L.pinfo.ms_ratio[b]=L.ms_ratio[b],L.pinfo.ms_ener_ratio[b]=z[b],L.pinfo.blocktype[b][u]=L.l3_side.tt[b][u].block_type,L.pinfo.pe[b][u]=_[b][u],t.arraycopy(L.l3_side.tt[b][u].xr,0,L.pinfo.xr[b][u],0,576),L.mode_ext==j&&(L.pinfo.ers[b][u]=L.pinfo.ers[b][u+2],t.arraycopy(L.pinfo.energy[b][u+2],0,L.pinfo.energy[b][u],0,L.pinfo.energy[b][u].length));if(S.VBR==n.vbr_off||S.VBR==n.vbr_abr){var Q,ae;for(Q=0;Q<18;Q++)L.nsPsy.pefirbuf[Q]=L.nsPsy.pefirbuf[Q+1];for(ae=0,b=0;b<L.mode_gr;b++)for(u=0;u<L.channels_out;u++)ae+=_[b][u];for(L.nsPsy.pefirbuf[18]=ae,ae=L.nsPsy.pefirbuf[9],Q=0;Q<9;Q++)ae+=(L.nsPsy.pefirbuf[Q]+L.nsPsy.pefirbuf[18-Q])*E.fircoef[Q];for(ae=670*5*L.mode_gr*L.channels_out/ae,b=0;b<L.mode_gr;b++)for(u=0;u<L.channels_out;u++)_[b][u]*=ae}if(L.iteration_loop.iteration_loop(S,_,z,H),G.format_bitstream(S),de=G.copy_buffer(L,W,V,P,1),S.bWriteVbrTag&&K.addVbrFrame(S),S.analysis&&L.pinfo!=null){for(u=0;u<L.channels_out;u++){var ie;for(ie=0;ie<M;ie++)L.pinfo.pcmdata[u][ie]=L.pinfo.pcmdata[u][ie+S.framesize];for(ie=M;ie<1600;ie++)L.pinfo.pcmdata[u][ie]=$[u][ie-M]}y.set_frame_pinfo(S,H)}return B(L),de}}return Ca=E,Ca}var Xs=n0,f1=Xs.Util,c1=Xs.new_float,o0=x0();function b2(){var e=c1(o0.BLKSIZE),t=c1(o0.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function a(i,d,c){var E=0,U,h,o;c<<=1;var M=d+c;U=4;do{var j,G,Z,K,y,x,p;p=U>>1,K=U,y=U<<1,x=y+K,U=y<<1,h=d,o=h+p;do{var B,r,S,F;r=i[h+0]-i[h+K],B=i[h+0]+i[h+K],F=i[h+y]-i[h+x],S=i[h+y]+i[h+x],i[h+y]=B-S,i[h+0]=B+S,i[h+x]=r-F,i[h+K]=r+F,r=i[o+0]-i[o+K],B=i[o+0]+i[o+K],F=f1.SQRT2*i[o+x],S=f1.SQRT2*i[o+y],i[o+y]=B-S,i[o+0]=B+S,i[o+x]=r-F,i[o+K]=r+F,o+=U,h+=U}while(h<M);for(G=n[E+0],j=n[E+1],Z=1;Z<p;Z++){var D,W;D=1-2*j*j,W=2*j*G,h=d+Z,o=d+K-Z;do{var V,P,de,B,r,I,S,f,F,H;P=W*i[h+K]-D*i[o+K],V=D*i[h+K]+W*i[o+K],r=i[h+0]-V,B=i[h+0]+V,I=i[o+0]-P,de=i[o+0]+P,P=W*i[h+x]-D*i[o+x],V=D*i[h+x]+W*i[o+x],F=i[h+y]-V,S=i[h+y]+V,H=i[o+y]-P,f=i[o+y]+P,P=j*S-G*H,V=G*S+j*H,i[h+y]=B-V,i[h+0]=B+V,i[o+x]=I-P,i[o+K]=I+P,P=G*f-j*F,V=j*f+G*F,i[o+y]=de-V,i[o+0]=de+V,i[h+x]=r-P,i[h+K]=r+P,o+=U,h+=U}while(h<M);D=G,G=D*n[E+0]-j*n[E+1],j=D*n[E+1]+j*n[E+0]}E+=2}while(U<c)}var s=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(i,d,c,E,U){for(var h=0;h<3;h++){var o=o0.BLKSIZE_s/2,M=65535&576/3*(h+1),j=o0.BLKSIZE_s/8-1;do{var G,Z,K,y,x,p=s[j<<2]&255;G=t[p]*E[c][U+p+M],x=t[127-p]*E[c][U+p+M+128],Z=G-x,G=G+x,K=t[p+64]*E[c][U+p+M+64],x=t[63-p]*E[c][U+p+M+192],y=K-x,K=K+x,o-=4,d[h][o+0]=G+K,d[h][o+2]=G-K,d[h][o+1]=Z+y,d[h][o+3]=Z-y,G=t[p+1]*E[c][U+p+M+1],x=t[126-p]*E[c][U+p+M+129],Z=G-x,G=G+x,K=t[p+65]*E[c][U+p+M+65],x=t[62-p]*E[c][U+p+M+193],y=K-x,K=K+x,d[h][o+o0.BLKSIZE_s/2+0]=G+K,d[h][o+o0.BLKSIZE_s/2+2]=G-K,d[h][o+o0.BLKSIZE_s/2+1]=Z+y,d[h][o+o0.BLKSIZE_s/2+3]=Z-y}while(--j>=0);a(d[h],o,o0.BLKSIZE_s/2)}},this.fft_long=function(i,d,c,E,U){var h=o0.BLKSIZE/8-1,o=o0.BLKSIZE/2;do{var M,j,G,Z,K,y=s[h]&255;M=e[y]*E[c][U+y],K=e[y+512]*E[c][U+y+512],j=M-K,M=M+K,G=e[y+256]*E[c][U+y+256],K=e[y+768]*E[c][U+y+768],Z=G-K,G=G+K,o-=4,d[o+0]=M+G,d[o+2]=M-G,d[o+1]=j+Z,d[o+3]=j-Z,M=e[y+1]*E[c][U+y+1],K=e[y+513]*E[c][U+y+513],j=M-K,M=M+K,G=e[y+257]*E[c][U+y+257],K=e[y+769]*E[c][U+y+769],Z=G-K,G=G+K,d[o+o0.BLKSIZE/2+0]=M+G,d[o+o0.BLKSIZE/2+2]=M-G,d[o+o0.BLKSIZE/2+1]=j+Z,d[o+o0.BLKSIZE/2+3]=j-Z}while(--h>=0);a(d,o,o0.BLKSIZE/2)},this.init_fft=function(i){for(var d=0;d<o0.BLKSIZE;d++)e[d]=.42-.5*Math.cos(2*Math.PI*(d+.5)/o0.BLKSIZE)+.08*Math.cos(4*Math.PI*(d+.5)/o0.BLKSIZE);for(var d=0;d<o0.BLKSIZE_s/2;d++)t[d]=.5*(1-Math.cos(2*Math.PI*(d+.5)/o0.BLKSIZE_s))}}var p2=b2,ft=n0,Vt=ft.VbrMode,v1=ft.Float,Dt=ft.ShortBlock,R0=ft.Util,x2=ft.Arrays,_0=ft.new_float,H0=ft.new_float_n,Rt=ft.new_int,Pe=ft.assert,S2=p2,ce=x0();function M2(){var e=Rn,t=new S2,n=2.302585092994046,a=2,s=16,i=2,d=16,c=.34,E=1/(14752*14752)/(ce.BLKSIZE/2),U=.01,h=.8,o=.6,M=.3,j=3.5,G=21,Z=.2302585093;function K(A){return A}function y(A,R){for(var k=0,Y=0;Y<ce.BLKSIZE/2;++Y)k+=A[Y]*R.ATH.eql_w[Y];return k*=E,k}function x(A,R,k,Y,J,N,ee,se,te,ue,le){var fe=A.internal_flags;if(te<2)t.fft_long(fe,Y[J],te,ue,le),t.fft_short(fe,N[ee],te,ue,le);else if(te==2){for(var Be=ce.BLKSIZE-1;Be>=0;--Be){var ke=Y[J+0][Be],Me=Y[J+1][Be];Y[J+0][Be]=(ke+Me)*R0.SQRT2*.5,Y[J+1][Be]=(ke-Me)*R0.SQRT2*.5}for(var He=2;He>=0;--He)for(var Be=ce.BLKSIZE_s-1;Be>=0;--Be){var ke=N[ee+0][He][Be],Me=N[ee+1][He][Be];N[ee+0][He][Be]=(ke+Me)*R0.SQRT2*.5,N[ee+1][He][Be]=(ke-Me)*R0.SQRT2*.5}}R[0]=Y[J+0][0],R[0]*=R[0];for(var Be=ce.BLKSIZE/2-1;Be>=0;--Be){var _e=Y[J+0][ce.BLKSIZE/2-Be],Oe=Y[J+0][ce.BLKSIZE/2+Be];R[ce.BLKSIZE/2-Be]=(_e*_e+Oe*Oe)*.5}for(var He=2;He>=0;--He){k[He][0]=N[ee+0][He][0],k[He][0]*=k[He][0];for(var Be=ce.BLKSIZE_s/2-1;Be>=0;--Be){var _e=N[ee+0][He][ce.BLKSIZE_s/2-Be],Oe=N[ee+0][He][ce.BLKSIZE_s/2+Be];k[He][ce.BLKSIZE_s/2-Be]=(_e*_e+Oe*Oe)*.5}}{for(var $e=0,Be=11;Be<ce.HBLKSIZE;Be++)$e+=R[Be];fe.tot_ener[te]=$e}if(A.analysis){for(var Be=0;Be<ce.HBLKSIZE;Be++)fe.pinfo.energy[se][te][Be]=fe.pinfo.energy_save[te][Be],fe.pinfo.energy_save[te][Be]=R[Be];fe.pinfo.pe[se][te]=fe.pe[te]}A.athaa_loudapprox==2&&te<2&&(fe.loudness_sq[se][te]=fe.loudness_sq_save[te],fe.loudness_sq_save[te]=y(R,fe))}var p=8,B=23,r=15,S,F,D,W=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function V(){S=Math.pow(10,(p+1)/16),F=Math.pow(10,(B+1)/16),D=Math.pow(10,r/10)}var P=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],de=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],I=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function f(A,R,k,Y,J,N){var ee;if(R>A)if(R<A*F)ee=R/A;else return A+R;else{if(A>=R*F)return A+R;ee=A/R}if(A+=R,Y+3<=3+3){if(ee>=S)return A;var se=0|R0.FAST_LOG10_X(ee,16);return A*de[se]}var se=0|R0.FAST_LOG10_X(ee,16);if(N!=0?R=J.ATH.cb_s[k]*J.ATH.adjust:R=J.ATH.cb_l[k]*J.ATH.adjust,A<D*R){if(A>R){var te,ue;return te=1,se<=13&&(te=I[se]),ue=R0.FAST_LOG10_X(A/R,10/15),A*((P[se]-te)*ue+te)}return se>13?A:A*I[se]}return A*P[se]}var H=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function $(A,R,k){var Y;if(A<0&&(A=0),R<0&&(R=0),A<=0)return R;if(R<=0)return A;if(R>A?Y=R/A:Y=A/R,-2<=k&&k<=2){if(Y>=S)return A+R;var J=0|R0.FAST_LOG10_X(Y,16);return(A+R)*H[J]}return Y<F?A+R:(A<R&&(A=R),A)}function L(A,R){var k=A.internal_flags;if(k.channels_out>1){for(var Y=0;Y<ce.SBMAX_l;Y++){var J=k.thm[0].l[Y],N=k.thm[1].l[Y];k.thm[0].l[Y]+=N*R,k.thm[1].l[Y]+=J*R}for(var Y=0;Y<ce.SBMAX_s;Y++)for(var ee=0;ee<3;ee++){var J=k.thm[0].s[Y][ee],N=k.thm[1].s[Y][ee];k.thm[0].s[Y][ee]+=N*R,k.thm[1].s[Y][ee]+=J*R}}}function T(A){for(var R=0;R<ce.SBMAX_l;R++)if(!(A.thm[0].l[R]>1.58*A.thm[1].l[R]||A.thm[1].l[R]>1.58*A.thm[0].l[R])){var k=A.mld_l[R]*A.en[3].l[R],Y=Math.max(A.thm[2].l[R],Math.min(A.thm[3].l[R],k));k=A.mld_l[R]*A.en[2].l[R];var J=Math.max(A.thm[3].l[R],Math.min(A.thm[2].l[R],k));A.thm[2].l[R]=Y,A.thm[3].l[R]=J}for(var R=0;R<ce.SBMAX_s;R++)for(var N=0;N<3;N++)if(!(A.thm[0].s[R][N]>1.58*A.thm[1].s[R][N]||A.thm[1].s[R][N]>1.58*A.thm[0].s[R][N])){var k=A.mld_s[R]*A.en[3].s[R][N],Y=Math.max(A.thm[2].s[R][N],Math.min(A.thm[3].s[R][N],k));k=A.mld_s[R]*A.en[2].s[R][N];var J=Math.max(A.thm[3].s[R][N],Math.min(A.thm[2].s[R][N],k));A.thm[2].s[R][N]=Y,A.thm[3].s[R][N]=J}}function z(A,R,k){var Y=R,J=Math.pow(10,k);R*=2,Y*=2;for(var N=0;N<ce.SBMAX_l;N++){var ee,se,te,ue;if(ue=A.ATH.cb_l[A.bm_l[N]]*J,ee=Math.min(Math.max(A.thm[0].l[N],ue),Math.max(A.thm[1].l[N],ue)),se=Math.max(A.thm[2].l[N],ue),te=Math.max(A.thm[3].l[N],ue),ee*R<se+te){var le=ee*Y/(se+te);se*=le,te*=le}A.thm[2].l[N]=Math.min(se,A.thm[2].l[N]),A.thm[3].l[N]=Math.min(te,A.thm[3].l[N])}J*=ce.BLKSIZE_s/ce.BLKSIZE;for(var N=0;N<ce.SBMAX_s;N++)for(var fe=0;fe<3;fe++){var ee,se,te,ue;if(ue=A.ATH.cb_s[A.bm_s[N]]*J,ee=Math.min(Math.max(A.thm[0].s[N][fe],ue),Math.max(A.thm[1].s[N][fe],ue)),se=Math.max(A.thm[2].s[N][fe],ue),te=Math.max(A.thm[3].s[N][fe],ue),ee*R<se+te){var le=ee*R/(se+te);se*=le,te*=le}A.thm[2].s[N][fe]=Math.min(A.thm[2].s[N][fe],se),A.thm[3].s[N][fe]=Math.min(A.thm[3].s[N][fe],te)}}function O(A,R,k,Y,J){var N,ee,se=0,te=0;for(N=ee=0;N<ce.SBMAX_s;++ee,++N){for(var ue=A.bo_s[N],le=A.npart_s,fe=ue<le?ue:le;ee<fe;)Pe(R[ee]>=0),Pe(k[ee]>=0),se+=R[ee],te+=k[ee],ee++;if(A.en[Y].s[N][J]=se,A.thm[Y].s[N][J]=te,ee>=le){++N;break}Pe(R[ee]>=0),Pe(k[ee]>=0);{var Be=A.PSY.bo_s_weight[N],ke=1-Be;se=Be*R[ee],te=Be*k[ee],A.en[Y].s[N][J]+=se,A.thm[Y].s[N][J]+=te,se=ke*R[ee],te=ke*k[ee]}}for(;N<ce.SBMAX_s;++N)A.en[Y].s[N][J]=0,A.thm[Y].s[N][J]=0}function m(A,R,k,Y){var J,N,ee=0,se=0;for(J=N=0;J<ce.SBMAX_l;++N,++J){for(var te=A.bo_l[J],ue=A.npart_l,le=te<ue?te:ue;N<le;)Pe(R[N]>=0),Pe(k[N]>=0),ee+=R[N],se+=k[N],N++;if(A.en[Y].l[J]=ee,A.thm[Y].l[J]=se,N>=ue){++J;break}Pe(R[N]>=0),Pe(k[N]>=0);{var fe=A.PSY.bo_l_weight[J],Be=1-fe;ee=fe*R[N],se=fe*k[N],A.en[Y].l[J]+=ee,A.thm[Y].l[J]+=se,ee=Be*R[N],se=Be*k[N]}}for(;J<ce.SBMAX_l;++J)A.en[Y].l[J]=0,A.thm[Y].l[J]=0}function _(A,R,k,Y,J,N){var ee=A.internal_flags,se,te;for(te=se=0;te<ee.npart_s;++te){for(var ue=0,le=ee.numlines_s[te],fe=0;fe<le;++fe,++se){var Be=R[N][se];ue+=Be}k[te]=ue}for(Pe(te==ee.npart_s),se=te=0;te<ee.npart_s;te++){var ke=ee.s3ind_s[te][0],Me=ee.s3_ss[se++]*k[ke];for(++ke;ke<=ee.s3ind_s[te][1];)Me+=ee.s3_ss[se]*k[ke],++se,++ke;{var He=i*ee.nb_s1[J][te];Y[te]=Math.min(Me,He)}if(ee.blocktype_old[J&1]==ce.SHORT_TYPE){var He=d*ee.nb_s2[J][te],_e=Y[te];Y[te]=Math.min(He,_e)}ee.nb_s2[J][te]=ee.nb_s1[J][te],ee.nb_s1[J][te]=Me,Pe(Y[te]>=0)}for(;te<=ce.CBANDS;++te)k[te]=0,Y[te]=0}function u(A,R,k,Y){var J=A.internal_flags;A.short_blocks==Dt.short_block_coupled&&!(R[0]!=0&&R[1]!=0)&&(R[0]=R[1]=0);for(var N=0;N<J.channels_out;N++)Y[N]=ce.NORM_TYPE,A.short_blocks==Dt.short_block_dispensed&&(R[N]=1),A.short_blocks==Dt.short_block_forced&&(R[N]=0),R[N]!=0?(Pe(J.blocktype_old[N]!=ce.START_TYPE),J.blocktype_old[N]==ce.SHORT_TYPE&&(Y[N]=ce.STOP_TYPE)):(Y[N]=ce.SHORT_TYPE,J.blocktype_old[N]==ce.NORM_TYPE&&(J.blocktype_old[N]=ce.START_TYPE),J.blocktype_old[N]==ce.STOP_TYPE&&(J.blocktype_old[N]=ce.SHORT_TYPE)),k[N]=J.blocktype_old[N],J.blocktype_old[N]=Y[N]}function b(A,R,k){return k>=1?A:k<=0?R:R>0?Math.pow(A/R,k)*R:0}var w=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function g(A,R){for(var k=309.07,Y=0;Y<ce.SBMAX_s-1;Y++)for(var J=0;J<3;J++){var N=A.thm.s[Y][J];if(N>0){var ee=N*R,se=A.en.s[Y][J];se>ee&&(se>ee*1e10?k+=w[Y]*(10*n):k+=w[Y]*R0.FAST_LOG10(se/ee))}}return k}var oe=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function q(A,R){for(var k=281.0575,Y=0;Y<ce.SBMAX_l-1;Y++){var J=A.thm.l[Y];if(J>0){var N=J*R,ee=A.en.l[Y];ee>N&&(ee>N*1e10?k+=oe[Y]*(10*n):k+=oe[Y]*R0.FAST_LOG10(ee/N))}}return k}function ne(A,R,k,Y,J){var N,ee;for(N=ee=0;N<A.npart_l;++N){var se=0,te=0,ue;for(ue=0;ue<A.numlines_l[N];++ue,++ee){var le=R[ee];se+=le,te<le&&(te=le)}k[N]=se,Y[N]=te,J[N]=se*A.rnumlines_l[N],Pe(A.rnumlines_l[N]>=0),Pe(k[N]>=0),Pe(Y[N]>=0),Pe(J[N]>=0)}}function ve(A,R,k,Y){var J=W.length-1,N=0,ee=k[N]+k[N+1];if(ee>0){var se=R[N];se<R[N+1]&&(se=R[N+1]),Pe(A.numlines_l[N]+A.numlines_l[N+1]-1>0),ee=20*(se*2-ee)/(ee*(A.numlines_l[N]+A.numlines_l[N+1]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;for(N=1;N<A.npart_l-1;N++)if(ee=k[N-1]+k[N]+k[N+1],ee>0){var se=R[N-1];se<R[N]&&(se=R[N]),se<R[N+1]&&(se=R[N+1]),Pe(A.numlines_l[N-1]+A.numlines_l[N]+A.numlines_l[N+1]-1>0),ee=20*(se*3-ee)/(ee*(A.numlines_l[N-1]+A.numlines_l[N]+A.numlines_l[N+1]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;if(Pe(N==A.npart_l-1),ee=k[N-1]+k[N],ee>0){var se=R[N-1];se<R[N]&&(se=R[N]),Pe(A.numlines_l[N-1]+A.numlines_l[N]-1>0),ee=20*(se*2-ee)/(ee*(A.numlines_l[N-1]+A.numlines_l[N]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;Pe(N==A.npart_l-1)}var ye=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(A,R,k,Y,J,N,ee,se,te,ue){var le=A.internal_flags,fe=H0([2,ce.BLKSIZE]),Be=H0([2,3,ce.BLKSIZE_s]),ke=_0(ce.CBANDS+1),Me=_0(ce.CBANDS+1),He=_0(ce.CBANDS+2),_e=Rt(2),Oe=Rt(2),$e,Ae,Ne,Ee,Ve,ge,Ie,De,Ye=H0([2,576]),Qe,I0=Rt(ce.CBANDS+2),l0=Rt(ce.CBANDS+2);for(x2.fill(l0,0),$e=le.channels_out,A.mode==e.JOINT_STEREO&&($e=4),A.VBR==Vt.vbr_off?Qe=le.ResvMax==0?0:le.ResvSize/le.ResvMax*.5:A.VBR==Vt.vbr_rh||A.VBR==Vt.vbr_mtrh||A.VBR==Vt.vbr_mt?Qe=.6:Qe=1,Ae=0;Ae<le.channels_out;Ae++){var Je=R[Ae],A0=k+576-350-G+192;for(Ee=0;Ee<576;Ee++){var C0,L0;for(C0=Je[A0+Ee+10],L0=0,Ve=0;Ve<(G-1)/2-1;Ve+=2)C0+=ye[Ve]*(Je[A0+Ee+Ve]+Je[A0+Ee+G-Ve]),L0+=ye[Ve+1]*(Je[A0+Ee+Ve+1]+Je[A0+Ee+G-Ve-1]);Ye[Ae][Ee]=C0+L0}J[Y][Ae].en.assign(le.en[Ae]),J[Y][Ae].thm.assign(le.thm[Ae]),$e>2&&(N[Y][Ae].en.assign(le.en[Ae+2]),N[Y][Ae].thm.assign(le.thm[Ae+2]))}for(Ae=0;Ae<$e;Ae++){var P0,X0,m0=_0(12),Q0=[0,0,0,0],kt=_0(12),fa=1,wr,Br=_0(ce.CBANDS),Ir=_0(ce.CBANDS),e0=[0,0,0,0],Cr=_0(ce.HBLKSIZE),Lr=H0([3,ce.HBLKSIZE_s]);for(Pe(le.npart_s<=ce.CBANDS),Pe(le.npart_l<=ce.CBANDS),Ee=0;Ee<3;Ee++)m0[Ee]=le.nsPsy.last_en_subshort[Ae][Ee+6],Pe(le.nsPsy.last_en_subshort[Ae][Ee+4]>0),kt[Ee]=m0[Ee]/le.nsPsy.last_en_subshort[Ae][Ee+4],Q0[0]+=m0[Ee];if(Ae==2)for(Ee=0;Ee<576;Ee++){var ca,va;ca=Ye[0][Ee],va=Ye[1][Ee],Ye[0][Ee]=ca+va,Ye[1][Ee]=ca-va}{var Or=Ye[Ae&1],nn=0;for(Ee=0;Ee<9;Ee++){for(var Js=nn+64,c0=1;nn<Js;nn++)c0<Math.abs(Or[nn])&&(c0=Math.abs(Or[nn]));le.nsPsy.last_en_subshort[Ae][Ee]=m0[Ee+3]=c0,Q0[1+Ee/3]+=c0,c0>m0[Ee+3-2]?(Pe(m0[Ee+3-2]>0),c0=c0/m0[Ee+3-2]):m0[Ee+3-2]>c0*10?c0=m0[Ee+3-2]/(c0*10):c0=0,kt[Ee+3]=c0}}if(A.analysis){var ha=kt[0];for(Ee=1;Ee<12;Ee++)ha<kt[Ee]&&(ha=kt[Ee]);le.pinfo.ers[Y][Ae]=le.pinfo.ers_save[Ae],le.pinfo.ers_save[Ae]=ha}for(wr=Ae==3?le.nsPsy.attackthre_s:le.nsPsy.attackthre,Ee=0;Ee<12;Ee++)e0[Ee/3]==0&&kt[Ee]>wr&&(e0[Ee/3]=Ee%3+1);for(Ee=1;Ee<4;Ee++){var da;Q0[Ee-1]>Q0[Ee]?(Pe(Q0[Ee]>0),da=Q0[Ee-1]/Q0[Ee]):(Pe(Q0[Ee-1]>0),da=Q0[Ee]/Q0[Ee-1]),da<1.7&&(e0[Ee]=0,Ee==1&&(e0[0]=0))}for(e0[0]!=0&&le.nsPsy.lastAttacks[Ae]!=0&&(e0[0]=0),(le.nsPsy.lastAttacks[Ae]==3||e0[0]+e0[1]+e0[2]+e0[3]!=0)&&(fa=0,e0[1]!=0&&e0[0]!=0&&(e0[1]=0),e0[2]!=0&&e0[1]!=0&&(e0[2]=0),e0[3]!=0&&e0[2]!=0&&(e0[3]=0)),Ae<2?Oe[Ae]=fa:fa==0&&(Oe[0]=Oe[1]=0),te[Ae]=le.tot_ener[Ae],X0=Be,P0=fe,x(A,Cr,Lr,P0,Ae&1,X0,Ae&1,Y,Ae,R,k),ne(le,Cr,ke,Br,Ir),ve(le,Br,Ir,I0),De=0;De<3;De++){var ma,E0;for(_(A,Lr,Me,He,Ae,De),O(le,Me,He,Ae,De),Ie=0;Ie<ce.SBMAX_s;Ie++){if(E0=le.thm[Ae].s[Ie][De],E0*=h,e0[De]>=2||e0[De+1]==1){var an=De!=0?De-1:2,c0=b(le.thm[Ae].s[Ie][an],E0,o*Qe);E0=Math.min(E0,c0)}if(e0[De]==1){var an=De!=0?De-1:2,c0=b(le.thm[Ae].s[Ie][an],E0,M*Qe);E0=Math.min(E0,c0)}else if(De!=0&&e0[De-1]==3||De==0&&le.nsPsy.lastAttacks[Ae]==3){var an=De!=2?De+1:0,c0=b(le.thm[Ae].s[Ie][an],E0,M*Qe);E0=Math.min(E0,c0)}ma=m0[De*3+3]+m0[De*3+4]+m0[De*3+5],m0[De*3+5]*6<ma&&(E0*=.5,m0[De*3+4]*6<ma&&(E0*=.5)),le.thm[Ae].s[Ie][De]=E0}}for(le.nsPsy.lastAttacks[Ae]=e0[2],ge=0,Ne=0;Ne<le.npart_l;Ne++){for(var St=le.s3ind[Ne][0],ba=ke[St]*W[I0[St]],Mt=le.s3_ll[ge++]*ba;++St<=le.s3ind[Ne][1];)ba=ke[St]*W[I0[St]],Mt=f(Mt,le.s3_ll[ge++]*ba,St,St-Ne,le,0);Mt*=.158489319246111,le.blocktype_old[Ae&1]==ce.SHORT_TYPE?He[Ne]=Mt:He[Ne]=b(Math.min(Mt,Math.min(a*le.nb_1[Ae][Ne],s*le.nb_2[Ae][Ne])),Mt,Qe),le.nb_2[Ae][Ne]=le.nb_1[Ae][Ne],le.nb_1[Ae][Ne]=Mt}for(;Ne<=ce.CBANDS;++Ne)ke[Ne]=0,He[Ne]=0;m(le,ke,He,Ae)}if((A.mode==e.STEREO||A.mode==e.JOINT_STEREO)&&A.interChRatio>0&&L(A,A.interChRatio),A.mode==e.JOINT_STEREO){var pa;T(le),pa=A.msfix,Math.abs(pa)>0&&z(le,pa,A.ATHlower*le.ATH.adjust)}for(u(A,Oe,ue,_e),Ae=0;Ae<$e;Ae++){var rn,sn=0,yn,Tn;Ae>1?(rn=se,sn=-2,yn=ce.NORM_TYPE,(ue[0]==ce.SHORT_TYPE||ue[1]==ce.SHORT_TYPE)&&(yn=ce.SHORT_TYPE),Tn=N[Y][Ae-2]):(rn=ee,sn=0,yn=ue[Ae],Tn=J[Y][Ae]),yn==ce.SHORT_TYPE?rn[sn+Ae]=g(Tn,le.masking_lower):rn[sn+Ae]=q(Tn,le.masking_lower),A.analysis&&(le.pinfo.pe[Y][Ae]=rn[sn+Ae])}return 0};function C(A,R,k,Y,J,N,ee,se){var te=A.internal_flags;if(Y<2)t.fft_long(te,ee[se],Y,R,k);else if(Y==2)for(var ue=ce.BLKSIZE-1;ue>=0;--ue){var le=ee[se+0][ue],fe=ee[se+1][ue];ee[se+0][ue]=(le+fe)*R0.SQRT2*.5,ee[se+1][ue]=(le-fe)*R0.SQRT2*.5}N[0]=ee[se+0][0],N[0]*=N[0];for(var ue=ce.BLKSIZE/2-1;ue>=0;--ue){var Be=ee[se+0][ce.BLKSIZE/2-ue],ke=ee[se+0][ce.BLKSIZE/2+ue];N[ce.BLKSIZE/2-ue]=(Be*Be+ke*ke)*.5}{for(var Me=0,ue=11;ue<ce.HBLKSIZE;ue++)Me+=N[ue];te.tot_ener[Y]=Me}if(A.analysis){for(var ue=0;ue<ce.HBLKSIZE;ue++)te.pinfo.energy[J][Y][ue]=te.pinfo.energy_save[Y][ue],te.pinfo.energy_save[Y][ue]=N[ue];te.pinfo.pe[J][Y]=te.pe[Y]}}function X(A,R,k,Y,J,N,ee,se){var te=A.internal_flags;if(J==0&&Y<2&&t.fft_short(te,ee[se],Y,R,k),Y==2)for(var ue=ce.BLKSIZE_s-1;ue>=0;--ue){var le=ee[se+0][J][ue],fe=ee[se+1][J][ue];ee[se+0][J][ue]=(le+fe)*R0.SQRT2*.5,ee[se+1][J][ue]=(le-fe)*R0.SQRT2*.5}N[J][0]=ee[se+0][J][0],N[J][0]*=N[J][0];for(var ue=ce.BLKSIZE_s/2-1;ue>=0;--ue){var Be=ee[se+0][J][ce.BLKSIZE_s/2-ue],ke=ee[se+0][J][ce.BLKSIZE_s/2+ue];N[J][ce.BLKSIZE_s/2-ue]=(Be*Be+ke*ke)*.5}}function Q(A,R,k,Y){var J=A.internal_flags;A.athaa_loudapprox==2&&k<2&&(J.loudness_sq[R][k]=J.loudness_sq_save[k],J.loudness_sq_save[k]=y(Y,J))}var ae=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function ie(A,R,k,Y,J,N,ee,se,te,ue){for(var le=H0([2,576]),fe=A.internal_flags,Be=fe.channels_out,ke=A.mode==e.JOINT_STEREO?4:Be,Me=0;Me<Be;Me++){firbuf=R[Me];for(var He=k+576-350-G+192,_e=0;_e<576;_e++){var Oe,$e;Oe=firbuf[He+_e+10],$e=0;for(var Ae=0;Ae<(G-1)/2-1;Ae+=2)Oe+=ae[Ae]*(firbuf[He+_e+Ae]+firbuf[He+_e+G-Ae]),$e+=ae[Ae+1]*(firbuf[He+_e+Ae+1]+firbuf[He+_e+G-Ae-1]);le[Me][_e]=Oe+$e}J[Y][Me].en.assign(fe.en[Me]),J[Y][Me].thm.assign(fe.thm[Me]),ke>2&&(N[Y][Me].en.assign(fe.en[Me+2]),N[Y][Me].thm.assign(fe.thm[Me+2]))}for(var Me=0;Me<ke;Me++){var Ne=_0(12),Ee=_0(12),Ve=[0,0,0,0],ge=le[Me&1],Ie=0,De=Me==3?fe.nsPsy.attackthre_s:fe.nsPsy.attackthre,Ye=1;if(Me==2)for(var _e=0,Ae=576;Ae>0;++_e,--Ae){var Qe=le[0][_e],I0=le[1][_e];le[0][_e]=Qe+I0,le[1][_e]=Qe-I0}for(var _e=0;_e<3;_e++)Ee[_e]=fe.nsPsy.last_en_subshort[Me][_e+6],Pe(fe.nsPsy.last_en_subshort[Me][_e+4]>0),Ne[_e]=Ee[_e]/fe.nsPsy.last_en_subshort[Me][_e+4],Ve[0]+=Ee[_e];for(var _e=0;_e<9;_e++){for(var l0=Ie+64,Je=1;Ie<l0;Ie++)Je<Math.abs(ge[Ie])&&(Je=Math.abs(ge[Ie]));fe.nsPsy.last_en_subshort[Me][_e]=Ee[_e+3]=Je,Ve[1+_e/3]+=Je,Je>Ee[_e+3-2]?(Pe(Ee[_e+3-2]>0),Je=Je/Ee[_e+3-2]):Ee[_e+3-2]>Je*10?Je=Ee[_e+3-2]/(Je*10):Je=0,Ne[_e+3]=Je}for(var _e=0;_e<3;++_e){var A0=Ee[_e*3+3]+Ee[_e*3+4]+Ee[_e*3+5],C0=1;Ee[_e*3+5]*6<A0&&(C0*=.5,Ee[_e*3+4]*6<A0&&(C0*=.5)),se[Me][_e]=C0}if(A.analysis){for(var L0=Ne[0],_e=1;_e<12;_e++)L0<Ne[_e]&&(L0=Ne[_e]);fe.pinfo.ers[Y][Me]=fe.pinfo.ers_save[Me],fe.pinfo.ers_save[Me]=L0}for(var _e=0;_e<12;_e++)te[Me][_e/3]==0&&Ne[_e]>De&&(te[Me][_e/3]=_e%3+1);for(var _e=1;_e<4;_e++){var P0=Ve[_e-1],X0=Ve[_e],m0=Math.max(P0,X0);m0<4e4&&P0<1.7*X0&&X0<1.7*P0&&(_e==1&&te[Me][0]<=te[Me][_e]&&(te[Me][0]=0),te[Me][_e]=0)}te[Me][0]<=fe.nsPsy.lastAttacks[Me]&&(te[Me][0]=0),(fe.nsPsy.lastAttacks[Me]==3||te[Me][0]+te[Me][1]+te[Me][2]+te[Me][3]!=0)&&(Ye=0,te[Me][1]!=0&&te[Me][0]!=0&&(te[Me][1]=0),te[Me][2]!=0&&te[Me][1]!=0&&(te[Me][2]=0),te[Me][3]!=0&&te[Me][2]!=0&&(te[Me][3]=0)),Me<2?ue[Me]=Ye:Ye==0&&(ue[0]=ue[1]=0),ee[Me]=fe.tot_ener[Me]}}function xe(A,R,k){if(k==0)for(var Y=0;Y<A.npart_s;Y++)A.nb_s2[R][Y]=A.nb_s1[R][Y],A.nb_s1[R][Y]=0}function Ce(A,R){for(var k=0;k<A.npart_l;k++)A.nb_2[R][k]=A.nb_1[R][k],A.nb_1[R][k]=0}function l(A,R,k,Y){var J=W.length-1,N=0,ee=k[N]+k[N+1];if(ee>0){var se=R[N];se<R[N+1]&&(se=R[N+1]),Pe(A.numlines_s[N]+A.numlines_s[N+1]-1>0),ee=20*(se*2-ee)/(ee*(A.numlines_s[N]+A.numlines_s[N+1]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;for(N=1;N<A.npart_s-1;N++)if(ee=k[N-1]+k[N]+k[N+1],Pe(N+1<A.npart_s),ee>0){var se=R[N-1];se<R[N]&&(se=R[N]),se<R[N+1]&&(se=R[N+1]),Pe(A.numlines_s[N-1]+A.numlines_s[N]+A.numlines_s[N+1]-1>0),ee=20*(se*3-ee)/(ee*(A.numlines_s[N-1]+A.numlines_s[N]+A.numlines_s[N+1]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;if(Pe(N==A.npart_s-1),ee=k[N-1]+k[N],ee>0){var se=R[N-1];se<R[N]&&(se=R[N]),Pe(A.numlines_s[N-1]+A.numlines_s[N]-1>0),ee=20*(se*2-ee)/(ee*(A.numlines_s[N-1]+A.numlines_s[N]-1));var te=0|ee;te>J&&(te=J),Y[N]=te}else Y[N]=0;Pe(N==A.npart_s-1)}function v(A,R,k,Y,J,N){var ee=A.internal_flags,se=new float[ce.CBANDS],te=_0(ce.CBANDS),ue,le,fe,Be=new int[ce.CBANDS];for(fe=le=0;fe<ee.npart_s;++fe){var ke=0,Me=0,He=ee.numlines_s[fe];for(ue=0;ue<He;++ue,++le){var _e=R[N][le];ke+=_e,Me<_e&&(Me=_e)}k[fe]=ke,se[fe]=Me,te[fe]=ke/He,Pe(te[fe]>=0)}for(Pe(fe==ee.npart_s);fe<ce.CBANDS;++fe)se[fe]=0,te[fe]=0;for(l(ee,se,te,Be),le=fe=0;fe<ee.npart_s;fe++){var Oe=ee.s3ind_s[fe][0],$e=ee.s3ind_s[fe][1],Ae,Ne,Ee,Ve,ge;for(Ae=Be[Oe],Ne=1,Ve=ee.s3_ss[le]*k[Oe]*W[Be[Oe]],++le,++Oe;Oe<=$e;)Ae+=Be[Oe],Ne+=1,Ee=ee.s3_ss[le]*k[Oe]*W[Be[Oe]],Ve=$(Ve,Ee,Oe-fe),++le,++Oe;Ae=(1+2*Ae)/(2*Ne),ge=W[Ae]*.5,Ve*=ge,Y[fe]=Ve,ee.nb_s2[J][fe]=ee.nb_s1[J][fe],ee.nb_s1[J][fe]=Ve,Ee=se[fe],Ee*=ee.minval_s[fe],Ee*=ge,Y[fe]>Ee&&(Y[fe]=Ee),ee.masking_lower>1&&(Y[fe]*=ee.masking_lower),Y[fe]>k[fe]&&(Y[fe]=k[fe]),ee.masking_lower<1&&(Y[fe]*=ee.masking_lower),Pe(Y[fe]>=0)}for(;fe<ce.CBANDS;++fe)k[fe]=0,Y[fe]=0}function re(A,R,k,Y,J){var N=_0(ce.CBANDS),ee=_0(ce.CBANDS),se=Rt(ce.CBANDS+2),te;ne(A,R,k,N,ee),ve(A,N,ee,se);var ue=0;for(te=0;te<A.npart_l;te++){var le,fe,Be,ke,Me=A.s3ind[te][0],He=A.s3ind[te][1],_e=0,Oe=0;for(_e=se[Me],Oe+=1,fe=A.s3_ll[ue]*k[Me]*W[se[Me]],++ue,++Me;Me<=He;)_e+=se[Me],Oe+=1,le=A.s3_ll[ue]*k[Me]*W[se[Me]],ke=$(fe,le,Me-te),fe=ke,++ue,++Me;if(_e=(1+2*_e)/(2*Oe),Be=W[_e]*.5,fe*=Be,A.blocktype_old[J&1]==ce.SHORT_TYPE){var $e=a*A.nb_1[J][te];$e>0?Y[te]=Math.min(fe,$e):Y[te]=Math.min(fe,k[te]*M)}else{var Ae=s*A.nb_2[J][te],Ne=a*A.nb_1[J][te],$e;Ae<=0&&(Ae=fe),Ne<=0&&(Ne=fe),A.blocktype_old[J&1]==ce.NORM_TYPE?$e=Math.min(Ne,Ae):$e=Ne,Y[te]=Math.min(fe,$e)}A.nb_2[J][te]=A.nb_1[J][te],A.nb_1[J][te]=fe,le=N[te],le*=A.minval_l[te],le*=Be,Y[te]>le&&(Y[te]=le),A.masking_lower>1&&(Y[te]*=A.masking_lower),Y[te]>k[te]&&(Y[te]=k[te]),A.masking_lower<1&&(Y[te]*=A.masking_lower),Pe(Y[te]>=0)}for(;te<ce.CBANDS;++te)k[te]=0,Y[te]=0}function he(A,R){var k=A.internal_flags;A.short_blocks==Dt.short_block_coupled&&!(R[0]!=0&&R[1]!=0)&&(R[0]=R[1]=0);for(var Y=0;Y<k.channels_out;Y++)A.short_blocks==Dt.short_block_dispensed&&(R[Y]=1),A.short_blocks==Dt.short_block_forced&&(R[Y]=0)}function me(A,R,k){for(var Y=A.internal_flags,J=0;J<Y.channels_out;J++){var N=ce.NORM_TYPE;R[J]!=0?(Pe(Y.blocktype_old[J]!=ce.START_TYPE),Y.blocktype_old[J]==ce.SHORT_TYPE&&(N=ce.STOP_TYPE)):(N=ce.SHORT_TYPE,Y.blocktype_old[J]==ce.NORM_TYPE&&(Y.blocktype_old[J]=ce.START_TYPE),Y.blocktype_old[J]==ce.STOP_TYPE&&(Y.blocktype_old[J]=ce.SHORT_TYPE)),k[J]=Y.blocktype_old[J],Y.blocktype_old[J]=N}}function pe(A,R,k,Y,J,N,ee){for(var se=N*2,te=N>0?Math.pow(10,J):1,ue,le,fe=0;fe<ee;++fe){var Be=A[2][fe],ke=A[3][fe],Me=R[0][fe],He=R[1][fe],_e=R[2][fe],Oe=R[3][fe];if(Me<=1.58*He&&He<=1.58*Me){var $e=k[fe]*ke,Ae=k[fe]*Be;le=Math.max(_e,Math.min(Oe,$e)),ue=Math.max(Oe,Math.min(_e,Ae))}else le=_e,ue=Oe;if(N>0){var Ne,Ee,Ve=Y[fe]*te;if(Ne=Math.min(Math.max(Me,Ve),Math.max(He,Ve)),_e=Math.max(le,Ve),Oe=Math.max(ue,Ve),Ee=_e+Oe,Ee>0&&Ne*se<Ee){var ge=Ne*se/Ee;_e*=ge,Oe*=ge}le=Math.min(_e,le),ue=Math.min(Oe,ue)}le>Be&&(le=Be),ue>ke&&(ue=ke),R[2][fe]=le,R[3][fe]=ue}}this.L3psycho_anal_vbr=function(A,R,k,Y,J,N,ee,se,te,ue){var le=A.internal_flags,fe,Be,ke=_0(ce.HBLKSIZE),Me=H0([3,ce.HBLKSIZE_s]),He=H0([2,ce.BLKSIZE]),_e=H0([2,3,ce.BLKSIZE_s]),Oe=H0([4,ce.CBANDS]),$e=H0([4,ce.CBANDS]),Ae=H0([4,3]),Ne=.6,Ee=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Ve=Rt(2),ge=A.mode==e.JOINT_STEREO?4:le.channels_out;ie(A,R,k,Y,J,N,te,Ae,Ee,Ve),he(A,Ve);{for(var Ie=0;Ie<ge;Ie++){var De=Ie&1;fe=He,C(A,R,k,Ie,Y,ke,fe,De),Q(A,Y,Ie,ke),Ve[De]!=0?re(le,ke,Oe[Ie],$e[Ie],Ie):Ce(le,Ie)}Ve[0]+Ve[1]==2&&A.mode==e.JOINT_STEREO&&pe(Oe,$e,le.mld_cb_l,le.ATH.cb_l,A.ATHlower*le.ATH.adjust,A.msfix,le.npart_l);for(var Ie=0;Ie<ge;Ie++){var De=Ie&1;Ve[De]!=0&&m(le,Oe[Ie],$e[Ie],Ie)}}{for(var Ye=0;Ye<3;Ye++){for(var Ie=0;Ie<ge;++Ie){var De=Ie&1;Ve[De]!=0?xe(le,Ie,Ye):(Be=_e,X(A,R,k,Ie,Ye,Me,Be,De),v(A,Me,Oe[Ie],$e[Ie],Ie,Ye))}Ve[0]+Ve[1]==0&&A.mode==e.JOINT_STEREO&&pe(Oe,$e,le.mld_cb_s,le.ATH.cb_s,A.ATHlower*le.ATH.adjust,A.msfix,le.npart_s);for(var Ie=0;Ie<ge;++Ie){var De=Ie&1;Ve[De]==0&&O(le,Oe[Ie],$e[Ie],Ie,Ye)}}for(var Ie=0;Ie<ge;Ie++){var De=Ie&1;if(Ve[De]==0)for(var Qe=0;Qe<ce.SBMAX_s;Qe++){for(var I0=_0(3),Ye=0;Ye<3;Ye++){var l0=le.thm[Ie].s[Qe][Ye];if(l0*=h,Ee[Ie][Ye]>=2||Ee[Ie][Ye+1]==1){var Je=Ye!=0?Ye-1:2,A0=b(le.thm[Ie].s[Qe][Je],l0,o*Ne);l0=Math.min(l0,A0)}else if(Ee[Ie][Ye]==1){var Je=Ye!=0?Ye-1:2,A0=b(le.thm[Ie].s[Qe][Je],l0,M*Ne);l0=Math.min(l0,A0)}else if(Ye!=0&&Ee[Ie][Ye-1]==3||Ye==0&&le.nsPsy.lastAttacks[Ie]==3){var Je=Ye!=2?Ye+1:0,A0=b(le.thm[Ie].s[Qe][Je],l0,M*Ne);l0=Math.min(l0,A0)}l0*=Ae[Ie][Ye],I0[Ye]=l0}for(var Ye=0;Ye<3;Ye++)le.thm[Ie].s[Qe][Ye]=I0[Ye]}}}for(var Ie=0;Ie<ge;Ie++)le.nsPsy.lastAttacks[Ie]=Ee[Ie][2];me(A,Ve,ue);for(var Ie=0;Ie<ge;Ie++){var C0,L0,P0,X0;Ie>1?(C0=se,L0=-2,P0=ce.NORM_TYPE,(ue[0]==ce.SHORT_TYPE||ue[1]==ce.SHORT_TYPE)&&(P0=ce.SHORT_TYPE),X0=N[Y][Ie-2]):(C0=ee,L0=0,P0=ue[Ie],X0=J[Y][Ie]),P0==ce.SHORT_TYPE?C0[L0+Ie]=g(X0,le.masking_lower):C0[L0+Ie]=q(X0,le.masking_lower),A.analysis&&(le.pinfo.pe[Y][Ie]=C0[L0+Ie])}return 0};function be(A,R){var k=A,Y;return k>=0?Y=-k*27:Y=k*R,Y<=-72?0:Math.exp(Y*Z)}function Se(A){var R=0,k=0;{var Y=0,J,N;for(Y=0;be(Y,A)>1e-20;Y-=1);for(J=Y,N=0;Math.abs(N-J)>1e-12;)Y=(N+J)/2,be(Y,A)>0?N=Y:J=Y;R=J}{var Y=0,J,N;for(Y=0;be(Y,A)>1e-20;Y+=1);for(J=0,N=Y;Math.abs(N-J)>1e-12;)Y=(N+J)/2,be(Y,A)>0?J=Y:N=Y;k=N}{var ee=0,se=1e3,te;for(te=0;te<=se;++te){var Y=R+te*(k-R)/se,ue=be(Y,A);ee+=ue}{var le=(se+1)/(ee*(k-R));return le}}}function Fe(A){var R,k,Y,J;return R=A,R>=0?R*=3:R*=1.5,R>=.5&&R<=2.5?(J=R-.5,k=8*(J*J-2*J)):k=0,R+=.474,Y=15.811389+7.5*R-17.5*Math.sqrt(1+R*R),Y<=-60?0:(R=Math.exp((k+Y)*Z),R/=.6609193,R)}function we(A){return A<0&&(A=0),A=A*.001,13*Math.atan(.76*A)+3.5*Math.atan(A*A/(7.5*7.5))}function Te(A,R,k,Y,J,N,ee,se,te,ue,le,fe){var Be=_0(ce.CBANDS+1),ke=se/(fe>15?2*576:2*192),Me=Rt(ce.HBLKSIZE),He;se/=te;var _e=0,Oe=0;for(He=0;He<ce.CBANDS;He++){var $e,Ae;for($e=we(se*_e),Be[He]=se*_e,Ae=_e;we(se*Ae)-$e<c&&Ae<=te/2;Ae++);for(A[He]=Ae-_e,Oe=He+1;_e<Ae;)Pe(_e<ce.HBLKSIZE),Me[_e++]=He;if(_e>te/2){_e=te/2,++He;break}}Pe(He<ce.CBANDS),Be[He]=se*_e;for(var Ne=0;Ne<fe;Ne++){var Ee,Ve,ge,Ie,De;ge=ue[Ne],Ie=ue[Ne+1],Ee=0|Math.floor(.5+le*(ge-.5)),Ee<0&&(Ee=0),Ve=0|Math.floor(.5+le*(Ie-.5)),Ve>te/2&&(Ve=te/2),k[Ne]=(Me[Ee]+Me[Ve])/2,R[Ne]=Me[Ve];var Ye=ke*Ie;ee[Ne]=(Ye-Be[R[Ne]])/(Be[R[Ne]+1]-Be[R[Ne]]),ee[Ne]<0?ee[Ne]=0:ee[Ne]>1&&(ee[Ne]=1),De=we(se*ue[Ne]*le),De=Math.min(De,15.5)/15.5,N[Ne]=Math.pow(10,1.25*(1-Math.cos(Math.PI*De))-2.5)}_e=0;for(var Qe=0;Qe<Oe;Qe++){var I0=A[Qe],$e,l0;$e=we(se*_e),l0=we(se*(_e+I0-1)),Y[Qe]=.5*($e+l0),$e=we(se*(_e-.5)),l0=we(se*(_e+I0-.5)),J[Qe]=l0-$e,_e+=I0}return Oe}function Xe(A,R,k,Y,J,N){var ee=H0([ce.CBANDS,ce.CBANDS]),se,te=0;if(N)for(var ue=0;ue<R;ue++)for(se=0;se<R;se++){var le=Fe(k[ue]-k[se])*Y[se];ee[ue][se]=le*J[ue]}else for(se=0;se<R;se++)for(var fe=15+Math.min(21/k[se],12),Be=Se(fe),ue=0;ue<R;ue++){var le=Be*be(k[ue]-k[se],fe)*Y[se];ee[ue][se]=le*J[ue]}for(var ue=0;ue<R;ue++){for(se=0;se<R&&!(ee[ue][se]>0);se++);for(A[ue][0]=se,se=R-1;se>0&&!(ee[ue][se]>0);se--);A[ue][1]=se,te+=A[ue][1]-A[ue][0]+1}for(var ke=_0(te),Me=0,ue=0;ue<R;ue++)for(se=A[ue][0];se<=A[ue][1];se++)ke[Me++]=ee[ue][se];return ke}function Ze(A){var R=we(A);return R=Math.min(R,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*R))-2.5)}this.psymodel_init=function(A){var R=A.internal_flags,k,Y=!0,J=13,N=24,ee=0,se=0,te=-8.25,ue=-4.5,le=_0(ce.CBANDS),fe=_0(ce.CBANDS),Be=_0(ce.CBANDS),ke=A.out_samplerate;switch(A.experimentalZ){default:case 0:Y=!0;break;case 1:Y=!(A.VBR==Vt.vbr_mtrh||A.VBR==Vt.vbr_mt);break;case 2:Y=!1;break;case 3:J=8,ee=-1.75,se=-.0125,te=-8.25,ue=-2.25;break}for(R.ms_ener_ratio_old=.25,R.blocktype_old[0]=R.blocktype_old[1]=ce.NORM_TYPE,k=0;k<4;++k){for(var _e=0;_e<ce.CBANDS;++_e)R.nb_1[k][_e]=1e20,R.nb_2[k][_e]=1e20,R.nb_s1[k][_e]=R.nb_s2[k][_e]=1;for(var Me=0;Me<ce.SBMAX_l;Me++)R.en[k].l[Me]=1e20,R.thm[k].l[Me]=1e20;for(var _e=0;_e<3;++_e){for(var Me=0;Me<ce.SBMAX_s;Me++)R.en[k].s[Me][_e]=1e20,R.thm[k].s[Me][_e]=1e20;R.nsPsy.lastAttacks[k]=0}for(var _e=0;_e<9;_e++)R.nsPsy.last_en_subshort[k][_e]=10}for(R.loudness_sq_save[0]=R.loudness_sq_save[1]=0,R.npart_l=Te(R.numlines_l,R.bo_l,R.bm_l,le,fe,R.mld_l,R.PSY.bo_l_weight,ke,ce.BLKSIZE,R.scalefac_band.l,ce.BLKSIZE/(2*576),ce.SBMAX_l),Pe(R.npart_l<ce.CBANDS),k=0;k<R.npart_l;k++){var He=ee;le[k]>=J&&(He=se*(le[k]-J)/(N-J)+ee*(N-le[k])/(N-J)),Be[k]=Math.pow(10,He/10),R.numlines_l[k]>0?R.rnumlines_l[k]=1/R.numlines_l[k]:R.rnumlines_l[k]=0}R.s3_ll=Xe(R.s3ind,R.npart_l,le,fe,Be,Y);var _e=0;for(k=0;k<R.npart_l;k++){var Oe;Oe=v1.MAX_VALUE;for(var $e=0;$e<R.numlines_l[k];$e++,_e++){var Ae=ke*_e/(1e3*ce.BLKSIZE),Ne;Ne=this.ATHformula(Ae*1e3,A)-20,Ne=Math.pow(10,.1*Ne),Ne*=R.numlines_l[k],Oe>Ne&&(Oe=Ne)}R.ATH.cb_l[k]=Oe,Oe=-20+le[k]*20/10,Oe>6&&(Oe=100),Oe<-15&&(Oe=-15),Oe-=8,R.minval_l[k]=Math.pow(10,Oe/10)*R.numlines_l[k]}for(R.npart_s=Te(R.numlines_s,R.bo_s,R.bm_s,le,fe,R.mld_s,R.PSY.bo_s_weight,ke,ce.BLKSIZE_s,R.scalefac_band.s,ce.BLKSIZE_s/(2*192),ce.SBMAX_s),Pe(R.npart_s<ce.CBANDS),_e=0,k=0;k<R.npart_s;k++){var Oe,He=te;le[k]>=J&&(He=ue*(le[k]-J)/(N-J)+te*(N-le[k])/(N-J)),Be[k]=Math.pow(10,He/10),Oe=v1.MAX_VALUE;for(var $e=0;$e<R.numlines_s[k];$e++,_e++){var Ae=ke*_e/(1e3*ce.BLKSIZE_s),Ne;Ne=this.ATHformula(Ae*1e3,A)-20,Ne=Math.pow(10,.1*Ne),Ne*=R.numlines_s[k],Oe>Ne&&(Oe=Ne)}R.ATH.cb_s[k]=Oe,Oe=-7+le[k]*7/12,le[k]>12&&(Oe*=1+Math.log(1+Oe)*3.1),le[k]<12&&(Oe*=1+Math.log(1-Oe)*2.3),Oe<-15&&(Oe=-15),Oe-=8,R.minval_s[k]=Math.pow(10,Oe/10)*R.numlines_s[k]}R.s3_ss=Xe(R.s3ind_s,R.npart_s,le,fe,Be,Y),V(),t.init_fft(R),R.decay=Math.exp(-1*n/(U*ke/192));{var Ee;Ee=j,A.exp_nspsytune&2&&(Ee=1),Math.abs(A.msfix)>0&&(Ee=A.msfix),A.msfix=Ee;for(var Ve=0;Ve<R.npart_l;Ve++)R.s3ind[Ve][1]>R.npart_l-1&&(R.s3ind[Ve][1]=R.npart_l-1)}var ge=576*R.mode_gr/ke;if(R.ATH.decay=Math.pow(10,-12/10*ge),R.ATH.adjust=.01,R.ATH.adjustLimit=1,Pe(R.bo_l[ce.SBMAX_l-1]<=R.npart_l),Pe(R.bo_s[ce.SBMAX_s-1]<=R.npart_s),A.ATHtype!=-1){var Ae,Ie=A.out_samplerate/ce.BLKSIZE,De=0;for(Ae=0,k=0;k<ce.BLKSIZE/2;++k)Ae+=Ie,R.ATH.eql_w[k]=1/Math.pow(10,this.ATHformula(Ae,A)/10),De+=R.ATH.eql_w[k];for(De=1/De,k=ce.BLKSIZE/2;--k>=0;)R.ATH.eql_w[k]*=De}{for(var Ve=_e=0;Ve<R.npart_s;++Ve)for(k=0;k<R.numlines_s[Ve];++k)++_e;for(var Ve=_e=0;Ve<R.npart_l;++Ve)for(k=0;k<R.numlines_l[Ve];++k)++_e}for(_e=0,k=0;k<R.npart_l;k++){var Ae=ke*(_e+R.numlines_l[k]/2)/(1*ce.BLKSIZE);R.mld_cb_l[k]=Ze(Ae),_e+=R.numlines_l[k]}for(;k<ce.CBANDS;++k)R.mld_cb_l[k]=1;for(_e=0,k=0;k<R.npart_s;k++){var Ae=ke*(_e+R.numlines_s[k]/2)/(1*ce.BLKSIZE_s);R.mld_cb_s[k]=Ze(Ae),_e+=R.numlines_s[k]}for(;k<ce.CBANDS;++k)R.mld_cb_s[k]=1;return 0};function Ke(A,R){A<-.3&&(A=3410),A/=1e3,A=Math.max(.1,A);var k=3.64*Math.pow(A,-.8)-6.8*Math.exp(-.6*Math.pow(A-3.4,2))+6*Math.exp(-.15*Math.pow(A-8.7,2))+(.6+.04*R)*.001*Math.pow(A,4);return k}this.ATHformula=function(A,R){var k;switch(R.ATHtype){case 0:k=Ke(A,9);break;case 1:k=Ke(A,-1);break;case 2:k=Ke(A,0);break;case 3:k=Ke(A,1)+6;break;case 4:k=Ke(A,R.ATHcurve);break;default:k=Ke(A,0);break}return k}}var A2=M2,E2=Rn;function R2(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=E2.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var y2=R2,T2=x0(),$s={};$s.SFBMAX=T2.SBMAX_s*3;var oa=$s,Ys=n0,w2=Ys.new_float,yt=Ys.new_int,La=oa;function B2(){this.xr=w2(576),this.l3_enc=yt(576),this.scalefac=yt(La.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=yt(3),this.subblock_gain=yt(3+1),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=yt(La.SFBMAX),this.window=yt(La.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=yt(4),this.max_nonzero_coeff=0;var e=this;function t(a){return new Int32Array(a)}function n(a){return new Float32Array(a)}this.assign=function(a){e.xr=n(a.xr),e.l3_enc=t(a.l3_enc),e.scalefac=t(a.scalefac),e.xrpow_max=a.xrpow_max,e.part2_3_length=a.part2_3_length,e.big_values=a.big_values,e.count1=a.count1,e.global_gain=a.global_gain,e.scalefac_compress=a.scalefac_compress,e.block_type=a.block_type,e.mixed_block_flag=a.mixed_block_flag,e.table_select=t(a.table_select),e.subblock_gain=t(a.subblock_gain),e.region0_count=a.region0_count,e.region1_count=a.region1_count,e.preflag=a.preflag,e.scalefac_scale=a.scalefac_scale,e.count1table_select=a.count1table_select,e.part2_length=a.part2_length,e.sfb_lmax=a.sfb_lmax,e.sfb_smin=a.sfb_smin,e.psy_lmax=a.psy_lmax,e.sfbmax=a.sfbmax,e.psymax=a.psymax,e.sfbdivide=a.sfbdivide,e.width=t(a.width),e.window=t(a.window),e.count1bits=a.count1bits,e.sfb_partition_table=a.sfb_partition_table.slice(0),e.slen=t(a.slen),e.max_nonzero_coeff=a.max_nonzero_coeff}}var Mr=B2,I2=n0,h1=I2.new_int,C2=Mr;function L2(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[h1(4),h1(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new C2}var O2=L2,qs=n0,Nn=qs.System,Fn=qs.new_int,Hn=x0();function N2(e,t,n,a){this.l=Fn(1+Hn.SBMAX_l),this.s=Fn(1+Hn.SBMAX_s),this.psfb21=Fn(1+Hn.PSFB21),this.psfb12=Fn(1+Hn.PSFB12);var s=this.l,i=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Nn.arraycopy(this.arrL,0,s,0,Math.min(this.arrL.length,this.l.length)),Nn.arraycopy(this.arrS,0,i,0,Math.min(this.arrS.length,this.s.length)),Nn.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Nn.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var Us=N2,Ar=n0,Oa=Ar.new_float,F2=Ar.new_float_n,H2=Ar.new_int,d1=x0();function k2(){this.last_en_subshort=F2([4,9]),this.lastAttacks=H2(4),this.pefirbuf=Oa(19),this.longfact=Oa(d1.SBMAX_l),this.shortfact=Oa(d1.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var V2=k2;function D2(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var P2=D2,Jt=n0,X2=Jt.new_byte,$2=Jt.new_double,k0=Jt.new_float,Tt=Jt.new_float_n,$0=Jt.new_int,kn=Jt.new_int_n,Y2=O2,q2=Us,U2=V2,K2=P2,m1=Ps(),a0=x0(),G2=oa;lt.MFSIZE=3*1152+a0.ENCDELAY-a0.MDCTDELAY;lt.MAX_HEADER_BUF=256;lt.MAX_BITS_PER_CHANNEL=4095;lt.MAX_BITS_PER_GRANULE=7680;lt.BPC=320;function lt(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=Tt([2,lt.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new Y2,this.ms_ratio=k0(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=$0(2),this.CurrentStep=$0(2),this.masking_lower=0,this.bv_scf=$0(576),this.pseudohalf=$0(G2.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*lt.BPC+1),this.itime=$2(2),this.sideinfo_len=0,this.sb_sample=Tt([2,2,18,a0.SBLIMIT]),this.amp_filter=k0(32);function t(){this.write_timing=0,this.ptr=0,this.buf=X2(e)}this.header=new Array(lt.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new q2,this.minval_l=k0(a0.CBANDS),this.minval_s=k0(a0.CBANDS),this.nb_1=Tt([4,a0.CBANDS]),this.nb_2=Tt([4,a0.CBANDS]),this.nb_s1=Tt([4,a0.CBANDS]),this.nb_s2=Tt([4,a0.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=k0(4),this.loudness_sq=Tt([2,2]),this.loudness_sq_save=k0(2),this.mld_l=k0(a0.SBMAX_l),this.mld_s=k0(a0.SBMAX_s),this.bm_l=$0(a0.SBMAX_l),this.bo_l=$0(a0.SBMAX_l),this.bm_s=$0(a0.SBMAX_s),this.bo_s=$0(a0.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=kn([a0.CBANDS,2]),this.s3ind_s=kn([a0.CBANDS,2]),this.numlines_s=$0(a0.CBANDS),this.numlines_l=$0(a0.CBANDS),this.rnumlines_l=k0(a0.CBANDS),this.mld_cb_l=k0(a0.CBANDS),this.mld_cb_s=k0(a0.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=k0(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=$0(2),this.nsPsy=new U2,this.VBR_seek_table=new K2,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=kn([16,4+1]),this.bitrate_blockType_Hist=kn([16,4+1+1]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new m1;for(var n=0;n<this.thm.length;n++)this.thm[n]=new m1;for(var n=0;n<this.header.length;n++)this.header[n]=new t}var _a=lt,j2=n0,wt=j2.new_float,Bt=x0();function W2(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=wt(Bt.SBMAX_l),this.s=wt(Bt.SBMAX_s),this.psfb21=wt(Bt.PSFB21),this.psfb12=wt(Bt.PSFB12),this.cb_l=wt(Bt.CBANDS),this.cb_s=wt(Bt.CBANDS),this.eql_w=wt(Bt.BLKSIZE/2)}var z2=W2,Ks=n0,y0=Ks.System,b1=Ks.Arrays;s0.STEPS_per_dB=100;s0.MAX_dB=120;s0.GAIN_NOT_ENOUGH_SAMPLES=-24601;s0.GAIN_ANALYSIS_ERROR=0;s0.GAIN_ANALYSIS_OK=1;s0.INIT_GAIN_ANALYSIS_ERROR=0;s0.INIT_GAIN_ANALYSIS_OK=1;s0.YULE_ORDER=10;s0.MAX_ORDER=s0.YULE_ORDER;s0.MAX_SAMP_FREQ=48e3;s0.RMS_WINDOW_TIME_NUMERATOR=1;s0.RMS_WINDOW_TIME_DENOMINATOR=20;s0.MAX_SAMPLES_PER_WINDOW=s0.MAX_SAMP_FREQ*s0.RMS_WINDOW_TIME_NUMERATOR/s0.RMS_WINDOW_TIME_DENOMINATOR+1;function s0(){var e=64.82,t=.95,n=s0.RMS_WINDOW_TIME_NUMERATOR,a=s0.RMS_WINDOW_TIME_DENOMINATOR,s=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],i=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function d(o,M,j,G,Z,K){for(;Z--!=0;)j[G]=1e-10+o[M+0]*K[0]-j[G-1]*K[1]+o[M-1]*K[2]-j[G-2]*K[3]+o[M-2]*K[4]-j[G-3]*K[5]+o[M-3]*K[6]-j[G-4]*K[7]+o[M-4]*K[8]-j[G-5]*K[9]+o[M-5]*K[10]-j[G-6]*K[11]+o[M-6]*K[12]-j[G-7]*K[13]+o[M-7]*K[14]-j[G-8]*K[15]+o[M-8]*K[16]-j[G-9]*K[17]+o[M-9]*K[18]-j[G-10]*K[19]+o[M-10]*K[20],++G,++M}function c(o,M,j,G,Z,K){for(;Z--!=0;)j[G]=o[M+0]*K[0]-j[G-1]*K[1]+o[M-1]*K[2]-j[G-2]*K[3]+o[M-2]*K[4],++G,++M}function E(o,M){for(var j=0;j<MAX_ORDER;j++)o.linprebuf[j]=o.lstepbuf[j]=o.loutbuf[j]=o.rinprebuf[j]=o.rstepbuf[j]=o.routbuf[j]=0;switch(0|M){case 48e3:o.reqindex=0;break;case 44100:o.reqindex=1;break;case 32e3:o.reqindex=2;break;case 24e3:o.reqindex=3;break;case 22050:o.reqindex=4;break;case 16e3:o.reqindex=5;break;case 12e3:o.reqindex=6;break;case 11025:o.reqindex=7;break;case 8e3:o.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return o.sampleWindow=0|(M*n+a-1)/a,o.lsum=0,o.rsum=0,o.totsamp=0,b1.ill(o.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(o,M){return E(o,M)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(o.linpre=MAX_ORDER,o.rinpre=MAX_ORDER,o.lstep=MAX_ORDER,o.rstep=MAX_ORDER,o.lout=MAX_ORDER,o.rout=MAX_ORDER,b1.fill(o.B,0),INIT_GAIN_ANALYSIS_OK)};function U(o){return o*o}this.AnalyzeSamples=function(o,M,j,G,Z,K,y){var x,p,B,r,S,F,D;if(K==0)return GAIN_ANALYSIS_OK;switch(D=0,S=K,y){case 1:G=M,Z=j;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(K<MAX_ORDER?(y0.arraycopy(M,j,o.linprebuf,MAX_ORDER,K),y0.arraycopy(G,Z,o.rinprebuf,MAX_ORDER,K)):(y0.arraycopy(M,j,o.linprebuf,MAX_ORDER,MAX_ORDER),y0.arraycopy(G,Z,o.rinprebuf,MAX_ORDER,MAX_ORDER));S>0;){F=S>o.sampleWindow-o.totsamp?o.sampleWindow-o.totsamp:S,D<MAX_ORDER?(x=o.linpre+D,p=o.linprebuf,B=o.rinpre+D,r=o.rinprebuf,F>MAX_ORDER-D&&(F=MAX_ORDER-D)):(x=j+D,p=M,B=Z+D,r=G),d(p,x,o.lstepbuf,o.lstep+o.totsamp,F,s[o.reqindex]),d(r,B,o.rstepbuf,o.rstep+o.totsamp,F,s[o.reqindex]),c(o.lstepbuf,o.lstep+o.totsamp,o.loutbuf,o.lout+o.totsamp,F,i[o.reqindex]),c(o.rstepbuf,o.rstep+o.totsamp,o.routbuf,o.rout+o.totsamp,F,i[o.reqindex]),x=o.lout+o.totsamp,p=o.loutbuf,B=o.rout+o.totsamp,r=o.routbuf;for(var W=F%8;W--!=0;)o.lsum+=U(p[x++]),o.rsum+=U(r[B++]);for(W=F/8;W--!=0;)o.lsum+=U(p[x+0])+U(p[x+1])+U(p[x+2])+U(p[x+3])+U(p[x+4])+U(p[x+5])+U(p[x+6])+U(p[x+7]),x+=8,o.rsum+=U(r[B+0])+U(r[B+1])+U(r[B+2])+U(r[B+3])+U(r[B+4])+U(r[B+5])+U(r[B+6])+U(r[B+7]),B+=8;if(S-=F,D+=F,o.totsamp+=F,o.totsamp==o.sampleWindow){var V=s0.STEPS_per_dB*10*Math.log10((o.lsum+o.rsum)/o.totsamp*.5+1e-37),P=V<=0?0:0|V;P>=o.A.length&&(P=o.A.length-1),o.A[P]++,o.lsum=o.rsum=0,y0.arraycopy(o.loutbuf,o.totsamp,o.loutbuf,0,MAX_ORDER),y0.arraycopy(o.routbuf,o.totsamp,o.routbuf,0,MAX_ORDER),y0.arraycopy(o.lstepbuf,o.totsamp,o.lstepbuf,0,MAX_ORDER),y0.arraycopy(o.rstepbuf,o.totsamp,o.rstepbuf,0,MAX_ORDER),o.totsamp=0}if(o.totsamp>o.sampleWindow)return GAIN_ANALYSIS_ERROR}return K<MAX_ORDER?(y0.arraycopy(o.linprebuf,K,o.linprebuf,0,MAX_ORDER-K),y0.arraycopy(o.rinprebuf,K,o.rinprebuf,0,MAX_ORDER-K),y0.arraycopy(M,j,o.linprebuf,MAX_ORDER-K,K),y0.arraycopy(G,Z,o.rinprebuf,MAX_ORDER-K,K)):(y0.arraycopy(M,j+K-MAX_ORDER,o.linprebuf,0,MAX_ORDER),y0.arraycopy(G,Z+K-MAX_ORDER,o.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function h(o,M){var j,G=0;for(j=0;j<M;j++)G+=o[j];if(G==0)return GAIN_NOT_ENOUGH_SAMPLES;var Z=0|Math.ceil(G*(1-t));for(j=M;j-- >0&&!((Z-=o[j])<=0););return e-j/s0.STEPS_per_dB}this.GetTitleGain=function(o){for(var M=h(o.A,o.A.length),j=0;j<o.A.length;j++)o.B[j]+=o.A[j],o.A[j]=0;for(var j=0;j<MAX_ORDER;j++)o.linprebuf[j]=o.lstepbuf[j]=o.loutbuf[j]=o.rinprebuf[j]=o.rstepbuf[j]=o.routbuf[j]=0;return o.totsamp=0,o.lsum=o.rsum=0,M}}var Gs=s0,js=n0,Pt=js.new_float,p1=js.new_int,T0=Gs;function Z2(){this.linprebuf=Pt(T0.MAX_ORDER*2),this.linpre=0,this.lstepbuf=Pt(T0.MAX_SAMPLES_PER_WINDOW+T0.MAX_ORDER),this.lstep=0,this.loutbuf=Pt(T0.MAX_SAMPLES_PER_WINDOW+T0.MAX_ORDER),this.lout=0,this.rinprebuf=Pt(T0.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=Pt(T0.MAX_SAMPLES_PER_WINDOW+T0.MAX_ORDER),this.rstep=0,this.routbuf=Pt(T0.MAX_SAMPLES_PER_WINDOW+T0.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=p1(0|T0.STEPS_per_dB*T0.MAX_dB),this.B=p1(0|T0.STEPS_per_dB*T0.MAX_dB)}var g2=Z2;function Q2(e){this.bits=e}var Ws=Q2,Er=n0,x1=Er.new_float,J2=Er.new_int,S1=Er.assert,e_=Ws,M1=x0(),t_=oa,n_=_a;function a_(e){var t=e;this.quantize=t,this.iteration_loop=function(n,a,s,i){var d=n.internal_flags,c=x1(t_.SFBMAX),E=x1(576),U=J2(2),h=0,o,M=d.l3_side,j=new e_(h);this.quantize.rv.ResvFrameBegin(n,j),h=j.bits;for(var G=0;G<d.mode_gr;G++){o=this.quantize.qupvt.on_pe(n,a,U,h,G,G),d.mode_ext==M1.MPG_MD_MS_LR&&(this.quantize.ms_convert(d.l3_side,G),this.quantize.qupvt.reduce_side(U,s[G],h,o));for(var Z=0;Z<d.channels_out;Z++){var K,y,x=M.tt[G][Z];x.block_type!=M1.SHORT_TYPE?(K=0,y=d.PSY.mask_adjust-K):(K=0,y=d.PSY.mask_adjust_short-K),d.masking_lower=Math.pow(10,y*.1),this.quantize.init_outer_loop(d,x),this.quantize.init_xrpow(d,x,E)&&(this.quantize.qupvt.calc_xmin(n,i[G][Z],x,c),this.quantize.outer_loop(n,x,c,E,Z,U[Z])),this.quantize.iteration_finish_one(d,G,Z),S1(x.part2_3_length<=n_.MAX_BITS_PER_CHANNEL),S1(x.part2_3_length<=U[Z])}}this.quantize.rv.ResvFrameEnd(d,h)}}var r_=a_;function Ge(e,t,n,a){this.xlen=e,this.linmax=t,this.table=n,this.hlen=a}var Re={};Re.t1HB=[1,1,1,0];Re.t2HB=[1,2,1,3,1,1,3,2,0];Re.t3HB=[3,2,1,1,1,1,3,2,0];Re.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];Re.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];Re.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];Re.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];Re.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];Re.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];Re.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];Re.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];Re.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];Re.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];Re.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];Re.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];Re.t32HB=[1<<0,5<<1,4<<1,5<<2,6<<1,5<<2,4<<2,4<<3,7<<1,3<<2,6<<2,0<<3,7<<2,2<<3,3<<3,1<<4];Re.t33HB=[15<<0,14<<1,13<<1,12<<2,11<<1,10<<2,9<<2,8<<3,7<<1,6<<2,5<<2,4<<3,3<<2,2<<3,1<<3,0<<4];Re.t1l=[1,4,3,5];Re.t2l=[1,4,7,4,5,7,6,7,8];Re.t3l=[2,3,7,4,4,7,6,7,8];Re.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];Re.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];Re.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];Re.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];Re.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];Re.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];Re.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];Re.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];Re.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];Re.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];Re.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];Re.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];Re.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];Re.t32l=[1+0,4+1,4+1,5+2,4+1,6+2,5+2,6+3,4+1,5+2,5+2,6+3,5+2,6+3,6+3,6+4];Re.t33l=[4+0,4+1,4+1,4+2,4+1,4+2,4+2,4+3,4+1,4+2,4+2,4+3,4+2,4+3,4+3,4+4];Re.ht=[new Ge(0,0,null,null),new Ge(2,0,Re.t1HB,Re.t1l),new Ge(3,0,Re.t2HB,Re.t2l),new Ge(3,0,Re.t3HB,Re.t3l),new Ge(0,0,null,null),new Ge(4,0,Re.t5HB,Re.t5l),new Ge(4,0,Re.t6HB,Re.t6l),new Ge(6,0,Re.t7HB,Re.t7l),new Ge(6,0,Re.t8HB,Re.t8l),new Ge(6,0,Re.t9HB,Re.t9l),new Ge(8,0,Re.t10HB,Re.t10l),new Ge(8,0,Re.t11HB,Re.t11l),new Ge(8,0,Re.t12HB,Re.t12l),new Ge(16,0,Re.t13HB,Re.t13l),new Ge(0,0,null,Re.t16_5l),new Ge(16,0,Re.t15HB,Re.t15l),new Ge(1,1,Re.t16HB,Re.t16l),new Ge(2,3,Re.t16HB,Re.t16l),new Ge(3,7,Re.t16HB,Re.t16l),new Ge(4,15,Re.t16HB,Re.t16l),new Ge(6,63,Re.t16HB,Re.t16l),new Ge(8,255,Re.t16HB,Re.t16l),new Ge(10,1023,Re.t16HB,Re.t16l),new Ge(13,8191,Re.t16HB,Re.t16l),new Ge(4,15,Re.t24HB,Re.t24l),new Ge(5,31,Re.t24HB,Re.t24l),new Ge(6,63,Re.t24HB,Re.t24l),new Ge(7,127,Re.t24HB,Re.t24l),new Ge(8,255,Re.t24HB,Re.t24l),new Ge(9,511,Re.t24HB,Re.t24l),new Ge(11,2047,Re.t24HB,Re.t24l),new Ge(13,8191,Re.t24HB,Re.t24l),new Ge(0,0,Re.t32HB,Re.t32l),new Ge(0,0,Re.t33HB,Re.t33l)];Re.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];Re.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];Re.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];Re.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];Re.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];Re.scfsi_band=[0,6,11,16,21];var Rr=Re,Na,A1;function zs(){if(A1)return Na;A1=1;var e=Us,t=n0,n=t.VbrMode,a=t.Float,s=t.Util,i=t.new_float,d=t.new_int,c=t.assert,E=x0(),U=Ws,h=_a;o.Q_MAX=256+1,o.Q_MAX2=116,o.LARGE_BITS=1e5,o.IXMAX_VAL=8206;function o(){var M=yr(),j=null,G=null,Z=null;this.setModules=function(H,$,L){j=H,G=$,Z=L};function K(H){return c(0<=H+o.Q_MAX2&&H<o.Q_MAX),D[H+o.Q_MAX2]}this.IPOW20=function(H){return c(0<=H&&H<o.Q_MAX),W[H]};var y=2220446049250313e-31,x=o.IXMAX_VAL,p=x+2,B=o.Q_MAX,r=o.Q_MAX2;o.LARGE_BITS;var S=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var F=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=F,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var D=i(B+r+1),W=i(B),V=i(p),P=i(p);this.adj43=P;function de(H,$){var L=Z.ATHformula($,H);return L-=S,L=Math.pow(10,L/10+H.ATHlower),L}function I(H){for(var $=H.internal_flags.ATH.l,L=H.internal_flags.ATH.psfb21,T=H.internal_flags.ATH.s,z=H.internal_flags.ATH.psfb12,O=H.internal_flags,m=H.out_samplerate,_=0;_<E.SBMAX_l;_++){var u=O.scalefac_band.l[_],b=O.scalefac_band.l[_+1];$[_]=a.MAX_VALUE;for(var w=u;w<b;w++){var g=w*m/1152,oe=de(H,g);$[_]=Math.min($[_],oe)}}for(var _=0;_<E.PSFB21;_++){var u=O.scalefac_band.psfb21[_],b=O.scalefac_band.psfb21[_+1];L[_]=a.MAX_VALUE;for(var w=u;w<b;w++){var g=w*m/1152,oe=de(H,g);L[_]=Math.min(L[_],oe)}}for(var _=0;_<E.SBMAX_s;_++){var u=O.scalefac_band.s[_],b=O.scalefac_band.s[_+1];T[_]=a.MAX_VALUE;for(var w=u;w<b;w++){var g=w*m/384,oe=de(H,g);T[_]=Math.min(T[_],oe)}T[_]*=O.scalefac_band.s[_+1]-O.scalefac_band.s[_]}for(var _=0;_<E.PSFB12;_++){var u=O.scalefac_band.psfb12[_],b=O.scalefac_band.psfb12[_+1];z[_]=a.MAX_VALUE;for(var w=u;w<b;w++){var g=w*m/384,oe=de(H,g);z[_]=Math.min(z[_],oe)}z[_]*=O.scalefac_band.s[13]-O.scalefac_band.s[12]}if(H.noATH){for(var _=0;_<E.SBMAX_l;_++)$[_]=1e-20;for(var _=0;_<E.PSFB21;_++)L[_]=1e-20;for(var _=0;_<E.SBMAX_s;_++)T[_]=1e-20;for(var _=0;_<E.PSFB12;_++)z[_]=1e-20}O.ATH.floor=10*Math.log10(de(H,-1))}this.iteration_init=function(H){var $=H.internal_flags,L=$.l3_side,T;if($.iteration_init_init==0){for($.iteration_init_init=1,L.main_data_begin=0,I(H),V[0]=0,T=1;T<p;T++)V[T]=Math.pow(T,4/3);for(T=0;T<p-1;T++)P[T]=T+1-Math.pow(.5*(V[T]+V[T+1]),.75);for(P[T]=.5,T=0;T<B;T++)W[T]=Math.pow(2,(T-210)*-.1875);for(T=0;T<=B+r;T++)D[T]=Math.pow(2,(T-210-r)*.25);j.huffman_init($);{var z,O,m,_;for(T=H.exp_nspsytune>>2&63,T>=32&&(T-=64),z=Math.pow(10,T/4/10),T=H.exp_nspsytune>>8&63,T>=32&&(T-=64),O=Math.pow(10,T/4/10),T=H.exp_nspsytune>>14&63,T>=32&&(T-=64),m=Math.pow(10,T/4/10),T=H.exp_nspsytune>>20&63,T>=32&&(T-=64),_=m*Math.pow(10,T/4/10),T=0;T<E.SBMAX_l;T++){var u;T<=6?u=z:T<=13?u=O:T<=20?u=m:u=_,$.nsPsy.longfact[T]=u}for(T=0;T<E.SBMAX_s;T++){var u;T<=5?u=z:T<=10?u=O:T<=11?u=m:u=_,$.nsPsy.shortfact[T]=u}}}},this.on_pe=function(H,$,L,T,z,O){var m=H.internal_flags,_=0,u,b=d(2),w,g=new U(_),oe=G.ResvMaxBits(H,T,g,O);_=g.bits;var q=_+oe;for(q>h.MAX_BITS_PER_GRANULE&&(q=h.MAX_BITS_PER_GRANULE),u=0,w=0;w<m.channels_out;++w)L[w]=Math.min(h.MAX_BITS_PER_CHANNEL,_/m.channels_out),b[w]=0|L[w]*$[z][w]/700-L[w],b[w]>T*3/4&&(b[w]=T*3/4),b[w]<0&&(b[w]=0),b[w]+L[w]>h.MAX_BITS_PER_CHANNEL&&(b[w]=Math.max(0,h.MAX_BITS_PER_CHANNEL-L[w])),u+=b[w];if(u>oe)for(w=0;w<m.channels_out;++w)b[w]=oe*b[w]/u;for(w=0;w<m.channels_out;++w)L[w]+=b[w],oe-=b[w];for(u=0,w=0;w<m.channels_out;++w)u+=L[w];if(u>h.MAX_BITS_PER_GRANULE){var ne=0;for(w=0;w<m.channels_out;++w)L[w]*=h.MAX_BITS_PER_GRANULE,L[w]/=u,ne+=L[w]}return q},this.reduce_side=function(H,$,L,T){c(H[0]+H[1]<=h.MAX_BITS_PER_GRANULE);var z=.33*(.5-$)/.5;z<0&&(z=0),z>.5&&(z=.5);var O=0|z*.5*(H[0]+H[1]);O>h.MAX_BITS_PER_CHANNEL-H[0]&&(O=h.MAX_BITS_PER_CHANNEL-H[0]),O<0&&(O=0),H[1]>=125&&(H[1]-O>125?(H[0]<L&&(H[0]+=O),H[1]-=O):(H[0]+=H[1]-125,H[1]=125)),O=H[0]+H[1],O>T&&(H[0]=T*H[0]/O,H[1]=T*H[1]/O),c(H[0]<=h.MAX_BITS_PER_CHANNEL),c(H[1]<=h.MAX_BITS_PER_CHANNEL),c(H[0]+H[1]<=h.MAX_BITS_PER_GRANULE)},this.athAdjust=function(H,$,L){var T=90.30873362,z=94.82444863,O=s.FAST_LOG10_X($,10),m=H*H,_=0;return O-=L,m>1e-20&&(_=1+s.FAST_LOG10_X(m,10/T)),_<0&&(_=0),O*=_,O+=L+T-z,Math.pow(10,.1*O)},this.calc_xmin=function(H,$,L,T){var z=0,O=H.internal_flags,m,_=0,u=0,b=O.ATH,w=L.xr,g=H.VBR==n.vbr_mtrh?1:0,oe=O.masking_lower;for((H.VBR==n.vbr_mtrh||H.VBR==n.vbr_mt)&&(oe=1),m=0;m<L.psy_lmax;m++){var q,ne,ve,ye,C,X;H.VBR==n.vbr_rh||H.VBR==n.vbr_mtrh?ne=athAdjust(b.adjust,b.l[m],b.floor):ne=b.adjust*b.l[m],C=L.width[m],ve=ne/C,ye=y,X=C>>1,q=0;do{var Q,ae;Q=w[_]*w[_],q+=Q,ye+=Q<ve?Q:ve,_++,ae=w[_]*w[_],q+=ae,ye+=ae<ve?ae:ve,_++}while(--X>0);if(q>ne&&u++,m==E.SBPSY_l){var ie=ne*O.nsPsy.longfact[m];ye<ie&&(ye=ie)}if(g!=0&&(ne=ye),!H.ATHonly){var xe=$.en.l[m];if(xe>0){var ie;ie=q*$.thm.l[m]*oe/xe,g!=0&&(ie*=O.nsPsy.longfact[m]),ne<ie&&(ne=ie)}}g!=0?T[z++]=ne:T[z++]=ne*O.nsPsy.longfact[m]}var Ce=575;if(L.block_type!=E.SHORT_TYPE)for(var l=576;l--!=0&&M.EQ(w[l],0);)Ce=l;L.max_nonzero_coeff=Ce;for(var v=L.sfb_smin;m<L.psymax;v++,m+=3){var C,re,he;for(H.VBR==n.vbr_rh||H.VBR==n.vbr_mtrh?he=athAdjust(b.adjust,b.s[v],b.floor):he=b.adjust*b.s[v],C=L.width[m],re=0;re<3;re++){var q=0,ne,ve,ye,X=C>>1;ve=he/C,ye=y;do{var Q,ae;Q=w[_]*w[_],q+=Q,ye+=Q<ve?Q:ve,_++,ae=w[_]*w[_],q+=ae,ye+=ae<ve?ae:ve,_++}while(--X>0);if(q>he&&u++,v==E.SBPSY_s){var ie=he*O.nsPsy.shortfact[v];ye<ie&&(ye=ie)}if(g!=0?ne=ye:ne=he,!H.ATHonly&&!H.ATHshort){var xe=$.en.s[v][re];if(xe>0){var ie;ie=q*$.thm.s[v][re]*oe/xe,g!=0&&(ie*=O.nsPsy.shortfact[v]),ne<ie&&(ne=ie)}}g!=0?T[z++]=ne:T[z++]=ne*O.nsPsy.shortfact[v]}H.useTemporal&&(T[z-3]>T[z-3+1]&&(T[z-3+1]+=(T[z-3]-T[z-3+1])*O.decay),T[z-3+1]>T[z-3+2]&&(T[z-3+2]+=(T[z-3+1]-T[z-3+2])*O.decay))}return u};function f(H){this.s=H}this.calc_noise_core=function(H,$,L,T){var z=0,O=$.s,m=H.l3_enc;if(O>H.count1)for(;L--!=0;){var _;_=H.xr[O],O++,z+=_*_,_=H.xr[O],O++,z+=_*_}else if(O>H.big_values){var u=i(2);for(u[0]=0,u[1]=T;L--!=0;){var _;_=Math.abs(H.xr[O])-u[m[O]],O++,z+=_*_,_=Math.abs(H.xr[O])-u[m[O]],O++,z+=_*_}}else for(;L--!=0;){var _;_=Math.abs(H.xr[O])-V[m[O]]*T,O++,z+=_*_,_=Math.abs(H.xr[O])-V[m[O]]*T,O++,z+=_*_}return $.s=O,z},this.calc_noise=function(H,$,L,T,z){var O=0,m=0,_,u,b=0,w=0,g=0,oe=-20,q=0,ne=H.scalefac,ve=0;for(T.over_SSD=0,_=0;_<H.psymax;_++){var ye=H.global_gain-(ne[ve++]+(H.preflag!=0?F[_]:0)<<H.scalefac_scale+1)-H.subblock_gain[H.window[_]]*8,C=0;if(z!=null&&z.step[_]==ye)C=z.noise[_],q+=H.width[_],L[O++]=C/$[m++],C=z.noise_log[_];else{var X=K(ye);if(u=H.width[_]>>1,q+H.width[_]>H.max_nonzero_coeff){var Q;Q=H.max_nonzero_coeff-q+1,Q>0?u=Q>>1:u=0}var ae=new f(q);C=this.calc_noise_core(H,ae,u,X),q=ae.s,z!=null&&(z.step[_]=ye,z.noise[_]=C),C=L[O++]=C/$[m++],C=s.FAST_LOG10(Math.max(C,1e-20)),z!=null&&(z.noise_log[_]=C)}if(z!=null&&(z.global_gain=H.global_gain),g+=C,C>0){var ie;ie=Math.max(0|C*10+.5,1),T.over_SSD+=ie*ie,b++,w+=C}oe=Math.max(oe,C)}return T.over_count=b,T.tot_noise=g,T.over_noise=w,T.max_noise=oe,b},this.set_pinfo=function(H,$,L,T,z){var O=H.internal_flags,m,_,u,b,w,g=$.scalefac_scale==0?.5:1,oe=$.scalefac,q=i(L3Side.SFBMAX),ne=i(L3Side.SFBMAX),ve=new CalcNoiseResult;calc_xmin(H,L,$,q),calc_noise($,q,ne,ve,null);var ye=0;for(_=$.sfb_lmax,$.block_type!=E.SHORT_TYPE&&$.mixed_block_flag==0&&(_=22),m=0;m<_;m++){var C=O.scalefac_band.l[m],X=O.scalefac_band.l[m+1],Q=X-C;for(b=0;ye<X;ye++)b+=$.xr[ye]*$.xr[ye];b/=Q,w=1e15,O.pinfo.en[T][z][m]=w*b,O.pinfo.xfsf[T][z][m]=w*q[m]*ne[m]/Q,L.en.l[m]>0&&!H.ATHonly?b=b/L.en.l[m]:b=0,O.pinfo.thr[T][z][m]=w*Math.max(b*L.thm.l[m],O.ATH.l[m]),O.pinfo.LAMEsfb[T][z][m]=0,$.preflag!=0&&m>=11&&(O.pinfo.LAMEsfb[T][z][m]=-g*F[m]),m<E.SBPSY_l&&(c(oe[m]>=0),O.pinfo.LAMEsfb[T][z][m]-=g*oe[m])}if($.block_type==E.SHORT_TYPE)for(_=m,m=$.sfb_smin;m<E.SBMAX_s;m++)for(var C=O.scalefac_band.s[m],X=O.scalefac_band.s[m+1],Q=X-C,ae=0;ae<3;ae++){for(b=0,u=C;u<X;u++)b+=$.xr[ye]*$.xr[ye],ye++;b=Math.max(b/Q,1e-20),w=1e15,O.pinfo.en_s[T][z][3*m+ae]=w*b,O.pinfo.xfsf_s[T][z][3*m+ae]=w*q[_]*ne[_]/Q,L.en.s[m][ae]>0?b=b/L.en.s[m][ae]:b=0,(H.ATHonly||H.ATHshort)&&(b=0),O.pinfo.thr_s[T][z][3*m+ae]=w*Math.max(b*L.thm.s[m][ae],O.ATH.s[m]),O.pinfo.LAMEsfb_s[T][z][3*m+ae]=-2*$.subblock_gain[ae],m<E.SBPSY_s&&(O.pinfo.LAMEsfb_s[T][z][3*m+ae]-=g*oe[_]),_++}O.pinfo.LAMEqss[T][z]=$.global_gain,O.pinfo.LAMEmainbits[T][z]=$.part2_3_length+$.part2_length,O.pinfo.LAMEsfbits[T][z]=$.part2_length,O.pinfo.over[T][z]=ve.over_count,O.pinfo.max_noise[T][z]=ve.max_noise*10,O.pinfo.over_noise[T][z]=ve.over_noise*10,O.pinfo.tot_noise[T][z]=ve.tot_noise*10,O.pinfo.over_SSD[T][z]=ve.over_SSD}}return Na=o,Na}var Fa,E1;function Zs(){if(E1)return Fa;E1=1;var e=n0,t=e.System,n=e.Arrays,a=e.new_int,s=e.assert,i=x0(),d=Rr,c=Mr,E=zs();function U(){var h=null;this.qupvt=null,this.setModules=function(O){this.qupvt=O,h=O};function o(O){this.bits=0|O}var M=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function j(O,m,_,u,b,w){var g=.5946/m;for(O=O>>1;O--!=0;)b[w++]=g>_[u++]?0:1,b[w++]=g>_[u++]?0:1}function G(O,m,_,u,b,w){O=O>>1;var g=O%2;for(O=O>>1;O--!=0;){var oe,q,ne,ve,ye,C,X,Q;oe=_[u++]*m,q=_[u++]*m,ye=0|oe,ne=_[u++]*m,C=0|q,ve=_[u++]*m,X=0|ne,oe+=h.adj43[ye],Q=0|ve,q+=h.adj43[C],b[w++]=0|oe,ne+=h.adj43[X],b[w++]=0|q,ve+=h.adj43[Q],b[w++]=0|ne,b[w++]=0|ve}if(g!=0){var oe,q,ye,C;oe=_[u++]*m,q=_[u++]*m,ye=0|oe,C=0|q,oe+=h.adj43[ye],q+=h.adj43[C],b[w++]=0|oe,b[w++]=0|q}}function Z(O,m,_,u,b){var w,g,oe=0,q,ne=0,ve=0,ye=0,C=m,X=0,Q=C,ae=0,ie=O,xe=0;for(q=b!=null&&u.global_gain==b.global_gain,u.block_type==i.SHORT_TYPE?g=38:g=21,w=0;w<=g;w++){var Ce=-1;if((q||u.block_type==i.NORM_TYPE)&&(Ce=u.global_gain-(u.scalefac[w]+(u.preflag!=0?h.pretab[w]:0)<<u.scalefac_scale+1)-u.subblock_gain[u.window[w]]*8),s(u.width[w]>=0),q&&b.step[w]==Ce)ne!=0&&(G(ne,_,ie,xe,Q,ae),ne=0),ve!=0&&(j(ve,_,ie,xe,Q,ae),ve=0);else{var l=u.width[w];if(oe+u.width[w]>u.max_nonzero_coeff){var v;v=u.max_nonzero_coeff-oe+1,n.fill(m,u.max_nonzero_coeff,576,0),l=v,l<0&&(l=0),w=g+1}if(ne==0&&ve==0&&(Q=C,ae=X,ie=O,xe=ye),b!=null&&b.sfb_count1>0&&w>=b.sfb_count1&&b.step[w]>0&&Ce>=b.step[w]?(ne!=0&&(G(ne,_,ie,xe,Q,ae),ne=0,Q=C,ae=X,ie=O,xe=ye),ve+=l):(ve!=0&&(j(ve,_,ie,xe,Q,ae),ve=0,Q=C,ae=X,ie=O,xe=ye),ne+=l),l<=0){ve!=0&&(j(ve,_,ie,xe,Q,ae),ve=0),ne!=0&&(G(ne,_,ie,xe,Q,ae),ne=0);break}}w<=g&&(X+=u.width[w],ye+=u.width[w],oe+=u.width[w])}ne!=0&&(G(ne,_,ie,xe,Q,ae),ne=0),ve!=0&&(j(ve,_,ie,xe,Q,ae),ve=0)}function K(O,m,_){var u=0,b=0;do{var w=O[m++],g=O[m++];u<w&&(u=w),b<g&&(b=g)}while(m<_);return u<b&&(u=b),u}function y(O,m,_,u,b,w){var g=d.ht[u].xlen*65536+d.ht[b].xlen,oe=0,q;do{var ne=O[m++],ve=O[m++];ne!=0&&(ne>14&&(ne=15,oe+=g),ne*=16),ve!=0&&(ve>14&&(ve=15,oe+=g),ne+=ve),oe+=d.largetbl[ne]}while(m<_);return q=oe&65535,oe>>=16,oe>q&&(oe=q,u=b),w.bits+=oe,u}function x(O,m,_,u){var b=0,w=d.ht[1].hlen;do{var g=O[m+0]*2+O[m+1];m+=2,b+=w[g]}while(m<_);return u.bits+=b,1}function p(O,m,_,u,b){var w=0,g,oe=d.ht[u].xlen,q;u==2?q=d.table23:q=d.table56;do{var ne=O[m+0]*oe+O[m+1];m+=2,w+=q[ne]}while(m<_);return g=w&65535,w>>=16,w>g&&(w=g,u++),b.bits+=w,u}function B(O,m,_,u,b){var w=0,g=0,oe=0,q=d.ht[u].xlen,ne=d.ht[u].hlen,ve=d.ht[u+1].hlen,ye=d.ht[u+2].hlen;do{var C=O[m+0]*q+O[m+1];m+=2,w+=ne[C],g+=ve[C],oe+=ye[C]}while(m<_);var X=u;return w>g&&(w=g,X++),w>oe&&(w=oe,X=u+2),b.bits+=w,X}var r=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function S(O,m,_,u){var b=K(O,m,_);switch(b){case 0:return b;case 1:return x(O,m,_,u);case 2:case 3:return p(O,m,_,r[b-1],u);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return B(O,m,_,r[b-1],u);default:if(b>E.IXMAX_VAL)return u.bits=E.LARGE_BITS,-1;b-=15;var w;for(w=24;w<32&&!(d.ht[w].linmax>=b);w++);var g;for(g=w-8;g<24&&!(d.ht[g].linmax>=b);g++);return y(O,m,_,g,w,u)}}this.noquant_count_bits=function(O,m,_){var u=m.l3_enc,b=Math.min(576,m.max_nonzero_coeff+2>>1<<1);for(_!=null&&(_.sfb_count1=0);b>1&&!(u[b-1]|u[b-2]);b-=2);m.count1=b;for(var w=0,g=0;b>3;b-=4){var oe;if(((u[b-1]|u[b-2]|u[b-3]|u[b-4])&2147483647)>1)break;oe=((u[b-4]*2+u[b-3])*2+u[b-2])*2+u[b-1],w+=d.t32l[oe],g+=d.t33l[oe]}var q=w;if(m.count1table_select=0,w>g&&(q=g,m.count1table_select=1),m.count1bits=q,m.big_values=b,b==0)return q;if(m.block_type==i.SHORT_TYPE)w=3*O.scalefac_band.s[3],w>m.big_values&&(w=m.big_values),g=m.big_values;else if(m.block_type==i.NORM_TYPE){if(w=m.region0_count=O.bv_scf[b-2],g=m.region1_count=O.bv_scf[b-1],s(w+g+2<i.SBPSY_l),g=O.scalefac_band.l[w+g+2],w=O.scalefac_band.l[w+1],g<b){var ne=new o(q);m.table_select[2]=S(u,g,b,ne),q=ne.bits}}else m.region0_count=7,m.region1_count=i.SBMAX_l-1-7-1,w=O.scalefac_band.l[7+1],g=b,w>g&&(w=g);if(w=Math.min(w,b),g=Math.min(g,b),0<w){var ne=new o(q);m.table_select[0]=S(u,0,w,ne),q=ne.bits}if(w<g){var ne=new o(q);m.table_select[1]=S(u,w,g,ne),q=ne.bits}if(O.use_best_huffman==2&&(m.part2_3_length=q,best_huffman_divide(O,m),q=m.part2_3_length),_!=null&&m.block_type==i.NORM_TYPE){for(var ve=0;O.scalefac_band.l[ve]<m.big_values;)ve++;_.sfb_count1=ve}return q},this.count_bits=function(O,m,_,u){var b=_.l3_enc,w=E.IXMAX_VAL/h.IPOW20(_.global_gain);if(_.xrpow_max>w)return E.LARGE_BITS;if(Z(m,b,h.IPOW20(_.global_gain),_,u),O.substep_shaping&2)for(var g=0,oe=_.global_gain+_.scalefac_scale,q=.634521682242439/h.IPOW20(oe),ne=0;ne<_.sfbmax;ne++){var ve=_.width[ne];if(O.pseudohalf[ne]==0)g+=ve;else{var ye;for(ye=g,g+=ve;ye<g;++ye)b[ye]=m[ye]>=q?b[ye]:0}}return this.noquant_count_bits(O,_,u)};function F(O,m,_,u,b,w,g){for(var oe=m.big_values,q=0;q<=7+15;q++)u[q]=E.LARGE_BITS;for(var q=0;q<16;q++){var ne=O.scalefac_band.l[q+1];if(ne>=oe)break;var ve=0,ye=new o(ve),C=S(_,0,ne,ye);ve=ye.bits;for(var X=0;X<8;X++){var Q=O.scalefac_band.l[q+X+2];if(Q>=oe)break;var ae=ve;ye=new o(ae);var ie=S(_,ne,Q,ye);ae=ye.bits,u[q+X]>ae&&(u[q+X]=ae,b[q+X]=q,w[q+X]=C,g[q+X]=ie)}}}function D(O,m,_,u,b,w,g,oe){for(var q=m.big_values,ne=2;ne<i.SBMAX_l+1;ne++){var ve=O.scalefac_band.l[ne];if(ve>=q)break;var ye=b[ne-2]+m.count1bits;if(_.part2_3_length<=ye)break;var C=new o(ye),X=S(u,ve,q,C);ye=C.bits,!(_.part2_3_length<=ye)&&(_.assign(m),_.part2_3_length=ye,_.region0_count=w[ne-2],_.region1_count=ne-2-w[ne-2],_.table_select[0]=g[ne-2],_.table_select[1]=oe[ne-2],_.table_select[2]=X)}}this.best_huffman_divide=function(O,m){var _=new c,u=m.l3_enc,b=a(7+15+1),w=a(7+15+1),g=a(7+15+1),oe=a(7+15+1);if(!(m.block_type==i.SHORT_TYPE&&O.mode_gr==1)){_.assign(m),m.block_type==i.NORM_TYPE&&(F(O,m,u,b,w,g,oe),D(O,_,m,u,b,w,g,oe));var q=_.big_values;if(!(q==0||(u[q-2]|u[q-1])>1)&&(q=m.count1+2,!(q>576))){_.assign(m),_.count1=q;for(var ne=0,ve=0;q>_.big_values;q-=4){var ye=((u[q-4]*2+u[q-3])*2+u[q-2])*2+u[q-1];ne+=d.t32l[ye],ve+=d.t33l[ye]}if(_.big_values=q,_.count1table_select=0,ne>ve&&(ne=ve,_.count1table_select=1),_.count1bits=ne,_.block_type==i.NORM_TYPE)D(O,_,m,u,b,w,g,oe);else{if(_.part2_3_length=ne,ne=O.scalefac_band.l[7+1],ne>q&&(ne=q),ne>0){var C=new o(_.part2_3_length);_.table_select[0]=S(u,0,ne,C),_.part2_3_length=C.bits}if(q>ne){var C=new o(_.part2_3_length);_.table_select[1]=S(u,ne,q,C),_.part2_3_length=C.bits}m.part2_3_length>_.part2_3_length&&m.assign(_)}}}};var W=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],V=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],P=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],de=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];U.slen1_tab=P,U.slen2_tab=de;function I(O,m){for(var _,u=m.tt[1][O],b=m.tt[0][O],w=0;w<d.scfsi_band.length-1;w++){for(_=d.scfsi_band[w];_<d.scfsi_band[w+1]&&!(b.scalefac[_]!=u.scalefac[_]&&u.scalefac[_]>=0);_++);if(_==d.scfsi_band[w+1]){for(_=d.scfsi_band[w];_<d.scfsi_band[w+1];_++)u.scalefac[_]=-1;m.scfsi[O][w]=1}}var g=0,oe=0;for(_=0;_<11;_++)u.scalefac[_]!=-1&&(oe++,g<u.scalefac[_]&&(g=u.scalefac[_]));for(var q=0,ne=0;_<i.SBPSY_l;_++)u.scalefac[_]!=-1&&(ne++,q<u.scalefac[_]&&(q=u.scalefac[_]));for(var w=0;w<16;w++)if(g<W[w]&&q<V[w]){var ve=P[w]*oe+de[w]*ne;u.part2_length>ve&&(u.part2_length=ve,u.scalefac_compress=w)}}this.best_scalefac_store=function(O,m,_,u){var b=u.tt[m][_],w,g,oe,q,ne=0;for(oe=0,w=0;w<b.sfbmax;w++){var ve=b.width[w];for(oe+=ve,q=-ve;q<0&&b.l3_enc[q+oe]==0;q++);q==0&&(b.scalefac[w]=ne=-2)}if(b.scalefac_scale==0&&b.preflag==0){var ye=0;for(w=0;w<b.sfbmax;w++)b.scalefac[w]>0&&(ye|=b.scalefac[w]);if(!(ye&1)&&ye!=0){for(w=0;w<b.sfbmax;w++)b.scalefac[w]>0&&(b.scalefac[w]>>=1);b.scalefac_scale=ne=1}}if(b.preflag==0&&b.block_type!=i.SHORT_TYPE&&O.mode_gr==2){for(w=11;w<i.SBPSY_l&&!(b.scalefac[w]<h.pretab[w]&&b.scalefac[w]!=-2);w++);if(w==i.SBPSY_l){for(w=11;w<i.SBPSY_l;w++)b.scalefac[w]>0&&(b.scalefac[w]-=h.pretab[w]);b.preflag=ne=1}}for(g=0;g<4;g++)u.scfsi[_][g]=0;for(O.mode_gr==2&&m==1&&u.tt[0][_].block_type!=i.SHORT_TYPE&&u.tt[1][_].block_type!=i.SHORT_TYPE&&(I(_,u),ne=0),w=0;w<b.sfbmax;w++)b.scalefac[w]==-2&&(b.scalefac[w]=0);ne!=0&&(O.mode_gr==2?this.scale_bitcount(b):this.scale_bitcount_lsf(O,b))};function f(O,m){for(var _=0;_<m;++_)if(O[_]<0)return!1;return!0}var H=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],$=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],L=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(O){var m,_,u=0,b=0,w,g=O.scalefac;if(s(f(g,O.sfbmax)),O.block_type==i.SHORT_TYPE)w=H,O.mixed_block_flag!=0&&(w=$);else if(w=L,O.preflag==0){for(_=11;_<i.SBPSY_l&&!(g[_]<h.pretab[_]);_++);if(_==i.SBPSY_l)for(O.preflag=1,_=11;_<i.SBPSY_l;_++)g[_]-=h.pretab[_]}for(_=0;_<O.sfbdivide;_++)u<g[_]&&(u=g[_]);for(;_<O.sfbmax;_++)b<g[_]&&(b=g[_]);for(O.part2_length=E.LARGE_BITS,m=0;m<16;m++)u<W[m]&&b<V[m]&&O.part2_length>w[m]&&(O.part2_length=w[m],O.scalefac_compress=m);return O.part2_length==E.LARGE_BITS};var T=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(O,m){var _,u,b,w,g,oe,q,ne,ve=a(4),ye=m.scalefac;for(m.preflag!=0?_=2:_=0,q=0;q<4;q++)ve[q]=0;if(m.block_type==i.SHORT_TYPE){u=1;var C=h.nr_of_sfb_block[_][u];for(ne=0,b=0;b<4;b++)for(w=C[b]/3,q=0;q<w;q++,ne++)for(g=0;g<3;g++)ye[ne*3+g]>ve[b]&&(ve[b]=ye[ne*3+g])}else{u=0;var C=h.nr_of_sfb_block[_][u];for(ne=0,b=0;b<4;b++)for(w=C[b],q=0;q<w;q++,ne++)ye[ne]>ve[b]&&(ve[b]=ye[ne])}for(oe=!1,b=0;b<4;b++)ve[b]>T[_][b]&&(oe=!0);if(!oe){var X,Q,ae,ie;for(m.sfb_partition_table=h.nr_of_sfb_block[_][u],b=0;b<4;b++)m.slen[b]=z[ve[b]];switch(X=m.slen[0],Q=m.slen[1],ae=m.slen[2],ie=m.slen[3],_){case 0:m.scalefac_compress=(X*5+Q<<4)+(ae<<2)+ie;break;case 1:m.scalefac_compress=400+(X*5+Q<<2)+ae;break;case 2:m.scalefac_compress=500+X*3+Q;break;default:t.err.printf(`intensity stereo not implemented yet
`);break}}if(!oe)for(s(m.sfb_partition_table!=null),m.part2_length=0,b=0;b<4;b++)m.part2_length+=m.slen[b]*m.sfb_partition_table[b];return oe};var z=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(O){for(var m=2;m<=576;m+=2){for(var _=0,u;O.scalefac_band.l[++_]<m;);for(u=M[_][0];O.scalefac_band.l[u+1]>m;)u--;for(u<0&&(u=M[_][0]),O.bv_scf[m-2]=u,u=M[_][1];O.scalefac_band.l[u+O.bv_scf[m-2]+2]>m;)u--;u<0&&(u=M[_][1]),O.bv_scf[m-1]=u}}}return Fa=U,Fa}var Ha,R1;function yr(){if(R1)return Ha;R1=1;var e=n0,t=e.System,n=e.Arrays,a=e.new_byte,s=e.new_float_n,i=e.new_int,d=e.assert,c=Zs(),E=Rr,U=x0(),h=_a;o.EQ=function(M,j){return Math.abs(M)>Math.abs(j)?Math.abs(M-j)<=Math.abs(M)*1e-6:Math.abs(M-j)<=Math.abs(j)*1e-6},o.NEQ=function(M,j){return!o.EQ(M,j)};function o(){var M=Tr(),j=this,G=32773,Z=null,K=null,y=null,x=null;this.setModules=function(m,_,u,b){Z=m,K=_,y=u,x=b};var p=null,B=0,r=0,S=0;this.getframebits=function(m){var _=m.internal_flags,u;_.bitrate_index!=0?u=E.bitrate_table[m.version][_.bitrate_index]:u=m.brate;var b=0|(m.version+1)*72e3*u/m.out_samplerate+_.padding;return 8*b};function F(m){t.arraycopy(m.header[m.w_ptr].buf,0,p,r,m.sideinfo_len),r+=m.sideinfo_len,B+=m.sideinfo_len*8,m.w_ptr=m.w_ptr+1&h.MAX_HEADER_BUF-1}function D(m,_,u){for(;u>0;){var b;S==0&&(S=8,r++,d(r<M.LAME_MAXMP3BUFFER),d(m.header[m.w_ptr].write_timing>=B),m.header[m.w_ptr].write_timing==B&&F(m),p[r]=0),b=Math.min(u,S),u-=b,S-=b,p[r]|=_>>u<<S,B+=b}}function W(m,_,u){for(;u>0;){var b;S==0&&(S=8,r++,d(r<M.LAME_MAXMP3BUFFER),p[r]=0),b=Math.min(u,S),u-=b,S-=b,p[r]|=_>>u<<S,B+=b}}function V(m,_){var u=m.internal_flags,b;if(_>=8&&(D(u,76,8),_-=8),_>=8&&(D(u,65,8),_-=8),_>=8&&(D(u,77,8),_-=8),_>=8&&(D(u,69,8),_-=8),_>=32){var w=y.getLameShortVersion();if(_>=32)for(b=0;b<w.length&&_>=8;++b)_-=8,D(u,w.charAt(b),8)}for(;_>=1;_-=1)D(u,u.ancillary_flag,1),u.ancillary_flag^=m.disable_reservoir?0:1}function P(m,_,u){for(var b=m.header[m.h_ptr].ptr;u>0;){var w=Math.min(u,8-(b&7));u-=w,m.header[m.h_ptr].buf[b>>3]|=_>>u<<8-(b&7)-w,b+=w}m.header[m.h_ptr].ptr=b}function de(m,_){m<<=8;for(var u=0;u<8;u++)m<<=1,_<<=1,(_^m)&65536&&(_^=G);return _}this.CRC_writeheader=function(m,_){var u=65535;u=de(_[2]&255,u),u=de(_[3]&255,u);for(var b=6;b<m.sideinfo_len;b++)u=de(_[b]&255,u);_[4]=byte(u>>8),_[5]=byte(u&255)};function I(m,_){var u=m.internal_flags,b,w,g;if(b=u.l3_side,u.header[u.h_ptr].ptr=0,n.fill(u.header[u.h_ptr].buf,0,u.sideinfo_len,0),m.out_samplerate<16e3?P(u,4094,12):P(u,4095,12),P(u,m.version,1),P(u,4-3,2),P(u,m.error_protection?0:1,1),P(u,u.bitrate_index,4),P(u,u.samplerate_index,2),P(u,u.padding,1),P(u,m.extension,1),P(u,m.mode.ordinal(),2),P(u,u.mode_ext,2),P(u,m.copyright,1),P(u,m.original,1),P(u,m.emphasis,2),m.error_protection&&P(u,0,16),m.version==1){for(d(b.main_data_begin>=0),P(u,b.main_data_begin,9),u.channels_out==2?P(u,b.private_bits,3):P(u,b.private_bits,5),g=0;g<u.channels_out;g++){var oe;for(oe=0;oe<4;oe++)P(u,b.scfsi[g][oe],1)}for(w=0;w<2;w++)for(g=0;g<u.channels_out;g++){var q=b.tt[w][g];P(u,q.part2_3_length+q.part2_length,12),P(u,q.big_values/2,9),P(u,q.global_gain,8),P(u,q.scalefac_compress,4),q.block_type!=U.NORM_TYPE?(P(u,1,1),P(u,q.block_type,2),P(u,q.mixed_block_flag,1),q.table_select[0]==14&&(q.table_select[0]=16),P(u,q.table_select[0],5),q.table_select[1]==14&&(q.table_select[1]=16),P(u,q.table_select[1],5),P(u,q.subblock_gain[0],3),P(u,q.subblock_gain[1],3),P(u,q.subblock_gain[2],3)):(P(u,0,1),q.table_select[0]==14&&(q.table_select[0]=16),P(u,q.table_select[0],5),q.table_select[1]==14&&(q.table_select[1]=16),P(u,q.table_select[1],5),q.table_select[2]==14&&(q.table_select[2]=16),P(u,q.table_select[2],5),d(0<=q.region0_count&&q.region0_count<16),d(0<=q.region1_count&&q.region1_count<8),P(u,q.region0_count,4),P(u,q.region1_count,3)),P(u,q.preflag,1),P(u,q.scalefac_scale,1),P(u,q.count1table_select,1)}}else for(d(b.main_data_begin>=0),P(u,b.main_data_begin,8),P(u,b.private_bits,u.channels_out),w=0,g=0;g<u.channels_out;g++){var q=b.tt[w][g];P(u,q.part2_3_length+q.part2_length,12),P(u,q.big_values/2,9),P(u,q.global_gain,8),P(u,q.scalefac_compress,9),q.block_type!=U.NORM_TYPE?(P(u,1,1),P(u,q.block_type,2),P(u,q.mixed_block_flag,1),q.table_select[0]==14&&(q.table_select[0]=16),P(u,q.table_select[0],5),q.table_select[1]==14&&(q.table_select[1]=16),P(u,q.table_select[1],5),P(u,q.subblock_gain[0],3),P(u,q.subblock_gain[1],3),P(u,q.subblock_gain[2],3)):(P(u,0,1),q.table_select[0]==14&&(q.table_select[0]=16),P(u,q.table_select[0],5),q.table_select[1]==14&&(q.table_select[1]=16),P(u,q.table_select[1],5),q.table_select[2]==14&&(q.table_select[2]=16),P(u,q.table_select[2],5),d(0<=q.region0_count&&q.region0_count<16),d(0<=q.region1_count&&q.region1_count<8),P(u,q.region0_count,4),P(u,q.region1_count,3)),P(u,q.scalefac_scale,1),P(u,q.count1table_select,1)}m.error_protection&&CRC_writeheader(u,u.header[u.h_ptr].buf);{var ne=u.h_ptr;d(u.header[ne].ptr==u.sideinfo_len*8),u.h_ptr=ne+1&h.MAX_HEADER_BUF-1,u.header[u.h_ptr].write_timing=u.header[ne].write_timing+_,u.h_ptr==u.w_ptr&&t.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function f(m,_){var u=E.ht[_.count1table_select+32],b,w=0,g=_.big_values,oe=_.big_values;for(d(_.count1table_select<2),b=(_.count1-_.big_values)/4;b>0;--b){var q=0,ne=0,ve;ve=_.l3_enc[g+0],ve!=0&&(ne+=8,_.xr[oe+0]<0&&q++),ve=_.l3_enc[g+1],ve!=0&&(ne+=4,q*=2,_.xr[oe+1]<0&&q++),ve=_.l3_enc[g+2],ve!=0&&(ne+=2,q*=2,_.xr[oe+2]<0&&q++),ve=_.l3_enc[g+3],ve!=0&&(ne++,q*=2,_.xr[oe+3]<0&&q++),g+=4,oe+=4,D(m,q+u.table[ne],u.hlen[ne]),w+=u.hlen[ne]}return w}function H(m,_,u,b,w){var g=E.ht[_],oe=0;if(_==0)return oe;for(var q=u;q<b;q+=2){var ne=0,ve=0,ye=g.xlen,C=g.xlen,X=0,Q=w.l3_enc[q],ae=w.l3_enc[q+1];if(Q!=0&&(w.xr[q]<0&&X++,ne--),_>15){if(Q>14){var ie=Q-15;d(ie<=g.linmax),X|=ie<<1,ve=ye,Q=15}if(ae>14){var xe=ae-15;d(xe<=g.linmax),X<<=ye,X|=xe,ve+=ye,ae=15}C=16}ae!=0&&(X<<=1,w.xr[q+1]<0&&X++,ne--),Q=Q*C+ae,ve-=ne,ne+=g.hlen[Q],D(m,g.table[Q],ne),D(m,X,ve),oe+=ne+ve}return oe}function $(m,_){var u=3*m.scalefac_band.s[3];u>_.big_values&&(u=_.big_values);var b=H(m,_.table_select[0],0,u,_);return b+=H(m,_.table_select[1],u,_.big_values,_),b}function L(m,_){var u,b,w,g;u=_.big_values;var oe=_.region0_count+1;return d(oe<m.scalefac_band.l.length),w=m.scalefac_band.l[oe],oe+=_.region1_count+1,d(oe<m.scalefac_band.l.length),g=m.scalefac_band.l[oe],w>u&&(w=u),g>u&&(g=u),b=H(m,_.table_select[0],0,w,_),b+=H(m,_.table_select[1],w,g,_),b+=H(m,_.table_select[2],g,u,_),b}function T(m){var _,u,b,w,g=0,oe=m.internal_flags,q=oe.l3_side;if(m.version==1)for(_=0;_<2;_++)for(u=0;u<oe.channels_out;u++){var ne=q.tt[_][u],ve=c.slen1_tab[ne.scalefac_compress],ye=c.slen2_tab[ne.scalefac_compress];for(w=0,b=0;b<ne.sfbdivide;b++)ne.scalefac[b]!=-1&&(D(oe,ne.scalefac[b],ve),w+=ve);for(;b<ne.sfbmax;b++)ne.scalefac[b]!=-1&&(D(oe,ne.scalefac[b],ye),w+=ye);d(w==ne.part2_length),ne.block_type==U.SHORT_TYPE?w+=$(oe,ne):w+=L(oe,ne),w+=f(oe,ne),d(w==ne.part2_3_length+ne.part2_length),g+=w}else for(_=0,u=0;u<oe.channels_out;u++){var ne=q.tt[_][u],C,X,Q=0;if(d(ne.sfb_partition_table!=null),w=0,b=0,X=0,ne.block_type==U.SHORT_TYPE){for(;X<4;X++){var ae=ne.sfb_partition_table[X]/3,ie=ne.slen[X];for(C=0;C<ae;C++,b++)D(oe,Math.max(ne.scalefac[b*3+0],0),ie),D(oe,Math.max(ne.scalefac[b*3+1],0),ie),D(oe,Math.max(ne.scalefac[b*3+2],0),ie),Q+=3*ie}w+=$(oe,ne)}else{for(;X<4;X++){var ae=ne.sfb_partition_table[X],ie=ne.slen[X];for(C=0;C<ae;C++,b++)D(oe,Math.max(ne.scalefac[b],0),ie),Q+=ie}w+=L(oe,ne)}w+=f(oe,ne),d(w==ne.part2_3_length),d(Q==ne.part2_length),g+=Q+w}return g}function z(){this.total=0}function O(m,_){var u=m.internal_flags,b,w,g,oe,q;return q=u.w_ptr,oe=u.h_ptr-1,oe==-1&&(oe=h.MAX_HEADER_BUF-1),b=u.header[oe].write_timing-B,_.total=b,b>=0&&(w=1+oe-q,oe<q&&(w=1+oe-q+h.MAX_HEADER_BUF),b-=w*8*u.sideinfo_len),g=j.getframebits(m),b+=g,_.total+=g,_.total%8!=0?_.total=1+_.total/8:_.total=_.total/8,_.total+=r+1,b<0&&t.err.println(`strange error flushing buffer ... 
`),b}this.flush_bitstream=function(m){var _=m.internal_flags,u,b,w=_.h_ptr-1;if(w==-1&&(w=h.MAX_HEADER_BUF-1),u=_.l3_side,!((b=O(m,new z))<0)){if(V(m,b),d(_.header[w].write_timing+this.getframebits(m)==B),_.ResvSize=0,u.main_data_begin=0,_.findReplayGain){var g=Z.GetTitleGain(_.rgdata);d(NEQ(g,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),_.RadioGain=Math.floor(g*10+.5)|0}_.findPeakSample&&(_.noclipGainChange=Math.ceil(Math.log10(_.PeakSample/32767)*20*10)|0,_.noclipGainChange>0&&(EQ(m.scale,1)||EQ(m.scale,0))?_.noclipScale=Math.floor(32767/_.PeakSample*100)/100:_.noclipScale=-1)}},this.add_dummy_byte=function(m,_,u){for(var b=m.internal_flags,w;u-- >0;)for(W(b,_,8),w=0;w<h.MAX_HEADER_BUF;++w)b.header[w].write_timing+=8},this.format_bitstream=function(m){var _=m.internal_flags,u;u=_.l3_side;var b=this.getframebits(m);V(m,u.resvDrain_pre),I(m,b);var w=8*_.sideinfo_len;if(w+=T(m),V(m,u.resvDrain_post),w+=u.resvDrain_post,u.main_data_begin+=(b-w)/8,O(m,new z)!=_.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),u.main_data_begin*8!=_.ResvSize&&(t.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*u.main_data_begin,_.ResvSize,u.resvDrain_post,u.resvDrain_pre,8*_.sideinfo_len,w-u.resvDrain_post-8*_.sideinfo_len,w,w%8,b),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),_.ResvSize=u.main_data_begin*8),B>1e9){var g;for(g=0;g<h.MAX_HEADER_BUF;++g)_.header[g].write_timing-=B;B=0}return 0},this.copy_buffer=function(m,_,u,b,w){var g=r+1;if(g<=0)return 0;if(b!=0&&g>b)return-1;if(t.arraycopy(p,0,_,u,g),r=-1,S=0,w!=0){var oe=i(1);if(oe[0]=m.nMusicCRC,x.updateMusicCRC(oe,_,u,g),m.nMusicCRC=oe[0],g>0&&(m.VBR_seek_table.nBytesWritten+=g),m.decode_on_the_fly){for(var q=s([2,1152]),ne=g,ve=-1,ye;ve!=0;)if(ve=K.hip_decode1_unclipped(m.hip,_,u,ne,q[0],q[1]),ne=0,ve==-1&&(ve=0),ve>0){if(m.findPeakSample){for(ye=0;ye<ve;ye++)q[0][ye]>m.PeakSample?m.PeakSample=q[0][ye]:-q[0][ye]>m.PeakSample&&(m.PeakSample=-q[0][ye]);if(m.channels_out>1)for(ye=0;ye<ve;ye++)q[1][ye]>m.PeakSample?m.PeakSample=q[1][ye]:-q[1][ye]>m.PeakSample&&(m.PeakSample=-q[1][ye])}if(m.findReplayGain&&Z.AnalyzeSamples(m.rgdata,q[0],0,q[1],0,ve,m.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return g},this.init_bit_stream_w=function(m){p=a(M.LAME_MAXMP3BUFFER),m.h_ptr=m.w_ptr=0,m.header[m.h_ptr].write_timing=0,r=-1,S=0,B=0}}return Ha=o,Ha}var ka,y1;function Tr(){if(y1)return ka;y1=1;var e=n0,t=e.System,n=e.VbrMode,a=e.ShortBlock,s=e.new_float,i=e.new_int_n,d=e.new_short_n,c=e.assert,E=A2,U=y2,h=_a,o=z2,M=g2,j=r_,G=yr(),Z=Rr,K=x0();function y(){var x=Rn,p=this,B=128*1024;y.V9=410,y.V8=420,y.V7=430,y.V6=440,y.V5=450,y.V4=460,y.V3=470,y.V2=480,y.V1=490,y.V0=500,y.R3MIX=1e3,y.STANDARD=1001,y.EXTREME=1002,y.INSANE=1003,y.STANDARD_FAST=1004,y.EXTREME_FAST=1005,y.MEDIUM=1006,y.MEDIUM_FAST=1007;var r=16384+B;y.LAME_MAXMP3BUFFER=r;var S,F,D,W,V,P=new E,de,I,f;this.enc=new K,this.setModules=function(l,v,re,he,me,pe,be,Se,Fe){S=l,F=v,D=re,W=he,V=me,de=pe,I=Se,f=Fe,this.enc.setModules(F,P,W,de)};function H(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=s(K.SBMAX_l),this.bo_s_weight=s(K.SBMAX_s)}function $(){this.lowerlimit=0}function L(l,v){this.lowpass=v}var T=4294479419;function z(l){var v;return l.class_id=T,v=l.internal_flags=new h,l.mode=x.NOT_SET,l.original=1,l.in_samplerate=44100,l.num_channels=2,l.num_samples=-1,l.bWriteVbrTag=!0,l.quality=-1,l.short_blocks=null,v.subblock_gain=-1,l.lowpassfreq=0,l.highpassfreq=0,l.lowpasswidth=-1,l.highpasswidth=-1,l.VBR=n.vbr_off,l.VBR_q=4,l.ATHcurve=-1,l.VBR_mean_bitrate_kbps=128,l.VBR_min_bitrate_kbps=0,l.VBR_max_bitrate_kbps=0,l.VBR_hard_min=0,v.VBR_min_bitrate=1,v.VBR_max_bitrate=13,l.quant_comp=-1,l.quant_comp_short=-1,l.msfix=-1,v.resample_ratio=1,v.OldValue[0]=180,v.OldValue[1]=180,v.CurrentStep[0]=4,v.CurrentStep[1]=4,v.masking_lower=1,v.nsPsy.attackthre=-1,v.nsPsy.attackthre_s=-1,l.scale=-1,l.athaa_type=-1,l.ATHtype=-1,l.athaa_loudapprox=-1,l.athaa_sensitivity=0,l.useTemporal=null,l.interChRatio=-1,v.mf_samples_to_encode=K.ENCDELAY+K.POSTDELAY,l.encoder_padding=0,v.mf_size=K.ENCDELAY-K.MDCTDELAY,l.findReplayGain=!1,l.decode_on_the_fly=!1,v.decode_on_the_fly=!1,v.findReplayGain=!1,v.findPeakSample=!1,v.RadioGain=0,v.AudiophileGain=0,v.noclipGainChange=0,v.noclipScale=-1,l.preset=0,l.write_id3tag_automatic=!0,0}this.lame_init=function(){var l=new U;return z(l),l.lame_allocated_gfp=1,l};function O(l){return l>1?0:l<=0?1:Math.cos(Math.PI/2*l)}this.nearestBitrateFullIndex=function(l){var v=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],re=0,he=0,me=0,pe=0;pe=v[16],me=16,he=v[16],re=16;for(var be=0;be<16;be++)if(Math.max(l,v[be+1])!=l){pe=v[be+1],me=be+1,he=v[be],re=be;break}return pe-l>l-he?re:me};function m(l,v){var re=44100;return v>=48e3?re=48e3:v>=44100?re=44100:v>=32e3?re=32e3:v>=24e3?re=24e3:v>=22050?re=22050:v>=16e3?re=16e3:v>=12e3?re=12e3:v>=11025?re=11025:v>=8e3&&(re=8e3),l==-1?re:(l<=15960&&(re=44100),l<=15250&&(re=32e3),l<=11220&&(re=24e3),l<=9970&&(re=22050),l<=7230&&(re=16e3),l<=5420&&(re=12e3),l<=4510&&(re=11025),l<=3970&&(re=8e3),v<re?v>44100?48e3:v>32e3?44100:v>24e3?32e3:v>22050?24e3:v>16e3?22050:v>12e3?16e3:v>11025?12e3:v>8e3?11025:8e3:re)}function _(l,v){switch(l){case 44100:return v.version=1,0;case 48e3:return v.version=1,1;case 32e3:return v.version=1,2;case 22050:return v.version=0,0;case 24e3:return v.version=0,1;case 16e3:return v.version=0,2;case 11025:return v.version=0,0;case 12e3:return v.version=0,1;case 8e3:return v.version=0,2;default:return v.version=0,-1}}function u(l,v,re){re<16e3&&(v=2);for(var he=Z.bitrate_table[v][1],me=2;me<=14;me++)Z.bitrate_table[v][me]>0&&Math.abs(Z.bitrate_table[v][me]-l)<Math.abs(he-l)&&(he=Z.bitrate_table[v][me]);return he}function b(l,v,re){re<16e3&&(v=2);for(var he=0;he<=14;he++)if(Z.bitrate_table[v][he]>0&&Z.bitrate_table[v][he]==l)return he;return-1}function w(l,v){var re=[new L(8,2e3),new L(16,3700),new L(24,3900),new L(32,5500),new L(40,7e3),new L(48,7500),new L(56,1e4),new L(64,11e3),new L(80,13500),new L(96,15100),new L(112,15600),new L(128,17e3),new L(160,17500),new L(192,18600),new L(224,19400),new L(256,19700),new L(320,20500)],he=p.nearestBitrateFullIndex(v);l.lowerlimit=re[he].lowpass}function g(l){var v=l.internal_flags,re=32,he=-1;if(v.lowpass1>0){for(var me=999,pe=0;pe<=31;pe++){var be=pe/31;be>=v.lowpass2&&(re=Math.min(re,pe)),v.lowpass1<be&&be<v.lowpass2&&(me=Math.min(me,pe))}me==999?v.lowpass1=(re-.75)/31:v.lowpass1=(me-.75)/31,v.lowpass2=re/31}if(v.highpass2>0&&v.highpass2<.9*(.75/31)&&(v.highpass1=0,v.highpass2=0,t.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),v.highpass2>0){for(var Se=-1,pe=0;pe<=31;pe++){var be=pe/31;be<=v.highpass1&&(he=Math.max(he,pe)),v.highpass1<be&&be<v.highpass2&&(Se=Math.max(Se,pe))}v.highpass1=he/31,Se==-1?v.highpass2=(he+.75)/31:v.highpass2=(Se+.75)/31}for(var pe=0;pe<32;pe++){var Fe,we,be=pe/31;v.highpass2>v.highpass1?Fe=O((v.highpass2-be)/(v.highpass2-v.highpass1+1e-20)):Fe=1,v.lowpass2>v.lowpass1?we=O((be-v.lowpass1)/(v.lowpass2-v.lowpass1+1e-20)):we=1,v.amp_filter[pe]=Fe*we}}function oe(l){var v=l.internal_flags;switch(l.quality){default:case 9:v.psymodel=0,v.noise_shaping=0,v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.use_best_huffman=0,v.full_outer_loop=0;break;case 8:l.quality=7;case 7:v.psymodel=1,v.noise_shaping=0,v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.use_best_huffman=0,v.full_outer_loop=0;break;case 6:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=0,v.full_outer_loop=0;break;case 5:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=0,v.full_outer_loop=0;break;case 4:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=0,v.noise_shaping_stop=0,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 3:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.noise_shaping_amp=1,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 2:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.substep_shaping==0&&(v.substep_shaping=2),v.noise_shaping_amp=1,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 1:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.substep_shaping==0&&(v.substep_shaping=2),v.noise_shaping_amp=2,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break;case 0:v.psymodel=1,v.noise_shaping==0&&(v.noise_shaping=1),v.substep_shaping==0&&(v.substep_shaping=2),v.noise_shaping_amp=2,v.noise_shaping_stop=1,v.subblock_gain==-1&&(v.subblock_gain=1),v.use_best_huffman=1,v.full_outer_loop=0;break}}function q(l){var v=l.internal_flags;l.frameNum=0,l.write_id3tag_automatic&&I.id3tag_write_v2(l),v.bitrate_stereoMode_Hist=i([16,4+1]),v.bitrate_blockType_Hist=i([16,4+1+1]),v.PeakSample=0,l.bWriteVbrTag&&de.InitVbrTag(l)}this.lame_init_params=function(l){var v=l.internal_flags;if(v.Class_ID=0,v.ATH==null&&(v.ATH=new o),v.PSY==null&&(v.PSY=new H),v.rgdata==null&&(v.rgdata=new M),v.channels_in=l.num_channels,v.channels_in==1&&(l.mode=x.MONO),v.channels_out=l.mode==x.MONO?1:2,v.mode_ext=K.MPG_MD_MS_LR,l.mode==x.MONO&&(l.force_ms=!1),l.VBR==n.vbr_off&&l.VBR_mean_bitrate_kbps!=128&&l.brate==0&&(l.brate=l.VBR_mean_bitrate_kbps),l.VBR==n.vbr_off||l.VBR==n.vbr_mtrh||l.VBR==n.vbr_mt||(l.free_format=!1),l.VBR==n.vbr_off&&l.brate==0&&G.EQ(l.compression_ratio,0)&&(l.compression_ratio=11.025),l.VBR==n.vbr_off&&l.compression_ratio>0&&(l.out_samplerate==0&&(l.out_samplerate=map2MP3Frequency(int(.97*l.in_samplerate))),l.brate=0|l.out_samplerate*16*v.channels_out/(1e3*l.compression_ratio),v.samplerate_index=_(l.out_samplerate,l),l.free_format||(l.brate=u(l.brate,l.version,l.out_samplerate))),l.out_samplerate!=0&&(l.out_samplerate<16e3?(l.VBR_mean_bitrate_kbps=Math.max(l.VBR_mean_bitrate_kbps,8),l.VBR_mean_bitrate_kbps=Math.min(l.VBR_mean_bitrate_kbps,64)):l.out_samplerate<32e3?(l.VBR_mean_bitrate_kbps=Math.max(l.VBR_mean_bitrate_kbps,8),l.VBR_mean_bitrate_kbps=Math.min(l.VBR_mean_bitrate_kbps,160)):(l.VBR_mean_bitrate_kbps=Math.max(l.VBR_mean_bitrate_kbps,32),l.VBR_mean_bitrate_kbps=Math.min(l.VBR_mean_bitrate_kbps,320))),l.lowpassfreq==0){var re=16e3;switch(l.VBR){case n.vbr_off:{var he=new $;w(he,l.brate),re=he.lowerlimit;break}case n.vbr_abr:{var he=new $;w(he,l.VBR_mean_bitrate_kbps),re=he.lowerlimit;break}case n.vbr_rh:{var me=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=l.VBR_q&&l.VBR_q<=9){var pe=me[l.VBR_q],be=me[l.VBR_q+1],Se=l.VBR_q_frac;re=linear_int(pe,be,Se)}else re=19500;break}default:{var me=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=l.VBR_q&&l.VBR_q<=9){var pe=me[l.VBR_q],be=me[l.VBR_q+1],Se=l.VBR_q_frac;re=linear_int(pe,be,Se)}else re=19500}}l.mode==x.MONO&&(l.VBR==n.vbr_off||l.VBR==n.vbr_abr)&&(re*=1.5),l.lowpassfreq=re|0}if(l.out_samplerate==0&&(2*l.lowpassfreq>l.in_samplerate&&(l.lowpassfreq=l.in_samplerate/2),l.out_samplerate=m(l.lowpassfreq|0,l.in_samplerate)),l.lowpassfreq=Math.min(20500,l.lowpassfreq),l.lowpassfreq=Math.min(l.out_samplerate/2,l.lowpassfreq),l.VBR==n.vbr_off&&(l.compression_ratio=l.out_samplerate*16*v.channels_out/(1e3*l.brate)),l.VBR==n.vbr_abr&&(l.compression_ratio=l.out_samplerate*16*v.channels_out/(1e3*l.VBR_mean_bitrate_kbps)),l.bWriteVbrTag||(l.findReplayGain=!1,l.decode_on_the_fly=!1,v.findPeakSample=!1),v.findReplayGain=l.findReplayGain,v.decode_on_the_fly=l.decode_on_the_fly,v.decode_on_the_fly&&(v.findPeakSample=!0),v.findReplayGain&&S.InitGainAnalysis(v.rgdata,l.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return l.internal_flags=null,-6;switch(v.decode_on_the_fly&&!l.decode_only&&(v.hip!=null&&f.hip_decode_exit(v.hip),v.hip=f.hip_decode_init()),v.mode_gr=l.out_samplerate<=24e3?1:2,l.framesize=576*v.mode_gr,l.encoder_delay=K.ENCDELAY,v.resample_ratio=l.in_samplerate/l.out_samplerate,l.VBR){case n.vbr_mt:case n.vbr_rh:case n.vbr_mtrh:{var Fe=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];l.compression_ratio=Fe[l.VBR_q]}break;case n.vbr_abr:l.compression_ratio=l.out_samplerate*16*v.channels_out/(1e3*l.VBR_mean_bitrate_kbps);break;default:l.compression_ratio=l.out_samplerate*16*v.channels_out/(1e3*l.brate);break}if(l.mode==x.NOT_SET&&(l.mode=x.JOINT_STEREO),l.highpassfreq>0?(v.highpass1=2*l.highpassfreq,l.highpasswidth>=0?v.highpass2=2*(l.highpassfreq+l.highpasswidth):v.highpass2=(1+0)*2*l.highpassfreq,v.highpass1/=l.out_samplerate,v.highpass2/=l.out_samplerate):(v.highpass1=0,v.highpass2=0),l.lowpassfreq>0?(v.lowpass2=2*l.lowpassfreq,l.lowpasswidth>=0?(v.lowpass1=2*(l.lowpassfreq-l.lowpasswidth),v.lowpass1<0&&(v.lowpass1=0)):v.lowpass1=(1-0)*2*l.lowpassfreq,v.lowpass1/=l.out_samplerate,v.lowpass2/=l.out_samplerate):(v.lowpass1=0,v.lowpass2=0),g(l),v.samplerate_index=_(l.out_samplerate,l),v.samplerate_index<0)return l.internal_flags=null,-1;if(l.VBR==n.vbr_off){if(l.free_format)v.bitrate_index=0;else if(l.brate=u(l.brate,l.version,l.out_samplerate),v.bitrate_index=b(l.brate,l.version,l.out_samplerate),v.bitrate_index<=0)return l.internal_flags=null,-1}else v.bitrate_index=1;l.analysis&&(l.bWriteVbrTag=!1),v.pinfo!=null&&(l.bWriteVbrTag=!1),F.init_bit_stream_w(v);for(var we=v.samplerate_index+3*l.version+6*(l.out_samplerate<16e3?1:0),Te=0;Te<K.SBMAX_l+1;Te++)v.scalefac_band.l[Te]=W.sfBandIndex[we].l[Te];for(var Te=0;Te<K.PSFB21+1;Te++){var Xe=(v.scalefac_band.l[22]-v.scalefac_band.l[21])/K.PSFB21,Ze=v.scalefac_band.l[21]+Te*Xe;v.scalefac_band.psfb21[Te]=Ze}v.scalefac_band.psfb21[K.PSFB21]=576;for(var Te=0;Te<K.SBMAX_s+1;Te++)v.scalefac_band.s[Te]=W.sfBandIndex[we].s[Te];for(var Te=0;Te<K.PSFB12+1;Te++){var Xe=(v.scalefac_band.s[13]-v.scalefac_band.s[12])/K.PSFB12,Ze=v.scalefac_band.s[12]+Te*Xe;v.scalefac_band.psfb12[Te]=Ze}v.scalefac_band.psfb12[K.PSFB12]=192,l.version==1?v.sideinfo_len=v.channels_out==1?4+17:4+32:v.sideinfo_len=v.channels_out==1?4+9:4+17,l.error_protection&&(v.sideinfo_len+=2),q(l),v.Class_ID=T;{var Ke;for(Ke=0;Ke<19;Ke++)v.nsPsy.pefirbuf[Ke]=700*v.mode_gr*v.channels_out;l.ATHtype==-1&&(l.ATHtype=4)}switch(c(l.VBR_q<=9),c(l.VBR_q>=0),l.VBR){case n.vbr_mt:l.VBR=n.vbr_mtrh;case n.vbr_mtrh:{l.useTemporal==null&&(l.useTemporal=!1),D.apply_preset(l,500-l.VBR_q*10,0),l.quality<0&&(l.quality=LAME_DEFAULT_QUALITY),l.quality<5&&(l.quality=0),l.quality>5&&(l.quality=5),v.PSY.mask_adjust=l.maskingadjust,v.PSY.mask_adjust_short=l.maskingadjust_short,l.experimentalY?v.sfb21_extra=!1:v.sfb21_extra=l.out_samplerate>44e3,v.iteration_loop=new VBRNewIterationLoop(V);break}case n.vbr_rh:{D.apply_preset(l,500-l.VBR_q*10,0),v.PSY.mask_adjust=l.maskingadjust,v.PSY.mask_adjust_short=l.maskingadjust_short,l.experimentalY?v.sfb21_extra=!1:v.sfb21_extra=l.out_samplerate>44e3,l.quality>6&&(l.quality=6),l.quality<0&&(l.quality=LAME_DEFAULT_QUALITY),v.iteration_loop=new VBROldIterationLoop(V);break}default:{var A;v.sfb21_extra=!1,l.quality<0&&(l.quality=LAME_DEFAULT_QUALITY),A=l.VBR,A==n.vbr_off&&(l.VBR_mean_bitrate_kbps=l.brate),D.apply_preset(l,l.VBR_mean_bitrate_kbps,0),l.VBR=A,v.PSY.mask_adjust=l.maskingadjust,v.PSY.mask_adjust_short=l.maskingadjust_short,A==n.vbr_off?v.iteration_loop=new j(V):v.iteration_loop=new ABRIterationLoop(V);break}}if(c(l.scale>=0),l.VBR!=n.vbr_off){if(v.VBR_min_bitrate=1,v.VBR_max_bitrate=14,l.out_samplerate<16e3&&(v.VBR_max_bitrate=8),l.VBR_min_bitrate_kbps!=0&&(l.VBR_min_bitrate_kbps=u(l.VBR_min_bitrate_kbps,l.version,l.out_samplerate),v.VBR_min_bitrate=b(l.VBR_min_bitrate_kbps,l.version,l.out_samplerate),v.VBR_min_bitrate<0)||l.VBR_max_bitrate_kbps!=0&&(l.VBR_max_bitrate_kbps=u(l.VBR_max_bitrate_kbps,l.version,l.out_samplerate),v.VBR_max_bitrate=b(l.VBR_max_bitrate_kbps,l.version,l.out_samplerate),v.VBR_max_bitrate<0))return-1;l.VBR_min_bitrate_kbps=Z.bitrate_table[l.version][v.VBR_min_bitrate],l.VBR_max_bitrate_kbps=Z.bitrate_table[l.version][v.VBR_max_bitrate],l.VBR_mean_bitrate_kbps=Math.min(Z.bitrate_table[l.version][v.VBR_max_bitrate],l.VBR_mean_bitrate_kbps),l.VBR_mean_bitrate_kbps=Math.max(Z.bitrate_table[l.version][v.VBR_min_bitrate],l.VBR_mean_bitrate_kbps)}return l.tune&&(v.PSY.mask_adjust+=l.tune_value_a,v.PSY.mask_adjust_short+=l.tune_value_a),oe(l),c(l.scale>=0),l.athaa_type<0?v.ATH.useAdjust=3:v.ATH.useAdjust=l.athaa_type,v.ATH.aaSensitivityP=Math.pow(10,l.athaa_sensitivity/-10),l.short_blocks==null&&(l.short_blocks=a.short_block_allowed),l.short_blocks==a.short_block_allowed&&(l.mode==x.JOINT_STEREO||l.mode==x.STEREO)&&(l.short_blocks=a.short_block_coupled),l.quant_comp<0&&(l.quant_comp=1),l.quant_comp_short<0&&(l.quant_comp_short=0),l.msfix<0&&(l.msfix=0),l.exp_nspsytune=l.exp_nspsytune|1,l.internal_flags.nsPsy.attackthre<0&&(l.internal_flags.nsPsy.attackthre=E.NSATTACKTHRE),l.internal_flags.nsPsy.attackthre_s<0&&(l.internal_flags.nsPsy.attackthre_s=E.NSATTACKTHRE_S),c(l.scale>=0),l.scale<0&&(l.scale=1),l.ATHtype<0&&(l.ATHtype=4),l.ATHcurve<0&&(l.ATHcurve=4),l.athaa_loudapprox<0&&(l.athaa_loudapprox=2),l.interChRatio<0&&(l.interChRatio=0),l.useTemporal==null&&(l.useTemporal=!0),v.slot_lag=v.frac_SpF=0,l.VBR==n.vbr_off&&(v.slot_lag=v.frac_SpF=(l.version+1)*72e3*l.brate%l.out_samplerate|0),W.iteration_init(l),P.psymodel_init(l),c(l.scale>=0),0};function ne(l,v){(l.in_buffer_0==null||l.in_buffer_nsamples<v)&&(l.in_buffer_0=s(v),l.in_buffer_1=s(v),l.in_buffer_nsamples=v)}this.lame_encode_flush=function(l,v,re,he){var me=l.internal_flags,pe=d([2,1152]),be=0,Se,Fe,we,Te,Xe=me.mf_samples_to_encode-K.POSTDELAY,Ze=ve(l);if(me.mf_samples_to_encode<1)return 0;for(Se=0,l.in_samplerate!=l.out_samplerate&&(Xe+=16*l.out_samplerate/l.in_samplerate),we=l.framesize-Xe%l.framesize,we<576&&(we+=l.framesize),l.encoder_padding=we,Te=(Xe+we)/l.framesize;Te>0&&be>=0;){var Ke=Ze-me.mf_size,A=l.frameNum;Ke*=l.in_samplerate,Ke/=l.out_samplerate,Ke>1152&&(Ke=1152),Ke<1&&(Ke=1),Fe=he-Se,he==0&&(Fe=0),be=this.lame_encode_buffer(l,pe[0],pe[1],Ke,v,re,Fe),re+=be,Se+=be,Te-=A!=l.frameNum?1:0}if(me.mf_samples_to_encode=0,be<0||(Fe=he-Se,he==0&&(Fe=0),F.flush_bitstream(l),be=F.copy_buffer(me,v,re,Fe,1),be<0))return be;if(re+=be,Se+=be,Fe=he-Se,he==0&&(Fe=0),l.write_id3tag_automatic){if(I.id3tag_write_v1(l),be=F.copy_buffer(me,v,re,Fe,0),be<0)return be;Se+=be}return Se},this.lame_encode_buffer=function(l,v,re,he,me,pe,be){var Se=l.internal_flags,Fe=[null,null];if(Se.Class_ID!=T)return-3;if(he==0)return 0;ne(Se,he),Fe[0]=Se.in_buffer_0,Fe[1]=Se.in_buffer_1;for(var we=0;we<he;we++)Fe[0][we]=v[we],Se.channels_in>1&&(Fe[1][we]=re[we]);return ye(l,Fe[0],Fe[1],he,me,pe,be)};function ve(l){var v=K.BLKSIZE+l.framesize-K.FFTOFFSET;return v=Math.max(v,512+l.framesize-32),v}function ye(l,v,re,he,me,pe,be){var Se=l.internal_flags,Fe=0,we,Te,Xe,Ze,Ke,A=[null,null],R=[null,null];if(Se.Class_ID!=T)return-3;if(he==0)return 0;if(Ke=F.copy_buffer(Se,me,pe,be,0),Ke<0)return Ke;if(pe+=Ke,Fe+=Ke,R[0]=v,R[1]=re,G.NEQ(l.scale,0)&&G.NEQ(l.scale,1))for(Te=0;Te<he;++Te)R[0][Te]*=l.scale,Se.channels_out==2&&(R[1][Te]*=l.scale);if(G.NEQ(l.scale_left,0)&&G.NEQ(l.scale_left,1))for(Te=0;Te<he;++Te)R[0][Te]*=l.scale_left;if(G.NEQ(l.scale_right,0)&&G.NEQ(l.scale_right,1))for(Te=0;Te<he;++Te)R[1][Te]*=l.scale_right;if(l.num_channels==2&&Se.channels_out==1)for(Te=0;Te<he;++Te)R[0][Te]=.5*(R[0][Te]+R[1][Te]),R[1][Te]=0;Ze=ve(l),A[0]=Se.mfbuf[0],A[1]=Se.mfbuf[1];for(var k=0;he>0;){var Y=[null,null],J=0,N=0;Y[0]=R[0],Y[1]=R[1];var ee=new X;if(Ce(l,A,Y,k,he,ee),J=ee.n_in,N=ee.n_out,Se.findReplayGain&&!Se.decode_on_the_fly&&S.AnalyzeSamples(Se.rgdata,A[0],Se.mf_size,A[1],Se.mf_size,N,Se.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(he-=J,k+=J,Se.channels_out==2,Se.mf_size+=N,c(Se.mf_size<=h.MFSIZE),Se.mf_samples_to_encode<1&&(Se.mf_samples_to_encode=K.ENCDELAY+K.POSTDELAY),Se.mf_samples_to_encode+=N,Se.mf_size>=Ze){var se=be-Fe;if(be==0&&(se=0),we=C(l,A[0],A[1],me,pe,se),we<0)return we;for(pe+=we,Fe+=we,Se.mf_size-=l.framesize,Se.mf_samples_to_encode-=l.framesize,Xe=0;Xe<Se.channels_out;Xe++)for(Te=0;Te<Se.mf_size;Te++)A[Xe][Te]=A[Xe][Te+l.framesize]}}return Fe}function C(l,v,re,he,me,pe){var be=p.enc.lame_encode_mp3_frame(l,v,re,he,me,pe);return l.frameNum++,be}function X(){this.n_in=0,this.n_out=0}function Q(){this.num_used=0}function ae(l,v){return v!=0?ae(v,l%v):l}function ie(l,v,re){var he=Math.PI*v;l/=re,l<0&&(l=0),l>1&&(l=1);var me=l-.5,pe=.42-.5*Math.cos(2*l*Math.PI)+.08*Math.cos(4*l*Math.PI);return Math.abs(me)<1e-9?he/Math.PI:pe*Math.sin(re*he*me)/(Math.PI*re*me)}function xe(l,v,re,he,me,pe,be,Se,Fe){var we=l.internal_flags,Te,Xe=0,Ze,Ke=l.out_samplerate/ae(l.out_samplerate,l.in_samplerate);Ke>h.BPC&&(Ke=h.BPC);var A=Math.abs(we.resample_ratio-Math.floor(.5+we.resample_ratio))<1e-4?1:0,R=1/we.resample_ratio;R>1&&(R=1);var k=31;k%2==0&&--k,k+=A;var Y=k+1;if(we.fill_buffer_resample_init==0){for(we.inbuf_old[0]=s(Y),we.inbuf_old[1]=s(Y),Te=0;Te<=2*Ke;++Te)we.blackfilt[Te]=s(Y);for(we.itime[0]=0,we.itime[1]=0,Xe=0;Xe<=2*Ke;Xe++){var J=0,N=(Xe-Ke)/(2*Ke);for(Te=0;Te<=k;Te++)J+=we.blackfilt[Xe][Te]=ie(Te-N,R,k);for(Te=0;Te<=k;Te++)we.blackfilt[Xe][Te]/=J}we.fill_buffer_resample_init=1}var ee=we.inbuf_old[Fe];for(Ze=0;Ze<he;Ze++){var se,te;if(se=Ze*we.resample_ratio,Xe=0|Math.floor(se-we.itime[Fe]),k+Xe-k/2>=be)break;var N=se-we.itime[Fe]-(Xe+.5*(k%2));te=0|Math.floor(N*2*Ke+Ke+.5);var ue=0;for(Te=0;Te<=k;++Te){var le=0|Te+Xe-k/2,fe;fe=le<0?ee[Y+le]:me[pe+le],ue+=fe*we.blackfilt[te][Te]}v[re+Ze]=ue}if(Se.num_used=Math.min(be,k+Xe-k/2),we.itime[Fe]+=Se.num_used-Ze*we.resample_ratio,Se.num_used>=Y)for(Te=0;Te<Y;Te++)ee[Te]=me[pe+Se.num_used+Te-Y];else{var Be=Y-Se.num_used;for(Te=0;Te<Be;++Te)ee[Te]=ee[Te+Se.num_used];for(Xe=0;Te<Y;++Te,++Xe)ee[Te]=me[pe+Xe];c(Xe==Se.num_used)}return Ze}function Ce(l,v,re,he,me,pe){var be=l.internal_flags;if(be.resample_ratio<.9999||be.resample_ratio>1.0001)for(var Se=0;Se<be.channels_out;Se++){var Fe=new Q;pe.n_out=xe(l,v[Se],be.mf_size,l.framesize,re[Se],he,me,Fe,Se),pe.n_in=Fe.num_used}else{pe.n_out=Math.min(l.framesize,me),pe.n_in=pe.n_out;for(var we=0;we<pe.n_out;++we)v[0][be.mf_size+we]=re[0][he+we],be.channels_out==2&&(v[1][be.mf_size+we]=re[1][he+we])}}}return ka=y,ka}var s_=n0,et=s_.VbrMode;function i_(){var e=Tr();function t(h,o,M,j,G,Z,K,y,x,p,B,r,S,F,D){this.vbr_q=h,this.quant_comp=o,this.quant_comp_s=M,this.expY=j,this.st_lrm=G,this.st_s=Z,this.masking_adj=K,this.masking_adj_short=y,this.ath_lower=x,this.ath_curve=p,this.ath_sensitivity=B,this.interch=r,this.safejoint=S,this.sfb21mod=F,this.msfix=D}function n(h,o,M,j,G,Z,K,y,x,p,B,r,S,F){this.quant_comp=o,this.quant_comp_s=M,this.safejoint=j,this.nsmsfix=G,this.st_lrm=Z,this.st_s=K,this.nsbass=y,this.scale=x,this.masking_adj=p,this.ath_lower=B,this.ath_curve=r,this.interch=S,this.sfscale=F}var a;this.setModules=function(h){a=h};var s=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],i=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function d(h,o,M){var j=h.VBR==et.vbr_rh?s:i,G=h.VBR_q_frac,Z=j[o],K=j[o+1],y=Z;Z.st_lrm=Z.st_lrm+G*(K.st_lrm-Z.st_lrm),Z.st_s=Z.st_s+G*(K.st_s-Z.st_s),Z.masking_adj=Z.masking_adj+G*(K.masking_adj-Z.masking_adj),Z.masking_adj_short=Z.masking_adj_short+G*(K.masking_adj_short-Z.masking_adj_short),Z.ath_lower=Z.ath_lower+G*(K.ath_lower-Z.ath_lower),Z.ath_curve=Z.ath_curve+G*(K.ath_curve-Z.ath_curve),Z.ath_sensitivity=Z.ath_sensitivity+G*(K.ath_sensitivity-Z.ath_sensitivity),Z.interch=Z.interch+G*(K.interch-Z.interch),Z.msfix=Z.msfix+G*(K.msfix-Z.msfix),U(h,y.vbr_q),M!=0?h.quant_comp=y.quant_comp:Math.abs(h.quant_comp- -1)>0||(h.quant_comp=y.quant_comp),M!=0?h.quant_comp_short=y.quant_comp_s:Math.abs(h.quant_comp_short- -1)>0||(h.quant_comp_short=y.quant_comp_s),y.expY!=0&&(h.experimentalY=y.expY!=0),M!=0?h.internal_flags.nsPsy.attackthre=y.st_lrm:Math.abs(h.internal_flags.nsPsy.attackthre- -1)>0||(h.internal_flags.nsPsy.attackthre=y.st_lrm),M!=0?h.internal_flags.nsPsy.attackthre_s=y.st_s:Math.abs(h.internal_flags.nsPsy.attackthre_s- -1)>0||(h.internal_flags.nsPsy.attackthre_s=y.st_s),M!=0?h.maskingadjust=y.masking_adj:Math.abs(h.maskingadjust-0)>0||(h.maskingadjust=y.masking_adj),M!=0?h.maskingadjust_short=y.masking_adj_short:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=y.masking_adj_short),M!=0?h.ATHlower=-y.ath_lower/10:Math.abs(-h.ATHlower*10-0)>0||(h.ATHlower=-y.ath_lower/10),M!=0?h.ATHcurve=y.ath_curve:Math.abs(h.ATHcurve- -1)>0||(h.ATHcurve=y.ath_curve),M!=0?h.athaa_sensitivity=y.ath_sensitivity:Math.abs(h.athaa_sensitivity- -1)>0||(h.athaa_sensitivity=y.ath_sensitivity),y.interch>0&&(M!=0?h.interChRatio=y.interch:Math.abs(h.interChRatio- -1)>0||(h.interChRatio=y.interch)),y.safejoint>0&&(h.exp_nspsytune=h.exp_nspsytune|y.safejoint),y.sfb21mod>0&&(h.exp_nspsytune=h.exp_nspsytune|y.sfb21mod<<20),M!=0?h.msfix=y.msfix:Math.abs(h.msfix- -1)>0||(h.msfix=y.msfix),M==0&&(h.VBR_q=o,h.VBR_q_frac=G)}var c=[new n(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new n(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new n(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new n(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new n(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new n(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new n(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new n(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new n(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new n(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new n(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new n(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new n(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new n(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new n(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new n(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function E(h,o,M){var j=o,G=a.nearestBitrateFullIndex(o);if(h.VBR=et.vbr_abr,h.VBR_mean_bitrate_kbps=j,h.VBR_mean_bitrate_kbps=Math.min(h.VBR_mean_bitrate_kbps,320),h.VBR_mean_bitrate_kbps=Math.max(h.VBR_mean_bitrate_kbps,8),h.brate=h.VBR_mean_bitrate_kbps,h.VBR_mean_bitrate_kbps>320&&(h.disable_reservoir=!0),c[G].safejoint>0&&(h.exp_nspsytune=h.exp_nspsytune|2),c[G].sfscale>0&&(h.internal_flags.noise_shaping=2),Math.abs(c[G].nsbass)>0){var Z=int(c[G].nsbass*4);Z<0&&(Z+=64),h.exp_nspsytune=h.exp_nspsytune|Z<<2}return M!=0?h.quant_comp=c[G].quant_comp:Math.abs(h.quant_comp- -1)>0||(h.quant_comp=c[G].quant_comp),M!=0?h.quant_comp_short=c[G].quant_comp_s:Math.abs(h.quant_comp_short- -1)>0||(h.quant_comp_short=c[G].quant_comp_s),M!=0?h.msfix=c[G].nsmsfix:Math.abs(h.msfix- -1)>0||(h.msfix=c[G].nsmsfix),M!=0?h.internal_flags.nsPsy.attackthre=c[G].st_lrm:Math.abs(h.internal_flags.nsPsy.attackthre- -1)>0||(h.internal_flags.nsPsy.attackthre=c[G].st_lrm),M!=0?h.internal_flags.nsPsy.attackthre_s=c[G].st_s:Math.abs(h.internal_flags.nsPsy.attackthre_s- -1)>0||(h.internal_flags.nsPsy.attackthre_s=c[G].st_s),M!=0?h.scale=c[G].scale:Math.abs(h.scale- -1)>0||(h.scale=c[G].scale),M!=0?h.maskingadjust=c[G].masking_adj:Math.abs(h.maskingadjust-0)>0||(h.maskingadjust=c[G].masking_adj),c[G].masking_adj>0?M!=0?h.maskingadjust_short=c[G].masking_adj*.9:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=c[G].masking_adj*.9):M!=0?h.maskingadjust_short=c[G].masking_adj*1.1:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=c[G].masking_adj*1.1),M!=0?h.ATHlower=-c[G].ath_lower/10:Math.abs(-h.ATHlower*10-0)>0||(h.ATHlower=-c[G].ath_lower/10),M!=0?h.ATHcurve=c[G].ath_curve:Math.abs(h.ATHcurve- -1)>0||(h.ATHcurve=c[G].ath_curve),M!=0?h.interChRatio=c[G].interch:Math.abs(h.interChRatio- -1)>0||(h.interChRatio=c[G].interch),o}this.apply_preset=function(h,o,M){switch(o){case e.R3MIX:{o=e.V3,h.VBR=et.vbr_mtrh;break}case e.MEDIUM:{o=e.V4,h.VBR=et.vbr_rh;break}case e.MEDIUM_FAST:{o=e.V4,h.VBR=et.vbr_mtrh;break}case e.STANDARD:{o=e.V2,h.VBR=et.vbr_rh;break}case e.STANDARD_FAST:{o=e.V2,h.VBR=et.vbr_mtrh;break}case e.EXTREME:{o=e.V0,h.VBR=et.vbr_rh;break}case e.EXTREME_FAST:{o=e.V0,h.VBR=et.vbr_mtrh;break}case e.INSANE:return o=320,h.preset=o,E(h,o,M),h.VBR=et.vbr_off,o}switch(h.preset=o,o){case e.V9:return d(h,9,M),o;case e.V8:return d(h,8,M),o;case e.V7:return d(h,7,M),o;case e.V6:return d(h,6,M),o;case e.V5:return d(h,5,M),o;case e.V4:return d(h,4,M),o;case e.V3:return d(h,3,M),o;case e.V2:return d(h,2,M),o;case e.V1:return d(h,1,M),o;case e.V0:return d(h,0,M),o}return 8<=o&&o<=320?E(h,o,M):(h.preset=0,o)};function U(h,o){var M=0;return 0>o&&(M=-1,o=0),9<o&&(M=-1,o=9),h.VBR_q=o,h.VBR_q_frac=0,M}}var l_=i_;function o_(){this.setModules=function(e,t){}}var __=o_;function u_(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var f_=u_,gs=n0,T1=gs.new_float,c_=gs.new_int;function v_(){this.global_gain=0,this.sfb_count1=0,this.step=c_(39),this.noise=T1(39),this.noise_log=T1(39)}var h_=v_,en=n0,vt=en.System,w1=en.VbrMode,Va=en.Util,Xt=en.Arrays,on=en.new_float,_n=en.assert,d_=__,Da=f_,m_=h_,je=x0(),B1=Mr,I1=oa;function b_(){var e;this.rv=null;var t;this.qupvt=null;var n,a=new d_,s;this.setModules=function(y,x,p,B){e=y,t=x,this.rv=x,n=p,this.qupvt=p,s=B,a.setModules(n,s)},this.ms_convert=function(y,x){for(var p=0;p<576;++p){var B=y.tt[x][0].xr[p],r=y.tt[x][1].xr[p];y.tt[x][0].xr[p]=(B+r)*(Va.SQRT2*.5),y.tt[x][1].xr[p]=(B-r)*(Va.SQRT2*.5)}};function i(y,x,p,B){B=0;for(var r=0;r<=p;++r){var S=Math.abs(y.xr[r]);B+=S,x[r]=Math.sqrt(S*Math.sqrt(S)),x[r]>y.xrpow_max&&(y.xrpow_max=x[r])}return B}this.init_xrpow=function(y,x,p){var B=0,r=0|x.max_nonzero_coeff;if(x.xrpow_max=0,Xt.fill(p,r,576,0),B=i(x,p,r,B),B>1e-20){var S=0;y.substep_shaping&2&&(S=1);for(var F=0;F<x.psymax;F++)y.pseudohalf[F]=S;return!0}return Xt.fill(x.l3_enc,0,576,0),!1};function d(y,x){var p=y.ATH,B=x.xr;if(x.block_type!=je.SHORT_TYPE)for(var r=!1,S=je.PSFB21-1;S>=0&&!r;S--){var F=y.scalefac_band.psfb21[S],D=y.scalefac_band.psfb21[S+1],W=n.athAdjust(p.adjust,p.psfb21[S],p.floor);y.nsPsy.longfact[21]>1e-12&&(W*=y.nsPsy.longfact[21]);for(var V=D-1;V>=F;V--)if(Math.abs(B[V])<W)B[V]=0;else{r=!0;break}}else for(var P=0;P<3;P++)for(var r=!1,S=je.PSFB12-1;S>=0&&!r;S--){var F=y.scalefac_band.s[12]*3+(y.scalefac_band.s[13]-y.scalefac_band.s[12])*P+(y.scalefac_band.psfb12[S]-y.scalefac_band.psfb12[0]),D=F+(y.scalefac_band.psfb12[S+1]-y.scalefac_band.psfb12[S]),de=n.athAdjust(p.adjust,p.psfb12[S],p.floor);y.nsPsy.shortfact[12]>1e-12&&(de*=y.nsPsy.shortfact[12]);for(var V=D-1;V>=F;V--)if(Math.abs(B[V])<de)B[V]=0;else{r=!0;break}}}this.init_outer_loop=function(y,x){x.part2_3_length=0,x.big_values=0,x.count1=0,x.global_gain=210,x.scalefac_compress=0,x.table_select[0]=0,x.table_select[1]=0,x.table_select[2]=0,x.subblock_gain[0]=0,x.subblock_gain[1]=0,x.subblock_gain[2]=0,x.subblock_gain[3]=0,x.region0_count=0,x.region1_count=0,x.preflag=0,x.scalefac_scale=0,x.count1table_select=0,x.part2_length=0,x.sfb_lmax=je.SBPSY_l,x.sfb_smin=je.SBPSY_s,x.psy_lmax=y.sfb21_extra?je.SBMAX_l:je.SBPSY_l,x.psymax=x.psy_lmax,x.sfbmax=x.sfb_lmax,x.sfbdivide=11;for(var p=0;p<je.SBMAX_l;p++)x.width[p]=y.scalefac_band.l[p+1]-y.scalefac_band.l[p],x.window[p]=3;if(x.block_type==je.SHORT_TYPE){var B=on(576);x.sfb_smin=0,x.sfb_lmax=0,x.mixed_block_flag!=0&&(x.sfb_smin=3,x.sfb_lmax=y.mode_gr*2+4),x.psymax=x.sfb_lmax+3*((y.sfb21_extra?je.SBMAX_s:je.SBPSY_s)-x.sfb_smin),x.sfbmax=x.sfb_lmax+3*(je.SBPSY_s-x.sfb_smin),x.sfbdivide=x.sfbmax-18,x.psy_lmax=x.sfb_lmax;var r=y.scalefac_band.l[x.sfb_lmax];vt.arraycopy(x.xr,0,B,0,576);for(var p=x.sfb_smin;p<je.SBMAX_s;p++)for(var S=y.scalefac_band.s[p],F=y.scalefac_band.s[p+1],D=0;D<3;D++)for(var W=S;W<F;W++)x.xr[r++]=B[3*W+D];for(var V=x.sfb_lmax,p=x.sfb_smin;p<je.SBMAX_s;p++)x.width[V]=x.width[V+1]=x.width[V+2]=y.scalefac_band.s[p+1]-y.scalefac_band.s[p],x.window[V]=0,x.window[V+1]=1,x.window[V+2]=2,V+=3}x.count1bits=0,x.sfb_partition_table=n.nr_of_sfb_block[0][0],x.slen[0]=0,x.slen[1]=0,x.slen[2]=0,x.slen[3]=0,x.max_nonzero_coeff=575,Xt.fill(x.scalefac,0),d(y,x)};function c(y){this.ordinal=y}c.BINSEARCH_NONE=new c(0),c.BINSEARCH_UP=new c(1),c.BINSEARCH_DOWN=new c(2);function E(y,x,p,B,r){var S,F=y.CurrentStep[B],D=!1,W=y.OldValue[B],V=c.BINSEARCH_NONE;for(x.global_gain=W,p-=x.part2_length;;){var P;if(S=s.count_bits(y,r,x,null),F==1||S==p)break;S>p?(V==c.BINSEARCH_DOWN&&(D=!0),D&&(F/=2),V=c.BINSEARCH_UP,P=F):(V==c.BINSEARCH_UP&&(D=!0),D&&(F/=2),V=c.BINSEARCH_DOWN,P=-F),x.global_gain+=P,x.global_gain<0&&(x.global_gain=0,D=!0),x.global_gain>255&&(x.global_gain=255,D=!0)}for(_n(x.global_gain>=0),_n(x.global_gain<256);S>p&&x.global_gain<255;)x.global_gain++,S=s.count_bits(y,r,x,null);return y.CurrentStep[B]=W-x.global_gain>=4?4:2,y.OldValue[B]=x.global_gain,x.part2_3_length=S,S}this.trancate_smallspectrums=function(y,x,p,B){var r=on(I1.SFBMAX);if(!(!(y.substep_shaping&4)&&x.block_type==je.SHORT_TYPE||y.substep_shaping&128)){n.calc_noise(x,p,r,new Da,null);for(var F=0;F<576;F++){var S=0;x.l3_enc[F]!=0&&(S=Math.abs(x.xr[F])),B[F]=S}var F=0,D=8;x.block_type==je.SHORT_TYPE&&(D=6);do{var W,V,P,de,I=x.width[D];if(F+=I,!(r[D]>=1)&&(Xt.sort(B,F-I,I),!BitStream.EQ(B[F-1],0))){W=(1-r[D])*p[D],V=0,de=0;do{var f;for(P=1;de+P<I&&!BitStream.NEQ(B[de+F-I],B[de+F+P-I]);P++);if(f=B[de+F-I]*B[de+F-I]*P,W<f){de!=0&&(V=B[de+F-I-1]);break}W-=f,de+=P}while(de<I);if(!BitStream.EQ(V,0))do Math.abs(x.xr[F-I])<=V&&(x.l3_enc[F-I]=0);while(--I>0)}}while(++D<x.psymax);x.part2_3_length=s.noquant_count_bits(y,x,null)}};function U(y){for(var x=0;x<y.sfbmax;x++)if(y.scalefac[x]+y.subblock_gain[y.window[x]]==0)return!1;return!0}function h(y){return Va.FAST_LOG10(.368+.632*y*y*y)}function o(y,x){for(var p=1e-37,B=0;B<x.psymax;B++)p+=h(y[B]);return Math.max(1e-20,p)}function M(y,x,p,B,r){var S;switch(y){default:case 9:{x.over_count>0?(S=p.over_SSD<=x.over_SSD,p.over_SSD==x.over_SSD&&(S=p.bits<x.bits)):S=p.max_noise<0&&p.max_noise*10+p.bits<=x.max_noise*10+x.bits;break}case 0:S=p.over_count<x.over_count||p.over_count==x.over_count&&p.over_noise<x.over_noise||p.over_count==x.over_count&&BitStream.EQ(p.over_noise,x.over_noise)&&p.tot_noise<x.tot_noise;break;case 8:p.max_noise=o(r,B);case 1:S=p.max_noise<x.max_noise;break;case 2:S=p.tot_noise<x.tot_noise;break;case 3:S=p.tot_noise<x.tot_noise&&p.max_noise<x.max_noise;break;case 4:S=p.max_noise<=0&&x.max_noise>.2||p.max_noise<=0&&x.max_noise<0&&x.max_noise>p.max_noise-.2&&p.tot_noise<x.tot_noise||p.max_noise<=0&&x.max_noise>0&&x.max_noise>p.max_noise-.2&&p.tot_noise<x.tot_noise+x.over_noise||p.max_noise>0&&x.max_noise>-.05&&x.max_noise>p.max_noise-.1&&p.tot_noise+p.over_noise<x.tot_noise+x.over_noise||p.max_noise>0&&x.max_noise>-.1&&x.max_noise>p.max_noise-.15&&p.tot_noise+p.over_noise+p.over_noise<x.tot_noise+x.over_noise+x.over_noise;break;case 5:S=p.over_noise<x.over_noise||BitStream.EQ(p.over_noise,x.over_noise)&&p.tot_noise<x.tot_noise;break;case 6:S=p.over_noise<x.over_noise||BitStream.EQ(p.over_noise,x.over_noise)&&(p.max_noise<x.max_noise||BitStream.EQ(p.max_noise,x.max_noise)&&p.tot_noise<=x.tot_noise);break;case 7:S=p.over_count<x.over_count||p.over_noise<x.over_noise;break}return x.over_count==0&&(S=S&&p.bits<x.bits),S}function j(y,x,p,B,r){var S=y.internal_flags,F;x.scalefac_scale==0?F=1.2968395546510096:F=1.6817928305074292;for(var D=0,W=0;W<x.sfbmax;W++)D<p[W]&&(D=p[W]);var V=S.noise_shaping_amp;switch(V==3&&(r?V=2:V=1),V){case 2:break;case 1:D>1?D=Math.pow(D,.5):D*=.95;break;case 0:default:D>1?D=1:D*=.95;break}for(var P=0,W=0;W<x.sfbmax;W++){var de=x.width[W],I;if(P+=de,!(p[W]<D)){if(S.substep_shaping&2&&(S.pseudohalf[W]=S.pseudohalf[W]==0?1:0,S.pseudohalf[W]==0&&S.noise_shaping_amp==2))return;for(x.scalefac[W]++,I=-de;I<0;I++)B[P+I]*=F,B[P+I]>x.xrpow_max&&(x.xrpow_max=B[P+I]);if(S.noise_shaping_amp==2)return}}}function G(y,x){for(var p=1.2968395546510096,B=0,r=0;r<y.sfbmax;r++){var S=y.width[r],F=y.scalefac[r];if(y.preflag!=0&&(F+=n.pretab[r]),B+=S,F&1){F++;for(var D=-S;D<0;D++)x[B+D]*=p,x[B+D]>y.xrpow_max&&(y.xrpow_max=x[B+D])}y.scalefac[r]=F>>1}y.preflag=0,y.scalefac_scale=1}function Z(y,x,p){var B,r=x.scalefac;for(B=0;B<x.sfb_lmax;B++)if(r[B]>=16)return!0;for(var S=0;S<3;S++){var F=0,D=0;for(B=x.sfb_lmax+S;B<x.sfbdivide;B+=3)F<r[B]&&(F=r[B]);for(;B<x.sfbmax;B+=3)D<r[B]&&(D=r[B]);if(!(F<16&&D<8)){if(x.subblock_gain[S]>=7)return!0;x.subblock_gain[S]++;var W=y.scalefac_band.l[x.sfb_lmax];for(B=x.sfb_lmax+S;B<x.sfbmax;B+=3){var V,P=x.width[B],de=r[B];if(de=de-(4>>x.scalefac_scale),de>=0){r[B]=de,W+=P*3;continue}r[B]=0;{var I=210+(de<<x.scalefac_scale+1);V=n.IPOW20(I)}W+=P*(S+1);for(var f=-P;f<0;f++)p[W+f]*=V,p[W+f]>x.xrpow_max&&(x.xrpow_max=p[W+f]);W+=P*(3-S-1)}{var V=n.IPOW20(202);W+=x.width[B]*(S+1);for(var f=-x.width[B];f<0;f++)p[W+f]*=V,p[W+f]>x.xrpow_max&&(x.xrpow_max=p[W+f])}}}return!1}function K(y,x,p,B,r){var S=y.internal_flags;j(y,x,p,B,r);var F=U(x);return F?!1:(S.mode_gr==2?F=s.scale_bitcount(x):F=s.scale_bitcount_lsf(S,x),F?(S.noise_shaping>1&&(Xt.fill(S.pseudohalf,0),x.scalefac_scale==0?(G(x,B),F=!1):x.block_type==je.SHORT_TYPE&&S.subblock_gain>0&&(F=Z(S,x,B)||U(x))),F||(S.mode_gr==2?F=s.scale_bitcount(x):F=s.scale_bitcount_lsf(S,x)),!F):!0)}this.outer_loop=function(y,x,p,B,r,S){var F=y.internal_flags,D=new B1,W=on(576),V=on(I1.SFBMAX),P=new Da,de,I=new m_,f=9999999,H=!1,$=!1,L=0;if(E(F,x,S,r,B),F.noise_shaping==0)return 100;n.calc_noise(x,p,V,P,I),P.bits=x.part2_3_length,D.assign(x);var T=0;for(vt.arraycopy(B,0,W,0,576);!H;){do{var z=new Da,O,m=255;if(F.substep_shaping&2?O=20:O=3,F.sfb21_extra&&(V[D.sfbmax]>1||D.block_type==je.SHORT_TYPE&&(V[D.sfbmax+1]>1||V[D.sfbmax+2]>1))||!K(y,D,V,B,$))break;D.scalefac_scale!=0&&(m=254);var _=S-D.part2_length;if(_<=0)break;for(;(D.part2_3_length=s.count_bits(F,B,D,I))>_&&D.global_gain<=m;)D.global_gain++;if(D.global_gain>m)break;if(P.over_count==0){for(;(D.part2_3_length=s.count_bits(F,B,D,I))>f&&D.global_gain<=m;)D.global_gain++;if(D.global_gain>m)break}if(n.calc_noise(D,p,V,z,I),z.bits=D.part2_3_length,x.block_type!=je.SHORT_TYPE?de=y.quant_comp:de=y.quant_comp_short,de=M(de,P,z,D,V)?1:0,de!=0)f=x.part2_3_length,P=z,x.assign(D),T=0,vt.arraycopy(B,0,W,0,576);else if(F.full_outer_loop==0&&(++T>O&&P.over_count==0||F.noise_shaping_amp==3&&$&&T>30||F.noise_shaping_amp==3&&$&&D.global_gain-L>15))break}while(D.global_gain+D.scalefac_scale<255);F.noise_shaping_amp==3?$?H=!0:(D.assign(x),vt.arraycopy(W,0,B,0,576),T=0,L=D.global_gain,$=!0):H=!0}return _n(x.global_gain+x.scalefac_scale<=255),y.VBR==w1.vbr_rh||y.VBR==w1.vbr_mtrh?vt.arraycopy(W,0,B,0,576):F.substep_shaping&1&&trancate_smallspectrums(F,x,p,B),P.over_count},this.iteration_finish_one=function(y,x,p){var B=y.l3_side,r=B.tt[x][p];s.best_scalefac_store(y,x,p,B),y.use_best_huffman==1&&s.best_huffman_divide(y,r),t.ResvAdjust(y,r)},this.VBR_encode_granule=function(y,x,p,B,r,S,F){var D=y.internal_flags,W=new B1,V=on(576),P=F,de=F+1,I=(F+S)/2,f,H,$=0,L=D.sfb21_extra;_n(P<=LameInternalFlags.MAX_BITS_PER_CHANNEL),Xt.fill(W.l3_enc,0);do I>P-42?D.sfb21_extra=!1:D.sfb21_extra=L,H=outer_loop(y,x,p,B,r,I),H<=0?($=1,de=x.part2_3_length,W.assign(x),vt.arraycopy(B,0,V,0,576),F=de-32,f=F-S,I=(F+S)/2):(S=I+32,f=F-S,I=(F+S)/2,$!=0&&($=2,x.assign(W),vt.arraycopy(V,0,B,0,576)));while(f>12);D.sfb21_extra=L,$==2&&vt.arraycopy(W.l3_enc,0,x.l3_enc,0,576),_n(x.part2_3_length<=P)},this.get_framebits=function(y,x){var p=y.internal_flags;p.bitrate_index=p.VBR_min_bitrate;var B=e.getframebits(y);p.bitrate_index=1,B=e.getframebits(y);for(var r=1;r<=p.VBR_max_bitrate;r++){p.bitrate_index=r;var S=new MeanBits(B);x[r]=t.ResvFrameBegin(y,S),B=S.bits}},this.VBR_old_prepare=function(y,x,p,B,r,S,F,D,W){var V=y.internal_flags,P,de=0,I=1,f=0;V.bitrate_index=V.VBR_max_bitrate;var H=t.ResvFrameBegin(y,new MeanBits(0))/V.mode_gr;get_framebits(y,S);for(var $=0;$<V.mode_gr;$++){var L=n.on_pe(y,x,D[$],H,$,0);V.mode_ext==je.MPG_MD_MS_LR&&(ms_convert(V.l3_side,$),n.reduce_side(D[$],p[$],H,L));for(var T=0;T<V.channels_out;++T){var z=V.l3_side.tt[$][T];z.block_type!=je.SHORT_TYPE?(de=1.28/(1+Math.exp(3.5-x[$][T]/300))-.05,P=V.PSY.mask_adjust-de):(de=2.56/(1+Math.exp(3.5-x[$][T]/300))-.14,P=V.PSY.mask_adjust_short-de),V.masking_lower=Math.pow(10,P*.1),init_outer_loop(V,z),W[$][T]=n.calc_xmin(y,B[$][T],z,r[$][T]),W[$][T]!=0&&(I=0),F[$][T]=126,f+=D[$][T]}}for(var $=0;$<V.mode_gr;$++)for(var T=0;T<V.channels_out;T++)f>S[V.VBR_max_bitrate]&&(D[$][T]*=S[V.VBR_max_bitrate],D[$][T]/=f),F[$][T]>D[$][T]&&(F[$][T]=D[$][T]);return I},this.bitpressure_strategy=function(y,x,p,B){for(var r=0;r<y.mode_gr;r++)for(var S=0;S<y.channels_out;S++){for(var F=y.l3_side.tt[r][S],D=x[r][S],W=0,V=0;V<F.psy_lmax;V++)D[W++]*=1+.029*V*V/je.SBMAX_l/je.SBMAX_l;if(F.block_type==je.SHORT_TYPE)for(var V=F.sfb_smin;V<je.SBMAX_s;V++)D[W++]*=1+.029*V*V/je.SBMAX_s/je.SBMAX_s,D[W++]*=1+.029*V*V/je.SBMAX_s/je.SBMAX_s,D[W++]*=1+.029*V*V/je.SBMAX_s/je.SBMAX_s;B[r][S]=0|Math.max(p[r][S],.9*B[r][S])}},this.VBR_new_prepare=function(y,x,p,B,r,S){var F=y.internal_flags,D=1,W=0,V=0,P;if(y.free_format){F.bitrate_index=0;var de=new MeanBits(W);P=t.ResvFrameBegin(y,de),W=de.bits,r[0]=P}else{F.bitrate_index=F.VBR_max_bitrate;var de=new MeanBits(W);t.ResvFrameBegin(y,de),W=de.bits,get_framebits(y,r),P=r[F.VBR_max_bitrate]}for(var I=0;I<F.mode_gr;I++){n.on_pe(y,x,S[I],W,I,0),F.mode_ext==je.MPG_MD_MS_LR&&ms_convert(F.l3_side,I);for(var f=0;f<F.channels_out;++f){var H=F.l3_side.tt[I][f];F.masking_lower=Math.pow(10,F.PSY.mask_adjust*.1),init_outer_loop(F,H),n.calc_xmin(y,p[I][f],H,B[I][f])!=0&&(D=0),V+=S[I][f]}}for(var I=0;I<F.mode_gr;I++)for(var f=0;f<F.channels_out;f++)V>P&&(S[I][f]*=P,S[I][f]/=V);return D},this.calc_target_bits=function(y,x,p,B,r,S){var F=y.internal_flags,D=F.l3_side,W,V,P,de,I=0;F.bitrate_index=F.VBR_max_bitrate;var f=new MeanBits(I);for(S[0]=t.ResvFrameBegin(y,f),I=f.bits,F.bitrate_index=1,I=e.getframebits(y)-F.sideinfo_len*8,r[0]=I/(F.mode_gr*F.channels_out),I=y.VBR_mean_bitrate_kbps*y.framesize*1e3,F.substep_shaping&1&&(I*=1.09),I/=y.out_samplerate,I-=F.sideinfo_len*8,I/=F.mode_gr*F.channels_out,W=.93+.07*(11-y.compression_ratio)/(11-5.5),W<.9&&(W=.9),W>1&&(W=1),V=0;V<F.mode_gr;V++){var H=0;for(P=0;P<F.channels_out;P++){if(B[V][P]=int(W*I),x[V][P]>700){var $=int((x[V][P]-700)/1.4),L=D.tt[V][P];B[V][P]=int(W*I),L.block_type==je.SHORT_TYPE&&$<I/2&&($=I/2),$>I*3/2?$=I*3/2:$<0&&($=0),B[V][P]+=$}B[V][P]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(B[V][P]=LameInternalFlags.MAX_BITS_PER_CHANNEL),H+=B[V][P]}if(H>LameInternalFlags.MAX_BITS_PER_GRANULE)for(P=0;P<F.channels_out;++P)B[V][P]*=LameInternalFlags.MAX_BITS_PER_GRANULE,B[V][P]/=H}if(F.mode_ext==je.MPG_MD_MS_LR)for(V=0;V<F.mode_gr;V++)n.reduce_side(B[V],p[V],I*F.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(de=0,V=0;V<F.mode_gr;V++)for(P=0;P<F.channels_out;P++)B[V][P]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(B[V][P]=LameInternalFlags.MAX_BITS_PER_CHANNEL),de+=B[V][P];if(de>S[0])for(V=0;V<F.mode_gr;V++)for(P=0;P<F.channels_out;P++)B[V][P]*=S[0],B[V][P]/=de}}var p_=b_,x_=n0,C1=x_.assert;function S_(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var a=t.internal_flags,s,i=a.l3_side,d=e.getframebits(t);n.bits=(d-a.sideinfo_len*8)/a.mode_gr;var c=8*256*a.mode_gr-8;t.brate>320?s=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(s=8*1440,t.strict_ISO&&(s=8*int(32e4/(t.out_samplerate/1152)/8+.5))),a.ResvMax=s-d,a.ResvMax>c&&(a.ResvMax=c),(a.ResvMax<0||t.disable_reservoir)&&(a.ResvMax=0);var E=n.bits*a.mode_gr+Math.min(a.ResvSize,a.ResvMax);return E>s&&(E=s),C1(a.ResvMax%8==0),C1(a.ResvMax>=0),i.resvDrain_pre=0,a.pinfo!=null&&(a.pinfo.mean_bits=n.bits/2,a.pinfo.resvsize=a.ResvSize),E},this.ResvMaxBits=function(t,n,a,s){var i=t.internal_flags,d,c=i.ResvSize,E=i.ResvMax;s!=0&&(c+=n),i.substep_shaping&1&&(E*=.9),a.bits=n,c*10>E*9?(d=c-E*9/10,a.bits+=d,i.substep_shaping|=128):(d=0,i.substep_shaping&=127,!t.disable_reservoir&&!(i.substep_shaping&1)&&(a.bits-=.1*n));var U=c<i.ResvMax*6/10?c:i.ResvMax*6/10;return U-=d,U<0&&(U=0),U},this.ResvAdjust=function(t,n){t.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(t,n){var a,s=t.l3_side;t.ResvSize+=n*t.mode_gr;var i=0;s.resvDrain_post=0,s.resvDrain_pre=0,(a=t.ResvSize%8)!=0&&(i+=a),a=t.ResvSize-i-t.ResvMax,a>0&&(i+=a);{var d=Math.min(s.main_data_begin*8,i)/8;s.resvDrain_pre+=8*d,i-=8*d,t.ResvSize-=8*d,s.main_data_begin-=d}s.resvDrain_post+=i,t.ResvSize-=i}}var M_=S_;function A_(){var e="http://www.mp3dev.org/",t=3,n=98,a=4,s=0,i=93;this.getLameVersion=function(){return t+"."+n+"."+a},this.getLameShortVersion=function(){return t+"."+n+"."+a},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return s+"."+i},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var E_=A_,tn=n0,R_=tn.System,Pa=tn.VbrMode,L1=tn.ShortBlock,y_=tn.Arrays,Vn=tn.new_byte,T_=tn.assert;xn.NUMTOCENTRIES=100;xn.MAXFRAMESIZE=2880;function xn(){var e,t,n;this.setModules=function(I,f,H){e=I,t=f,n=H};var a=1,s=2,i=4,d=8,c=xn.NUMTOCENTRIES,E=xn.MAXFRAMESIZE,U=c+4+4+4+4+4,h=U+9+1+1+8+1+1+3+1+1+2+4+2+2,o=128,M=64,j=32,G=null,Z="Xing",K="Info",y=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function x(I,f){if(I.nVbrNumFrames++,I.sum+=f,I.seen++,!(I.seen<I.want)&&(I.pos<I.size&&(I.bag[I.pos]=I.sum,I.pos++,I.seen=0),I.pos==I.size)){for(var H=1;H<I.size;H+=2)I.bag[H/2]=I.bag[H];I.want*=2,I.pos/=2}}function p(I,f){if(!(I.pos<=0))for(var H=1;H<c;++H){var $=H/c,L,T,z=0|Math.floor($*I.pos);z>I.pos-1&&(z=I.pos-1),L=I.bag[z],T=I.sum;var O=0|256*L/T;O>255&&(O=255),f[H]=255&O}}this.addVbrFrame=function(I){var f=I.internal_flags,H=Tables.bitrate_table[I.version][f.bitrate_index];T_(f.VBR_seek_table.bag!=null),x(f.VBR_seek_table,H)};function B(I,f){var H=I[f+0]&255;return H<<=8,H|=I[f+1]&255,H<<=8,H|=I[f+2]&255,H<<=8,H|=I[f+3]&255,H}function r(I,f,H){I[f+0]=255&(H>>24&255),I[f+1]=255&(H>>16&255),I[f+2]=255&(H>>8&255),I[f+3]=255&(H&255)}function S(I,f,H){I[f+0]=255&(H>>8&255),I[f+1]=255&(H&255)}function F(I,f){return new String(I,f,Z.length(),G).equals(Z)||new String(I,f,K.length(),G).equals(K)}function D(I,f,H){return 255&(I<<f|H&~(-1<<f))}function W(I,f){var H=I.internal_flags;f[0]=D(f[0],8,255),f[1]=D(f[1],3,7),f[1]=D(f[1],1,I.out_samplerate<16e3?0:1),f[1]=D(f[1],1,I.version),f[1]=D(f[1],2,4-3),f[1]=D(f[1],1,I.error_protection?0:1),f[2]=D(f[2],4,H.bitrate_index),f[2]=D(f[2],2,H.samplerate_index),f[2]=D(f[2],1,0),f[2]=D(f[2],1,I.extension),f[3]=D(f[3],2,I.mode.ordinal()),f[3]=D(f[3],2,H.mode_ext),f[3]=D(f[3],1,I.copyright),f[3]=D(f[3],1,I.original),f[3]=D(f[3],2,I.emphasis),f[0]=255;var $=255&(f[1]&241),L;I.version==1?L=o:I.out_samplerate<16e3?L=j:L=M,I.VBR==Pa.vbr_off&&(L=I.brate);var T;I.free_format?T=0:T=255&16*e.BitrateIndex(L,I.version,I.out_samplerate),I.version==1?(f[1]=255&($|10),$=255&(f[2]&13),f[2]=255&(T|$)):(f[1]=255&($|2),$=255&(f[2]&13),f[2]=255&(T|$))}this.getVbrTag=function(I){var f=new VBRTagData,H=0;f.flags=0;var $=I[H+1]>>3&1,L=I[H+2]>>2&3,T=I[H+3]>>6&3,z=I[H+2]>>4&15;if(z=Tables.bitrate_table[$][z],I[H+1]>>4==14?f.samprate=Tables.samplerate_table[2][L]:f.samprate=Tables.samplerate_table[$][L],$!=0?T!=3?H+=32+4:H+=17+4:T!=3?H+=17+4:H+=9+4,!F(I,H))return null;H+=4,f.hId=$;var O=f.flags=B(I,H);if(H+=4,O&a&&(f.frames=B(I,H),H+=4),O&s&&(f.bytes=B(I,H),H+=4),O&i){if(f.toc!=null)for(var m=0;m<c;m++)f.toc[m]=I[H+m];H+=c}f.vbrScale=-1,O&d&&(f.vbrScale=B(I,H),H+=4),f.headersize=($+1)*72e3*z/f.samprate,H+=21;var _=I[H+0]<<4;_+=I[H+1]>>4;var u=(I[H+1]&15)<<8;return u+=I[H+2]&255,(_<0||_>3e3)&&(_=-1),(u<0||u>3e3)&&(u=-1),f.encDelay=_,f.encPadding=u,f},this.InitVbrTag=function(I){var f=I.internal_flags,H;I.version==1?H=o:I.out_samplerate<16e3?H=j:H=M,I.VBR==Pa.vbr_off&&(H=I.brate);var $=(I.version+1)*72e3*H/I.out_samplerate,L=f.sideinfo_len+h;if(f.VBR_seek_table.TotalFrameSize=$,$<L||$>E){I.bWriteVbrTag=!1;return}f.VBR_seek_table.nVbrNumFrames=0,f.VBR_seek_table.nBytesWritten=0,f.VBR_seek_table.sum=0,f.VBR_seek_table.seen=0,f.VBR_seek_table.want=1,f.VBR_seek_table.pos=0,f.VBR_seek_table.bag==null&&(f.VBR_seek_table.bag=new int[400],f.VBR_seek_table.size=400);var T=Vn(E);W(I,T);for(var z=f.VBR_seek_table.TotalFrameSize,O=0;O<z;++O)t.add_dummy_byte(I,T[O]&255,1)};function V(I,f){var H=f^I;return f=f>>8^y[H&255],f}this.updateMusicCRC=function(I,f,H,$){for(var L=0;L<$;++L)I[0]=V(f[H+L],I[0])};function P(I,f,H,$,L){var T=I.internal_flags,z=0,O=I.encoder_delay,m=I.encoder_padding,_=100-10*I.VBR_q-I.quality,u=n.getLameVeryShortVersion(),b,w=0,g,oe=[1,5,3,2,4,0,3],q=0|(I.lowpassfreq/100+.5>255?255:I.lowpassfreq/100+.5),ne=0,ve=0,ye=0,C=I.internal_flags.noise_shaping,X=0,Q=0,ae=0,ie=0,xe=0,Ce=(I.exp_nspsytune&1)!=0,l=(I.exp_nspsytune&2)!=0,v=!1,re=!1,he=I.internal_flags.nogap_total,me=I.internal_flags.nogap_current,pe=I.ATHtype,be=0,Se;switch(I.VBR){case vbr_abr:Se=I.VBR_mean_bitrate_kbps;break;case vbr_off:Se=I.brate;break;default:Se=I.VBR_min_bitrate_kbps}switch(I.VBR.ordinal()<oe.length?b=oe[I.VBR.ordinal()]:b=0,g=16*w+b,T.findReplayGain&&(T.RadioGain>510&&(T.RadioGain=510),T.RadioGain<-510&&(T.RadioGain=-510),ve=8192,ve|=3072,T.RadioGain>=0?ve|=T.RadioGain:(ve|=512,ve|=-T.RadioGain)),T.findPeakSample&&(ne=Math.abs(0|T.PeakSample/32767*Math.pow(2,23)+.5)),he!=-1&&(me>0&&(re=!0),me<he-1&&(v=!0)),be=pe+((Ce?1:0)<<4)+((l?1:0)<<5)+((v?1:0)<<6)+((re?1:0)<<7),_<0&&(_=0),I.mode){case MONO:X=0;break;case STEREO:X=1;break;case DUAL_CHANNEL:X=2;break;case JOINT_STEREO:I.force_ms?X=4:X=3;break;case NOT_SET:default:X=7;break}I.in_samplerate<=32e3?ae=0:I.in_samplerate==48e3?ae=2:I.in_samplerate>48e3?ae=3:ae=1,(I.short_blocks==L1.short_block_forced||I.short_blocks==L1.short_block_dispensed||I.lowpassfreq==-1&&I.highpassfreq==-1||I.scale_left<I.scale_right||I.scale_left>I.scale_right||I.disable_reservoir&&I.brate<320||I.noATH||I.ATHonly||pe==0||I.in_samplerate<=32e3)&&(Q=1),ie=C+(X<<2)+(Q<<5)+(ae<<6),xe=T.nMusicCRC,r(H,$+z,_),z+=4;for(var Fe=0;Fe<9;Fe++)H[$+z+Fe]=255&u.charAt(Fe);z+=9,H[$+z]=255&g,z++,H[$+z]=255&q,z++,r(H,$+z,ne),z+=4,S(H,$+z,ve),z+=2,S(H,$+z,ye),z+=2,H[$+z]=255&be,z++,Se>=255?H[$+z]=255:H[$+z]=255&Se,z++,H[$+z]=255&O>>4,H[$+z+1]=255&(O<<4)+(m>>8),H[$+z+2]=255&m,z+=3,H[$+z]=255&ie,z++,H[$+z++]=0,S(H,$+z,I.preset),z+=2,r(H,$+z,f),z+=4,S(H,$+z,xe),z+=2;for(var we=0;we<z;we++)L=V(H[$+we],L);return S(H,$+z,L),z+=2,z}function de(I){I.seek(0);var f=Vn(10);I.readFully(f);var H;return new String(f,"ISO-8859-1").startsWith("ID3")?H=0:H=((f[6]&127)<<21|(f[7]&127)<<14|(f[8]&127)<<7|f[9]&127)+f.length,H}this.getLameTagFrame=function(I,f){var H=I.internal_flags;if(!I.bWriteVbrTag||H.Class_ID!=Lame.LAME_ID||H.VBR_seek_table.pos<=0)return 0;if(f.length<H.VBR_seek_table.TotalFrameSize)return H.VBR_seek_table.TotalFrameSize;y_.fill(f,0,H.VBR_seek_table.TotalFrameSize,0),W(I,f);var $=Vn(c);if(I.free_format)for(var L=1;L<c;++L)$[L]=255&255*L/100;else p(H.VBR_seek_table,$);var T=H.sideinfo_len;I.error_protection&&(T-=2),I.VBR==Pa.vbr_off?(f[T++]=255&K.charAt(0),f[T++]=255&K.charAt(1),f[T++]=255&K.charAt(2),f[T++]=255&K.charAt(3)):(f[T++]=255&Z.charAt(0),f[T++]=255&Z.charAt(1),f[T++]=255&Z.charAt(2),f[T++]=255&Z.charAt(3)),r(f,T,a+s+i+d),T+=4,r(f,T,H.VBR_seek_table.nVbrNumFrames),T+=4;var z=H.VBR_seek_table.nBytesWritten+H.VBR_seek_table.TotalFrameSize;r(f,T,0|z),T+=4,R_.arraycopy($,0,f,T,$.length),T+=$.length,I.error_protection&&t.CRC_writeheader(H,f);for(var O=0,L=0;L<T;L++)O=V(f[L],O);return T+=P(I,z,f,T,O),H.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(I,f){var H=I.internal_flags;if(H.VBR_seek_table.pos<=0||(f.seek(f.length()),f.length()==0))return-1;var $=de(f);f.seek($);var L=Vn(E),T=getLameTagFrame(I,L);return T>L.length?-1:(T<1||f.write(L,0,T),0)}}var w_=xn,Qs=n0,O1=Qs.new_byte,B_=Qs.assert,I_=Tr(),C_=l_,L_=Gs,O_=zs(),N_=p_,F_=Zs(),H_=M_,k_=Rn,V_=yr();x0();var D_=E_,P_=w_;function X_(){this.setModules=function(e,t){}}function $_(){this.setModules=function(e,t,n){}}function Y_(){}function q_(){this.setModules=function(e,t){}}function U_(e,t,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var a=new I_,s=new X_,i=new L_,d=new V_,c=new C_,E=new O_,U=new N_,h=new P_,o=new D_,M=new q_,j=new H_,G=new F_,Z=new $_,K=new Y_;a.setModules(i,d,c,E,U,h,o,M,K),d.setModules(i,K,o,h),M.setModules(d,o),c.setModules(a),U.setModules(d,j,E,G),E.setModules(G,j,a.enc.psy),j.setModules(d),G.setModules(E),h.setModules(a,d,o),s.setModules(Z,K),Z.setModules(o,M,c);var y=a.lame_init();y.num_channels=e,y.in_samplerate=t,y.brate=n,y.mode=k_.STEREO,y.quality=3,y.bWriteVbrTag=!1,y.disable_reservoir=!0,y.write_id3tag_automatic=!1,a.lame_init_params(y);var x=1152,p=0|1.25*x+7200,B=O1(p);this.encodeBuffer=function(r,S){e==1&&(S=r),B_(r.length==S.length),r.length>x&&(x=r.length,p=0|1.25*x+7200,B=O1(p));var F=a.lame_encode_buffer(y,r,S,r.length,B,0,p);return new Int8Array(B.subarray(0,F))},this.flush=function(){var r=a.lame_encode_flush(y,B,0,p);return new Int8Array(B.subarray(0,r))}}function U0(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function ua(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}U0.RIFF=ua("RIFF");U0.WAVE=ua("WAVE");U0.fmt_=ua("fmt ");U0.data=ua("data");U0.readHeader=function(e){var t=new U0,n=e.getUint32(0,!1);if(U0.RIFF==n&&(e.getUint32(4,!0),U0.WAVE==e.getUint32(8,!1)&&U0.fmt_==e.getUint32(12,!1))){var a=e.getUint32(16,!0),s=16+4;switch(a){case 16:case 18:t.channels=e.getUint16(s+2,!0),t.sampleRate=e.getUint32(s+4,!0);break;default:throw"extended fmt chunk not implemented"}s+=a;for(var i=U0.data,d=0;i!=n&&(n=e.getUint32(s,!1),d=e.getUint32(s+4,!0),i!=n);)s+=d+8;return t.dataLen=d,t.dataOffset=s+8,t}};Sr.Mp3Encoder=U_;Sr.WavHeader=U0;class Ht{static applyExponentialGainToChannels(t,n,a=6,s=!0){if(a<=0)return;const{src:i,dst:d,totalDuration:c}=t,E=n+a,U=Math.max(0,Math.min(n/c,1)),h=Math.max(0,Math.min(E/c,1)),o=Math.min(i.length,d.length),M=Math.min(i[0].length,d[0].length);for(let j=0;j<o;j++){const G=i[j],Z=d[j],K=Math.floor(M*U),y=Math.floor(M*h);for(let x=K;x<=y;x++){const p=(x-K)/(y-K+1),B=Math.sin(p*Math.PI/2);Z[x]=G[x]*(s?B:1-B)}}}static cloneAudioBuffer(t){const n=new AudioBuffer({length:t.length,numberOfChannels:t.numberOfChannels,sampleRate:t.sampleRate});for(let a=0;a<t.numberOfChannels;a++){const s=t.getChannelData(a);n.copyToChannel(s,a)}return n}static getAudioBufferChannelsSamples(t){return new Array(t.numberOfChannels).fill(0).map((a,s)=>t.getChannelData(s).slice())}static renderAudioBufferToCanvas(t,n,a={}){const{plotColor:s="#3d5",paddingX:i=0,amplitudeFactor:d=.5,trimTimeStart:c=0,trimTimeEnd:E=1/0,forceWaveFormRender:U=!1}=a,h=t.width-2*i,o=t.height,M=o>>1,j=Math.max(Math.floor(o*d),20);let G=t._cachedWaveFormImage,Z=U;if(G||(G=document.createElement("canvas"),t._cachedWaveFormImage=G,G.width=t.width,G.height=t.height,Z=!0),Z){const F=G.getContext("2d");F.clearRect(0,0,t.width,t.height),F.lineWidth=1,F.strokeStyle="white";const D=n.getChannelData(0),W=1,V=Math.min(150,(n.length/h>>2)-1);for(let P=0;P<h;P++){const de=P/h,I=Math.floor(de*n.length),f=Math.max(0,I-V),H=Math.min(n.length-1,I+V);let $=0;for(let T=f;T<=H;T++)$+=Math.abs(D[T]);$/=H-f+1;const L=Math.max(1,Math.floor($/W*j));F.beginPath(),F.moveTo(P+i,M+L),F.lineTo(P+i,M-L),F.stroke()}}const K=t.getContext("2d");K.clearRect(0,0,t.width,t.height),K.drawImage(G,0,0);const y=K.globalCompositeOperation;K.globalCompositeOperation="source-atop";const x=typeof s=="function"?s(K,t,{trimmed:!0}):s,p=typeof s=="function"?s(K,t,{trimmed:!1}):s,{duration:B}=n,r=Math.floor(c/B*h),S=Math.ceil(Math.min(E,B)/B*h);K.fillStyle=x,K.fillRect(0,0,t.width,t.height),K.fillStyle=p,K.fillRect(i+r,0,S-r,t.height),K.globalCompositeOperation=y}static audioBufferToMp3Chunks(t,n={}){const{kbps:a=256,onProgress:s,timeFrom:i=0,timeTo:d=1/0}=n,c=new Sr.Mp3Encoder(t.numberOfChannels,t.sampleRate,a),E=[t.getChannelData(0),t.numberOfChannels>1?t.getChannelData(1):[]].map(K=>{const y=Math.max(0,Math.floor(i/t.duration*K.length)),x=Math.min(K.length,Math.ceil(d/t.duration*K.length));return K.slice(y,x)}),U=E[0].length,h=576*2,o=[],M=new Int16Array(h),j=t.numberOfChannels>1?new Int16Array(h):void 0,G=Math.ceil(U/h);let Z=0;for(let K=0;K<U;K+=h){const y=Math.min(U-K,h);for(let p=0;p<y;p++){const B=p+K;let r=Math.max(-1,Math.min(E[0][B],1)),S=Math.floor(r>=0?r*32767:r*32768);M[p]=S,t.numberOfChannels>1&&(r=Math.max(-1,Math.min(E[1][B],1)),S=Math.floor(r>=0?r*32767:r*32768),j[p]=S)}const x=y!==h?c.encodeBuffer(M.slice(0,y),j&&j.slice(0,y)):c.encodeBuffer(M,j);o.push(x),Z++,typeof s=="function"&&s(Z,G)}return o.push(c.flush()),o}constructor(){this.context=new AudioContext,this.audioBuffer=null,this.channelsData=null,this.gain=new GainNode(this.context),this.gain.connect(this.context.destination),this.volume=1,this.isMute=!1,this.hasStarted=!1,this.isPlaying=!1,this.lastPlayTimestamp=void 0,this.seekTimestamp=0,this.effects=[],this.onEndCallbacks=[]}decodeBuffer(t){return new Promise((n,a)=>{try{this.context.decodeAudioData(t,s=>{this.audioBuffer=s,this.channelsDataOriginal=Ht.getAudioBufferChannelsSamples(s),this.channelsData=Ht.getAudioBufferChannelsSamples(s),n(s)},a)}catch(s){a(s)}})}addEffect(t){let n=this.effects.find(a=>a.type===t.type);if(n){let a=!1;for(const s in n)if(n[s]!==t[s]){a=!0;break}if(!a)return!1;Object.assign(n,t)}else n=t,this.effects.push(t);for(let a=0;a<this.channelsData.length;a++){const s=this.channelsDataOriginal[a];this.channelsData[a].set(s)}for(const a of this.effects)/^fade(In|Out)$/.test(a.type)&&Ht.applyExponentialGainToChannels({dst:this.channelsData,src:this.channelsDataOriginal,totalDuration:this.audioBuffer.duration},a.timeStart,a.duration,a.type==="fadeIn");for(let a=0;a<this.channelsData.length;a++)this.audioBuffer.copyToChannel(this.channelsData[a],a);return this.start(this.getCurrentTime(),this.isPlaying),!0}addOnEndCallback(t){if(typeof t=="function")return this.onEndCallbacks.push(t),!0}setMute(t){this.isMute=t,this.setGain(this.volume)}setGain(t){t=Math.max(0,Math.min(t,5)),this.volume=t,this.gain.gain.value=this.isMute?0:this.volume}getGain(){return this.isMute?0:this.gain.gain.value}getVolume(){return this.volume}getCurrentTime(){let t=this.seekTimestamp;return this.lastPlayTimestamp!==void 0&&(t+=this.context.currentTime-this.lastPlayTimestamp),t}start(t=0,n=!0){if(!this.audioBuffer)return;this.source&&(this.source.stop(),this.source.disconnect());const a=this.context.createBufferSource();a.buffer=this.audioBuffer,a.connect(this.gain),a.start(0,t>this.audioBuffer.duration?this.audioBuffer.duration:t),a.onended=()=>{this.source===a&&(this.seekTimestamp+=this.context.currentTime-this.lastPlayTimestamp,this.lastPlayTimestamp=void 0,this.isPlaying=!1,this.hasStarted=!1,this.onEndCallbacks.forEach(s=>s()))},this.source=a,this.hasStarted=!0,this.seekTimestamp=0,this.lastPlayTimestamp=this.context.currentTime-t,this.isPlaying=!0,n?this.context.resume():this.pause()}resume(){this.hasStarted?this.isPlaying||(this.context.resume(),this.isPlaying=!0,this.lastPlayTimestamp=this.context.currentTime):this.start()}pause(){this.isPlaying&&(this.context.suspend(),this.isPlaying=!1,this.seekTimestamp+=this.context.currentTime-this.lastPlayTimestamp,this.lastPlayTimestamp=void 0)}close(){this.gain.disconnect(),this.context.suspend(),this.context.close()}}class K_{constructor(t){this.duration=t.duration,this.length=t.length,this.numberOfChannels=t.numberOfChannels,this.sampleRate=t.sampleRate,this.isAudioBufferClone=!0,this.channels=t.channels||[new Float32Array(t.getChannelData(0)),new Float32Array(t.numberOfChannels>1?t.getChannelData(1):[])]}getChannelData(t){return this.channels[t]}getTransferable(){return{data:{...this},buffers:this.channels.map(t=>t.buffer).filter(t=>t)}}}function G_(e,t){return new Promise((n,a)=>{const s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("target","_blank"),t&&s.setAttribute("download",t),s.style.display="none",document.body.appendChild(s),s.click(),setTimeout(()=>{s.remove(),n()},100)})}function N1(e,t={}){const{clickTriggerDistance:n=3,buttonWhich:a=1,onDrag:s,onDragStart:i,onDragStop:d,onClick:c}=t;let E,U,h;const o=["touchstart","mousedown"],M=["blur","mouseup","mousemove","touchmove","touchend","touchcancel"],j=(K=!0)=>{M.forEach(y=>{K?window.addEventListener(y,G,{capture:!0}):window.removeEventListener(y,G,{capture:!0})})},G=K=>{let{clientX:y,clientY:x}=K;if(!(/mouse/.test(K.type)&&K.which!==a)){if(/touch/.test(K.type)){if(!/touch(end|cancel)/.test(K.type)&&K.targetTouches.length!==1)return;const p=K.targetTouches[0];p&&(y=p.clientX,x=p.clientY)}if(/(touch|mouse)move/.test(K.type)){const p=y,B=x,r=Math.abs(p-E),S=Math.abs(B-U),F=Math.sqrt(r*r+S*S);F>=n&&(h=!1),typeof s=="function"&&s({x:p,y:B,dragDistance:F,dragDistanceX:r,dragDistanceY:S,dragStartX:E,dragStartY:U})}else o.includes(K.type)?(E=y,U=x,h=!0,j(),typeof i=="function"&&i({dragStartX:E,dragStartY:U})):/(touch(end|cancel)|mouseup)/.test(K.type)?(typeof d=="function"&&d({x:y,y:x}),h&&typeof c=="function"&&c(),Z()):K.type==="blur"&&K.target===window&&(typeof d=="function"&&d({}),Z())}},Z=K=>{K&&o.forEach(y=>{K.removeEventListener(y,G)}),j(!1)};j0(e,(K,y)=>{y&&Z(y),K&&o.forEach(x=>{K.addEventListener(x,G)})}),ra(()=>Z(e.value))}function j_(e,t={}){let n;const a=typeof t=="number"?t:t.delay,{triggerCallLimit:s=1/0}=t,i=function(...d){if(n!==void 0&&(clearTimeout(n),n=void 0),i.callCount=(i.callCount||0)+1,i.callCount>s)i.dispatch(...d);else{const c=setTimeout(()=>{n===c&&(n=void 0,i.dispatch(...d))},a);n=c}};return i.dispatch=function(...d){return i.callCount=0,e.apply(this,d)},i}function W_(){return new Worker(""+new URL("encoder.worker-9abf8b09.js",import.meta.url).href)}const rt=e=>(Jn("data-v-e4b1b620"),e=e(),ea(),e),z_=rt(()=>Le("header",null,[Le("div",null,"MP3 Tool")],-1)),Z_={class:"column p-y-3 items-center"},g_=rt(()=>Le("div",{class:"flex-1"},null,-1)),Q_={key:1,class:"column items-center full-width flex-1 relative"},J_={class:"file__label column items-center"},e3=rt(()=>Le("span",null,"File: ",-1)),t3=rt(()=>Le("span",null,null,-1)),n3=[t3],a3={class:"time-label"},r3={class:"actions__container full-width"},s3={class:"columnn m-l-7"},i3={class:"colum items-center"},l3=rt(()=>Le("span",{class:"white weight-600 font-14 m-b-1"},"Trim options",-1)),o3={class:"effects__container column m-t-6"},_3=rt(()=>Le("span",{class:"white weight-600 font-14 m-b-2"},"Effects",-1)),u3={class:"row items-center"},f3={class:"column"},c3=rt(()=>Le("span",{class:"white weight-600 font-12"},"Fade in",-1)),v3={class:"row items-center m-t-1"},h3={class:"fade-duration-label white weight-600"},d3={class:"column m-l-6"},m3=rt(()=>Le("span",{class:"white weight-600 font-12"},"Fade out",-1)),b3={class:"row items-center m-t-1"},p3={class:"fade-duration-label white weight-600"},x3={class:"column items-center"},S3={class:"row"},M3={class:"m-t-7 column items-center"},A3=["disabled"],E3=rt(()=>Le("div",null,null,-1)),R3=rt(()=>Le("div",{class:"flex-8"},null,-1)),y3={__name:"App",setup(e){function t(L){return new Promise((T,z)=>{try{const O=new FileReader;O.onload=m=>{T(m.target.result)},O.onerror=z,O.readAsArrayBuffer(L)}catch(O){z(O)}})}const n=v0(null),a=v0(null),s=v0(null),i=v0(null),d=v0(null),c=ln(null),E=ln(null),U=ln(null),h=ln(!1),o=i1(0,"volume",L=>Number(L)||0),M=i1(!1,"muted",L=>/true/.test(L)),j=v0({start:0,end:1/0}),G=v0({start:0,end:0}),Z=ln(-1),K=zt(()=>c.value&&c.value.audioBuffer&&c.value.audioBuffer.duration),y={paddingX:16,trimTimeStart:void 0,trimTimeEnd:void 0,plotColor:(L,T,z={})=>{if(!T.sampleColorGradient){const m=Math.floor(T.height*.5),_=L.createLinearGradient(0,m-40,0,m+40),u=["#7320d2","#5f1fa8"];_.addColorStop(0,u[0]),_.addColorStop(.5,u[1]),_.addColorStop(1,u[0]),T.sampleColorGradient=_}return z.trimmed?"#fcedff":T.sampleColorGradient}};function x(L){return[Math.floor(L/60)%60,":",Math.floor(L%60),".",Math.floor((L-Math.floor(L))*100)].map(T=>typeof T=="number"?String(T).padStart(2,"0"):T).join("")}function p(L){if(!c.value||!c.value.audioBuffer||!a.value)return;const T=y.paddingX*(a.value.clientWidth/a.value.width),z=s.value.parentElement,O=z.getBoundingClientRect(),m=L-T-O.x,_=Math.min(1,Math.max(0,m)/(O.width-2*T)),u=s.value.getBoundingClientRect(),b=T-u.width*.5+_*(O.width-2*T),w=c.value&&c.value.audioBuffer&&c.value.audioBuffer.duration,g=10,oe=m<g||m>O.width-2*T-g?_:.5;return{time:(w||0)*_,pct:_,parent:z,baseX:m,seekContainerLeft:b,spanPosPct:oe}}function B(L){if(!c.value||!c.value.audioBuffer||!a.value)return;const{parent:T,time:z,seekContainerLeft:O,spanPosPct:m}=p(L),_=s.value.firstElementChild;Number.isNaN(z)?T.style.setProperty("--pos","-100px"):(_.textContent=x(z),_.style.setProperty("--pos-pct",m.toFixed(2)),T.style.setProperty("--pos",Math.round(O)+"px"))}function r(){if(!c.value||!c.value.audioBuffer||!i.value||!d.value||!a.value)return;const L=y.paddingX*(a.value.clientWidth/a.value.width),T=i.value.clientWidth,{duration:z}=c.value.audioBuffer,{start:O,end:m}=j.value,_=O/z,u=Math.min(m,z)/z,b=L-T+_*(a.value.clientWidth-2*L)+1,w=L+u*(a.value.clientWidth-2*L)-1;i.value.style.left=`${Math.ceil(b)}px`,d.value.style.left=`${Math.floor(w)}px`,Z.value<O?F(null,O):Z.value>m&&F(null,m)}function S(){if(!a.value)return;const L=a.value.parentElement,T=a.value.clientWidth,z=T/a.value.width,O=y.paddingX*z;if(!c.value||!c.value.audioBuffer)return L.style.setProperty("--progress",`${O}px`);const m=Z.value,_=c.value.audioBuffer.duration,u=_?m/_:0,b=Math.floor(O+u*(T-2*O));L.style.setProperty("--progress",`${b}px`)}function F(L,T){T||(T=p(L).time),T=Math.max(j.value.start,Math.min(T,j.value.end)),T=Math.max(0,Math.min(T,K.value)),c.value.start(T,c.value.isPlaying)}function D(L,T){G.value[L]=Math.max(0,G.value[L]+T)}N1(i,{onDrag({x:L}){const T=p(L);j.value.start=Math.min(T.time,j.value.end)},onClick(){F(0)}}),N1(d,{onDrag({x:L}){const T=p(L);j.value.end=Math.max(T.time,j.value.start)},onClick(){F(1/0)}});async function W(L){n.value=L[0];const T=await t(L[0]),z=new Ht;await z.decodeBuffer(T),window.manager=z,h.value=z.isPlaying,j.value={start:0,end:1/0},Z.value=0,G.value={start:0,end:0},U.value&&(URL.revokeObjectURL(U.value),U.value=null),z.setGain(o.value),z.setMute(M.value),z.addOnEndCallback(()=>{P()}),c.value=z,await hr(),Ht.renderAudioBufferToCanvas(a.value,c.value.audioBuffer,y);const O=setInterval(()=>{if(c.value!==z)return clearInterval(O);const m=c.value.getCurrentTime();m>=j.value.end&&h.value?P():m!==Z.value&&(Z.value=m,S())},25);r()}function V(){h.value?c.value.pause():c.value.resume(),h.value=!h.value}function P(){c.value.start(j.value.start,!1),h.value=!1}function de(){const L=new W_;L.onerror=z=>console.error(z),L.onmessage=z=>{const{data:O}=z;if(O&&("progress"in O&&(E.value=O.progress),"encodedBuffer"in O)){U.value&&URL.revokeObjectURL(U.value);const m=new Blob([O.encodedBuffer],{type:"audio/mp3"}),_=URL.createObjectURL(m);U.value=_,E.value=null,L.terminate()}};const T=new K_(c.value.audioBuffer).getTransferable();L.postMessage({audioBuffer:T.data,options:{timeFrom:j.value.start,timeTo:j.value.end}},T.buffers)}function I(){if(U.value){const L=n.value.name;G_(U.value,L)}}function f(){c.value.close(),c.value=null}function H(){S(),B(),r()}j0(o,()=>{c.value&&c.value.setGain(o.value)}),j0(M,()=>{c.value&&c.value.setMute(M.value)},{immediate:!0}),j0(j,()=>{if(Z.value<j.value.start||Z.value>j.value.end){const L=Math.max(j.value.start,Math.min(Z.value,j.value.end));Z.value=L,F(void 0,L)}r(),S(),y.trimTimeStart=j.value.start,y.trimTimeEnd=j.value.end},{deep:!0,flush:"pre"});const $=j_(()=>{a.value&&c.value&&Ht.renderAudioBufferToCanvas(a.value,c.value.audioBuffer,{...y,forceWaveFormRender:!0})},{delay:25,triggerCallLimit:5});return j0([j,G],()=>{c.value&&(c.value.addEffect({type:"fadeIn",duration:G.value.start,timeStart:j.value.start}),c.value.addEffect({type:"fadeOut",duration:G.value.end,timeStart:Math.min(c.value.audioBuffer.duration,j.value.end)-G.value.end}),$())},{deep:!0}),aa(()=>{Is(["play","pause","plus-circle","minus-circle"]),window.addEventListener("resize",H),window.addEventListener("keydown",L=>{if(!(L.altKey||L.ctrlKey||L.shiftKey))if(L.code==="Space")V();else if(/Arrow(Up|Down)/.test(L.code)){const T=.05*(L.code==="ArrowUp"?1:-1);o.value=Math.max(0,Math.min(o.value+T,1))}else if(/Arrow(Right|Left)/.test(L.code)){const T=5*(L.code==="ArrowRight"?1:-1);F(void 0,Z.value+T)}else L.code==="KeyM"&&(M.value=!M.value)})}),(L,T)=>(q0(),it(O0,null,[z_,Le("main",Z_,[g_,r0(c)?(q0(),it("div",Q_,[Le("div",J_,[Le("div",null,[e3,Le("b",null,V0(n.value.name),1)]),Le("span",null,"Length: "+V0(x(r0(K)).slice(0,-3)),1)]),Le("button",{class:"flat icon round absolute close-button white",onClick:f},[f0(ht,{name:"close-circle-outline",size:32})]),Le("div",{class:"canvas__container full-width m-t-2",onMousemove:T[1]||(T[1]=z=>B(z.clientX))},[Le("div",{class:"absolute seek-hint",ref_key:"seekHintEl",ref:s},n3,512),Le("div",{class:"absolute trim-start",ref_key:"trimStartEl",ref:i},null,512),Le("div",{class:"absolute trim-end",ref_key:"trimEndEl",ref:d},null,512),Le("canvas",{class:"full-width",ref_key:"canvasEl",ref:a,width:"1600",height:"260",onMousedown:T[0]||(T[0]=M0(z=>F(z.clientX),["left"]))},null,544),Le("span",a3,V0(x(r0(Z))),1)],32),Le("div",r3,[Le("div",s3,[Le("div",i3,[l3,f0(f2,{start:j.value.start,"onUpdate:start":T[2]||(T[2]=z=>j.value.start=z),end:j.value.end,"onUpdate:end":T[3]||(T[3]=z=>j.value.end=z),duration:r0(c).audioBuffer?r0(c).audioBuffer.duration:0},null,8,["start","end","duration"])]),Le("div",o3,[_3,Le("div",u3,[Le("div",f3,[c3,Le("div",v3,[Le("span",h3,V0(G.value.start)+"s",1),Le("button",{class:"m-l-1 mini-icon round flat white",onClick:T[4]||(T[4]=z=>D("start",1))},[f0(ht,{name:"plus-circle",size:19})]),Le("button",{class:"m-l-1 mini-icon round flat white",onClick:T[5]||(T[5]=z=>D("start",-1))},[f0(ht,{name:"minus-circle",size:19})])])]),Le("div",d3,[m3,Le("div",b3,[Le("span",p3,V0(G.value.end)+"s",1),Le("button",{class:"m-l-1 mini-icon round flat white",onClick:T[6]||(T[6]=z=>D("end",1))},[f0(ht,{name:"plus-circle",size:19})]),Le("button",{class:"m-l-1 mini-icon round flat white",onClick:T[7]||(T[7]=z=>D("end",-1))},[f0(ht,{name:"minus-circle",size:19})])])])])])]),Le("div",x3,[Le("div",S3,[Le("button",{class:"icon m-1",onClick:V},[f0(ht,{name:r0(h)?"pause":"play",size:40},null,8,["name"])]),Le("button",{class:"icon m-1",onClick:P},[f0(ht,{name:"stop",size:40})]),f0(qo,{class:"m-1",value:r0(o),"onUpdate:value":T[8]||(T[8]=z=>h0(o)?o.value=z:null),muted:r0(M),"onUpdate:muted":T[9]||(T[9]=z=>h0(M)?M.value=z:null)},null,8,["value","muted"])]),Le("div",M3,[Le("button",{class:"m-1",onClick:de,disabled:!!r0(E)},[r0(E)===null?(q0(),it(O0,{key:0},[Qa("Encode")],64)):(q0(),it(O0,{key:1},[Qa("Encoding... ("+V0(r0(E))+"%)",1)],64))],8,A3),r0(U)?(q0(),it("button",{key:0,class:"m-t-3",onClick:I},"Download encoded mp3")):Ul("",!0)])]),E3])])):(q0(),ys(Ho,{key:0,class:"drag-drop p-y-5",onUpload:W,extensions:".mp3,.wav"})),R3])],64))}},T3=An(y3,[["__scopeId","data-v-e4b1b620"]]);wo(T3).mount("#app");
